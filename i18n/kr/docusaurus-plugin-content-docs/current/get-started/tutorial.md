---
sidebar_position: 2
---
# íŠœí† ë¦¬ì–¼

## Part 1. ì„¤ê³„

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Real World Appì´ë¼ê³ ë„ ì•Œë ¤ì§„ Conduitë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ConduitëŠ” ê¸°ë³¸ì ì¸ [Medium](https://medium.com/) í´ë¡ ì…ë‹ˆë‹¤ - ê¸€ì„ ì½ê³  ì“¸ ìˆ˜ ìˆìœ¼ë©° ë‹¤ë¥¸ ì‚¬ëŒì˜ ê¸€ì— ëŒ“ê¸€ì„ ë‹¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![Conduit home page](/img/tutorial/realworld-feed-anonymous.jpg)

ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë§¤ìš° ì‘ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¯€ë¡œ ê³¼ë„í•œ ë¶„í•´ë¥¼ í”¼í•˜ê³  ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤. ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¸ ê°œì˜ ë ˆì´ì–´ì¸ **App**, **Pages**, ê·¸ë¦¬ê³  **Shared**ì— ë§ì¶° ë“¤ì–´ê°ˆ ê²ƒì…ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ìš°ë¦¬ëŠ” ê³„ì†í•´ì„œ ì¶”ê°€ì ì¸ ë ˆì´ì–´ë¥¼ ë„ì…í•  ê²ƒì…ë‹ˆë‹¤. ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?

### ë¨¼ì € í˜ì´ì§€ë¥¼ ë‚˜ì—´í•´ ë´…ì‹œë‹¤.

ìœ„ì˜ ìŠ¤í¬ë¦°ìƒ·ì„ ë³´ë©´ ìµœì†Œí•œ ë‹¤ìŒê³¼ ê°™ì€ í˜ì´ì§€ë“¤ì´ ìˆë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- í™ˆ (ê¸€ í”¼ë“œ)
- ë¡œê·¸ì¸ ë° íšŒì›ê°€ì…
- ê¸€ ì½ê¸°
- ê¸€ í¸ì§‘ê¸°
- ì‚¬ìš©ì í”„ë¡œí•„ ë³´ê¸°
- ì‚¬ìš©ì í”„ë¡œí•„ í¸ì§‘ (ì‚¬ìš©ì ì„¤ì •)

ì´ í˜ì´ì§€ë“¤ ê°ê°ì€ Pages *ë ˆì´ì–´*ì˜ ë…ë¦½ëœ *ìŠ¬ë¼ì´ìŠ¤*ê°€ ë  ê²ƒì…ë‹ˆë‹¤. ê°œìš”ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‹¨ìˆœíˆ ë ˆì´ì–´ ë‚´ì˜ í´ë”ì´ê³ , ë ˆì´ì–´ëŠ” `pages`ì™€ ê°™ì€ ë¯¸ë¦¬ ì •ì˜ëœ ì´ë¦„ì„ ê°€ì§„ í´ë”ì¼ ë¿ì…ë‹ˆë‹¤.

ë”°ë¼ì„œ ìš°ë¦¬ì˜ Pages í´ë”ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.

```
ğŸ“‚ pages/
  ğŸ“ feed/
  ğŸ“ sign-in/
  ğŸ“ article-read/
  ğŸ“ article-edit/
  ğŸ“ profile/
  ğŸ“ settings/
```

Feature-Sliced Designì´ ê·œì œë˜ì§€ ì•Šì€ ì½”ë“œ êµ¬ì¡°ì™€ ë‹¤ë¥¸ ì£¼ìš” ì°¨ì´ì ì€ í˜ì´ì§€ë“¤ì´ ì„œë¡œë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì¦‰, í•œ í˜ì´ì§€ê°€ ë‹¤ë¥¸ í˜ì´ì§€ì˜ ì½”ë“œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” **ë ˆì´ì–´ì˜ import ê·œì¹™** ë•Œë¬¸ì…ë‹ˆë‹¤.

*ìŠ¬ë¼ì´ìŠ¤ì˜ ëª¨ë“ˆì€ ì—„ê²©íˆ ì•„ë˜ì— ìˆëŠ” ë ˆì´ì–´ì— ìœ„ì¹˜í•œ ë‹¤ë¥¸ ìŠ¬ë¼ì´ìŠ¤ë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.*

ì´ ê²½ìš° í˜ì´ì§€ëŠ” ìŠ¬ë¼ì´ìŠ¤ì´ë¯€ë¡œ, ì´ í˜ì´ì§€ ë‚´ì˜ ëª¨ë“ˆ(íŒŒì¼)ì€ ê°™ì€ ë ˆì´ì–´ì¸ Pagesê°€ ì•„ë‹Œ ì•„ë˜ ë ˆì´ì–´ì˜ ì½”ë“œë§Œ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í”¼ë“œ ìì„¸íˆ ë³´ê¸°

<figure>
  ![Anonymous userâ€™s perspective](/img/tutorial/realworld-feed-anonymous.jpg)
  <figcaption>
    _ìµëª… ì‚¬ìš©ìì˜ ê´€ì _
  </figcaption>
</figure>

<figure>
  ![Authenticated userâ€™s perspective](/img/tutorial/realworld-feed-authenticated.jpg)
  <figcaption>
    _ì¸ì¦ëœ ì‚¬ìš©ìì˜ ê´€ì _
  </figcaption>
</figure>

í”¼ë“œ í˜ì´ì§€ì—ëŠ” ì„¸ ê°€ì§€ ë™ì  ì˜ì—­ì´ ìˆìŠµë‹ˆë‹¤.

1. ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¡œê·¸ì¸ ë§í¬
2. í”¼ë“œì—ì„œ í•„í„°ë§ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” íƒœê·¸ ëª©ë¡
3. ì¢‹ì•„ìš” ë²„íŠ¼ì´ ìˆëŠ” í•˜ë‚˜/ë‘ ê°œì˜ ê¸€ í”¼ë“œ

ë¡œê·¸ì¸ ë§í¬ëŠ” ëª¨ë“  í˜ì´ì§€ì— ê³µí†µì ì¸ í—¤ë”ì˜ ì¼ë¶€ì´ë¯€ë¡œ ë‚˜ì¤‘ì— ë”°ë¡œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.

#### íƒœê·¸ ëª©ë¡

íƒœê·¸ ëª©ë¡ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ê³ , ê° íƒœê·¸ë¥¼ ì¹©ìœ¼ë¡œ ë Œë”ë§í•˜ê³ , ì„ íƒëœ íƒœê·¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì €ì¥ì†Œì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‘ì—…ë“¤ì€ ê°ê° "API ìƒí˜¸ì‘ìš©", "ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤", "ì €ì¥ì†Œ" ì¹´í…Œê³ ë¦¬ì— ì†í•©ë‹ˆë‹¤. Feature-Sliced Designì—ì„œëŠ” ì½”ë“œë¥¼ *ì„¸ê·¸ë¨¼íŠ¸*ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª©ì ë³„ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì„¸ê·¸ë¨¼íŠ¸ëŠ” ìŠ¬ë¼ì´ìŠ¤ ë‚´ì˜ í´ë”ì´ë©°, ëª©ì ì„ ì„¤ëª…í•˜ëŠ” ì„ì˜ì˜ ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ì¼ë¶€ ëª©ì ì€ ë„ˆë¬´ ì¼ë°˜ì ì´ì–´ì„œ íŠ¹ì • ì„¸ê·¸ë¨¼íŠ¸ ì´ë¦„ì— ëŒ€í•œ ê·œì¹™ì´ ìˆìŠµë‹ˆë‹¤.


- ğŸ“‚Â `api/` ë°±ì—”ë“œ ìƒí˜¸ì‘ìš©
- ğŸ“‚Â `ui/` ë Œë”ë§ê³¼ ì™¸ê´€ì„ ë‹¤ë£¨ëŠ” ì½”ë“œ
- ğŸ“‚Â `model/` ì €ì¥ì†Œì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- ğŸ“‚Â `config/` ê¸°ëŠ¥ í”Œë˜ê·¸, í™˜ê²½ ë³€ìˆ˜ ë° ê¸°íƒ€ êµ¬ì„± í˜•ì‹

íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œëŠ” `api`ì—, íƒœê·¸ ì»´í¬ë„ŒíŠ¸ëŠ” `ui`ì—, ì €ì¥ì†Œ ìƒí˜¸ì‘ìš©ì€ `model`ì— ë°°ì¹˜í•  ê²ƒì…ë‹ˆë‹¤.

#### ê¸€

ê°™ì€ ê·¸ë£¹í™” ì›ì¹™ì„ ì‚¬ìš©í•˜ì—¬ ê¸€ í”¼ë“œë¥¼ ê°™ì€ ì„¸ ê°œì˜ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ë¶„í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ğŸ“‚Â `api/`: ì¢‹ì•„ìš” ìˆ˜ê°€ í¬í•¨ëœ í˜ì´ì§€ë„¤ì´ì…˜ëœ ê¸€ ê°€ì ¸ì˜¤ê¸°
- ğŸ“‚Â `ui/`:
    - íƒœê·¸ê°€ ì„ íƒëœ ê²½ìš° ì¶”ê°€ íƒ­ì„ ë Œë”ë§í•  ìˆ˜ ìˆëŠ” íƒ­ ëª©ë¡
    - ê°œë³„ ê¸€
    - ê¸°ëŠ¥ì  í˜ì´ì§€ë„¤ì´ì…˜
- ğŸ“‚Â `model/`: í˜„ì¬ ë¡œë“œëœ ê¸€ê³¼ í˜„ì¬ í˜ì´ì§€ì˜ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì €ì¥ì†Œ (í•„ìš”í•œ ê²½ìš°)

### ì¼ë°˜ì ì¸ ì½”ë“œ ì¬ì‚¬ìš©

ëŒ€ë¶€ë¶„ì˜ í˜ì´ì§€ëŠ” ì˜ë„ê°€ ë§¤ìš° ë‹¤ë¥´ì§€ë§Œ, ì•± ì „ì²´ì— ê±¸ì³ ì¼ë¶€ ìš”ì†ŒëŠ” ë™ì¼í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë””ìì¸ ì–¸ì–´ë¥¼ ì¤€ìˆ˜í•˜ëŠ” UI í‚¤íŠ¸ë‚˜ ëª¨ë“  ê²ƒì´ ë™ì¼í•œ ì¸ì¦ ë°©ì‹ìœ¼ë¡œ REST APIë¥¼ í†µí•´ ìˆ˜í–‰ë˜ëŠ” ë°±ì—”ë“œì˜ ê·œì¹™ ë“±ì´ ìˆìŠµë‹ˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ëŠ” ê²©ë¦¬ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì—, ì½”ë“œ ì¬ì‚¬ìš©ì€ ë” ë‚®ì€ ê³„ì¸µì¸ **Shared**ì— ì˜í•´ ì´‰ì§„ë©ë‹ˆë‹¤.


SharedëŠ” ìŠ¬ë¼ì´ìŠ¤ê°€ ì•„ë‹Œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ í¬í•¨í•œë‹¤ëŠ” ì ì—ì„œ ë‹¤ë¥¸ ê³„ì¸µê³¼ ë‹¤ë¦…ë‹ˆë‹¤. ì´ëŸ° ë©´ì—ì„œ Shared ê³„ì¸µì€ ê³„ì¸µê³¼ ìŠ¬ë¼ì´ìŠ¤ì˜ í•˜ì´ë¸Œë¦¬ë“œë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ Sharedì˜ ì½”ë“œëŠ” ë¯¸ë¦¬ ê³„íšë˜ì§€ ì•Šê³  ê°œë°œ ì¤‘ì— ì¶”ì¶œë©ë‹ˆë‹¤. ì‹¤ì œë¡œ ì–´ë–¤ ì½”ë“œ ë¶€ë¶„ì´ ê³µìœ ë˜ëŠ”ì§€ëŠ” ê°œë°œ ì¤‘ì—ë§Œ ëª…í™•í•´ì§€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì–´ë–¤ ì¢…ë¥˜ì˜ ì½”ë“œê°€ ìì—°ìŠ¤ëŸ½ê²Œ Sharedì— ì†í•˜ëŠ”ì§€ ë¨¸ë¦¿ì†ì— ë©”ëª¨í•´ ë‘ëŠ” ê²ƒì€ ì—¬ì „íˆ ë„ì›€ì´ ë©ë‹ˆë‹¤.


- ğŸ“‚Â `ui/` â€” UI í‚¤íŠ¸, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—†ëŠ” ìˆœìˆ˜í•œ UI. ì˜ˆ: ë²„íŠ¼, ëª¨ë‹¬ ëŒ€í™” ìƒì, í¼ ì…ë ¥.
- ğŸ“‚Â `api/` â€” ìš”ì²­ ìƒì„± ê¸°ë³¸ ìš”ì†Œ(ì˜ˆ: ì›¹ì˜ `fetch()`)ì— ëŒ€í•œ í¸ì˜ ë˜í¼ ë° ì„ íƒì ìœ¼ë¡œ ë°±ì—”ë“œ ì‚¬ì–‘ì— ë”°ë¼ íŠ¹ì • ìš”ì²­ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” í•¨ìˆ˜.
- ğŸ“‚Â `config/` â€” í™˜ê²½ ë³€ìˆ˜ íŒŒì‹±
- ğŸ“‚Â `i18n/` â€” ì–¸ì–´ ì§€ì›ì— ëŒ€í•œ êµ¬ì„±
- ğŸ“‚Â `router/` â€” ë¼ìš°íŒ… ê¸°ë³¸ ìš”ì†Œ ë° ë¼ìš°íŠ¸ ìƒìˆ˜

ì´ëŠ” Sharedì˜ ì„¸ê·¸ë¨¼íŠ¸ ì´ë¦„ì˜ ëª‡ ê°€ì§€ ì˜ˆì‹œì¼ ë¿ì´ë©°, ì´ ì¤‘ ì¼ë¶€ë¥¼ ìƒëµí•˜ê±°ë‚˜ ìì‹ ë§Œì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ê¸°ì–µí•´ì•¼ í•  ìœ ì¼í•œ ì¤‘ìš”í•œ ì ì€ ì„¸ê·¸ë¨¼íŠ¸ ì´ë¦„ì´ **ë³¸ì§ˆ(ë¬´ì—‡ì¸ì§€)ì´ ì•„ë‹Œ ëª©ì (ì™œ)ì„ ì„¤ëª…í•´ì•¼ í•œë‹¤**ëŠ” ê²ƒì…ë‹ˆë‹¤. "components", "hooks", "modals"ê³¼ ê°™ì€ ì´ë¦„ì€ ì´ íŒŒì¼ë“¤ì´ ë¬´ì—‡ì¸ì§€ëŠ” ì„¤ëª…í•˜ì§€ë§Œ ë‚´ë¶€ ì½”ë“œë¥¼ íƒìƒ‰í•˜ëŠ” ë° ë„ì›€ì´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤. ì´ëŠ” íŒ€ì›ë“¤ì´ ì´ëŸ¬í•œ í´ë”ì˜ ëª¨ë“  íŒŒì¼ì„ íŒŒí—¤ì³ì•¼ í•˜ë©°, ê´€ë ¨ ì—†ëŠ” ì½”ë“œë¥¼ ê°€ê¹Œì´ ìœ ì§€í•˜ê²Œ ë˜ì–´ ë¦¬íŒ©í† ë§ì˜ ì˜í–¥ì„ ë°›ëŠ” ì½”ë“œ ì˜ì—­ì´ ë„“ì–´ì§€ê³  ê²°ê³¼ì ìœ¼ë¡œ ì½”ë“œ ë¦¬ë·°ì™€ í…ŒìŠ¤íŠ¸ë¥¼ ë” ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤.

### ì—„ê²©í•œ ê³µê°œ API ì •ì˜

Feature-Sliced Designì˜ ë§¥ë½ì—ì„œ *ê³µê°œ API*ë¼ëŠ” ìš©ì–´ëŠ” ìŠ¬ë¼ì´ìŠ¤ë‚˜ ì„¸ê·¸ë¨¼íŠ¸ê°€ í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ê²ƒì„ ì„ ì–¸í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, JavaScriptì—ì„œëŠ” ìŠ¬ë¼ì´ìŠ¤ì˜ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ê°ì²´ë¥¼ ë‹¤ì‹œ ë‚´ë³´ë‚´ëŠ” `index.js` íŒŒì¼ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì™¸ë¶€ ì„¸ê³„ì™€ì˜ ê³„ì•½(ì¦‰, ê³µê°œ API)ì´ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ëŠ” í•œ ìŠ¬ë¼ì´ìŠ¤ ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ììœ ë¡­ê²Œ ë¦¬íŒ©í† ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìŠ¬ë¼ì´ìŠ¤ê°€ ì—†ëŠ” Shared ê³„ì¸µì˜ ê²½ìš°, Sharedì˜ ëª¨ë“  ê²ƒì— ëŒ€í•œ ë‹¨ì¼ ì¸ë±ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒê³¼ ë°˜ëŒ€ë¡œ ê° ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•´ ë³„ë„ì˜ ê³µê°œ APIë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ìœ¼ë¡œ ë” í¸ë¦¬í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ Sharedì—ì„œì˜ ê°€ì ¸ì˜¤ê¸°ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì˜ë„ë³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ê°€ ìˆëŠ” ë‹¤ë¥¸ ê³„ì¸µì˜ ê²½ìš° ë°˜ëŒ€ê°€ ì‚¬ì‹¤ì…ë‹ˆë‹¤ â€” ì¼ë°˜ì ìœ¼ë¡œ ìŠ¬ë¼ì´ìŠ¤ë‹¹ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ìŠ¬ë¼ì´ìŠ¤ê°€ ì™¸ë¶€ ì„¸ê³„ì— ì•Œë ¤ì§€ì§€ ì•Šì€ ìì²´ ì„¸ê·¸ë¨¼íŠ¸ ì„¸íŠ¸ë¥¼ ê²°ì •í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ë” ì‹¤ìš©ì ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê³„ì¸µì€ ì¼ë°˜ì ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°ê°€ í›¨ì”¬ ì ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ìš°ë¦¬ì˜ ìŠ¬ë¼ì´ìŠ¤/ì„¸ê·¸ë¨¼íŠ¸ëŠ” ì„œë¡œì—ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚  ê²ƒì…ë‹ˆë‹¤.

```
ğŸ“‚ pages/
  ğŸ“‚ feed/
    ğŸ“„ index
  ğŸ“‚ sign-in/
    ğŸ“„ index
  ğŸ“‚ article-read/
    ğŸ“„ index
  ğŸ“ â€¦
ğŸ“‚ shared/
  ğŸ“‚ ui/
    ğŸ“„ index
  ğŸ“‚ api/
    ğŸ“„ index
  ğŸ“ â€¦
```

`pages/feed`ë‚˜ `shared/ui`ì™€ ê°™ì€ í´ë” ë‚´ë¶€ì˜ ë‚´ìš©ì€ í•´ë‹¹ í´ë”ì—ë§Œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ë‹¤ë¥¸ íŒŒì¼ì€ ì´ëŸ¬í•œ í´ë”ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ì˜ì¡´í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.


### UIì˜ í° ì¬ì‚¬ìš© ë¸”ë¡

ì•ì„œ ëª¨ë“  í˜ì´ì§€ì— ë‚˜íƒ€ë‚˜ëŠ” í—¤ë”ë¥¼ ë‹¤ì‹œ ì‚´í´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ëª¨ë“  í˜ì´ì§€ì—ì„œ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë§Œë“œëŠ” ê²ƒì€ ë¹„ì‹¤ìš©ì ì´ë¯€ë¡œ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ë¯¸ ì½”ë“œ ì¬ì‚¬ìš©ì„ ìš©ì´í•˜ê²Œ í•˜ëŠ” Sharedë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, Sharedì— í° UI ë¸”ë¡ì„ ë„£ëŠ” ë°ëŠ” ì£¼ì˜í•  ì ì´ ìˆìŠµë‹ˆë‹¤ â€” Shared ê³„ì¸µì€ ìœ„ì˜ ê³„ì¸µì— ëŒ€í•´ ì•Œì§€ ëª»í•´ì•¼ í•©ë‹ˆë‹¤.

Sharedì™€ Pages ì‚¬ì´ì—ëŠ” Entities, Features, Widgetsì˜ ì„¸ ê°€ì§€ ë‹¤ë¥¸ ê³„ì¸µì´ ìˆìŠµë‹ˆë‹¤. ì¼ë¶€ í”„ë¡œì íŠ¸ëŠ” ì´ëŸ¬í•œ ê³„ì¸µì— í° ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¸”ë¡ì— í•„ìš”í•œ ê²ƒì´ ìˆì„ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” í•´ë‹¹ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¸”ë¡ì„ Sharedì— ë„£ì„ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ìƒìœ„ ê³„ì¸µì—ì„œ ê°€ì ¸ì˜¤ê²Œ ë˜ì–´ ê¸ˆì§€ë©ë‹ˆë‹¤. ì´ê²ƒì´ Widgets ê³„ì¸µì´ í•„ìš”í•œ ì´ìœ ì…ë‹ˆë‹¤. WidgetsëŠ” Shared, Entities, Features ìœ„ì— ìœ„ì¹˜í•˜ë¯€ë¡œ ì´ë“¤ ëª¨ë‘ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ì˜ ê²½ìš°, í—¤ë”ëŠ” ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤ â€” ì •ì  ë¡œê³ ì™€ ìµœìƒìœ„ íƒìƒ‰ì…ë‹ˆë‹¤. íƒìƒ‰ì€ ì‚¬ìš©ìê°€ í˜„ì¬ ë¡œê·¸ì¸í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ APIì— ìš”ì²­ì„ í•´ì•¼ í•˜ì§€ë§Œ, ì´ëŠ” `api` ì„¸ê·¸ë¨¼íŠ¸ì—ì„œ ê°„ë‹¨í•œ ê°€ì ¸ì˜¤ê¸°ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ” í—¤ë”ë¥¼ Sharedì— ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤.

### í¼ì´ ìˆëŠ” í˜ì´ì§€ ìì„¸íˆ ë³´ê¸°

ì½ê¸°ê°€ ì•„ë‹Œ í¸ì§‘ì„ ìœ„í•œ í˜ì´ì§€ë„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

![Conduit post editor](/img/tutorial/realworld-editor-authenticated.jpg)

ê°„ë‹¨í•´ ë³´ì´ì§€ë§Œ, í¼ ìœ íš¨ì„± ê²€ì‚¬, ì˜¤ë¥˜ ìƒíƒœ, ë°ì´í„° ì§€ì†ì„± ë“± ì•„ì§ íƒêµ¬í•˜ì§€ ì•Šì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì˜ ì—¬ëŸ¬ ì¸¡ë©´ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ í˜ì´ì§€ë¥¼ ë§Œë“¤ë ¤ë©´ Sharedì—ì„œ ì¼ë¶€ ì…ë ¥ê³¼ ë²„íŠ¼ì„ ê°€ì ¸ì™€ ì´ í˜ì´ì§€ì˜ `ui` ì„¸ê·¸ë¨¼íŠ¸ì—ì„œ í¼ì„ êµ¬ì„±í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ `api` ì„¸ê·¸ë¨¼íŠ¸ì—ì„œ ë°±ì—”ë“œì— ê¸€ì„ ìƒì„±í•˜ëŠ” ë³€ê²½ ìš”ì²­ì„ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.

ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ì— ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ë ¤ë©´ ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆê°€ í•„ìš”í•˜ë©°, ì´ë¥¼ ìœ„í•œ ì¢‹ì€ ìœ„ì¹˜ëŠ” ë°ì´í„° ëª¨ë¸ì´ê¸° ë•Œë¬¸ì— `model` ì„¸ê·¸ë¨¼íŠ¸ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ìƒì„±í•˜ê³  `ui` ì„¸ê·¸ë¨¼íŠ¸ì˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.

ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ìš°ë°œì ì¸ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì…ë ¥ì„ ì§€ì†ì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒë„ `model` ì„¸ê·¸ë¨¼íŠ¸ì˜ ì‘ì—…ì…ë‹ˆë‹¤.

### ìš”ì•½

ìš°ë¦¬ëŠ” ì—¬ëŸ¬ í˜ì´ì§€ë¥¼ ê²€í† í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ˆë¹„ êµ¬ì¡°ë¥¼ ê°œëµì ìœ¼ë¡œ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.

1. Shared layer
    1. `ui`ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI í‚¤íŠ¸ë¥¼ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤.
    2. `api`ëŠ” ë°±ì—”ë“œì™€ì˜ ê¸°ë³¸ì ì¸ ìƒí˜¸ì‘ìš©ì„ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤.
    3. ë‚˜ë¨¸ì§€ëŠ” í•„ìš”ì— ë”°ë¼ ì •ë¦¬ë  ê²ƒì…ë‹ˆë‹¤.
2. Pages layer â€” ê° í˜ì´ì§€ëŠ” ë³„ë„ì˜ ìŠ¬ë¼ì´ìŠ¤ì…ë‹ˆë‹¤.
    1. `ui`ëŠ” í˜ì´ì§€ ìì²´ì™€ ëª¨ë“  ë¶€ë¶„ì„ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤.
    2. `api`ëŠ” `shared/api`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” íŠ¹í™”ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ í¬í•¨í•  ê²ƒì…ë‹ˆë‹¤.
    3. `model`ì€ í‘œì‹œí•  ë°ì´í„°ì˜ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì €ì¥ì†Œë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ ì½”ë“œ ì‘ì„±ì„ ì‹œì‘í•´ ë´…ì‹œë‹¤!

## Part 2. ì½”ë“œ ì‘ì„±

ì´ì œ ì„¤ê³„ë¥¼ ì™„ë£Œí–ˆìœ¼ë‹ˆ ì‹¤ì œë¡œ ì½”ë“œë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤. Reactì™€ [Remix](https://remix.run)ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ í…œí”Œë¦¿ì´ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. GitHubì—ì„œ í´ë¡ í•˜ì—¬ ì‹œì‘í•˜ì„¸ìš”. [https://github.com/feature-sliced/tutorial-conduit/tree/clean](https://github.com/feature-sliced/tutorial-conduit/tree/clean).

`npm install`ë¡œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³  `npm run dev`ë¡œ ê°œë°œ ì„œë²„ë¥¼ ì‹œì‘í•˜ì„¸ìš”. [http://localhost:3000](http://localhost:3000)ì„ ì—´ë©´ ë¹ˆ ì•±ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.


### í˜ì´ì§€ ë ˆì´ì•„ì›ƒ

ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•œ ë¹ˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.

```bash
npx @feature-sliced/cli pages feed sign-in article-read article-edit profile settings --segments ui
```

ì´ë ‡ê²Œ í•˜ë©´ `pages/feed/ui/`ì™€ ê°™ì€ í´ë”ì™€ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•œ ì¸ë±ìŠ¤ íŒŒì¼ì¸ `pages/feed/index.ts`ê°€ ìƒì„±ë©ë‹ˆë‹¤.

### í”¼ë“œ í˜ì´ì§€ ì—°ê²°

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ ê²½ë¡œë¥¼ í”¼ë“œ í˜ì´ì§€ì— ì—°ê²°í•´ ë´…ì‹œë‹¤. `pages/feed/ui`ì— `FeedPage.tsx` ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  ë‹¤ìŒ ë‚´ìš©ì„ ë„£ìœ¼ì„¸ìš”:

```tsx title="pages/feed/ui/FeedPage.tsx"
export function FeedPage() {
  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>
    </div>
  );
}
```

ê·¸ëŸ° ë‹¤ìŒ í”¼ë“œ í˜ì´ì§€ì˜ ê³µê°œ APIì¸ `pages/feed/index.ts` íŒŒì¼ì—ì„œ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë‚´ë³´ë‚´ì„¸ìš”.

```ts title="pages/feed/index.ts"
export { FeedPage } from "./ui/FeedPage";
```

ì´ì œ ë£¨íŠ¸ ê²½ë¡œì— ì—°ê²°í•©ë‹ˆë‹¤. Remixì—ì„œ ë¼ìš°íŒ…ì€ íŒŒì¼ ê¸°ë°˜ì´ë©°, ë¼ìš°íŠ¸ íŒŒì¼ì€ `app/routes` í´ë”ì— ìˆì–´ Feature-Sliced Designê³¼ ì˜ ë§ìŠµë‹ˆë‹¤.

`app/routes/_index.tsx`ì—ì„œ `FeedPage` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```tsx title="app/routes/_index.tsx"
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

ê·¸ëŸ° ë‹¤ìŒ ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—´ë©´ Conduit ë°°ë„ˆê°€ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤!

![The banner of Conduit](/img/tutorial/conduit-banner.jpg)

### API í´ë¼ì´ì–¸íŠ¸

RealWorld ë°±ì—”ë“œì™€ í†µì‹ í•˜ê¸° ìœ„í•´ Sharedì— í¸ë¦¬í•œ API í´ë¼ì´ì–¸íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ `api`ì™€ ë°±ì—”ë“œ ê¸°ë³¸ URLê³¼ ê°™ì€ ë³€ìˆ˜ë¥¼ ìœ„í•œ `config`, ë‘ ê°œì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë§Œë“œì„¸ìš”.


```bash
npx @feature-sliced/cli shared --segments api config
```

ê·¸ëŸ° ë‹¤ìŒ `shared/config/backend.ts`ë¥¼ ë§Œë“œì„¸ìš”.

```tsx title="shared/config/backend.ts"
export const backendBaseUrl = "https://api.realworld.io/api";
```

```tsx title="shared/config/index.ts"
export { backendBaseUrl } from "./backend";
```

RealWorld í”„ë¡œì íŠ¸ëŠ” í¸ë¦¬í•˜ê²Œ [OpenAPI ì‚¬ì–‘](https://github.com/gothinkster/realworld/blob/main/api/openapi.yml)ì„ ì œê³µí•˜ë¯€ë¡œ, í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ ìë™ ìƒì„± íƒ€ì…ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ íƒ€ì… ìƒì„±ê¸°ê°€ í¬í•¨ëœ [`openapi-fetch` íŒ¨í‚¤ì§€](https://openapi-ts.pages.dev/openapi-fetch/)ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.

ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìµœì‹  API íƒ€ì…ì„ ìƒì„±í•˜ì„¸ìš”.

```bash
npm run generate-api-types
```

ì´ë ‡ê²Œ í•˜ë©´ `shared/api/v1.d.ts` íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤. ì´ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ `shared/api/client.ts`ì— íƒ€ì…ì´ ì§€ì •ëœ API í´ë¼ì´ì–¸íŠ¸ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.

```tsx title="shared/api/client.ts"
import createClient from "openapi-fetch";

import { backendBaseUrl } from "shared/config";
import type { paths } from "./v1";

export const { GET, POST, PUT, DELETE } = createClient<paths>({ baseUrl: backendBaseUrl });
```

```tsx title="shared/api/index.ts"
export { GET, POST, PUT, DELETE } from "./client";
```

### í”¼ë“œì˜ ì‹¤ì œ ë°ì´í„°

ì´ì œ ë°±ì—”ë“œì—ì„œ ê°€ì ¸ì˜¨ ê¸€ì„ í”¼ë“œì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸€ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.

ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ `pages/feed/ui/ArticlePreview.tsx`ë¥¼ ë§Œë“œì„¸ìš”.

```tsx title="pages/feed/ui/ArticlePreview.tsx"
export function ArticlePreview({ article }) { /* TODO */ }
```

TypeScriptë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ê¸€ ê°ì²´ì— íƒ€ì…ì„ ì§€ì •í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìƒì„±ëœ `v1.d.ts`ë¥¼ ì‚´í´ë³´ë©´ ê¸€ ê°ì²´ê°€ `components["schemas"]["Article"]`ì„ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ Sharedì— ë°ì´í„° ëª¨ë¸ì´ ìˆëŠ” íŒŒì¼ì„ ë§Œë“¤ê³  ëª¨ë¸ì„ ë‚´ë³´ë‚´ê² ìŠµë‹ˆë‹¤.

```tsx title="shared/api/models.ts"
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
```

```tsx title="shared/api/index.ts"
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";
```

ì´ì œ ê¸€ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì•„ê°€ ë°ì´í„°ë¡œ ë§ˆí¬ì—…ì„ ì±„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```tsx title="pages/feed/ui/ArticlePreview.tsx"
import { Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <button className="btn btn-outline-primary btn-sm pull-xs-right">
          <i className="ion-heart"></i> {article.favoritesCount}
        </button>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

ì¢‹ì•„ìš” ë²„íŠ¼ì€ ì§€ê¸ˆì€ ì•„ë¬´ ì‘ì—…ë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê¸€ ì½ê¸° í˜ì´ì§€ë¥¼ ë§Œë“¤ê³  ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.

ì´ì œ ê¸€ì„ ê°€ì ¸ì™€ì„œ ì´ëŸ¬í•œ ì¹´ë“œë¥¼ ì—¬ëŸ¬ ê°œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Remixì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ëŠ” *ë¡œë”* â€” í˜ì´ì§€ê°€ í•„ìš”ë¡œ í•˜ëŠ” ê²ƒì„ ì •í™•íˆ ê°€ì ¸ì˜¤ëŠ” ì„œë²„ ì¸¡ í•¨ìˆ˜ â€” ë¥¼ í†µí•´ ìˆ˜í–‰ë©ë‹ˆë‹¤. ë¡œë”ëŠ” í˜ì´ì§€ë¥¼ ëŒ€ì‹ í•˜ì—¬ APIì™€ ìƒí˜¸ ì‘ìš©í•˜ë¯€ë¡œ í˜ì´ì§€ì˜ `api` ì„¸ê·¸ë¨¼íŠ¸ì— ë„£ì„ ê²ƒì…ë‹ˆë‹¤:

```tsx title="pages/feed/api/loader.ts"
import { json } from "@remix-run/node";

import { GET } from "shared/api";

export const loader = async () => {
  const { data: articles, error, response } = await GET("/articles");

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return json({ articles });
};
```

í˜ì´ì§€ì— ì—°ê²°í•˜ë ¤ë©´ ë¼ìš°íŠ¸ íŒŒì¼ì—ì„œ `loader`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë‚´ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤.

```tsx title="pages/feed/index.ts"
export { FeedPage } from "./ui/FeedPage";
export { loader } from "./api/loader";
```

```tsx title="app/routes/_index.tsx"
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export { loader } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” í”¼ë“œì— ì´ëŸ¬í•œ ì¹´ë“œë¥¼ ë Œë”ë§í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. `FeedPage`ë¥¼ ë‹¤ìŒ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```tsx title="pages/feed/ui/FeedPage.tsx"
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

### íƒœê·¸ë¡œ í•„í„°ë§

íƒœê·¸ì™€ ê´€ë ¨í•´ì„œëŠ” ë°±ì—”ë“œì—ì„œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ê³  í˜„ì¬ ì„ íƒëœ íƒœê·¸ë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ì ¸ì˜¤ê¸° ë°©ë²•ì€ ì´ë¯¸ ì•Œê³  ìˆìŠµë‹ˆë‹¤ â€” ë¡œë”ì—ì„œ ë˜ ë‹¤ë¥¸ ìš”ì²­ì„ í•˜ë©´ ë©ë‹ˆë‹¤. `remix-utils` íŒ¨í‚¤ì§€ì—ì„œ `promiseHash`ë¼ëŠ” í¸ë¦¬í•œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ëŠ” ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ë¡œë” íŒŒì¼ì¸ `pages/feed/api/loader.ts`ë¥¼ ë‹¤ìŒ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```tsx title="pages/feed/api/loader.ts"
import { json } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async () => {
  return json(
    await promiseHash({
      articles: throwAnyErrors(GET("/articles")),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```


ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ì¼ë°˜ í•¨ìˆ˜ `throwAnyErrors`ë¡œ ì¶”ì¶œí–ˆë‹¤ëŠ” ì ì— ì£¼ëª©í•˜ì„¸ìš”. ê½¤ ìœ ìš©í•´ ë³´ì´ë¯€ë¡œ ë‚˜ì¤‘ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì§€ê¸ˆì€ ê·¸ëƒ¥ ì£¼ëª©í•´ ë‘ê² ìŠµë‹ˆë‹¤.

ì´ì œ íƒœê·¸ ëª©ë¡ìœ¼ë¡œ ë„˜ì–´ê°‘ì‹œë‹¤. ì´ëŠ” ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤ â€” íƒœê·¸ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ íƒœê·¸ê°€ ì„ íƒë˜ì–´ì•¼ í•©ë‹ˆë‹¤. Remix ê·œì¹™ì— ë”°ë¼ URL ê²€ìƒ‰ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ íƒëœ íƒœê·¸ì˜ ì €ì¥ì†Œë¡œ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì €ì¥ì„ ì²˜ë¦¬í•˜ê²Œ í•˜ê³  ìš°ë¦¬ëŠ” ë” ì¤‘ìš”í•œ ì¼ì— ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤.

`pages/feed/ui/FeedPage.tsx`ë¥¼ ë‹¤ìŒ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```tsx title="pages/feed/ui/FeedPage.tsx"
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles, tags } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
} 
```

ê·¸ëŸ° ë‹¤ìŒ ë¡œë”ì—ì„œ `tag` ê²€ìƒ‰ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. `pages/feed/api/loader.ts`ì˜ `loader` í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ì„¸ìš”.

```tsx title="pages/feed/api/loader.ts"
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", { params: { query: { tag: selectedTag } } }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

ì´ê²Œ ì „ë¶€ì…ë‹ˆë‹¤. `model` ì„¸ê·¸ë¨¼íŠ¸ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. RemixëŠ” ê½¤ ê¹”ë”í•˜ì£ .

### í˜ì´ì§€ë„¤ì´ì…˜

ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ í˜ì´ì§€ë„¤ì´ì…˜ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§ì ‘ ì‹œë„í•´ ë³´ê±°ë‚˜ ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”. ì–´ì°¨í”¼ ë‹¹ì‹ ì„ íŒë‹¨í•  ì‚¬ëŒì€ ì—†ìŠµë‹ˆë‹¤.

```tsx title="pages/feed/api/loader.ts"
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

```tsx title="pages/feed/ui/FeedPage.tsx"
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const [searchParams] = useSearchParams();
  const { articles, tags } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Form>
              <ExistingSearchParams exclude={["page"]} />
              <ul className="pagination">
                {Array(pageAmount)
                  .fill(null)
                  .map((_, index) =>
                    index + 1 === currentPage ? (
                      <li key={index} className="page-item active">
                        <span className="page-link">{index + 1}</span>
                      </li>
                    ) : (
                      <li key={index} className="page-item">
                        <button
                          className="page-link"
                          name="page"
                          value={index + 1}
                        >
                          {index + 1}
                        </button>
                      </li>
                    ),
                  )}
              </ul>
            </Form>
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag", "page"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

ì´ê²ƒìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. íƒ­ ëª©ë¡ë„ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ, ì¸ì¦ì„ êµ¬í˜„í•  ë•Œê¹Œì§€ ì ì‹œ ë³´ë¥˜í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ë§ì´ ë‚˜ì™”ìœ¼ë‹ˆ!

### ì¸ì¦

ì¸ì¦ì—ëŠ” ë‘ ê°œì˜ í˜ì´ì§€ê°€ ê´€ë ¨ë©ë‹ˆë‹¤ - ë¡œê·¸ì¸ê³¼ íšŒì›ê°€ì…ì…ë‹ˆë‹¤. ì´ë“¤ì€ ëŒ€ë¶€ë¶„ ë™ì¼í•˜ë¯€ë¡œ í•„ìš”í•œ ê²½ìš° ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ `sign-in`ì´ë¼ëŠ” ë™ì¼í•œ ìŠ¬ë¼ì´ìŠ¤ì— ìœ ì§€í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì…ë‹ˆë‹¤.

`pages/sign-in`ì˜ `ui` ì„¸ê·¸ë¨¼íŠ¸ì— ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ `RegisterPage.tsx`ë¥¼ ë§Œë“œì„¸ìš”.

```tsx title="pages/sign-in/ui/RegisterPage.tsx"
import { Form, Link, useActionData } from "@remix-run/react";

import type { register } from "../api/register";

export function RegisterPage() {
  const registerData = useActionData<typeof register>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign up</h1>
            <p className="text-xs-center">
              <Link to="/login">Have an account?</Link>
            </p>

            {registerData?.error && (
              <ul className="error-messages">
                {registerData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="username"
                  placeholder="Username"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="email"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="password"
                  name="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign up
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

ì´ì œ ê³ ì³ì•¼ í•  ê¹¨ì§„ importê°€ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì„¸ê·¸ë¨¼íŠ¸ê°€ í•„ìš”í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“œì„¸ìš”.

```bash
npx @feature-sliced/cli pages sign-in -s api
```

ê·¸ëŸ¬ë‚˜ ë“±ë¡ì˜ ë°±ì—”ë“œ ë¶€ë¶„ì„ êµ¬í˜„í•˜ê¸° ì „ì— Remixê°€ ì„¸ì…˜ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì¼ë¶€ ì¸í”„ë¼ ì½”ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œë„ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ëŠ” Sharedë¡œ ê°‘ë‹ˆë‹¤.

ë‹¤ìŒ ì½”ë“œë¥¼ `shared/api/auth.server.ts`ì— ë„£ìœ¼ì„¸ìš”. ì´ëŠ” Remixì— ë§¤ìš° íŠ¹í™”ëœ ê²ƒì´ë¯€ë¡œ ë„ˆë¬´ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. ê·¸ëƒ¥ ë³µì‚¬-ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.

```tsx title="shared/api/auth.server.ts"
import { createCookieSessionStorage, redirect } from "@remix-run/node";
import invariant from "tiny-invariant";

import type { User } from "./models";

invariant(
  process.env.SESSION_SECRET,
  "SESSION_SECRET must be set for authentication to work",
);

const sessionStorage = createCookieSessionStorage<{
  user: User;
}>({
  cookie: {
    name: "__session",
    httpOnly: true,
    path: "/",
    sameSite: "lax",
    secrets: [process.env.SESSION_SECRET],
    secure: process.env.NODE_ENV === "production",
  },
});

export async function createUserSession({
  request,
  user,
  redirectTo,
}: {
  request: Request;
  user: User;
  redirectTo: string;
}) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  session.set("user", user);

  return redirect(redirectTo, {
    headers: {
      "Set-Cookie": await sessionStorage.commitSession(session, {
        maxAge: 60 * 60 * 24 * 7, // 7 days
      }),
    },
  });
}

export async function getUserFromSession(request: Request) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  return session.get("user") ?? null;
}

export async function requireUser(request: Request) {
  const user = await getUserFromSession(request);

  if (user === null) {
    throw redirect("/login");
  }

  return user;
}
```

ê·¸ë¦¬ê³  ë°”ë¡œ ì˜†ì— ìˆëŠ” `models.ts` íŒŒì¼ì—ì„œ `User` ëª¨ë¸ë„ ë‚´ë³´ë‚´ì„¸ìš”.

```tsx title="shared/api/models.ts"
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
export type User = components["schemas"]["User"];
```

ì´ ì½”ë“œê°€ ì‘ë™í•˜ë ¤ë©´ `SESSION_SECRET` í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì„ ë§Œë“¤ê³  `SESSION_SECRET=`ì„ ì‘ì„±í•œ ë‹¤ìŒ í‚¤ë³´ë“œì—ì„œ ë¬´ì‘ìœ„ë¡œ í‚¤ë¥¼ ëˆŒëŸ¬ ê¸´ ë¬´ì‘ìœ„ ë¬¸ìì—´ì„ ë§Œë“œì„¸ìš”. ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.


```bash title=".env"
SESSION_SECRET=dontyoudarecopypastethis
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê³µê°œ APIì— ì¼ë¶€ ë‚´ë³´ë‚´ê¸°ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

```tsx title="shared/api/index.ts"
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
```

ì´ì œ RealWorld ë°±ì—”ë“œì™€ ì‹¤ì œë¡œ í†µì‹ í•˜ì—¬ ë“±ë¡ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ê²ƒì„ `pages/sign-in/api`ì— ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤. `register.ts`ë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ë„£ìœ¼ì„¸ìš”.


```tsx title="pages/sign-in/api/register.ts"
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const register = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const username = formData.get("username")?.toString() ?? "";
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users", {
    body: { user: { email, password, username } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

```tsx title="pages/sign-in/index.ts"
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
```

ê±°ì˜ ë‹¤ ì™”ìŠµë‹ˆë‹¤! í˜ì´ì§€ì™€ ì•¡ì…˜ì„ `/register` ë¼ìš°íŠ¸ì— ì—°ê²°í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. `app/routes`ì— `register.tsx`ë¥¼ ë§Œë“œì„¸ìš”.

```tsx title="app/routes/register.tsx"
import { RegisterPage, register } from "pages/sign-in";

export { register as action };

export default RegisterPage;
```

ì´ì œ [http://localhost:3000/register](http://localhost:3000/register)ë¡œ ê°€ë©´ ì‚¬ìš©ìë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤! ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ ì•„ì§ ì´ì— ë°˜ì‘í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤. ê³§ ê·¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ê² ìŠµë‹ˆë‹¤.

ë§¤ìš° ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§ì ‘ ì‹œë„í•´ ë³´ê±°ë‚˜ ê·¸ëƒ¥ ì½”ë“œë¥¼ ê°€ì ¸ì™€ì„œ ê³„ì† ì§„í–‰í•˜ì„¸ìš”.

```tsx title="pages/sign-in/api/sign-in.ts"
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const signIn = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users/login", {
    body: { user: { email, password } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

```tsx title="pages/sign-in/ui/SignInPage.tsx"
import { Form, Link, useActionData } from "@remix-run/react";

import type { signIn } from "../api/sign-in";

export function SignInPage() {
  const signInData = useActionData<typeof signIn>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign in</h1>
            <p className="text-xs-center">
              <Link to="/register">Need an account?</Link>
            </p>

            {signInData?.error && (
              <ul className="error-messages">
                {signInData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="email"
                  type="text"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="password"
                  type="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign in
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

```tsx title="pages/sign-in/index.ts"
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
export { SignInPage } from './ui/SignInPage';
export { signIn } from './api/sign-in';
```

```tsx title="app/routes/login.tsx"
import { SignInPage, signIn } from "pages/sign-in";

export { signIn as action };

export default SignInPage;
```

ì´ì œ ì‚¬ìš©ìê°€ ì´ í˜ì´ì§€ì— ì‹¤ì œë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•´ ë´…ì‹œë‹¤.

### í—¤ë”

1ë¶€ì—ì„œ ë…¼ì˜í–ˆë“¯ì´, ì•± í—¤ë”ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Widgetsë‚˜ Sharedì— ë°°ì¹˜ë©ë‹ˆë‹¤. ë§¤ìš° ê°„ë‹¨í•˜ê³  ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì™¸ë¶€ì— ìœ ì§€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— Sharedì— ë„£ì„ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•œ ì¥ì†Œë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.

```bash
npx @feature-sliced/cli shared ui
```

ì´ì œ ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ `shared/ui/Header.tsx`ë¥¼ ë§Œë“œì„¸ìš”.

```tsx title="shared/ui/Header.tsx"
import { useContext } from "react";
import { Link, useLocation } from "@remix-run/react";

import { CurrentUser } from "../api/currentUser";

export function Header() {
  const currentUser = useContext(CurrentUser);
  const { pathname } = useLocation();

  return (
    <nav className="navbar navbar-light">
      <div className="container">
        <Link className="navbar-brand" to="/" prefetch="intent">
          conduit
        </Link>
        <ul className="nav navbar-nav pull-xs-right">
          <li className="nav-item">
            <Link
              prefetch="intent"
              className={`nav-link ${pathname == "/" ? "active" : ""}`}
              to="/"
            >
              Home
            </Link>
          </li>
          {currentUser == null ? (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/login" ? "active" : ""}`}
                  to="/login"
                >
                  Sign in
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/register" ? "active" : ""}`}
                  to="/register"
                >
                  Sign up
                </Link>
              </li>
            </>
          ) : (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/editor" ? "active" : ""}`}
                  to="/editor"
                >
                  <i className="ion-compose"></i>&nbsp;New Article{" "}
                </Link>
              </li>

              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/settings" ? "active" : ""}`}
                  to="/settings"
                >
                  {" "}
                  <i className="ion-gear-a"></i>&nbsp;Settings{" "}
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname.includes("/profile") ? "active" : ""}`}
                  to={`/profile/${currentUser.username}`}
                >
                  {currentUser.image && (
                    <img
                      width={25}
                      height={25}
                      src={currentUser.image}
                      className="user-pic"
                      alt=""
                    />
                  )}
                  {currentUser.username}
                </Link>
              </li>
            </>
          )}
        </ul>
      </div>
    </nav>
  );
}
```

ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ `shared/ui`ì—ì„œ ë‚´ë³´ë‚´ì„¸ìš”.

```tsx title="shared/ui/index.ts"
export { Header } from "./Header";
```

í—¤ë”ì—ì„œëŠ” `shared/api`ì— ìœ ì§€ë˜ëŠ” ì»¨í…ìŠ¤íŠ¸ì— ì˜ì¡´í•©ë‹ˆë‹¤. ê·¸ê²ƒë„ ë§Œë“œì„¸ìš”.

```tsx title="shared/api/currentUser.ts"
import { createContext } from "react";

import type { User } from "./models";

export const CurrentUser = createContext<User | null>(null);
```

```tsx title="shared/api/index.ts"
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
export { CurrentUser } from "./currentUser";
```

ì´ì œ í˜ì´ì§€ì— í—¤ë”ë¥¼ ì¶”ê°€í•´ ë´…ì‹œë‹¤. ëª¨ë“  í˜ì´ì§€ì— ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë£¨íŠ¸ ë¼ìš°íŠ¸ì— ì¶”ê°€í•˜ê³  outlet(í˜ì´ì§€ê°€ ë Œë”ë§ë  ìœ„ì¹˜)ì„ `CurrentUser` ì»¨í…ìŠ¤íŠ¸ ì œê³µìë¡œ ê°ì‹¸ëŠ” ê²ƒì´ í•©ë¦¬ì ì…ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì „ì²´ ì•±ê³¼ í—¤ë”ê°€ í˜„ì¬ ì‚¬ìš©ì ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì¿ í‚¤ì—ì„œ ì‹¤ì œë¡œ í˜„ì¬ ì‚¬ìš©ì ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¡œë”ë¥¼ ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤. `app/root.tsx`ì— ë‹¤ìŒ ë‚´ìš©ì„ ë„£ìœ¼ì„¸ìš”.

```tsx title="app/root.tsx"
import { cssBundleHref } from "@remix-run/css-bundle";
import type { LinksFunction, LoaderFunctionArgs } from "@remix-run/node";
import {
  Links,
  LiveReload,
  Meta,
  Outlet,
  Scripts,
  ScrollRestoration,
  useLoaderData,
} from "@remix-run/react";

import { Header } from "shared/ui";
import { getUserFromSession, CurrentUser } from "shared/api";

export const links: LinksFunction = () => [
  ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),
];

export const loader = ({ request }: LoaderFunctionArgs) =>
  getUserFromSession(request);

export default function App() {
  const user = useLoaderData<typeof loader>();

  return (
    <html lang="en">
      <head>
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <Meta />
        <Links />
        <link
          href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
          rel="stylesheet"
          type="text/css"
        />
        <link
          href="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic"
          rel="stylesheet"
          type="text/css"
        />
        <link rel="stylesheet" href="//demo.productionready.io/main.css" />
        <style>{`
          button {
            border: 0;
          }
        `}</style>
      </head>
      <body>
        <CurrentUser.Provider value={user}>
          <Header />
          <Outlet />
        </CurrentUser.Provider>
        <ScrollRestoration />
        <Scripts />
        <LiveReload />
      </body>
    </html>
  );
}
```

ì´ ì‹œì ì—ì„œ í™ˆ í˜ì´ì§€ì— ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

<figure>
  ![The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.](/img/tutorial/realworld-feed-without-tabs.jpg)

  <figcaption>í—¤ë”, í”¼ë“œ, íƒœê·¸ë¥¼ í¬í•¨í•œ Conduitì˜ í”¼ë“œ í˜ì´ì§€. íƒ­ì€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</figcaption>
</figure>

### íƒ­

ì´ì œ ì¸ì¦ ìƒíƒœë¥¼ ê°ì§€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ íƒ­ê³¼ ê¸€ ì¢‹ì•„ìš”ë¥¼ ë¹ ë¥´ê²Œ êµ¬í˜„í•˜ì—¬ í”¼ë“œ í˜ì´ì§€ë¥¼ ì™„ì„±í•´ ë´…ì‹œë‹¤. ë˜ ë‹¤ë¥¸ í¼ì´ í•„ìš”í•˜ì§€ë§Œ ì´ í˜ì´ì§€ íŒŒì¼ì´ ê½¤ ì»¤ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì´ëŸ¬í•œ í¼ì„ ì¸ì ‘í•œ íŒŒì¼ë¡œ ì˜®ê¸°ê² ìŠµë‹ˆë‹¤. `Tabs.tsx`, `PopularTags.tsx`, `Pagination.tsx`ë¥¼ ë‹¤ìŒ ë‚´ìš©ìœ¼ë¡œ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.


```tsx title="pages/feed/ui/Tabs.tsx"
import { useContext } from "react";
import { Form, useSearchParams } from "@remix-run/react";

import { CurrentUser } from "shared/api";

export function Tabs() {
  const [searchParams] = useSearchParams();
  const currentUser = useContext(CurrentUser);

  return (
    <Form>
      <div className="feed-toggle">
        <ul className="nav nav-pills outline-active">
          {currentUser !== null && (
            <li className="nav-item">
              <button
                name="source"
                value="my-feed"
                className={`nav-link ${searchParams.get("source") === "my-feed" ? "active" : ""}`}
              >
                Your Feed
              </button>
            </li>
          )}
          <li className="nav-item">
            <button
              className={`nav-link ${searchParams.has("tag") || searchParams.has("source") ? "" : "active"}`}
            >
              Global Feed
            </button>
          </li>
          {searchParams.has("tag") && (
            <li className="nav-item">
              <span className="nav-link active">
                <i className="ion-pound"></i> {searchParams.get("tag")}
              </span>
            </li>
          )}
        </ul>
      </div>
    </Form>
  );
}
```

```tsx title="pages/feed/ui/PopularTags.tsx"
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";

export function PopularTags() {
  const { tags } = useLoaderData<typeof loader>();

  return (
    <div className="sidebar">
      <p>Popular Tags</p>

      <Form>
        <ExistingSearchParams exclude={["tag", "page", "source"]} />
        <div className="tag-list">
          {tags.tags.map((tag) => (
            <button
              key={tag}
              name="tag"
              value={tag}
              className="tag-pill tag-default"
            >
              {tag}
            </button>
          ))}
        </div>
      </Form>
    </div>
  );
}
```

```tsx title="pages/feed/ui/Pagination.tsx"
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";

export function Pagination() {
  const [searchParams] = useSearchParams();
  const { articles } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <Form>
      <ExistingSearchParams exclude={["page"]} />
      <ul className="pagination">
        {Array(pageAmount)
          .fill(null)
          .map((_, index) =>
            index + 1 === currentPage ? (
              <li key={index} className="page-item active">
                <span className="page-link">{index + 1}</span>
              </li>
            ) : (
              <li key={index} className="page-item">
                <button className="page-link" name="page" value={index + 1}>
                  {index + 1}
                </button>
              </li>
            ),
          )}
      </ul>
    </Form>
  );
}
```

ì´ì œ `FeedPage`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

```tsx title="pages/feed/ui/FeedPage.tsx"
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";
import { Tabs } from "./Tabs";
import { PopularTags } from "./PopularTags";
import { Pagination } from "./Pagination";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            <Tabs />

            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Pagination />
          </div>

          <div className="col-md-3">
            <PopularTags />
          </div>
        </div>
      </div>
    </div>
  );
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ë¡œë”ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ìƒˆë¡œìš´ í•„í„°ë¥¼ ì²˜ë¦¬í•˜ì„¸ìš”.

```tsx title="pages/feed/api/loader.ts"
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  /* unchanged */
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  if (url.searchParams.get("source") === "my-feed") {
    const userSession = await requireUser(request);

    return json(
      await promiseHash({
        articles: throwAnyErrors(
          GET("/articles/feed", {
            params: {
              query: {
                limit: LIMIT,
                offset: !Number.isNaN(page) ? page * LIMIT : undefined,
              },
            },
            headers: { Authorization: `Token ${userSession.token}` },
          }),
        ),
        tags: throwAnyErrors(GET("/tags")),
      }),
    );
  }

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

í”¼ë“œ í˜ì´ì§€ë¥¼ ë– ë‚˜ê¸° ì „ì—, ê¸€ì— ëŒ€í•œ ì¢‹ì•„ìš”ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ ë´…ì‹œë‹¤. `ArticlePreview.tsx`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ì„¸ìš”.

```tsx title="pages/feed/ui/ArticlePreview.tsx"
import { Form, Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <Form
          method="post"
          action={`/article/${article.slug}`}
          preventScrollReset
        >
          <button
            name="_action"
            value={article.favorited ? "unfavorite" : "favorite"}
            className={`btn ${article.favorited ? "btn-primary" : "btn-outline-primary"} btn-sm pull-xs-right`}
          >
            <i className="ion-heart"></i> {article.favoritesCount}
          </button>
        </Form>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

ì´ ì½”ë“œëŠ” ê¸€ì— ì¢‹ì•„ìš”ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ `/article/:slug`ë¡œ `_action=favorite`ê³¼ í•¨ê»˜ POST ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. ì•„ì§ ì‘ë™í•˜ì§€ ì•Šê² ì§€ë§Œ, ê¸€ ì½ê¸° í˜ì´ì§€ ì‘ì—…ì„ ì‹œì‘í•˜ë©´ì„œ ì´ê²ƒë„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.

ì´ê²ƒìœ¼ë¡œ í”¼ë“œê°€ ê³µì‹ì ìœ¼ë¡œ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ì•¼í˜¸!

### ê¸€ ì½ê¸° í˜ì´ì§€

ë¨¼ì € ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë¡œë”ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.

```bash
npx @feature-sliced/cli pages article-read -s api
```

```tsx title="pages/article-read/api/loader.ts"
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import invariant from "tiny-invariant";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, getUserFromSession } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request, params }: LoaderFunctionArgs) => {
  invariant(params.slug, "Expected a slug parameter");
  const currentUser = await getUserFromSession(request);
  const authorization = currentUser
    ? { Authorization: `Token ${currentUser.token}` }
    : undefined;

  return json(
    await promiseHash({
      article: throwAnyErrors(
        GET("/articles/{slug}", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
      comments: throwAnyErrors(
        GET("/articles/{slug}/comments", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
    }),
  );
};
```

```tsx title="pages/article-read/index.ts"
export { loader } from "./api/loader";
```


ì´ì œ `/article/:slug` ë¼ìš°íŠ¸ì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `article.$slug.tsx`ë¼ëŠ” ë¼ìš°íŠ¸ íŒŒì¼ì„ ë§Œë“œì„¸ìš”.

```tsx title="app/routes/article.$slug.tsx"
export { loader } from "pages/article-read";
```

í˜ì´ì§€ ìì²´ëŠ” ì„¸ ê°€ì§€ ì£¼ìš” ë¸”ë¡ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤ - ê¸€ í—¤ë”ì™€ ì•¡ì…˜(ë‘ ë²ˆ ë°˜ë³µ), ê¸€ ë³¸ë¬¸, ëŒ“ê¸€ ì„¹ì…˜ì…ë‹ˆë‹¤. ë‹¤ìŒì€ í˜ì´ì§€ì˜ ë§ˆí¬ì—…ì…ë‹ˆë‹¤. íŠ¹ë³„íˆ í¥ë¯¸ë¡œìš´ ë‚´ìš©ì€ ì—†ìŠµë‹ˆë‹¤:

```tsx title="pages/article-read/ui/ArticleReadPage.tsx"
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticleMeta } from "./ArticleMeta";
import { Comments } from "./Comments";

export function ArticleReadPage() {
  const { article } = useLoaderData<typeof loader>();

  return (
    <div className="article-page">
      <div className="banner">
        <div className="container">
          <h1>{article.article.title}</h1>

          <ArticleMeta />
        </div>
      </div>

      <div className="container page">
        <div className="row article-content">
          <div className="col-md-12">
            <p>{article.article.body}</p>
            <ul className="tag-list">
              {article.article.tagList.map((tag) => (
                <li className="tag-default tag-pill tag-outline" key={tag}>
                  {tag}
                </li>
              ))}
            </ul>
          </div>
        </div>

        <hr />

        <div className="article-actions">
          <ArticleMeta />
        </div>

        <div className="row">
          <Comments />
        </div>
      </div>
    </div>
  );
}
```

ë” í¥ë¯¸ë¡œìš´ ê²ƒì€ `ArticleMeta`ì™€ `Comments`ì…ë‹ˆë‹¤. ì´ë“¤ì€ ê¸€ ì¢‹ì•„ìš”, ëŒ“ê¸€ ì‘ì„± ë“±ê³¼ ê°™ì€ ì“°ê¸° ì‘ì—…ì„ í¬í•¨í•©ë‹ˆë‹¤. ì´ë“¤ì„ ì‘ë™ì‹œí‚¤ë ¤ë©´ ë¨¼ì € ë°±ì—”ë“œ ë¶€ë¶„ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. í˜ì´ì§€ì˜ `api` ì„¸ê·¸ë¨¼íŠ¸ì— `action.ts`ë¥¼ ë§Œë“œì„¸ìš”:

```tsx title="pages/article-read/api/action.ts"
import { redirect, type ActionFunctionArgs } from "@remix-run/node";
import { namedAction } from "remix-utils/named-action";
import { redirectBack } from "remix-utils/redirect-back";
import invariant from "tiny-invariant";

import { DELETE, POST, requireUser } from "shared/api";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  const currentUser = await requireUser(request);

  const authorization = { Authorization: `Token ${currentUser.token}` };

  const formData = await request.formData();

  return namedAction(formData, {
    async delete() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirect("/");
    },
    async favorite() {
      invariant(params.slug, "Expected a slug parameter");
      await POST("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfavorite() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async createComment() {
      invariant(params.slug, "Expected a slug parameter");
      const comment = formData.get("comment");
      invariant(typeof comment === "string", "Expected a comment parameter");
      await POST("/articles/{slug}/comments", {
        params: { path: { slug: params.slug } },
        headers: { ...authorization, "Content-Type": "application/json" },
        body: { comment: { body: comment } },
      });
      return redirectBack(request, { fallback: "/" });
    },
    async deleteComment() {
      invariant(params.slug, "Expected a slug parameter");
      const commentId = formData.get("id");
      invariant(typeof commentId === "string", "Expected an id parameter");
      const commentIdNumeric = parseInt(commentId, 10);
      invariant(
        !Number.isNaN(commentIdNumeric),
        "Expected a numeric id parameter",
      );
      await DELETE("/articles/{slug}/comments/{id}", {
        params: { path: { slug: params.slug, id: commentIdNumeric } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async followAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await POST("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfollowAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await DELETE("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
  });
};
```

ê·¸ ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ì´ë¥¼ ë‚´ë³´ë‚´ê³  ë¼ìš°íŠ¸ì—ì„œë„ ë‚´ë³´ë‚´ì„¸ìš”. ê·¸ë¦¬ê³  í˜ì´ì§€ ìì²´ë„ ì—°ê²°í•˜ê² ìŠµë‹ˆë‹¤.

```tsx title="pages/article-read/index.ts"
export { ArticleReadPage } from "./ui/ArticleReadPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

```tsx title="app/routes/article.$slug.tsx"
import { ArticleReadPage } from "pages/article-read";

export { loader, action } from "pages/article-read";

export default ArticleReadPage;
```

ì´ì œ ë…ì í˜ì´ì§€ì—ì„œ ì¢‹ì•„ìš” ë²„íŠ¼ì„ ì•„ì§ êµ¬í˜„í•˜ì§€ ì•Šì•˜ì§€ë§Œ, í”¼ë“œì˜ ì¢‹ì•„ìš” ë²„íŠ¼ì´ ì‘ë™í•˜ê¸° ì‹œì‘í•  ê²ƒì…ë‹ˆë‹¤! ì´ ë¼ìš°íŠ¸ë¡œ "ì¢‹ì•„ìš”" ìš”ì²­ì„ ë³´ë‚´ê³  ìˆì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•œë²ˆ ì‹œë„í•´ ë³´ì„¸ìš”.

`ArticleMeta`ì™€ `Comments`ëŠ” ë‹¤ì‹œ í•œë²ˆ í¼ë“¤ì˜ ëª¨ìŒì…ë‹ˆë‹¤. ì´ì „ì— ì´ë¯¸ í•´ë´¤ìœ¼ë‹ˆ, ì½”ë“œë¥¼ ê°€ì ¸ì™€ì„œ ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.

```tsx title="pages/article-read/ui/ArticleMeta.tsx"
import { Form, Link, useLoaderData } from "@remix-run/react";
import { useContext } from "react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function ArticleMeta() {
  const currentUser = useContext(CurrentUser);
  const { article } = useLoaderData<typeof loader>();

  return (
    <Form method="post">
      <div className="article-meta">
        <Link
          prefetch="intent"
          to={`/profile/${article.article.author.username}`}
        >
          <img src={article.article.author.image} alt="" />
        </Link>

        <div className="info">
          <Link
            prefetch="intent"
            to={`/profile/${article.article.author.username}`}
            className="author"
          >
            {article.article.author.username}
          </Link>
          <span className="date">{article.article.createdAt}</span>
        </div>

        {article.article.author.username == currentUser?.username ? (
          <>
            <Link
              prefetch="intent"
              to={`/editor/${article.article.slug}`}
              className="btn btn-sm btn-outline-secondary"
            >
              <i className="ion-edit"></i> Edit Article
            </Link>
            &nbsp;&nbsp;
            <button
              name="_action"
              value="delete"
              className="btn btn-sm btn-outline-danger"
            >
              <i className="ion-trash-a"></i> Delete Article
            </button>
          </>
        ) : (
          <>
            <input
              name="username"
              value={article.article.author.username}
              type="hidden"
            />
            <button
              name="_action"
              value={
                article.article.author.following
                  ? "unfollowAuthor"
                  : "followAuthor"
              }
              className={`btn btn-sm ${article.article.author.following ? "btn-secondary" : "btn-outline-secondary"}`}
            >
              <i className="ion-plus-round"></i>
              &nbsp;{" "}
              {article.article.author.following
                ? "Unfollow"
                : "Follow"}{" "}
              {article.article.author.username}
            </button>
            &nbsp;&nbsp;
            <button
              name="_action"
              value={article.article.favorited ? "unfavorite" : "favorite"}
              className={`btn btn-sm ${article.article.favorited ? "btn-primary" : "btn-outline-primary"}`}
            >
              <i className="ion-heart"></i>
              &nbsp; {article.article.favorited
                ? "Unfavorite"
                : "Favorite"}{" "}
              Post{" "}
              <span className="counter">
                ({article.article.favoritesCount})
              </span>
            </button>
          </>
        )}
      </div>
    </Form>
  );
}
```

```tsx title="pages/article-read/ui/Comments.tsx"
import { useContext } from "react";
import { Form, Link, useLoaderData } from "@remix-run/react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function Comments() {
  const { comments } = useLoaderData<typeof loader>();
  const currentUser = useContext(CurrentUser);

  return (
    <div className="col-xs-12 col-md-8 offset-md-2">
      {currentUser !== null ? (
        <Form
          preventScrollReset={true}
          method="post"
          className="card comment-form"
        >
          <div className="card-block">
            <textarea
              required
              className="form-control"
              name="comment"
              placeholder="Write a comment..."
              rows={3}
            ></textarea>
          </div>
          <div className="card-footer">
            <img
              src={currentUser.image}
              className="comment-author-img"
              alt=""
            />
            <button
              className="btn btn-sm btn-primary"
              name="_action"
              value="createComment"
            >
              Post Comment
            </button>
          </div>
        </Form>
      ) : (
        <div className="row">
          <div className="col-xs-12 col-md-8 offset-md-2">
            <p>
              <Link to="/login">Sign in</Link>
              &nbsp; or &nbsp;
              <Link to="/register">Sign up</Link>
              &nbsp; to add comments on this article.
            </p>
          </div>
        </div>
      )}

      {comments.comments.map((comment) => (
        <div className="card" key={comment.id}>
          <div className="card-block">
            <p className="card-text">{comment.body}</p>
          </div>

          <div className="card-footer">
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              <img
                src={comment.author.image}
                className="comment-author-img"
                alt=""
              />
            </Link>
            &nbsp;
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              {comment.author.username}
            </Link>
            <span className="date-posted">{comment.createdAt}</span>
            {comment.author.username === currentUser?.username && (
              <span className="mod-options">
                <Form method="post" preventScrollReset={true}>
                  <input type="hidden" name="id" value={comment.id} />
                  <button
                    name="_action"
                    value="deleteComment"
                    style={{
                      border: "none",
                      outline: "none",
                      backgroundColor: "transparent",
                    }}
                  >
                    <i className="ion-trash-a"></i>
                  </button>
                </Form>
              </span>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}
```

ì´ê²ƒìœ¼ë¡œ ìš°ë¦¬ì˜ ê¸€ ì½ê¸° í˜ì´ì§€ë„ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ì´ì œ ì‘ì„±ìë¥¼ íŒ”ë¡œìš°í•˜ê³ , ê¸€ì— ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ê³ , ëŒ“ê¸€ì„ ë‚¨ê¸°ëŠ” ë²„íŠ¼ë“¤ì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤.

<figure>
  ![Article reader with functioning buttons to like and follow](/img/tutorial/realworld-article-reader.jpg)

  <figcaption>ê¸°ëŠ¥í•˜ëŠ” ì¢‹ì•„ìš”ì™€ íŒ”ë¡œìš° ë²„íŠ¼ì´ ìˆëŠ” ê¸€ ì½ê¸° í˜ì´ì§€</figcaption>
</figure>

### ê¸€ ì‘ì„± í˜ì´ì§€

ì´ê²ƒì€ ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ë‹¤ë£° ë§ˆì§€ë§‰ í˜ì´ì§€ì´ë©°, ì—¬ê¸°ì„œ ê°€ì¥ í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì€ í¼ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ê²€ì¦í•  ê²ƒì¸ê°€ ì…ë‹ˆë‹¤.

í˜ì´ì§€ ìì²´ì¸ `article-edit/ui/ArticleEditPage.tsx`ëŠ” ê½¤ ê°„ë‹¨í•  ê²ƒì´ë©°, ì¶”ê°€ì ì¸ ë³µì¡ì„±ì€ ë‹¤ë¥¸ ë‘ ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ìˆ¨ê²¨ì§ˆ ê²ƒì…ë‹ˆë‹¤.

```tsx title="pages/article-edit/ui/ArticleEditPage.tsx"
import { Form, useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { TagsInput } from "./TagsInput";
import { FormErrors } from "./FormErrors";

export function ArticleEditPage() {
  const article = useLoaderData<typeof loader>();

  return (
    <div className="editor-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-10 offset-md-1 col-xs-12">
            <FormErrors />

            <Form method="post">
              <fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control form-control-lg"
                    name="title"
                    placeholder="Article Title"
                    defaultValue={article.article?.title}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control"
                    name="description"
                    placeholder="What's this article about?"
                    defaultValue={article.article?.description}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <textarea
                    className="form-control"
                    name="body"
                    rows={8}
                    placeholder="Write your article (in markdown)"
                    defaultValue={article.article?.body}
                  ></textarea>
                </fieldset>
                <fieldset className="form-group">
                  <TagsInput
                    name="tags"
                    defaultValue={article.article?.tagList ?? []}
                  />
                </fieldset>

                <button className="btn btn-lg pull-xs-right btn-primary">
                  Publish Article
                </button>
              </fieldset>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

ì´ í˜ì´ì§€ëŠ” í˜„ì¬ ê¸€(ìƒˆë¡œ ì‘ì„±í•˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´)ì„ ê°€ì ¸ì™€ì„œ í•´ë‹¹í•˜ëŠ” í¼ í•„ë“œë¥¼ ì±„ì›ë‹ˆë‹¤. ì´ì „ì— ë³¸ ì ì´ ìˆìŠµë‹ˆë‹¤. í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì€ `FormErrors`ì¸ë°, ì´ëŠ” ê²€ì¦ ê²°ê³¼ë¥¼ ë°›ì•„ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤. í•œë²ˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```tsx title="pages/article-edit/ui/FormErrors.tsx"
import { useActionData } from "@remix-run/react";
import type { action } from "../api/action";

export function FormErrors() {
  const actionData = useActionData<typeof action>();

  return actionData?.errors != null ? (
    <ul className="error-messages">
      {actionData.errors.map((error) => (
        <li key={error}>{error}</li>
      ))}
    </ul>
  ) : null;
}
```

ì—¬ê¸°ì„œëŠ” ìš°ë¦¬ì˜ ì•¡ì…˜ì´ `errors` í•„ë“œ, ì¦‰ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ ë°°ì—´ì„ ë°˜í™˜í•  ê²ƒì´ë¼ê³  ê°€ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê³§ ì•¡ì…˜ì— ëŒ€í•´ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ëŠ” íƒœê·¸ ì…ë ¥ì…ë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœí•œ ì…ë ¥ í•„ë“œì— ì„ íƒëœ íƒœê·¸ì˜ ì¶”ê°€ì ì¸ ë¯¸ë¦¬ë³´ê¸°ê°€ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” íŠ¹ë³„í•œ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤:

```tsx title="pages/article-edit/ui/TagsInput.tsx"
import { useEffect, useRef, useState } from "react";

export function TagsInput({
  name,
  defaultValue,
}: {
  name: string;
  defaultValue?: Array<string>;
}) {
  const [tagListState, setTagListState] = useState(defaultValue ?? []);

  function removeTag(tag: string): void {
    const newTagList = tagListState.filter((t) => t !== tag);
    setTagListState(newTagList);
  }

  const tagsInput = useRef<HTMLInputElement>(null);
  useEffect(() => {
    tagsInput.current && (tagsInput.current.value = tagListState.join(","));
  }, [tagListState]);

  return (
    <>
      <input
        type="text"
        className="form-control"
        id="tags"
        name={name}
        placeholder="Enter tags"
        defaultValue={tagListState.join(",")}
        onChange={(e) =>
          setTagListState(e.target.value.split(",").filter(Boolean))
        }
      />
      <div className="tag-list">
        {tagListState.map((tag) => (
          <span className="tag-default tag-pill" key={tag}>
            <i
              className="ion-close-round"
              role="button"
              tabIndex={0}
              onKeyDown={(e) =>
                [" ", "Enter"].includes(e.key) && removeTag(tag)
              }
              onClick={() => removeTag(tag)}
            ></i>{" "}
            {tag}
          </span>
        ))}
      </div>
    </>
  );
}
```

ì´ì œ API ë¶€ë¶„ì…ë‹ˆë‹¤. ë¡œë”ëŠ” URLì„ ì‚´í´ë³´ê³ , ê¸€ ìŠ¬ëŸ¬ê·¸ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ê¸°ì¡´ ê¸€ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ë¯€ë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ë¡œë“œí•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ ë¡œë”ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.

```ts title="pages/article-edit/api/loader.ts"
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ params, request }: LoaderFunctionArgs) => {
  const currentUser = await requireUser(request);

  if (!params.slug) {
    return { article: null };
  }

  return throwAnyErrors(
    GET("/articles/{slug}", {
      params: { path: { slug: params.slug } },
      headers: { Authorization: `Token ${currentUser.token}` },
    }),
  );
};
```

ì•¡ì…˜ì€ ìƒˆë¡œìš´ í•„ë“œ ê°’ë“¤ì„ ë°›ì•„ ìš°ë¦¬ì˜ ë°ì´í„° ìŠ¤í‚¤ë§ˆë¥¼ í†µí•´ ì‹¤í–‰í•˜ê³ , ëª¨ë“  ê²ƒì´ ì˜¬ë°”ë¥´ë‹¤ë©´ ì´ëŸ¬í•œ ë³€ê²½ì‚¬í•­ì„ ë°±ì—”ë“œì— ì»¤ë°‹í•©ë‹ˆë‹¤. ì´ëŠ” ê¸°ì¡´ ê¸€ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ìƒˆ ê¸€ì„ ìƒì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

```tsx title="pages/article-edit/api/action.ts"
import { json, redirect, type ActionFunctionArgs } from "@remix-run/node";

import { POST, PUT, requireUser } from "shared/api";
import { parseAsArticle } from "../model/parseAsArticle";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  try {
    const { body, description, title, tags } = parseAsArticle(
      await request.formData(),
    );
    const tagList = tags?.split(",") ?? [];

    const currentUser = await requireUser(request);
    const payload = {
      body: {
        article: {
          title,
          description,
          body,
          tagList,
        },
      },
      headers: { Authorization: `Token ${currentUser.token}` },
    };

    const { data, error } = await (params.slug
      ? PUT("/articles/{slug}", {
          params: { path: { slug: params.slug } },
          ...payload,
        })
      : POST("/articles", payload));

    if (error) {
      return json({ errors: error }, { status: 422 });
    }

    return redirect(`/article/${data.article.slug ?? ""}`);
  } catch (errors) {
    return json({ errors }, { status: 400 });
  }
};
```

ìŠ¤í‚¤ë§ˆëŠ” `FormData`ë¥¼ ìœ„í•œ íŒŒì‹± í•¨ìˆ˜ë¡œë„ ì‘ë™í•˜ì—¬, ê¹¨ë—í•œ í•„ë“œë¥¼ í¸ë¦¬í•˜ê²Œ ì–»ê±°ë‚˜ ë§ˆì§€ë§‰ì— ì²˜ë¦¬í•  ì˜¤ë¥˜ë¥¼ ë˜ì§ˆ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ê·¸ íŒŒì‹± í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="pages/article-edit/model/parseAsArticle.ts"
export function parseAsArticle(data: FormData) {
  const errors = [];

  const title = data.get("title");
  if (typeof title !== "string" || title === "") {
    errors.push("Give this article a title");
  }

  const description = data.get("description");
  if (typeof description !== "string" || description === "") {
    errors.push("Describe what this article is about");
  }

  const body = data.get("body");
  if (typeof body !== "string" || body === "") {
    errors.push("Write the article itself");
  }

  const tags = data.get("tags");
  if (typeof tags !== "string") {
    errors.push("The tags must be a string");
  }

  if (errors.length > 0) {
    throw errors;
  }

  return { title, description, body, tags: data.get("tags") ?? "" } as {
    title: string;
    description: string;
    body: string;
    tags: string;
  };
}
```

ë¬¼ë¡  ì´ëŠ” ë‹¤ì†Œ ê¸¸ê³  ë°˜ë³µì ì´ì§€ë§Œ, ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ìœ„í•´ ìš°ë¦¬ê°€ ì§€ë¶ˆí•´ì•¼ í•˜ëŠ” ëŒ€ê°€ì…ë‹ˆë‹¤. ì´ê²ƒì€ Zod ìŠ¤í‚¤ë§ˆì¼ ìˆ˜ë„ ìˆì§€ë§Œ, ê·¸ë ‡ê²Œ í•˜ë©´ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë Œë”ë§í•´ì•¼ í•˜ê³ , ì´ í¼ì€ ê·¸ëŸ° ë³µì¡ì„±ì„ ê°ë‹¹í•  ë§Œí•œ ê°€ì¹˜ê°€ ì—†ìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ - í˜ì´ì§€, ë¡œë”, ê·¸ë¦¬ê³  ì•¡ì…˜ì„ ë¼ìš°íŠ¸ì— ì—°ê²°í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ìƒì„±ê³¼ í¸ì§‘ì„ ëª¨ë‘ ê¹”ë”í•˜ê²Œ ì§€ì›í•˜ë¯€ë¡œ `editor._index.tsx`ì™€ `editor.$slug.tsx` ëª¨ë‘ì—ì„œ ë™ì¼í•œ ê²ƒì„ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="pages/article-edit/index.ts"
export { ArticleEditPage } from "./ui/ArticleEditPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

```tsx title="app/routes/editor._index.tsx, app/routes/editor.$slug.tsx (same content)"
import { ArticleEditPage } from "pages/article-edit";

export { loader, action } from "pages/article-edit";

export default ArticleEditPage;
```

ì´ì œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë¡œê·¸ì¸í•˜ê³  ìƒˆ ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”. ë˜ëŠ” ê¸€ì„ "ìŠì–´ë²„ë¦¬ê³ " ê²€ì¦ì´ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•´ë³´ì„¸ìš”.

<figure>
  ![The Conduit article editor, with the title field saying â€œNew articleâ€ and the rest of the fields empty. Above the form there are two errors: â€œ**Describe what this article is aboutâ€ and â€œWrite the article itselfâ€.**](/img/tutorial/realworld-article-editor.jpg)

  <figcaption>ì œëª© í•„ë“œì— "ìƒˆ ê¸€"ì´ë¼ê³  ì“°ì—¬ ìˆê³  ë‚˜ë¨¸ì§€ í•„ë“œëŠ” ë¹„ì–´ ìˆëŠ” Conduit ê¸€ í¸ì§‘ê¸°. í¼ ìœ„ì— ë‘ ê°œì˜ ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤. **"ì´ ê¸€ì´ ë¬´ì—‡ì— ê´€í•œ ê²ƒì¸ì§€ ì„¤ëª…í•´ì£¼ì„¸ìš”"**, **"ê¸€ ë³¸ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”"**.</figcaption>
</figure>

í”„ë¡œí•„ê³¼ ì„¤ì • í˜ì´ì§€ëŠ” ê¸€ ì½ê¸°ì™€ í¸ì§‘ê¸° í˜ì´ì§€ì™€ ë§¤ìš° ìœ ì‚¬í•˜ë¯€ë¡œ, ë…ìì¸ ì—¬ëŸ¬ë¶„ì˜ ì—°ìŠµ ê³¼ì œë¡œ ë‚¨ê²¨ë‘ê² ìŠµë‹ˆë‹¤ :)
