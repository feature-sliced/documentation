---
title: –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å Entity
sidebar_position: 4
---

# –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å Entity

–í–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ—è Entities: **–Ω–µ –≤—Å—ë –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—É—â–Ω–æ—Å—Ç—å—é**. –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—É—â–Ω–æ—Å—Ç–∏ "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π".

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ —Ç–æ–º, –≥–¥–µ —Ä–∞–∑–º–µ—â–∞—Ç—å –∫–æ–¥, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—è–º–∏, —É—á–∏—Ç—ã–≤–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∫–æ–º–∞–Ω–¥—ã.

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–æ–¥—Ö–æ–¥–∞

FSD —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É **"Local First"** ‚Äî –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ `pages/`, –∏ –≤—ã–Ω–æ—Å–∏—Ç–µ –≤ –æ–±—â–∏–µ —Å–ª–æ–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **—Ä–µ–∞–ª—å–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**.

–ü—Ä–∏ —ç—Ç–æ–º **–ø–æ–Ω–∏–º–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–∞** –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª–µ–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è. –û–¥–Ω–∞–∫–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞ **–Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç** –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞.

–ö–æ–≥–¥–∞ –∫–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **—Ç—Ä–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞** –∫ –µ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:

**–ü–æ–¥—Ö–æ–¥ 0: –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—Ç—å –æ—Ç—Å—é–¥–∞)
- –ö–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ `pages/`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø—Ä–æ—Å—Ç–æ—Ç–∞, YAGNI

**–ü–æ–¥—Ö–æ–¥ –ê: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ API** (`shared/api`)
- API –∏ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ú–∏–≥—Ä–∞—Ü–∏—è –≤ `entities/` –ø—Ä–∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–∏
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü–æ–¥—Ö–æ–¥ –ë: –î–æ–º–µ–Ω–Ω–æ–µ API** (`entities/*/api/`)
- API –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

–í—Å–µ —Ç—Ä–∏ –ø–æ–¥—Ö–æ–¥–∞ —Å–æ–≥–ª–∞—Å—É—é—Ç—Å—è —Å **—Ñ–∏–ª–æ—Å–æ—Ñ–∏–µ–π FSD 2.1**: –∏–∑–±–µ–≥–∞—Ç—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ª–æ–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## –ü–æ–Ω–∏–º–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–∞

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –ø–æ–ª–µ–∑–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç:
- üéØ –í—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è –º–æ–¥—É–ª–µ–π
- üó£Ô∏è –ì–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å –±–∏–∑–Ω–µ—Å–æ–º
- üîÆ –ü—Ä–µ–¥–≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- üìã –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–∏–∑–Ω–∞–∫–∏ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏

–û–±—ä–µ–∫—Ç **–º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å** Entity –≤ –±—É–¥—É—â–µ–º, –µ—Å–ª–∏ –æ–Ω –æ–±–ª–∞–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏:

**1. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å**

–û–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –æ—Ç–ª–∏—á–∏—Ç—å –æ—Ç –¥—Ä—É–≥–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∞—Ç—Ä–∏–±—É—Ç—É:

```typescript
// –ë–∏–∑–Ω–µ—Å-—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
Order { orderNumber: "ORD-2024-001" }     // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
Product { sku: "LAPTOP-XPS-15" }          // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞—Ä—Ç–∏–∫—É–ª
Report { hash: "a7f3k9m2" }               // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ö—ç—à (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)

// –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å
User { id: "uuid-123" }                   // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id
Payment { id: 456 }                       // –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π id
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ù–∞–ª–∏—á–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ **–Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Entity. –≠—Ç–æ –ª–∏—à—å **–ø—Ä–∏–∑–Ω–∞–∫**, —á—Ç–æ –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –µ—é —Å—Ç–∞—Ç—å.

**2. –ë–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω**

–û–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ —Ç–µ—Ä–º–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–∑–Ω–µ—Å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞:

```typescript
// ‚úÖ –ë–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω—ã (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏)
User, Customer, Order, Product, Invoice, Payment, Subscription

// ‚ùå –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã (–ù–ï —Å—É—â–Ω–æ—Å—Ç–∏)
Form, Modal, Layout, Component, State, Config
```

**–°–æ–≤–µ—Ç:** –°–ª—É—à–∞–π—Ç–µ, –∫–∞–∫ –±–∏–∑–Ω–µ—Å –Ω–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã. –ï—Å–ª–∏ –≥–æ–≤–æ—Ä—è—Ç "—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", "–æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑", "–æ–ø–ª–∞—Ç–∏—Ç—å —Å—á—ë—Ç" ‚Äî —ç—Ç–æ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –≤ —Å—É—â–Ω–æ—Å—Ç–∏.

**3. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**

–û–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏:

```typescript
// –ó–∞–∫–∞–∑ –∏–º–µ–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
Order {
  status: 'pending' | 'confirmed' | 'shipped' | 'delivered' | 'cancelled'
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
User {
  status: 'registered' | 'active' | 'suspended' | 'deleted'
}

// –ü–æ–¥–ø–∏—Å–∫–∞ –∏–º–µ–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
Subscription {
  status: 'trial' | 'active' | 'past_due' | 'cancelled' | 'expired'
}
```

**4. –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏**

–û–±—ä–µ–∫—Ç —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –±–∏–∑–Ω–µ—Å-–æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö:

```
Order ‚Üí belongs to ‚Üí User
Order ‚Üí contains ‚Üí Products
User ‚Üí has ‚Üí Subscription
Invoice ‚Üí belongs to ‚Üí Order
Payment ‚Üí pays for ‚Üí Invoice
```

### –ë–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç (–Ω–µ –∫–æ–¥!), –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```markdown
# –ë–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** email –∏–ª–∏ id
- **–†–æ–ª–∏:** admin, manager, viewer
- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:** registered ‚Üí active ‚Üí blocked
- **–°–≤—è–∑–∏:** –∏–º–µ–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É, —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑—ã

## –ó–∞–∫–∞–∑ (Order)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (orderNumber)
- **–°—Ç–∞—Ç—É—Å—ã:** pending ‚Üí confirmed ‚Üí shipped ‚Üí delivered
- **–°–≤—è–∑–∏:** –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç User, —Å–æ–¥–µ—Ä–∂–∏—Ç Products

## –ü—Ä–æ–¥—É–∫—Ç (Product)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –∞—Ä—Ç–∏–∫—É–ª (SKU)
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** electronics, books, clothing
- **–°–≤—è–∑–∏:** –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç Category, –≤—Ö–æ–¥–∏—Ç –≤ Orders

## –û—Ç—á—ë—Ç (Report)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ö—ç—à (–∂–∏–≤—ë—Ç 30 –º–∏–Ω—É—Ç)
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∞—Ä–µ–Ω –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–°–≤—è–∑–∏:** —Å–æ–∑–¥–∞—ë—Ç—Å—è User
```

**–¶–µ–ª—å –≥–ª–æ—Å—Å–∞—Ä–∏—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥–µ
- ‚úÖ –ü–æ–º–æ—á—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –º–æ–¥—É–ª–µ–π
- ‚ùå –ù–ï –¥–∏–∫—Ç–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–ó–∞–¥–∞—á–∞:**
> –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º—É  
> - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: –§–ò–û  
> - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: –ê–¥—Ä–µ—Å (–≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º)  
> - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ: –≥–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è  
> - –†–æ–ª—å "–º–µ–Ω–µ–¥–∂–µ—Ä" –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ê–Ω–∞–ª–∏–∑:**

1. **–§–ò–û** ‚Äî –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ (–º–æ–≥—É—Ç –±—ã—Ç—å —Ç—ë–∑–∫–∏)
2. **–ê–¥—Ä–µ—Å** ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º, –Ω–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç (–Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞, –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ—Å–µ–¥–∏)
3. **–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è** ‚Äî –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ
4. **–†–æ–ª—å** ‚Äî –∏–º–µ–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –Ω–∞–±–æ—Ä –¥–æ—Å—Ç—É–ø–æ–≤, –≤–µ—Ä–æ—è—Ç–Ω–æ –∏–º–µ–µ—Ç `id` ‚Üí –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** ‚Äî –∏–º–µ–µ—Ç `id` ‚Üí –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å

**–í—ã–≤–æ–¥ –¥–ª—è –≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (–∏–º–µ–µ—Ç id)
- –°–≤—è–∑–∞–Ω —Å Role

## –†–æ–ª—å (Role)
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (–∏–º–µ–µ—Ç id)
- –°–≤—è–∑–∞–Ω–∞ —Å User (–æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º)
```

**–í—ã–≤–æ–¥ –¥–ª—è –∫–æ–¥–∞:**
```
‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ä–∞–∑—É:
   entities/user/
   entities/role/

‚úÖ –ù–∞—á–Ω–∏—Ç–µ —Å:
   pages/add-user/
   
‚úÖ –°–æ–∑–¥–∞–π—Ç–µ Entity –∫–æ–≥–¥–∞:
   - User –Ω—É–∂–µ–Ω –≤ 2+ –º–µ—Å—Ç–∞—Ö
   - –ü–æ—è–≤–∏—Ç—Å—è –ª–æ–≥–∏–∫–∞ (permissions, validation)
```

---

### –ü–æ–¥—Ö–æ–¥ 0: –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å (Local First)

#### –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

> **–í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞. –í—ã–Ω–æ—Å–∏—Ç–µ –≤ –æ–±—â–∏–µ —Å–ª–æ–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.**

–≠—Ç–æ **–Ω–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** –∏ **–Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥**. –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

**–î–∞–∂–µ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å—é** (User, Order, Product), –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å–µ–≥–¥–∞ –∫–∞–∫ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Ç–æ—á–∫—É:**
- –õ—é–±–∞—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏—á–∏
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

‚úÖ **–î–∞–∂–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–µ–π:**
- –ü–µ—Ä–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è User ‚Äî –≤ `pages/registration/`
- –ü–µ—Ä–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Order ‚Äî –≤ `pages/checkout/`
- –ü–µ—Ä–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Product ‚Äî –≤ `pages/catalog/`

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- üéØ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –∫–æ–¥ —Ç–∞–º, –≥–¥–µ –æ–Ω –Ω—É–∂–µ–Ω
- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å** ‚Äî –Ω–µ—Ç overhead —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- üîç **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- üõ°Ô∏è **YAGNI** ‚Äî –Ω–µ —Å–æ–∑–¥–∞—ë–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ "–Ω–∞ –±—É–¥—É—â–µ–µ"
- üîÑ **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
pages/
  user-profile/
    api/
      profile-api.ts      # API –∑–∞–ø—Ä–æ—Å—ã
    model/
      types.ts            # —Ç–∏–ø—ã
      validation.ts       # –ª–æ–∫–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
    ui/
      ProfilePage.vue
      ProfileForm.vue

features/
  edit-profile/
    api/
      update-profile.ts
    model/
      validation.ts
    ui/
      EditProfileForm.vue
```

#### –ü—Ä–∏–º–µ—Ä: –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

**–ò–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å: id
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å
```

**–í –∫–æ–¥–µ (–¥–µ–Ω—å 1):**
```typescript
// ‚ùå –ù–ï —Å–æ–∑–¥–∞—ë–º —Å—Ä–∞–∑—É entities/user/

// ‚úÖ –ù–∞—á–∏–Ω–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
// pages/user-profile/api/profile-api.ts
interface UserDTO {
  user_id: number
  full_name: string
  email: string
}

interface UserProfile {
  id: string
  name: string
  email: string
}

function mapProfile(dto: UserDTO): UserProfile {
  return {
    id: String(dto.user_id),
    name: dto.full_name,
    email: dto.email,
  }
}

export async function getUserProfile(id: string): Promise<UserProfile> {
  const response = await fetch(`/api/users/${id}/profile`)
  const dto = await response.json()
  return mapProfile(dto)
}
```

```vue
<!-- pages/user-profile/ui/ProfilePage.vue -->
<script setup lang="ts">
import { ref, onMounted, computed } from 'vue'
import { getUserProfile } from '../api/profile-api'

const profile = ref<UserProfile | null>(null)

// –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
const displayName = computed(() => {
  if (!profile.value) return ''
  return profile.value.name || '–ê–Ω–æ–Ω–∏–º'
})

const isNewUser = computed(() => {
  // –õ–æ–≥–∏–∫–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  return profile.value?.joinedDaysAgo < 7
})

onMounted(async () => {
  profile.value = await getUserProfile('123')
})
</script>

<template>
  <div>
    <h1>{{ displayName }}</h1>
    <span v-if="isNewUser" class="badge">–ù–æ–≤–∏—á–æ–∫</span>
    <p>{{ profile?.bio }}</p>
  </div>
</template>
```

**–ü–æ—á–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ, –µ—Å–ª–∏ User ‚Äî —ç—Ç–æ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å?**

1. –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
2. –ù–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
3. –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –∫–∞–∫–∏–µ –µ—â—ë –ø–æ–ª—è –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è
4. YAGNI ‚Äî –Ω–µ —Å–æ–∑–¥–∞—ë–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É "–Ω–∞ –±—É–¥—É—â–µ–µ"

#### ‚ö†Ô∏è –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ü–æ–¥—Ö–æ–¥—É –ê –∏–ª–∏ –ë

–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –∫–æ–¥ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–ª–æ—è, –∫–æ–≥–¥–∞:

**1. –í—Ç–æ—Ä–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–≥–ª–∞–≤–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä)**

```typescript
// ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö
pages/user-profile/api/profile-api.ts     // getUserProfile()
pages/settings/api/profile-api.ts         // getUserProfile() ‚Äî –∫–æ–ø–∏—è!

// ‚úÖ –ü–æ—Ä–∞ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ shared/api –∏–ª–∏ entities/user/api/
```

**2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 3+ –º–µ—Å—Ç–∞—Ö**
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
pages/user-profile/
pages/user-settings/
features/user-card/
widgets/user-menu/

// ‚úÖ –¢–æ—á–Ω–æ –ø–æ—Ä–∞ –≤—ã–Ω–æ—Å–∏—Ç—å
```

**3. –î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç –≤–∞—à –∫–æ–¥**

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ, —á—Ç–æ –∫–æ–ª–ª–µ–≥–∏ –∫–æ–ø–∏—Ä—É—é—Ç –≤–∞—à –∫–æ–¥ ‚Äî —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –∫ –≤—ã–¥–µ–ª–µ–Ω–∏—é –æ–±—â–µ–≥–æ –º–æ–¥—É–ª—è.

**4. –ë–∏–∑–Ω–µ—Å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–ê –≥–¥–µ —É –Ω–∞—Å User?"**

–ï—Å–ª–∏ –±–∏–∑–Ω–µ—Å –Ω–∞—á–∏–Ω–∞–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç –∫–∞–∫ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é ‚Äî –ø–æ—Ä–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å Entity.

---

### –ü–æ–¥—Ö–æ–¥ –ê: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ API (shared/api)

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:**
- –ù–µ–±–æ–ª—å—à–∏—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ö–æ–º–∞–Ω–¥, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–±–æ—Ç–∞—Ç—å —Å FSD
- –°—Ç–∞—Ä—Ç–∞–ø–æ–≤ —Å –±—ã—Å—Ç—Ä—ã–º–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏
- –ü—Ä–æ–µ–∫—Ç–æ–≤ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å—é

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞** ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º —Ñ–∞–π–ª—ã
- üéØ **–í—Å—ë API –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ** ‚Äî –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏
- üîÑ **–õ–µ–≥–∫–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å** ‚Äî –≤ `entities/` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- üì¶ **–ú–µ–Ω—å—à–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –ø—Ä–æ—â–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- ‚ö†Ô∏è **–ú–æ–∂–µ—Ç —Ä–∞–∑—Ä–∞—Å—Ç–∏—Å—å** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã
- üîó **API –æ—Ç–¥–µ–ª–µ–Ω–æ –æ—Ç –¥–æ–º–µ–Ω–∞** ‚Äî –º–µ–Ω–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- üîÄ **–í–æ–∑–º–æ–∂–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
shared/
  api/
    client.ts           # axios instance
    types.ts            # –æ–±—â–∏–µ —Ç–∏–ø—ã (ApiResponse, Pagination)
    
    user.ts             # API –¥–ª—è User + –º–∞–ø–ø–∏–Ω–≥ DTO
    product.ts          # API –¥–ª—è Product + –º–∞–ø–ø–∏–Ω–≥ DTO
    order.ts            # API –¥–ª—è Order + –º–∞–ø–ø–∏–Ω–≥ DTO
    
    index.ts            # re-exports
```

#### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```typescript
// shared/api/client.ts
import axios from 'axios'

export const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
})

apiClient.interceptors.response.use(
  response => response,
  error => {
    // –û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    console.error('API Error:', error)
    return Promise.reject(error)
  }
)
```

```typescript
// shared/api/types.ts
export interface ApiResponse<T> {
  data: T
  meta?: {
    page: number
    total: number
  }
}

export interface PaginationParams {
  page: number
  limit: number
}
```

```typescript
// shared/api/user.ts
import { apiClient } from './client'

interface UserDTO {
  user_id: number
  user_email: string
  user_role: string
}

export interface User {
  id: string
  email: string
  role: string
}

function mapUserFromDTO(dto: UserDTO): User {
  return {
    id: String(dto.user_id),
    email: dto.user_email,
    role: dto.user_role,
  }
}

export async function getUserById(id: string): Promise<User> {
  const { data } = await apiClient.get<UserDTO>(`/users/${id}`)
  return mapUserFromDTO(data)
}

export async function getUsers(): Promise<User[]> {
  const { data } = await apiClient.get<UserDTO[]>('/users')
  return data.map(mapUserFromDTO)
}

export async function createUser(userData: Omit<User, 'id'>): Promise<User> {
  const { data } = await apiClient.post<UserDTO>('/users', {
    user_email: userData.email,
    user_role: userData.role,
  })
  return mapUserFromDTO(data)
}
```

```typescript
// shared/api/index.ts
export { getUserById, getUsers, createUser, type User } from './user'
export { getProducts, type Product } from './product'
export { getOrders, type Order } from './order'
export { apiClient } from './client'
export type { ApiResponse, PaginationParams } from './types'
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ pages

```vue
<!-- pages/users/ui/UsersPage.vue -->
<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { getUsers, type User } from 'shared/api'

const users = ref<User[]>([])
const loading = ref(false)

onMounted(async () => {
  loading.value = true
  try {
    users.value = await getUsers()
  } finally {
    loading.value = false
  }
})
</script>

<template>
  <div>
    <h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h1>
    <div v-if="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <ul v-else>
      <li v-for="user in users" :key="user.id">
        {{ user.email }} ({{ user.role }})
      </li>
    </ul>
  </div>
</template>
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ë—ã–ª–æ:**
```
pages/user-profile/api/profile-api.ts
```

**–°—Ç–∞–ª–æ:**
```
shared/api/user.ts
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö:**
```typescript
// –ë—ã–ª–æ
import { getUserProfile } from '../api/profile-api'

// –°—Ç–∞–ª–æ
import { getUserById } from 'shared/api'
```

#### ‚ö†Ô∏è –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ entities/

–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –∏–∑ `shared/api` –≤ `entities/`, –∫–æ–≥–¥–∞:

**1. –ü–æ—è–≤–∏–ª–∞—Å—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**

```typescript
// ‚ùå –ù–∞—á–∏–Ω–∞–µ—Ç –ø–ª–æ—Ö–æ –ø–∞—Ö–Ω—É—Ç—å –≤ shared/api
export function isAdmin(user: User): boolean {
  return user.role === 'admin'
}

export function canEditPost(user: User, post: Post): boolean {
  return user.role === 'admin' || user.id === post.authorId
}

export function getUserPermissions(user: User): string[] {
  // 20 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏
}

// ‚úÖ –ü–æ—Ä–∞ –≤ entities/user/model/
```

**2. –ù—É–∂–Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏—è**

```typescript
// ‚ùå –£—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è –≤ shared/api
export async function getUserWithTeam(userId: string) {
  const user = await getUserById(userId)
  const team = await getTeamById(user.teamId)
  return { ...user, team }
}

export async function getUserWithOrders(userId: string) {
  const user = await getUserById(userId)
  const orders = await getOrdersByUserId(userId)
  return { ...user, orders }
}

// ‚úÖ –≠—Ç–æ entities/user/model/use-user-with-team.ts
```

**3. –§–∞–π–ª —Ä–∞–∑—Ä–æ—Å—Å—è –¥–æ 300+ —Å—Ç—Ä–æ–∫**

–ö–æ–≥–¥–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ `shared/api/user.ts` –±–æ–ª—å—à–µ 10 —Ñ—É–Ω–∫—Ü–∏–π –∏ 300 —Å—Ç—Ä–æ–∫ ‚Äî –ø–æ—Ä–∞ –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ `entities/user/`.

**4. –¢–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ 5+ –º–µ—Å—Ç–∞—Ö —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π**

```typescript
// ‚ùå shared/api/user.ts –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤–µ–∑–¥–µ —Å –ª–æ–≥–∏–∫–æ–π:
import { User } from 'shared/api'

// –í 15 —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö:
const isAdmin = user.role === 'admin'
const canEdit = user.role === 'admin' || user.role === 'moderator'
// ... –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

// ‚úÖ –õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ entities/user/model/use-user.ts
```

#### –ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏

**–ë—ã–ª–æ (shared/api):**
```
shared/
  api/
    user.ts           # 400 —Å—Ç—Ä–æ–∫, 15 —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏–∫–∞ permissions
```

**–°—Ç–∞–ª–æ (entities):**
```
shared/
  api/
    client.ts         # —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    types.ts

entities/
  user/
    api/
      user-api.ts     # API + –º–∞–ø–ø–∏–Ω–≥ (100 —Å—Ç—Ä–æ–∫)
    model/
      types.ts
      use-user-permissions.ts    # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (150 —Å—Ç—Ä–æ–∫)
    index.ts
```

---

### –ü–æ–¥—Ö–æ–¥ –ë: –î–æ–º–µ–Ω–Ω–æ–µ API (entities/*/api/)

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:**
- –°—Ä–µ–¥–Ω–∏—Ö –∏ –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ö–æ–º–∞–Ω–¥ —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã —Å FSD –∏–ª–∏ DDD
- –ü—Ä–æ–µ–∫—Ç–æ–≤ —Å —á—ë—Ç–∫–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é
- Enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

‚úÖ **–û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏:**
- –£ –≤–∞—Å –µ—Å—Ç—å **–±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π** –∏ —á—ë—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∂–∏—Ç—å –¥–æ–ª–≥–æ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è
- –í–∞–∂–Ω–∞ **–∑–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π backend API**

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- üèóÔ∏è **–î–æ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî API –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è
- üì¶ **–ü–æ–ª–Ω–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** ‚Äî –≤—Å—ë –æ `User` –≤ `entities/user/`
- üîí **–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π backend** ‚Äî DTO –º–∞–ø–ø–∏–Ω–≥ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
- üó£Ô∏è **–û–±—â–∏–π —è–∑—ã–∫** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω—ã
- üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å `model/` –∏ `ui/`

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- üìÅ **–ë–æ–ª—å—à–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –∏–∑–±—ã—Ç–æ—á–Ω—ã–º
- ü§î **–¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–æ–º–µ–Ω–æ–≤** ‚Äî –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã —Å—É—â–Ω–æ—Å—Ç–µ–π

#### –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π backend

–û–¥–∏–Ω –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø–ª—é—Å–æ–≤ –ü–æ–¥—Ö–æ–¥–∞ –ë ‚Äî **–∏–∑–æ–ª—è—Ü–∏—è –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**

```typescript
// Backend –∏–∑–º–µ–Ω–∏–ª –∫–æ–Ω—Ç—Ä–∞–∫—Ç:
// –ë—ã–ª–æ: { user_id: number, user_email: string }
// –°—Ç–∞–ª–æ: { id: string, email: string, metadata: {...} }
```

**–ü–æ–¥—Ö–æ–¥ –ê (shared/api):**
```typescript
// shared/api/user.ts
// ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã

export interface User {
  id: number  // ‚Üí –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞ string
  email: string
}

// ‚ùå –°–ª–æ–º–∞–ª–∏—Å—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
pages/profile/ui/ProfilePage.vue
pages/settings/ui/SettingsPage.vue
features/user-menu/ui/UserMenu.vue
// ... 15 —Ñ–∞–π–ª–æ–≤
```

**–ü–æ–¥—Ö–æ–¥ –ë (entities/user/api/):**
```typescript
// entities/user/api/user-api.ts
// ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –º–∞–ø–ø–µ—Ä–µ

interface UserDTO {
  id: string        // –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
  email: string
  metadata: object  // –¥–æ–±–∞–≤–∏–ª–æ—Å—å
}

export interface User {
  id: string        // –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¢–£–¢
  email: string
  // metadata –ù–ï –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º ‚Äî –Ω–µ –Ω—É–∂–Ω–∞ –≤ –¥–æ–º–µ–Ω–µ
}

function mapUser(dto: UserDTO): User {
  return {
    id: dto.id,  // –∏–∑–º–µ–Ω–∏–ª—Å—è –º–∞–ø–ø–∏–Ω–≥
    email: dto.email,
  }
}
```

```typescript
// entities/user/model/types.ts
// ‚úÖ –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å—Ç–∞–±–∏–ª—å–Ω–∞
export interface User {
  id: string
  email: string
}

// ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
pages/profile/   // –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç User
pages/settings/  // –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç User
features/menu/   // –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç User
```

**Radius of change:**
- –ü–æ–¥—Ö–æ–¥ –ê: ~15 —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥—Ö–æ–¥ –ë: 1 —Ñ–∞–π–ª (–º–∞–ø–ø–µ—Ä)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
shared/
  api/
    client.ts           # –¢–û–õ–¨–ö–û –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    types.ts            # –¢–û–õ–¨–ö–û –æ–±—â–∏–µ —Ç–∏–ø—ã

entities/
  user/
    api/
      user-api.ts       # API + –º–∞–ø–ø–∏–Ω–≥
    model/
      types.ts          # User (–¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)
    index.ts

  product/
    api/
      product-api.ts
    model/
      types.ts
    index.ts

  order/
    api/
      order-api.ts
    model/
      types.ts
    index.ts
```

#### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞

```typescript
// shared/api/client.ts
import axios from 'axios'

export const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
})

apiClient.interceptors.response.use(
  response => response,
  error => {
    console.error('API Error:', error)
    return Promise.reject(error)
  }
)
```

```typescript
// shared/api/types.ts
export interface ApiResponse<T> {
  data: T
  meta?: {
    page: number
    total: number
  }
}

export interface PaginationParams {
  page: number
  limit: number
}
```

```typescript
// entities/user/api/user-api.ts
import { apiClient } from 'shared/api/client'
import type { User } from '../model/types'

interface UserDTO {
  user_id: number
  user_email: string
  user_role: string
  created_at: string
}

function mapUserFromDTO(dto: UserDTO): User {
  return {
    id: String(dto.user_id),
    email: dto.user_email,
    role: dto.user_role,
    createdAt: new Date(dto.created_at),
  }
}

function mapUserToDTO(user: Partial<User>): Partial<UserDTO> {
  return {
    user_email: user.email,
    user_role: user.role,
  }
}

export async function getUserById(id: string): Promise<User> {
  const { data } = await apiClient.get<UserDTO>(`/users/${id}`)
  return mapUserFromDTO(data)
}

export async function getUsers(): Promise<User[]> {
  const { data } = await apiClient.get<UserDTO[]>('/users')
  return data.map(mapUserFromDTO)
}

export async function createUser(userData: Omit<User, 'id' | 'createdAt'>): Promise<User> {
  const { data } = await apiClient.post<UserDTO>('/users', mapUserToDTO(userData))
  return mapUserFromDTO(data)
}

export async function updateUser(id: string, userData: Partial<User>): Promise<User> {
  const { data } = await apiClient.patch<UserDTO>(`/users/${id}`, mapUserToDTO(userData))
  return mapUserFromDTO(data)
}
```

```typescript
// entities/user/model/types.ts
export interface User {
  id: string
  email: string
  role: string
  createdAt: Date
}
```

```typescript
// entities/user/index.ts
export { getUserById, getUsers, createUser, updateUser } from './api/user-api'
export type { User } from './model/types'
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ pages

```vue
<!-- pages/users/ui/UsersPage.vue -->
<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { getUsers, type User } from 'entities/user'

const users = ref<User[]>([])
const loading = ref(false)

onMounted(async () => {
  loading.value = true
  try {
    users.value = await getUsers()
  } finally {
    loading.value = false
  }
})
</script>

<template>
  <div>
    <h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h1>
    <div v-if="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <ul v-else>
      <li v-for="user in users" :key="user.id">
        {{ user.email }} ({{ user.role }})
      </li>
    </ul>
  </div>
</template>
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ë—ã–ª–æ:**
```
pages/user-profile/api/profile-api.ts
pages/user-profile/model/types.ts
```

**–°—Ç–∞–ª–æ:**
```
entities/user/api/user-api.ts
entities/user/model/types.ts
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö:**
```typescript
// –ë—ã–ª–æ
import { getUserProfile, type UserProfile } from '../api/profile-api'

// –°—Ç–∞–ª–æ
import { getUserById, type User } from 'entities/user'
```

#### –≠–≤–æ–ª—é—Ü–∏—è –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞

**–®–∞–≥ 1: –¢–æ–ª—å–∫–æ API**
```
entities/user/
  api/user-api.ts
  model/types.ts
  index.ts
```

**–®–∞–≥ 2: –ü–æ—è–≤–∏–ª–∞—Å—å –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞**
```
entities/user/
  api/user-api.ts
  model/
    types.ts
    use-user.ts        # + –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
  index.ts
```

**–®–∞–≥ 3: –ê–≥—Ä–µ–≥–∞—Ü–∏—è**
```
entities/user/
  api/user-api.ts
  model/
    types.ts
    use-user.ts
    use-user-with-team.ts   # + –∞–≥—Ä–µ–≥–∞—Ü–∏—è
  index.ts
```

**–®–∞–≥ 4: UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
```
entities/user/
  api/user-api.ts
  model/
    types.ts
    use-user.ts
    use-user-with-team.ts
  ui/
    UserAvatar.vue          # + –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π UI
  index.ts
```

---

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ API | –î–æ–º–µ–Ω–Ω–æ–µ API |
|----------|-------------|----------------------|--------------|
| **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** | –û–¥–Ω–æ –º–µ—Å—Ç–æ | 2-5 –º–µ—Å—Ç | 3+ –º–µ—Å—Ç –∏–ª–∏ —á—ë—Ç–∫–∏–π –¥–æ–º–µ–Ω |
| **–°–∫–æ—Ä–æ—Å—Ç—å —Å—Ç–∞—Ä—Ç–∞** | ‚ö°‚ö°‚ö° | ‚ö°‚ö° | ‚ö° |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | ‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞** | N/A | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π backend** | N/A | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–õ–µ–≥–∫–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –∫–æ–¥–∞** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ü–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞** | ‚úÖ –ù–∏–∑–∫–∏–π | ‚úÖ –°—Ä–µ–¥–Ω–∏–π | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ-–≤—ã—Å–æ–∫–∏–π |
| **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è MVP** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ |
| **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑–∞** | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ | ‚úÖ –î–∞ |

---

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –ø–æ–¥—Ö–æ–¥–∞

#### –í—ã–±–∏—Ä–∞–π—Ç–µ –ü–æ–¥—Ö–æ–¥ 0 (–õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å), –µ—Å–ª–∏:

- üÜï –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ–∏—á–∞
- üìç –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚ùì –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –±—É–¥–µ—Ç –ª–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ –Ω—É–∂–Ω–∞.

#### –í—ã–±–∏—Ä–∞–π—Ç–µ –ü–æ–¥—Ö–æ–¥ –ê (shared/api), –µ—Å–ª–∏:

- üë∂ –ö–æ–º–∞–Ω–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å FSD
- üöÄ –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å MVP
- üìä –ü—Ä–æ–µ–∫—Ç –º–∞–ª–µ–Ω—å–∫–∏–π (< 10 —ç–∫—Ä–∞–Ω–æ–≤)
- üîÑ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è
- üí° –ï—â—ë –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ —É—Å—Ç–æ—è–ª–∏—Å—å

**–ü—Ä–∏–º–µ—Ä:** –°—Ç–∞—Ä—Ç–∞–ø –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞, –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è.

#### –í—ã–±–∏—Ä–∞–π—Ç–µ –ü–æ–¥—Ö–æ–¥ –ë (entities/*/api/), –µ—Å–ª–∏:

- üè¢ –ó—Ä–µ–ª–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å –æ–ø—ã—Ç–æ–º
- üèóÔ∏è –°—Ä–µ–¥–Ω–∏–π/–∫—Ä—É–ø–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- üìã –ë–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω —É–∂–µ –ø–æ–Ω—è—Ç–µ–Ω (–µ—Å—Ç—å –≥–ª–æ—Å—Å–∞—Ä–∏–π)
- üîí –í–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –æ—Ç backend
- üìö –ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∂–∏—Ç—å –¥–æ–ª–≥–æ –∏ —Ä–∞—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä:** Enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É—Å—Ç–æ—è–≤—à–∏–º–∏—Å—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

---

### –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π)

–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:

```
shared/
  api/
    client.ts
    analytics.ts        # –ù–µ —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –≤ shared

entities/
  user/                 # –£—Å—Ç–æ—è–ª–∞—Å—å ‚Äî –≤—ã–Ω–µ—Å–ª–∏
    api/
    model/
  
  product/              # –£—Å—Ç–æ—è–ª–∞—Å—å ‚Äî –≤—ã–Ω–µ—Å–ª–∏
    api/
    model/

pages/
  admin-dashboard/
    api/
      stats-api.ts      # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ
```

**–ü—Ä–∞–≤–∏–ª–æ:** –£—Å—Ç–æ—è–≤—à–∏–µ—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ ‚Üí `entities/`, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ ‚Üí –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ `shared/api`.

---

### ‚ùå –ö–æ–≥–¥–∞ –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å Entity

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Entity –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

#### 1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

```vue
<!-- ‚ùå –ù–ï –ù–£–ñ–ù–ê Entity -->
<!-- pages/admin-dashboard/ui/DashboardPage.vue -->
<script setup lang="ts">
interface DashboardStats {
  todayRevenue: number
  activeUsers: number
  conversionRate: number
}

const stats = ref<DashboardStats | null>(null)

onMounted(async () => {
  const response = await fetch('/api/dashboard/stats')
  stats.value = await response.json()
})
</script>
```

**–î–µ—Ä–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤ pages/.**

#### 2. –ü—Ä–æ—Å—Ç—ã–µ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
// ‚ùå –ù–ï –ù–£–ñ–ù–ê Entity
// shared/lib/formatters.ts
export const formatUserName = (firstName: string, lastName: string) => 
  `${firstName} ${lastName}`

export const formatDate = (date: Date) => 
  new Intl.DateTimeFormat('ru-RU').format(date)
```

**–≠—Ç–æ —É—Ç–∏–ª–∏—Ç—ã, –Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞.**

#### 3. –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ª–æ–≥–∏–∫–∏

```vue
<script setup lang="ts">
import { useQuery } from '@tanstack/vue-query'
import { getUsers } from 'shared/api'

// ‚ùå –ù–ï –ù–£–ñ–ù–ê Entity —Å model/
const { data: users, isLoading } = useQuery({
  queryKey: ['users'],
  queryFn: getUsers
})
</script>
```

**TanStack Query —É–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ API-—Ñ—É–Ω–∫—Ü–∏–∏.**

#### 4. –û–¥–∏–Ω–æ—á–Ω–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ

```typescript
// ‚ùå –ù–ï –ù–£–ñ–ù–ê Entity
// pages/profile/ui/ProfilePage.vue
const user = ref<User>(/* ... */)

const isAdmin = computed(() => user.value.role === 'admin')
```

**–û–¥–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–µ—Ä–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ.**

#### 5. UI-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏

```typescript
// ‚ùå –ù–ï Entity
interface FormState {
  email: string
  password: string
  rememberMe: boolean
}

interface ModalConfig {
  isOpen: boolean
  title: string
}
```

**–≠—Ç–æ UI-–ª–æ–≥–∏–∫–∞, –Ω–µ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏.**

---

### ‚úÖ –ö–æ–≥–¥–∞ –°–û–ó–î–ê–í–ê–¢–¨ model/ –≤ Entity

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –≥–¥–µ —É –≤–∞—Å –ª–µ–∂–∏—Ç API (`shared/api` –∏–ª–∏ `entities/*/api/`), —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ `entities/*/model/`, –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

#### 1. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–∑–Ω–∞–∫ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- –°–≤—è–∑–∏: –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –ö–æ–º–∞–Ω–¥–µ (Team)
```

**–ö–æ–¥:**
```typescript
// ‚úÖ entities/user/model/use-user-with-team.ts
import { computed } from 'vue'
import { useQuery } from '@tanstack/vue-query'
import { getUserById } from '../api/user-api'
import { getTeamById } from 'entities/team/api/team-api'

export function useUserWithTeam(userId: string) {
  const { data: user } = useQuery({
    queryKey: ['user', userId],
    queryFn: () => getUserById(userId)
  })
  
  // –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
  const { data: team } = useQuery({
    queryKey: ['team', user.value?.teamId],
    queryFn: () => getTeamById(user.value!.teamId),
    enabled: computed(() => !!user.value?.teamId)
  })
  
  const enrichedUser = computed(() => {
    if (!user.value) return null
    
    return {
      ...user.value,
      team: team.value,  // –æ–±–æ–≥–∞—â–µ–Ω–∏–µ
      isTeamLead: team.value?.leaderId === user.value.id
    }
  })
  
  return {
    user: enrichedUser,
    isLoading: computed(() => !user.value || !team.value)
  }
}
```

**–ü–æ—á–µ–º—É Entity:** –û–±—ä–µ–¥–∏–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–º–∞–Ω–¥—ã, —Å–æ–∑–¥–∞—ë–º –æ–±–æ–≥–∞—â—ë–Ω–Ω—É—é –º–æ–¥–µ–ª—å.

#### 2. –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã

**–ü—Ä–∏–∑–Ω–∞–∫ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ó–∞–∫–∞–∑ (Order)
- –°—Ç–∞—Ç—É—Å—ã: pending ‚Üí confirmed ‚Üí shipped ‚Üí delivered
- –ü—Ä–∞–≤–∏–ª–æ: –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å–µ pending/confirmed
- –ü—Ä–∞–≤–∏–ª–æ: –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π –ø–æ—Å–ª–µ delivered
```

**–ö–æ–¥:**
```typescript
// ‚úÖ entities/order/model/use-order-validation.ts
import { computed } from 'vue'
import type { Order } from './types'

export function useOrderValidation(order: Order) {
  // –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ –∏–∑ –≥–ª–æ—Å—Å–∞—Ä–∏—è
  const canBeCancelled = computed(() => {
    const cancellableStatuses = ['pending', 'confirmed']
    return cancellableStatuses.includes(order.status)
  })
  
  const canBeRefunded = computed(() => {
    if (order.status !== 'delivered') return false
    
    // –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ: 14 –¥–Ω–µ–π
    const daysSinceDelivery = 
      (Date.now() - new Date(order.deliveredAt!).getTime()) / (1000 * 60 * 60 * 24)
    
    return daysSinceDelivery <= 14
  })
  
  const canBeEdited = computed(() => {
    return order.status === 'pending' && !order.isPaid
  })
  
  return {
    canBeCancelled,
    canBeRefunded,
    canBeEdited
  }
}
```

**–ü–æ—á–µ–º—É Entity:** –°–ª–æ–∂–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

#### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏

**–ü—Ä–∏–∑–Ω–∞–∫ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- –†–æ–ª–∏: admin, moderator, viewer
- –ü–æ–¥–ø–∏—Å–∫–∏: free, basic, premium
- –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ä–æ–ª–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
```

**–ö–æ–¥:**
```typescript
// ‚úÖ entities/user/model/use-user-permissions.ts
import { computed } from 'vue'
import type { User } from './types'

export function useUserPermissions(user: User) {
  const isAdmin = computed(() => user.role === 'admin')
  
  const isModerator = computed(() => user.role === 'moderator')
  
  // –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ –∏–∑ –≥–ª–æ—Å—Å–∞—Ä–∏—è
  const canAccessAdminPanel = computed(() => {
    return isAdmin.value || 
           (isModerator.value && user.yearsOfService > 2)
  })
  
  // –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–¥–ø–∏—Å–∫–∏
  const maxUploadSize = computed(() => {
    if (user.subscription === 'premium') return 100_000_000 // 100 MB
    if (user.subscription === 'basic') return 10_000_000    // 10 MB
    return 1_000_000                                         // 1 MB
  })
  
  const canEditPosts = computed(() => {
    return canAccessAdminPanel.value || 
           user.permissions.includes('edit_posts')
  })
  
  const canDeletePosts = computed(() => {
    return isAdmin.value || 
           (isModerator.value && user.department === 'content')
  })
  
  const canUploadFile = (fileSize: number) => {
    return fileSize <= maxUploadSize.value
  }
  
  return {
    isAdmin,
    isModerator,
    canAccessAdminPanel,
    canEditPosts,
    canDeletePosts,
    maxUploadSize,
    canUploadFile,
  }
}
```

**–ü–æ—á–µ–º—É Entity:** –°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª, –Ω–µ –ø—Ä–æ—Å—Ç–æ "–æ–¥–Ω–æ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ".

#### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

**–ü—Ä–∏–∑–Ω–∞–∫ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω –ø–æ –æ—Ç–¥–µ–ª–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–∞–∂–Ω–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞
```

**–ö–æ–¥:**
```typescript
// ‚úÖ entities/user/model/use-users-list.ts
import { computed } from 'vue'
import { useQuery } from '@tanstack/vue-query'
import { getUsers } from '../api/user-api'
import { getTeams } from 'entities/team/api/team-api'

export function useUsersList() {
  const { data: users } = useQuery({
    queryKey: ['users'],
    queryFn: getUsers
  })
  
  const { data: teams } = useQuery({
    queryKey: ['teams'],
    queryFn: getTeams
  })
  
  // –ê–≥—Ä–µ–≥–∞—Ü–∏—è: –æ–±–æ–≥–∞—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–∞–Ω–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥
  const usersWithTeams = computed(() => {
    if (!users.value || !teams.value) return []
    
    const teamsMap = Object.fromEntries(
      teams.value.map(team => [team.id, team])
    )
    
    return users.value.map(user => ({
      ...user,
      team: teamsMap[user.teamId],
      isTeamLead: teamsMap[user.teamId]?.leaderId === user.id
    }))
  })
  
  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  const activeUsers = computed(() => 
    usersWithTeams.value.filter(user => user.status === 'active')
  )
  
  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
  const usersByDepartment = computed(() => {
    const groups: Record<string, typeof usersWithTeams.value> = {}
    
    usersWithTeams.value.forEach(user => {
      const dept = user.team?.department || 'unassigned'
      if (!groups[dept]) groups[dept] = []
      groups[dept].push(user)
    })
    
    return groups
  })
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  const stats = computed(() => ({
    total: users.value?.length || 0,
    active: activeUsers.value.length,
    admins: activeUsers.value.filter(u => u.role === 'admin').length,
    departments: Object.keys(usersByDepartment.value).length
  }))
  
  return {
    users: usersWithTeams,
    activeUsers,
    usersByDepartment,
    stats
  }
}
```

**–ü–æ—á–µ–º—É Entity:** –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

#### 5. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–ü—Ä–∏–∑–Ω–∞–∫ –∏–∑ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏—è:**
```markdown
## –ü–æ–¥–ø–∏—Å–∫–∞ (Subscription)
- –°—Ç–∞—Ç—É—Å—ã: trial ‚Üí active ‚Üí past_due ‚Üí cancelled
- –ü—Ä–∞–≤–∏–ª–æ: –∏–∑ trial –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ active –∏–ª–∏ cancelled
- –ü—Ä–∞–≤–∏–ª–æ: –∏–∑ past_due –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ active (–æ–ø–ª–∞—Ç–∞) –∏–ª–∏ cancelled
```

**–ö–æ–¥:**
```typescript
// ‚úÖ entities/subscription/model/use-subscription-lifecycle.ts
import { computed } from 'vue'
import type { Subscription } from './types'

export function useSubscriptionLifecycle(subscription: Subscription) {
  const canActivate = computed(() => {
    // –ú–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–∑ trial –∏–ª–∏ past_due
    return ['trial', 'past_due'].includes(subscription.status)
  })
  
  const canCancel = computed(() => {
    // –ò–∑ –ª—é–±–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –∫—Ä–æ–º–µ —É–∂–µ cancelled
    return subscription.status !== 'cancelled'
  })
  
  const isInGracePeriod = computed(() => {
    if (subscription.status !== 'past_due') return false
    
    const daysPastDue = 
      (Date.now() - new Date(subscription.dueDate).getTime()) / (1000 * 60 * 60 * 24)
    
    return daysPastDue <= 7  // 7 –¥–Ω–µ–π grace period
  })
  
  const nextPossibleStatuses = computed(() => {
    const transitions: Record<string, string[]> = {
      trial: ['active', 'cancelled'],
      active: ['past_due', 'cancelled'],
      past_due: ['active', 'cancelled'],
      cancelled: []
    }
    
    return transitions[subscription.status] || []
  })
  
  return {
    canActivate,
    canCancel,
    isInGracePeriod,
    nextPossibleStatuses
  }
}
```

**–ü–æ—á–µ–º—É Entity:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.

---

### –°–∏–Ω—Ç–µ–∑: –æ—Ç –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑–∞ –∫ –∫–æ–¥—É

#### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: User

**–®–∞–≥ 1: –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑**

```markdown
# –ë–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** email, id
- **–†–æ–ª–∏:** admin, manager, viewer
- **–ü–æ–¥–ø–∏—Å–∫–∏:** free, premium
- **–°–≤—è–∑–∏:** –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç Team, —Å–æ–∑–¥–∞—ë—Ç Orders
- **–ü—Ä–∞–≤–∏–ª–∞:**
  - –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—Å—ë
  - –ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ > 2 –ª–µ—Ç –æ–ø—ã—Ç–∞
  - Premium-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –±–æ–ª—å—à–∏–π –ª–∏–º–∏—Ç –∑–∞–≥—Ä—É–∑–æ–∫
```

**–®–∞–≥ 2: –ü–µ—Ä–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ª–æ–∫–∞–ª—å–Ω–æ)**

```
// –î–µ–Ω—å 1: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
pages/registration/
  api/
    registration-api.ts   # —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  model/
    types.ts              # –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
    validation.ts         # –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
  ui/
    RegistrationForm.vue
```

**–®–∞–≥ 3: –í—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Üí –≤—ã–Ω–æ—Å API**

```
// –î–µ–Ω—å 7: User –Ω—É–∂–µ–Ω –≤ pages/profile/

// –ü–æ–¥—Ö–æ–¥ –ê: shared/api
shared/api/user.ts

// –ò–õ–ò

// –ü–æ–¥—Ö–æ–¥ –ë: entities/user/api/
entities/user/
  api/user-api.ts
  model/types.ts
  index.ts
```

**–®–∞–≥ 4: –ü–æ—è–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ model/**

```
// –î–µ–Ω—å 30: –ù—É–∂–Ω—ã permissions, –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Å Team

entities/user/
  api/
    user-api.ts
  model/
    types.ts
    use-user-permissions.ts    # –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –≥–ª–æ—Å—Å–∞—Ä–∏—è
    use-user-with-team.ts      # –∞–≥—Ä–µ–≥–∞—Ü–∏—è
  index.ts
```

**–®–∞–≥ 5: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π UI ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ui/**

```
// –î–µ–Ω—å 60: UserAvatar –Ω—É–∂–µ–Ω –≤ 5 –º–µ—Å—Ç–∞—Ö

entities/user/
  api/
    user-api.ts
  model/
    types.ts
    use-user-permissions.ts
    use-user-with-team.ts
  ui/
    UserAvatar.vue            # –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    UserBadge.vue
  index.ts
```

---

### –û–±—â–µ–Ω–∏–µ —Å –±–∏–∑–Ω–µ—Å–æ–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π** –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ –µ–≥–æ** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ—Å—å —Å –±–∏–∑–Ω–µ—Å–æ–º** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Ç–µ—Ä–º–∏–Ω—ã
4. **–ù–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ–¥ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ** ‚Äî –≥–ª–æ—Å—Å–∞—Ä–∏–π ‚â† —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

**–•–æ—Ä–æ—à–∏–π –ø—Ä–æ—Ü–µ—Å—Å:**

```
1. –ù–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ—Ç –±–∏–∑–Ω–µ—Å–∞
   ‚Üì
2. –û–±–Ω–æ–≤–∏—Ç–µ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π
   (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–æ)
   ‚Üì
3. –ù–∞—á–Ω–∏—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ (pages/)
   ‚Üì
4. –ü—Ä–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ‚Äî –≤—ã–Ω–µ—Å–∏—Ç–µ API
   ‚Üì
5. –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ model/
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏:**

```
–ë–∏–∑–Ω–µ—Å: "–ù–∞–º –Ω—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–∫–∞–∑—ã"

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:
1. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–π:
   ## –ó–∞–∫–∞–∑ (Order)
   - –ü—Ä–∞–≤–∏–ª–æ: –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω—ë–Ω –≤ —Å—Ç–∞—Ç—É—Å–µ pending/confirmed
   
2. –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç:
   - –í –∫–∞–∫–∏—Ö —Å—Ç–∞—Ç—É—Å–∞—Ö –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å?
   - –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏?
   - –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –æ–ø–ª–∞—Ç–æ–π –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ?
   
3. –û–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ—Å—Å–∞—Ä–∏–π —Å –æ—Ç–≤–µ—Ç–∞–º–∏

4. –ù–∞—á–∏–Ω–∞–µ—Ç —Å pages/order-details/
   (–Ω–µ —Å–æ–∑–¥–∞—ë—Ç entities/order/ —Å—Ä–∞–∑—É)

5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—ë—Ç
   entities/order/model/use-order-cancellation.ts
```

**–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω:**

```
‚ùå –ë–∏–∑–Ω–µ—Å: "–ù—É–∂–Ω–∞ –æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–æ–≤"
‚ùå –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: –°—Ä–∞–∑—É —Å–æ–∑–¥–∞—ë—Ç entities/order/ —Å–æ –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç: –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**

```
‚úÖ –ë–∏–∑–Ω–µ—Å: "–ù—É–∂–Ω–∞ –æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–æ–≤"
‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: 
   1. –û–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ—Å—Å–∞—Ä–∏–π
   2. –ù–∞—á–∏–Ω–∞–µ—Ç —Å pages/order-details/
   3. –í—ã–Ω–æ—Å–∏—Ç –≤ entities/ –ø—Ä–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```

---

### –ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ

```
1. –ò–∑—É—á–∏—Ç–µ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω
   ‚Üí –°–æ–∑–¥–∞–π—Ç–µ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π (–¥–æ–∫—É–º–µ–Ω—Ç)
   
2. –ù–∞—á–Ω–∏—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
   ‚Üí pages/ –∏–ª–∏ features/ (–∫–æ–¥)
   
3. –ü—Ä–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
   ‚Üí shared/api –ò–õ–ò entities/*/api/ (–≤—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã)
   
4. –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏
   ‚Üí entities/*/model/ (–∞–≥—Ä–µ–≥–∞—Ü–∏—è –∏–ª–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞)
   
5. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥ —Å –±–∏–∑–Ω–µ—Å–æ–º
   ‚Üí –û–±–Ω–æ–≤–ª—è–π—Ç–µ –≥–ª–æ—Å—Å–∞—Ä–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- ‚úÖ **–ü–æ–Ω–∏–º–∞–π—Ç–µ –±–∏–∑–Ω–µ—Å** ‚Äî —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –≥–ª–æ—Å—Å–∞—Ä–∏–π
- ‚úÖ **–ù–∞—á–∏–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ** ‚Äî —ç—Ç–æ –Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
- ‚úÖ **–í—ã–Ω–æ—Å–∏—Ç–µ –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω–æ** ‚Äî –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω—ã** ‚Äî –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –º–æ–¥—É–ª–µ–π
- ‚ùå **–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞—Ä–∞–Ω–µ–µ** ‚Äî –≥–ª–æ—Å—Å–∞—Ä–∏–π ‚â† –∫–æ–¥
- ‚úÖ **–û–±—â–∞–π—Ç–µ—Å—å —Å –±–∏–∑–Ω–µ—Å–æ–º** ‚Äî –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è** ‚Äî –ø–æ—á–µ–º—É —Å–æ–∑–¥–∞–ª–∏/–Ω–µ —Å–æ–∑–¥–∞–ª–∏ Entity

---

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —á–µ–∫–ª–∏—Å—Ç

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º –æ–±—ä–µ–∫—Ç–æ–º –∑–∞–¥–∞–π—Ç–µ —Å–µ–±–µ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã:

**1. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞**
- ‚ùì –≠—Ç–æ –±–∏–∑–Ω–µ—Å-—Ç–µ—Ä–º–∏–Ω –∏–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω?
- ‚ùì –ï—Å—Ç—å –ª–∏ –≤ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–∏?
- ‚ùì –ö–∞–∫ –±–∏–∑–Ω–µ—Å –Ω–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç?

**2. –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
- ‚ùì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ? ‚Üí –î–µ—Ä–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚ùì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 2+ –º–µ—Å—Ç–∞—Ö? ‚Üí –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –ø.3

**3. –í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞ –¥–ª—è API**
- ‚ùì –ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —É –∫–æ–º–∞–Ω–¥—ã? (–ê –∏–ª–∏ –ë)
- ‚ùì –ù—É–∂–Ω–∞ –ª–∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π backend? ‚Üí –ü–æ–¥—Ö–æ–¥ –ë
- ‚ùì –í–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏? ‚Üí –ü–æ–¥—Ö–æ–¥ –ê

**4. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å model/**
- ‚ùì –ï—Å—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö? ‚Üí –°–æ–∑–¥–∞–≤–∞–π—Ç–µ model/
- ‚ùì –ï—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞/–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã? ‚Üí –°–æ–∑–¥–∞–≤–∞–π—Ç–µ model/
- ‚ùì –¢–æ–ª—å–∫–æ —Ç–∏–ø—ã –∏ CRUD? ‚Üí –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ api/

**5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚ùì –û–±–Ω–æ–≤–∏–ª–∏ –±–∏–∑–Ω–µ—Å-–≥–ª–æ—Å—Å–∞—Ä–∏–π?
- ‚ùì –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ?