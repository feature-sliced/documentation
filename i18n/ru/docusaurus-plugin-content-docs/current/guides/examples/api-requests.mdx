---
sidebar_position: 4
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# –û–±—Ä–∞–±–æ—Ç–∫–∞ API-–∑–∞–ø—Ä–æ—Å–æ–≤ {#handling-api-requests}

## API-–∑–∞–ø—Ä–æ—Å—ã –≤ `shared` {#shared-api-requests}

–ù–∞—á–Ω–∏—Ç–µ —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏ API-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `shared/api`. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É. –î–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–¢–∏–ø–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç —Ç–∞–∫–æ–π:
- üìÇ shared
    - üìÇ api
        - üìÑ client.ts
        - üìÑ index.ts
        - üìÇ endpoints
            - üìÑ login.ts

–§–∞–π–ª `client.ts` —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –û–Ω –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞–º–∏ –ø–æ–¥—Ö–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `fetch()` –∏–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä `axios`) –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—â–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:

- –ë–∞–∑–æ–≤—ã–π URL –±—ç–∫–µ–Ω–¥–∞.
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏).
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è `axios` –∏ `fetch`:

<Tabs>

<TabItem value="axios" label="Axios">
```ts title="shared/api/client.ts"
// Example using axios
import axios from 'axios';

export const client = axios.create({
  baseURL: 'https://your-api-domain.com/api/',
  timeout: 5000,
  headers: { 'X-Custom-Header': 'my-custom-value' }
});
```
</TabItem>

<TabItem value="fetch" label="Fetch">
```ts title="shared/api/client.ts"
export const client = {
  async post(endpoint: string, body: any, options?: RequestInit) {
    const response = await fetch(`https://your-api-domain.com/api${endpoint}`, {
      method: 'POST',
      body: JSON.stringify(body),
      ...options,
      headers: {
        'Content-Type': 'application/json',
        'X-Custom-Header': 'my-custom-value',
        ...options?.headers,
      },
    });
    return response.json();
  }
  // ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã put, delete, –∏ —Ç.–¥.
};
```
</TabItem>

</Tabs>

–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å–≤–æ–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ API-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ shared/api/endpoints, –≥—Ä—É–ø–ø–∏—Ä—É—è –∏—Ö –ø–æ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.

:::note

–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –Ω–∏–∂–µ –º—ã –æ–ø—É—Å–∫–∞–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ñ–æ—Ä–º–∞–º–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–∞–∫–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –∫–∞–∫ Zod –∏–ª–∏ Valibot, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å—Ç–∞—Ç—å–µ [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ —Å—Ö–µ–º—ã](/docs/guides/examples/types#type-validation-schemas-and-zod).

:::

```ts title="shared/api/endpoints/login.ts"
import { client } from '../client';

export interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `index.ts` –≤ `shared/api` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∑–∞–ø—Ä–æ—Å–æ–≤.

```ts title="shared/api/index.ts"
export { client } from './client'; // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
export { login } from './endpoints/login';
export type { LoginCredentials } from './endpoints/login';
```

## API-–∑–∞–ø—Ä–æ—Å—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Å–ª–∞–π—Å–∞ {#slice-specific-api-requests}

–ï—Å–ª–∏ API-–∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Å–ª–∞–π—Å–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–µ–π) –∏ –Ω–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ, –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ —Å–µ–≥–º–µ–Ω—Ç api —ç—Ç–æ–≥–æ —Å–ª–∞–π—Å–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –¥–ª—è —Å–ª–∞–π—Å–∞.

- üìÇ pages
    - üìÇ login
        - üìÑ index.ts
        - üìÇ api
            - üìÑ login.ts
        - üìÇ ui
            - üìÑ LoginPage.tsx

```ts title="pages/login/api/login.ts"
import { client } from 'shared/api';

interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

–í–∞–º –Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `login()` —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –∫–∞–∫–æ–µ-–ª–∏–±–æ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±—É–¥–µ—Ç –Ω—É–∂–¥–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ.

:::note

–ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ API –∏ —Ç–∏–ø–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Å–ª–æ–µ `entities`. –û—Ç–≤–µ—Ç—ã –±—ç–∫–µ–Ω–¥–∞ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –≤–∞—à–∏–º —Å—É—â–Ω–æ—Å—Ç—è–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –õ–æ–≥–∏–∫–∞ API –≤ `shared/api` –∏–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–µ `api` —Å–ª–∞–π—Å–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Å–æ—Ö—Ä–∞–Ω—è—è —Ñ–æ–∫—É—Å —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

:::

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ {#client-generators}

–ï—Å–ª–∏ –≤–∞—à –±—ç–∫–µ–Ω–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞–∫ [orval](https://orval.dev/) –∏–ª–∏ [openapi-typescript](https://openapi-ts.dev/), –º–æ–≥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã API –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `shared/api/openapi`. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ `README.md` –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ —ç—Ç–æ –∑–∞ —Ç–∏–ø—ã –∏ –∫–∞–∫ –∏—Ö –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ {#server-state-libraries}

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ [TanStack Query (React Query)](https://tanstack.com/query/latest) –∏–ª–∏ [Pinia Colada](https://pinia-colada.esm.dev/) –≤–∞–º –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏–ª–∏ –∫–ª—é—á–µ–π –∫–µ—à–∞ –º–µ–∂–¥—É —Å—Ä–µ–∑–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—â–∏–π —Å–ª–æ–π `shared` –¥–ª—è —Ç–∞–∫–∏—Ö –≤–µ—â–µ–π, –∫–∞–∫:

- –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö API
- –ö–ª—é—á–∏ –∫–µ—à–∞
- –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –º—É—Ç–∞—Ü–∏–π
