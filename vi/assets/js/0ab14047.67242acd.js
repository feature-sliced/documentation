"use strict";(self.webpackChunk_feature_sliced_documentation=self.webpackChunk_feature_sliced_documentation||[]).push([["6275"],{611:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>s,toc:()=>l,default:()=>h,metadata:()=>r,assets:()=>o,contentTitle:()=>c});var r=JSON.parse('{"id":"get-started/tutorial","title":"Tutorial","description":"Ph\u1EA7n 1. Tr\xean gi\u1EA5y","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/get-started/tutorial.md","sourceDirName":"get-started","slug":"/get-started/tutorial","permalink":"/documentation/vi/docs/get-started/tutorial","draft":false,"unlisted":false,"editUrl":"https://github.com/feature-sliced/documentation/edit/master/i18n/vi/docusaurus-plugin-content-docs/current/get-started/tutorial.md","tags":[],"version":"current","lastUpdatedAt":1768250120000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"T\u1ED5ng quan","permalink":"/documentation/vi/docs/get-started/overview"},"next":{"title":"FAQ","permalink":"/documentation/vi/docs/get-started/faq"}}'),a=t(5813),i=t(6436);let s={sidebar_position:2},c="Tutorial",o={},l=[{value:"Ph\u1EA7n 1. Tr\xean gi\u1EA5y",id:"ph\u1EA7n-1-tr\xean-gi\u1EA5y",level:2},{value:"B\u1EAFt \u0111\u1EA7u b\u1EB1ng vi\u1EC7c li\u1EC7t k\xea c\xe1c trang",id:"b\u1EAFt-\u0111\u1EA7u-b\u1EB1ng-vi\u1EC7c-li\u1EC7t-k\xea-c\xe1c-trang",level:3},{value:"Nh\xecn k\u1EF9 h\u01A1n v\xe0o feed",id:"nh\xecn-k\u1EF9-h\u01A1n-v\xe0o-feed",level:3},{value:"Danh s\xe1ch c\xe1c tag",id:"danh-s\xe1ch-c\xe1c-tag",level:4},{value:"C\xe1c article",id:"c\xe1c-article",level:4},{value:"T\xe1i s\u1EED d\u1EE5ng code chung",id:"t\xe1i-s\u1EED-d\u1EE5ng-code-chung",level:3},{value:"\u0110\u1ECBnh ngh\u0129a public API nghi\xeam ng\u1EB7t",id:"\u0111\u1ECBnh-ngh\u0129a-public-api-nghi\xeam-ng\u1EB7t",level:3},{value:"Kh\u1ED1i UI l\u1EDBn \u0111\u01B0\u1EE3c t\xe1i s\u1EED d\u1EE5ng",id:"kh\u1ED1i-ui-l\u1EDBn-\u0111\u01B0\u1EE3c-t\xe1i-s\u1EED-d\u1EE5ng",level:3},{value:"Nh\xecn k\u1EF9 v\xe0o trang c\xf3 form",id:"nh\xecn-k\u1EF9-v\xe0o-trang-c\xf3-form",level:3},{value:"T\xf3m t\u1EAFt",id:"t\xf3m-t\u1EAFt",level:3},{value:"Ph\u1EA7n 2. Trong code",id:"ph\u1EA7n-2-trong-code",level:2},{value:"B\u1ED1 tr\xed c\xe1c trang",id:"b\u1ED1-tr\xed-c\xe1c-trang",level:3},{value:"K\u1EBFt n\u1ED1i trang feed",id:"k\u1EBFt-n\u1ED1i-trang-feed",level:3},{value:"API client",id:"api-client",level:3},{value:"D\u1EEF li\u1EC7u th\u1EF1c trong feed",id:"d\u1EEF-li\u1EC7u-th\u1EF1c-trong-feed",level:3},{value:"L\u1ECDc theo tag",id:"l\u1ECDc-theo-tag",level:3},{value:"Ph\xe2n trang",id:"ph\xe2n-trang",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Header",id:"header",level:3},{value:"Tab",id:"tab",level:3},{value:"Tr\xecnh \u0111\u1ECDc article",id:"tr\xecnh-\u0111\u1ECDc-article",level:3},{value:"Tr\xecnh ch\u1EC9nh s\u1EEDa article",id:"tr\xecnh-ch\u1EC9nh-s\u1EEDa-article",level:3}];function d(n){let e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"tutorial",children:"Tutorial"})}),"\n",(0,a.jsx)(e.h2,{id:"ph\u1EA7n-1-tr\xean-gi\u1EA5y",children:"Ph\u1EA7n 1. Tr\xean gi\u1EA5y"}),"\n",(0,a.jsxs)(e.p,{children:["Tutorial n\xe0y s\u1EBD xem x\xe9t m\u1ED9t app th\u1EF1c t\u1EBF, c\xf2n \u0111\u01B0\u1EE3c bi\u1EBFt \u0111\u1EBFn v\u1EDBi t\xean Conduit. Conduit l\xe0 m\u1ED9t b\u1EA3n clone c\u01A1 b\u1EA3n c\u1EE7a ",(0,a.jsx)(e.a,{href:"https://medium.com/",children:"Medium"})," \u2014 n\xf3 cho ph\xe9p b\u1EA1n \u0111\u1ECDc v\xe0 vi\u1EBFt b\xe0i, c\u0169ng nh\u01B0 b\xecnh lu\u1EADn tr\xean c\xe1c b\xe0i vi\u1EBFt c\u1EE7a ng\u01B0\u1EDDi kh\xe1c."]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"Conduit home page",src:t(6549).A+"",width:"2880",height:"1504"})}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\xe2y l\xe0 m\u1ED9t \u1EE9ng d\u1EE5ng kh\xe1 nh\u1ECF, v\xec v\u1EADy ch\xfang ta s\u1EBD gi\u1EEF n\xf3 \u0111\u01A1n gi\u1EA3n v\xe0 tr\xe1nh ph\xe2n t\xe1ch qu\xe1 m\u1EE9c. R\u1EA5t c\xf3 th\u1EC3 to\xe0n b\u1ED9 \u1EE9ng d\u1EE5ng s\u1EBD ch\u1EC9 c\u1EA7n ba layer: ",(0,a.jsx)(e.strong,{children:"App"}),", ",(0,a.jsx)(e.strong,{children:"Pages"}),", v\xe0 ",(0,a.jsx)(e.strong,{children:"Shared"}),". N\u1EBFu kh\xf4ng, ch\xfang ta s\u1EBD gi\u1EDBi thi\u1EC7u th\xeam c\xe1c layer khi c\u1EA7n. S\u1EB5n s\xe0ng ch\u01B0a?"]}),"\n",(0,a.jsx)(e.h3,{id:"b\u1EAFt-\u0111\u1EA7u-b\u1EB1ng-vi\u1EC7c-li\u1EC7t-k\xea-c\xe1c-trang",children:"B\u1EAFt \u0111\u1EA7u b\u1EB1ng vi\u1EC7c li\u1EC7t k\xea c\xe1c trang"}),"\n",(0,a.jsx)(e.p,{children:"N\u1EBFu nh\xecn v\xe0o \u1EA3nh ch\u1EE5p m\xe0n h\xecnh \u1EDF tr\xean, ch\xfang ta c\xf3 th\u1EC3 gi\u1EA3 \u0111\u1ECBnh \xedt nh\u1EA5t nh\u1EEFng trang sau:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Trang ch\u1EE7 (article feed)"}),"\n",(0,a.jsx)(e.li,{children:"\u0110\u0103ng nh\u1EADp v\xe0 \u0111\u0103ng k\xfd"}),"\n",(0,a.jsx)(e.li,{children:"\u0110\u1ECDc article"}),"\n",(0,a.jsx)(e.li,{children:"Ch\u1EC9nh s\u1EEDa article"}),"\n",(0,a.jsx)(e.li,{children:"Xem profile ng\u01B0\u1EDDi d\xf9ng"}),"\n",(0,a.jsx)(e.li,{children:"Ch\u1EC9nh s\u1EEDa profile ng\u01B0\u1EDDi d\xf9ng (user settings)"}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["M\u1ED7i trang n\xe0y s\u1EBD tr\u1EDF th\xe0nh m\u1ED9t ",(0,a.jsx)(e.em,{children:"slice"})," ri\xeang tr\xean ",(0,a.jsx)(e.em,{children:"layer"})," Pages. H\xe3y nh\u1EDB l\u1EA1i t\u1EEB ph\u1EA7n t\u1ED5ng quan r\u1EB1ng slice ch\u1EC9 \u0111\u01A1n gi\u1EA3n l\xe0 c\xe1c folder b\xean trong layer, v\xe0 layer ch\u1EC9 \u0111\u01A1n gi\u1EA3n l\xe0 c\xe1c folder c\xf3 t\xean \u0111\u1ECBnh s\u1EB5n nh\u01B0 ",(0,a.jsx)(e.code,{children:"pages"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"Nh\u01B0 v\u1EADy, folder Pages c\u1EE7a ch\xfang ta s\u1EBD tr\xf4ng nh\u01B0 th\u1EBF n\xe0y:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"\u{1F4C2} pages/\n  \u{1F4C1} feed/\n  \u{1F4C1} sign-in/\n  \u{1F4C1} article-read/\n  \u{1F4C1} article-edit/\n  \u{1F4C1} profile/\n  \u{1F4C1} settings/\n"})}),"\n",(0,a.jsxs)(e.p,{children:["S\u1EF1 kh\xe1c bi\u1EC7t ch\xednh c\u1EE7a Feature-Sliced Design so v\u1EDBi c\u1EA5u tr\xfac code kh\xf4ng \u0111\u01B0\u1EE3c quy \u0111\u1ECBnh l\xe0 c\xe1c pages kh\xf4ng th\u1EC3 tham chi\u1EBFu l\u1EABn nhau. Ngh\u0129a l\xe0, m\u1ED9t page kh\xf4ng th\u1EC3 import code t\u1EEB trang kh\xe1c. \u0110i\u1EC1u n\xe0y l\xe0 do ",(0,a.jsx)(e.strong,{children:"quy t\u1EAFc import tr\xean c\xe1c layer"}),":"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:"M\u1ED9t module (file) trong m\u1ED9t slice ch\u1EC9 c\xf3 th\u1EC3 import c\xe1c slice kh\xe1c khi ch\xfang n\u1EB1m tr\xean c\xe1c layer \u1EDF b\xean d\u01B0\u1EDBi."})}),"\n",(0,a.jsx)(e.p,{children:"Trong tr\u01B0\u1EDDng h\u1EE3p n\xe0y, m\u1ED9t trang l\xe0 m\u1ED9t slice, v\xec v\u1EADy c\xe1c module (file) b\xean trong trang n\xe0y ch\u1EC9 c\xf3 th\u1EC3 tham chi\u1EBFu code t\u1EEB c\xe1c layer b\xean d\u01B0\u1EDBi, kh\xf4ng ph\u1EA3i t\u1EEB c\xf9ng layer Pages."}),"\n",(0,a.jsx)(e.h3,{id:"nh\xecn-k\u1EF9-h\u01A1n-v\xe0o-feed",children:"Nh\xecn k\u1EF9 h\u01A1n v\xe0o feed"}),"\n",(0,a.jsxs)("figure",{children:[(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"Anonymous user&#39;s perspective",src:t(6549).A+"",width:"2880",height:"1504"})}),(0,a.jsx)("figcaption",{children:(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:"T\u1EEB g\xf3c nh\xecn c\u1EE7a ng\u01B0\u1EDDi d\xf9ng \u1EA9n danh"})})})]}),"\n",(0,a.jsxs)("figure",{children:[(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"Authenticated user&#39;s perspective",src:t(4919).A+"",width:"2880",height:"1504"})}),(0,a.jsx)("figcaption",{children:(0,a.jsx)(e.p,{children:(0,a.jsx)(e.em,{children:"T\u1EEB g\xf3c nh\xecn c\u1EE7a ng\u01B0\u1EDDi d\xf9ng \u0111\xe3 x\xe1c th\u1EF1c"})})})]}),"\n",(0,a.jsx)(e.p,{children:"C\xf3 ba khu v\u1EF1c \u0111\u1ED9ng tr\xean trang feed:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:"C\xe1c link \u0111\u0103ng nh\u1EADp v\u1EDBi th\xf4ng b\xe1o n\u1EBFu b\u1EA1n \u0111\xe3 \u0111\u0103ng nh\u1EADp"}),"\n",(0,a.jsx)(e.li,{children:"Danh s\xe1ch c\xe1c tag k\xedch ho\u1EA1t vi\u1EC7c l\u1ECDc trong feed"}),"\n",(0,a.jsx)(e.li,{children:"M\u1ED9t/hai feed c\u1EE7a c\xe1c article, m\u1ED7i article c\xf3 n\xfat like"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"C\xe1c link \u0111\u0103ng nh\u1EADp l\xe0 m\u1ED9t ph\u1EA7n c\u1EE7a header chung cho t\u1EA5t c\u1EA3 c\xe1c trang, ch\xfang ta s\u1EBD xem x\xe9t n\xf3 ri\xeang."}),"\n",(0,a.jsx)(e.h4,{id:"danh-s\xe1ch-c\xe1c-tag",children:"Danh s\xe1ch c\xe1c tag"}),"\n",(0,a.jsxs)(e.p,{children:['\u0110\u1EC3 x\xe2y d\u1EF1ng danh s\xe1ch c\xe1c tag, ch\xfang ta c\u1EA7n l\u1EA5y c\xe1c tag c\xf3 s\u1EB5n, render m\u1ED7i tag d\u01B0\u1EDBi d\u1EA1ng chip, v\xe0 l\u01B0u tr\u1EEF c\xe1c tag \u0111\xe3 ch\u1ECDn trong client-side storage. Nh\u1EEFng thao t\xe1c n\xe0y thu\u1ED9c c\xe1c danh m\u1EE5c "t\u01B0\u01A1ng t\xe1c API", "giao di\u1EC7n ng\u01B0\u1EDDi d\xf9ng", v\xe0 "l\u01B0u tr\u1EEF". Trong Feature-Sliced Design, code \u0111\u01B0\u1EE3c ph\xe2n t\xe1ch theo m\u1EE5c \u0111\xedch s\u1EED d\u1EE5ng ',(0,a.jsx)(e.em,{children:"segment"}),". Segment l\xe0 c\xe1c folder trong slice, v\xe0 ch\xfang c\xf3 th\u1EC3 c\xf3 t\xean t\xf9y \xfd \u0111\u1EC3 m\xf4 t\u1EA3 m\u1EE5c \u0111\xedch, nh\u01B0ng m\u1ED9t s\u1ED1 m\u1EE5c \u0111\xedch r\u1EA5t ph\u1ED5 bi\u1EBFn n\xean c\xf3 quy \u01B0\u1EDBc cho m\u1ED9t s\u1ED1 t\xean segment nh\u1EA5t \u0111\u1ECBnh:"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"api/"})," cho c\xe1c t\u01B0\u01A1ng t\xe1c backend"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"ui/"})," cho code x\u1EED l\xfd rendering v\xe0 giao di\u1EC7n"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"model/"})," cho storage v\xe0 business logic"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"config/"})," cho feature flag, bi\u1EBFn m\xf4i tr\u01B0\u1EDDng v\xe0 c\xe1c h\xecnh th\u1EE9c c\u1EA5u h\xecnh kh\xe1c"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["Ch\xfang ta s\u1EBD \u0111\u1EB7t code l\u1EA5y tag v\xe0o ",(0,a.jsx)(e.code,{children:"api"}),", component tag v\xe0o ",(0,a.jsx)(e.code,{children:"ui"}),", v\xe0 t\u01B0\u01A1ng t\xe1c storage v\xe0o ",(0,a.jsx)(e.code,{children:"model"}),"."]}),"\n",(0,a.jsx)(e.h4,{id:"c\xe1c-article",children:"C\xe1c article"}),"\n",(0,a.jsx)(e.p,{children:"S\u1EED d\u1EE5ng c\xf9ng nguy\xean t\u1EAFc nh\xf3m, ch\xfang ta c\xf3 th\u1EC3 ph\xe2n t\xe1ch feed c\u1EE7a c\xe1c article th\xe0nh ba segment t\u01B0\u01A1ng t\u1EF1:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"api/"}),": l\u1EA5y c\xe1c article \u0111\u01B0\u1EE3c ph\xe2n trang v\u1EDBi s\u1ED1 l\u01B0\u1EE3ng like; th\xedch m\u1ED9t article"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"ui/"}),":","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"danh s\xe1ch tab c\xf3 th\u1EC3 render th\xeam tab n\u1EBFu c\xf3 tag \u0111\u01B0\u1EE3c ch\u1ECDn"}),"\n",(0,a.jsx)(e.li,{children:"article ri\xeang l\u1EBB"}),"\n",(0,a.jsx)(e.li,{children:"ph\xe2n trang ch\u1EE9c n\u0103ng"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"model/"}),": client-side storage c\u1EE7a c\xe1c article hi\u1EC7n t\u1EA1i \u0111\u01B0\u1EE3c t\u1EA3i v\xe0 trang hi\u1EC7n t\u1EA1i (n\u1EBFu c\u1EA7n)"]}),"\n"]}),"\n",(0,a.jsx)(e.h3,{id:"t\xe1i-s\u1EED-d\u1EE5ng-code-chung",children:"T\xe1i s\u1EED d\u1EE5ng code chung"}),"\n",(0,a.jsxs)(e.p,{children:["H\u1EA7u h\u1EBFt c\xe1c trang c\xf3 \xfd \u0111\u1ECBnh r\u1EA5t kh\xe1c nhau, nh\u01B0ng m\u1ED9t s\u1ED1 th\u1EE9 nh\u1EA5t \u0111\u1ECBnh v\u1EABn gi\u1EEF nguy\xean trong to\xe0n b\u1ED9 app \u2014 v\xed d\u1EE5, UI kit tu\xe2n th\u1EE7 design language, ho\u1EB7c quy \u01B0\u1EDBc tr\xean backend r\u1EB1ng m\u1ECDi th\u1EE9 \u0111\u01B0\u1EE3c th\u1EF1c hi\u1EC7n b\u1EB1ng REST API v\u1EDBi c\xf9ng ph\u01B0\u01A1ng th\u1EE9c x\xe1c th\u1EF1c. V\xec c\xe1c slice \u0111\u01B0\u1EE3c thi\u1EBFt k\u1EBF \u0111\u1EC3 t\xe1ch bi\u1EC7t, vi\u1EC7c t\xe1i s\u1EED d\u1EE5ng code \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3 b\u1EDFi m\u1ED9t layer th\u1EA5p h\u01A1n, ",(0,a.jsx)(e.strong,{children:"Shared"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"Shared kh\xe1c v\u1EDBi c\xe1c layer kh\xe1c \u1EDF ch\u1ED7 n\xf3 ch\u1EE9a c\xe1c segment, kh\xf4ng ph\u1EA3i slice. Theo c\xe1ch n\xe0y, layer Shared c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c coi l\xe0 s\u1EF1 k\u1EBFt h\u1EE3p gi\u1EEFa m\u1ED9t layer v\xe0 m\u1ED9t slice."}),"\n",(0,a.jsx)(e.p,{children:"Th\xf4ng th\u01B0\u1EDDng, code trong Shared kh\xf4ng \u0111\u01B0\u1EE3c l\xean k\u1EBF ho\u1EA1ch tr\u01B0\u1EDBc, m\xe0 \u0111\u01B0\u1EE3c tr\xedch xu\u1EA5t trong qu\xe1 tr\xecnh ph\xe1t tri\u1EC3n, v\xec ch\u1EC9 trong qu\xe1 tr\xecnh ph\xe1t tri\u1EC3n m\u1EDBi r\xf5 ph\u1EA7n n\xe0o c\u1EE7a code th\u1EF1c s\u1EF1 \u0111\u01B0\u1EE3c chia s\u1EBB. Tuy nhi\xean, v\u1EABn h\u1EEFu \xedch khi ghi nh\u1EDB lo\u1EA1i code n\xe0o thu\u1ED9c v\u1EC1 Shared:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"ui/"})," \u2014 UI kit, giao di\u1EC7n thu\u1EA7n t\xfay, kh\xf4ng c\xf3 business logic. V\xed d\u1EE5, button, modal dialog, form input."]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"api/"})," \u2014 wrapper ti\u1EC7n l\u1EE3i xung quanh c\xe1c primitive t\u1EA1o request (nh\u01B0 ",(0,a.jsx)(e.code,{children:"fetch()"})," tr\xean Web) v\xe0, t\xf9y ch\u1ECDn, c\xe1c function \u0111\u1EC3 k\xedch ho\u1EA1t request c\u1EE5 th\u1EC3 theo \u0111\u1EB7c t\u1EA3 backend."]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"config/"})," \u2014 ph\xe2n t\xedch bi\u1EBFn m\xf4i tr\u01B0\u1EDDng"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"i18n/"})," \u2014 c\u1EA5u h\xecnh h\u1ED7 tr\u1EE3 ng\xf4n ng\u1EEF"]}),"\n",(0,a.jsxs)(e.li,{children:["\u{1F4C2} ",(0,a.jsx)(e.code,{children:"router/"})," \u2014 routing primitive v\xe0 route constant"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\xf3 ch\u1EC9 l\xe0 m\u1ED9t v\xe0i v\xed d\u1EE5 v\u1EC1 t\xean segment trong Shared, nh\u01B0ng b\u1EA1n c\xf3 th\u1EC3 b\u1ECF qua b\u1EA5t k\u1EF3 segment n\xe0o ho\u1EB7c t\u1EA1o segment c\u1EE7a ri\xeang b\u1EA1n. \u0110i\u1EC1u quan tr\u1ECDng duy nh\u1EA5t c\u1EA7n nh\u1EDB khi t\u1EA1o segment m\u1EDBi l\xe0 t\xean segment n\xean m\xf4 t\u1EA3 ",(0,a.jsx)(e.strong,{children:"m\u1EE5c \u0111\xedch (t\u1EA1i sao), kh\xf4ng ph\u1EA3i b\u1EA3n ch\u1EA5t (c\xe1i g\xec)"}),'. C\xe1c t\xean nh\u01B0 "components", "hooks", "modals" ',(0,a.jsx)(e.em,{children:"kh\xf4ng n\xean"})," \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng v\xec ch\xfang m\xf4 t\u1EA3 nh\u1EEFng file n\xe0y l\xe0 g\xec, nh\u01B0ng kh\xf4ng gi\xfap \u0111i\u1EC1u h\u01B0\u1EDBng code b\xean trong. \u0110i\u1EC1u n\xe0y y\xeau c\u1EA7u m\u1ECDi ng\u01B0\u1EDDi trong team ph\u1EA3i \u0111\xe0o s\xe2u v\xe0o t\u1EEBng file trong nh\u1EEFng folder nh\u01B0 v\u1EADy v\xe0 c\u0169ng gi\u1EEF code kh\xf4ng li\xean quan g\u1EA7n nhau, d\u1EABn \u0111\u1EBFn vi\u1EC7c refactoring \u1EA3nh h\u01B0\u1EDFng \u0111\u1EBFn c\xe1c khu v\u1EF1c r\u1ED9ng l\u1EDBn c\u1EE7a code v\xe0 do \u0111\xf3 l\xe0m cho vi\u1EC7c review code v\xe0 testing kh\xf3 kh\u0103n h\u01A1n."]}),"\n",(0,a.jsx)(e.h3,{id:"\u0111\u1ECBnh-ngh\u0129a-public-api-nghi\xeam-ng\u1EB7t",children:"\u0110\u1ECBnh ngh\u0129a public API nghi\xeam ng\u1EB7t"}),"\n",(0,a.jsxs)(e.p,{children:["Trong ng\u1EEF c\u1EA3nh c\u1EE7a Feature-Sliced Design, thu\u1EADt ng\u1EEF ",(0,a.jsx)(e.em,{children:"public API"})," \u0111\u1EC1 c\u1EADp \u0111\u1EBFn m\u1ED9t slice ho\u1EB7c segment khai b\xe1o nh\u1EEFng g\xec c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c import t\u1EEB n\xf3 b\u1EDFi c\xe1c module kh\xe1c trong d\u1EF1 \xe1n. V\xed d\u1EE5, trong JavaScript \u0111\xf3 c\xf3 th\u1EC3 l\xe0 file ",(0,a.jsx)(e.code,{children:"index.js"})," re-export c\xe1c object t\u1EEB c\xe1c file kh\xe1c trong slice. \u0110i\u1EC1u n\xe0y cho ph\xe9p t\u1EF1 do refactoring code b\xean trong slice mi\u1EC5n l\xe0 h\u1EE3p \u0111\u1ED3ng v\u1EDBi th\u1EBF gi\u1EDBi b\xean ngo\xe0i (t\u1EE9c l\xe0 public API) v\u1EABn gi\u1EEF nguy\xean."]}),"\n",(0,a.jsx)(e.p,{children:"\u0110\u1ED1i v\u1EDBi layer Shared kh\xf4ng c\xf3 slice, th\u01B0\u1EDDng thu\u1EADn ti\u1EC7n h\u01A1n khi \u0111\u1ECBnh ngh\u0129a public API ri\xeang cho m\u1ED7i segment thay v\xec \u0111\u1ECBnh ngh\u0129a m\u1ED9t index duy nh\u1EA5t cho m\u1ECDi th\u1EE9 trong Shared. \u0110i\u1EC1u n\xe0y gi\u1EEF c\xe1c import t\u1EEB Shared \u0111\u01B0\u1EE3c t\u1ED5 ch\u1EE9c t\u1EF1 nhi\xean theo \xfd \u0111\u1ECBnh. \u0110\u1ED1i v\u1EDBi c\xe1c layer kh\xe1c c\xf3 slice, ng\u01B0\u1EE3c l\u1EA1i \u2014 th\u01B0\u1EDDng th\u1EF1c t\u1EBF h\u01A1n khi \u0111\u1ECBnh ngh\u0129a m\u1ED9t index cho m\u1ED7i slice v\xe0 \u0111\u1EC3 slice quy\u1EBFt \u0111\u1ECBnh t\u1EADp h\u1EE3p segment ri\xeang c\u1EE7a n\xf3 m\xe0 th\u1EBF gi\u1EDBi b\xean ngo\xe0i kh\xf4ng bi\u1EBFt v\xec c\xe1c layer kh\xe1c th\u01B0\u1EDDng c\xf3 \xedt export h\u01A1n nhi\u1EC1u."}),"\n",(0,a.jsx)(e.p,{children:"C\xe1c slice/segment c\u1EE7a ch\xfang ta s\u1EBD xu\u1EA5t hi\u1EC7n v\u1EDBi nhau nh\u01B0 sau:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"\u{1F4C2} pages/\n  \u{1F4C2} feed/\n    \u{1F4C4} index\n  \u{1F4C2} sign-in/\n    \u{1F4C4} index\n  \u{1F4C2} article-read/\n    \u{1F4C4} index\n  \u{1F4C1} \u2026\n\u{1F4C2} shared/\n  \u{1F4C2} ui/\n    \u{1F4C4} index\n  \u{1F4C2} api/\n    \u{1F4C4} index\n  \u{1F4C1} \u2026\n"})}),"\n",(0,a.jsxs)(e.p,{children:["B\u1EA5t c\u1EE9 th\u1EE9 g\xec b\xean trong c\xe1c folder nh\u01B0 ",(0,a.jsx)(e.code,{children:"pages/feed"})," ho\u1EB7c ",(0,a.jsx)(e.code,{children:"shared/ui"})," ch\u1EC9 \u0111\u01B0\u1EE3c bi\u1EBFt \u0111\u1EBFn b\u1EDFi nh\u1EEFng folder \u0111\xf3, v\xe0 c\xe1c file kh\xe1c kh\xf4ng n\xean d\u1EF1a v\xe0o c\u1EA5u tr\xfac n\u1ED9i b\u1ED9 c\u1EE7a nh\u1EEFng folder n\xe0y."]}),"\n",(0,a.jsx)(e.h3,{id:"kh\u1ED1i-ui-l\u1EDBn-\u0111\u01B0\u1EE3c-t\xe1i-s\u1EED-d\u1EE5ng",children:"Kh\u1ED1i UI l\u1EDBn \u0111\u01B0\u1EE3c t\xe1i s\u1EED d\u1EE5ng"}),"\n",(0,a.jsx)(e.p,{children:"Tr\u01B0\u1EDBc \u0111\xf3 ch\xfang ta \u0111\xe3 ghi ch\xfa \u0111\u1EC3 xem l\u1EA1i header xu\u1EA5t hi\u1EC7n tr\xean m\u1ED7i trang. X\xe2y d\u1EF1ng l\u1EA1i t\u1EEB \u0111\u1EA7u tr\xean m\u1ED7i trang s\u1EBD kh\xf4ng th\u1EF1c t\u1EBF, v\xec v\u1EADy vi\u1EC7c mu\u1ED1n t\xe1i s\u1EED d\u1EE5ng n\xf3 l\xe0 \u0111i\u1EC1u t\u1EF1 nhi\xean. Ch\xfang ta \u0111\xe3 c\xf3 Shared \u0111\u1EC3 h\u1ED7 tr\u1EE3 t\xe1i s\u1EED d\u1EE5ng code, tuy nhi\xean, c\xf3 m\u1ED9t l\u01B0u \xfd khi \u0111\u1EB7t c\xe1c kh\u1ED1i UI l\u1EDBn trong Shared \u2014 layer Shared kh\xf4ng \u0111\u01B0\u1EE3c bi\u1EBFt v\u1EC1 b\u1EA5t k\u1EF3 layer n\xe0o \u1EDF tr\xean."}),"\n",(0,a.jsx)(e.p,{children:"Gi\u1EEFa Shared v\xe0 Pages c\xf3 ba layer kh\xe1c: Entities, Features, v\xe0 Widgets. M\u1ED9t s\u1ED1 d\u1EF1 \xe1n c\xf3 th\u1EC3 c\xf3 th\u1EE9 g\xec \u0111\xf3 trong nh\u1EEFng layer \u0111\xf3 m\xe0 h\u1ECD c\u1EA7n trong m\u1ED9t kh\u1ED1i c\xf3 th\u1EC3 t\xe1i s\u1EED d\u1EE5ng l\u1EDBn, v\xe0 \u0111i\u1EC1u \u0111\xf3 c\xf3 ngh\u0129a l\xe0 ch\xfang ta kh\xf4ng th\u1EC3 \u0111\u1EB7t kh\u1ED1i c\xf3 th\u1EC3 t\xe1i s\u1EED d\u1EE5ng \u0111\xf3 trong Shared, n\u1EBFu kh\xf4ng n\xf3 s\u1EBD import t\u1EEB c\xe1c layer tr\xean, \u0111i\u1EC1u n\xe0y b\u1ECB c\u1EA5m. \u0110\xf3 l\xe0 l\xfac layer Widgets xu\u1EA5t hi\u1EC7n. N\xf3 \u0111\u01B0\u1EE3c \u0111\u1EB7t ph\xeda tr\xean Shared, Entities, v\xe0 Features, v\xec v\u1EADy n\xf3 c\xf3 th\u1EC3 s\u1EED d\u1EE5ng t\u1EA5t c\u1EA3 ch\xfang."}),"\n",(0,a.jsxs)(e.p,{children:["Trong tr\u01B0\u1EDDng h\u1EE3p c\u1EE7a ch\xfang ta, header r\u1EA5t \u0111\u01A1n gi\u1EA3n \u2014 \u0111\xf3 l\xe0 logo t\u0129nh v\xe0 \u0111i\u1EC1u h\u01B0\u1EDBng c\u1EA5p cao nh\u1EA5t. \u0110i\u1EC1u h\u01B0\u1EDBng c\u1EA7n th\u1EF1c hi\u1EC7n request \u0111\u1EBFn API \u0111\u1EC3 x\xe1c \u0111\u1ECBnh ng\u01B0\u1EDDi d\xf9ng hi\u1EC7n t\u1EA1i c\xf3 \u0111\u0103ng nh\u1EADp hay kh\xf4ng, nh\u01B0ng \u0111i\u1EC1u \u0111\xf3 c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c x\u1EED l\xfd b\u1EB1ng m\u1ED9t import \u0111\u01A1n gi\u1EA3n t\u1EEB segment ",(0,a.jsx)(e.code,{children:"api"}),". Do \u0111\xf3, ch\xfang ta s\u1EBD gi\u1EEF header c\u1EE7a m\xecnh trong Shared."]}),"\n",(0,a.jsx)(e.h3,{id:"nh\xecn-k\u1EF9-v\xe0o-trang-c\xf3-form",children:"Nh\xecn k\u1EF9 v\xe0o trang c\xf3 form"}),"\n",(0,a.jsx)(e.p,{children:"H\xe3y c\u0169ng ki\u1EC3m tra m\u1ED9t trang \u0111\u01B0\u1EE3c thi\u1EBFt k\u1EBF \u0111\u1EC3 ch\u1EC9nh s\u1EEDa, kh\xf4ng ph\u1EA3i \u0111\u1ECDc. V\xed d\u1EE5, tr\xecnh so\u1EA1n th\u1EA3o article:"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"Conduit post editor",src:t(5888).A+"",width:"2880",height:"1200"})}),"\n",(0,a.jsx)(e.p,{children:"N\xf3 tr\xf4ng \u0111\u01A1n gi\u1EA3n, nh\u01B0ng ch\u1EE9a m\u1ED9t s\u1ED1 kh\xeda c\u1EA1nh c\u1EE7a ph\xe1t tri\u1EC3n \u1EE9ng d\u1EE5ng m\xe0 ch\xfang ta ch\u01B0a kh\xe1m ph\xe1 \u2014 validation form, tr\u1EA1ng th\xe1i l\u1ED7i, v\xe0 data persistence."}),"\n",(0,a.jsxs)(e.p,{children:["N\u1EBFu ch\xfang ta x\xe2y d\u1EF1ng trang n\xe0y, ch\xfang ta s\u1EBD l\u1EA5y m\u1ED9t s\u1ED1 input v\xe0 button t\u1EEB Shared v\xe0 gh\xe9p th\xe0nh m\u1ED9t form trong segment ",(0,a.jsx)(e.code,{children:"ui"})," c\u1EE7a trang n\xe0y. Sau \u0111\xf3, trong segment ",(0,a.jsx)(e.code,{children:"api"}),", ch\xfang ta s\u1EBD \u0111\u1ECBnh ngh\u0129a m\u1ED9t mutation request \u0111\u1EC3 t\u1EA1o article tr\xean backend."]}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\u1EC3 validate request tr\u01B0\u1EDBc khi g\u1EEDi, ch\xfang ta c\u1EA7n m\u1ED9t validation schema, v\xe0 v\u1ECB tr\xed t\u1ED1t cho n\xf3 l\xe0 segment ",(0,a.jsx)(e.code,{children:"model"}),", v\xec n\xf3 l\xe0 data model. \u1EDE \u0111\xf3 ch\xfang ta s\u1EBD t\u1EA1o ra c\xe1c th\xf4ng b\xe1o l\u1ED7i v\xe0 hi\u1EC3n th\u1ECB ch\xfang b\u1EB1ng m\u1ED9t component kh\xe1c trong segment ",(0,a.jsx)(e.code,{children:"ui"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\u1EC3 c\u1EA3i thi\u1EC7n tr\u1EA3i nghi\u1EC7m ng\u01B0\u1EDDi d\xf9ng, ch\xfang ta c\u0169ng c\xf3 th\u1EC3 persist c\xe1c input \u0111\u1EC3 ng\u0103n m\u1EA5t d\u1EEF li\u1EC7u v\xf4 t\xecnh. \u0110\xe2y c\u0169ng l\xe0 c\xf4ng vi\u1EC7c c\u1EE7a segment ",(0,a.jsx)(e.code,{children:"model"}),"."]}),"\n",(0,a.jsx)(e.h3,{id:"t\xf3m-t\u1EAFt",children:"T\xf3m t\u1EAFt"}),"\n",(0,a.jsx)(e.p,{children:"Ch\xfang ta \u0111\xe3 ki\u1EC3m tra m\u1ED9t s\u1ED1 trang v\xe0 ph\xe1c th\u1EA3o c\u1EA5u tr\xfac s\u01A1 b\u1ED9 cho \u1EE9ng d\u1EE5ng c\u1EE7a m\xecnh:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["Layer Shared","\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"ui"})," s\u1EBD ch\u1EE9a UI kit c\xf3 th\u1EC3 t\xe1i s\u1EED d\u1EE5ng c\u1EE7a ch\xfang ta"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"api"})," s\u1EBD ch\u1EE9a c\xe1c t\u01B0\u01A1ng t\xe1c primitive v\u1EDBi backend"]}),"\n",(0,a.jsx)(e.li,{children:"Ph\u1EA7n c\xf2n l\u1EA1i s\u1EBD \u0111\u01B0\u1EE3c s\u1EAFp x\u1EBFp theo y\xeau c\u1EA7u"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Layer Pages \u2014 m\u1ED7i trang l\xe0 m\u1ED9t slice ri\xeang bi\u1EC7t","\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"ui"})," s\u1EBD ch\u1EE9a ch\xednh trang \u0111\xf3 v\xe0 t\u1EA5t c\u1EA3 c\xe1c ph\u1EA7n c\u1EE7a n\xf3"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"api"})," s\u1EBD ch\u1EE9a data fetching chuy\xean bi\u1EC7t h\u01A1n, s\u1EED d\u1EE5ng ",(0,a.jsx)(e.code,{children:"shared/api"})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"model"})," c\xf3 th\u1EC3 ch\u1EE9a client-side storage c\u1EE7a d\u1EEF li\u1EC7u m\xe0 ch\xfang ta s\u1EBD hi\u1EC3n th\u1ECB"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"H\xe3y b\u1EAFt \u0111\u1EA7u x\xe2y d\u1EF1ng!"}),"\n",(0,a.jsx)(e.h2,{id:"ph\u1EA7n-2-trong-code",children:"Ph\u1EA7n 2. Trong code"}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD ch\xfang ta \u0111\xe3 c\xf3 k\u1EBF ho\u1EA1ch, h\xe3y \u0111\u01B0a n\xf3 v\xe0o th\u1EF1c h\xe0nh. Ch\xfang ta s\u1EBD s\u1EED d\u1EE5ng React v\xe0 ",(0,a.jsx)(e.a,{href:"https://remix.run",children:"Remix"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["C\xf3 m\u1ED9t template s\u1EB5n s\xe0ng cho d\u1EF1 \xe1n n\xe0y, clone n\xf3 t\u1EEB GitHub \u0111\u1EC3 c\xf3 \u0111\u01B0\u1EE3c kh\u1EDFi \u0111\u1EA7u: ",(0,a.jsx)(e.a,{href:"https://github.com/feature-sliced/tutorial-conduit/tree/clean",children:"https://github.com/feature-sliced/tutorial-conduit/tree/clean"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["C\xe0i \u0111\u1EB7t dependencies v\u1EDBi ",(0,a.jsx)(e.code,{children:"npm install"})," v\xe0 kh\u1EDFi \u0111\u1ED9ng development server v\u1EDBi ",(0,a.jsx)(e.code,{children:"npm run dev"}),". M\u1EDF ",(0,a.jsx)(e.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," v\xe0 b\u1EA1n s\u1EBD th\u1EA5y m\u1ED9t app tr\u1ED1ng."]}),"\n",(0,a.jsx)(e.h3,{id:"b\u1ED1-tr\xed-c\xe1c-trang",children:"B\u1ED1 tr\xed c\xe1c trang"}),"\n",(0,a.jsx)(e.p,{children:"H\xe3y b\u1EAFt \u0111\u1EA7u b\u1EB1ng vi\u1EC7c t\u1EA1o c\xe1c component tr\u1ED1ng cho t\u1EA5t c\u1EA3 c\xe1c trang c\u1EE7a ch\xfang ta. Ch\u1EA1y l\u1EC7nh sau trong d\u1EF1 \xe1n c\u1EE7a b\u1EA1n:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npx fsd pages feed sign-in article-read article-edit profile settings --segments ui\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u0110i\u1EC1u n\xe0y s\u1EBD t\u1EA1o c\xe1c folder nh\u01B0 ",(0,a.jsx)(e.code,{children:"pages/feed/ui/"})," v\xe0 m\u1ED9t file index, ",(0,a.jsx)(e.code,{children:"pages/feed/index.ts"}),", cho m\u1ED7i trang."]}),"\n",(0,a.jsx)(e.h3,{id:"k\u1EBFt-n\u1ED1i-trang-feed",children:"K\u1EBFt n\u1ED1i trang feed"}),"\n",(0,a.jsxs)(e.p,{children:["H\xe3y k\u1EBFt n\u1ED1i route g\u1ED1c c\u1EE7a \u1EE9ng d\u1EE5ng v\u1EDBi trang feed. T\u1EA1o m\u1ED9t component, ",(0,a.jsx)(e.code,{children:"FeedPage.tsx"})," trong ",(0,a.jsx)(e.code,{children:"pages/feed/ui"})," v\xe0 \u0111\u1EB7t n\u1ED9i dung sau v\xe0o \u0111\xf3:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'export function FeedPage() {\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Sau \u0111\xf3 re-export component n\xe0y trong public API c\u1EE7a trang feed, file ",(0,a.jsx)(e.code,{children:"pages/feed/index.ts"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",metastring:'title="pages/feed/index.ts"',children:'export { FeedPage } from "./ui/FeedPage";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD k\u1EBFt n\u1ED1i n\xf3 v\u1EDBi root route. Trong Remix, routing d\u1EF1a tr\xean file, v\xe0 c\xe1c file route \u0111\u01B0\u1EE3c \u0111\u1EB7t trong folder ",(0,a.jsx)(e.code,{children:"app/routes"}),", \u0111i\u1EC1u n\xe0y ph\xf9 h\u1EE3p v\u1EDBi Feature-Sliced Design."]}),"\n",(0,a.jsxs)(e.p,{children:["S\u1EED d\u1EE5ng component ",(0,a.jsx)(e.code,{children:"FeedPage"})," trong ",(0,a.jsx)(e.code,{children:"app/routes/_index.tsx"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/_index.tsx"',children:'import type { MetaFunction } from "@remix-run/node";\nimport { FeedPage } from "pages/feed";\n\nexport const meta: MetaFunction = () => {\n  return [{ title: "Conduit" }];\n};\n\nexport default FeedPage;\n'})}),"\n",(0,a.jsx)(e.p,{children:"Sau \u0111\xf3, n\u1EBFu b\u1EA1n ch\u1EA1y dev server v\xe0 m\u1EDF \u1EE9ng d\u1EE5ng, b\u1EA1n s\u1EBD th\u1EA5y banner c\u1EE7a Conduit!"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"The banner of Conduit",src:t(1565).A+"",width:"2880",height:"338"})}),"\n",(0,a.jsx)(e.h3,{id:"api-client",children:"API client"}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\u1EC3 giao ti\u1EBFp v\u1EDBi RealWorld backend, h\xe3y t\u1EA1o m\u1ED9t API client ti\u1EC7n l\u1EE3i trong Shared. T\u1EA1o hai segment, ",(0,a.jsx)(e.code,{children:"api"})," cho client v\xe0 ",(0,a.jsx)(e.code,{children:"config"})," cho c\xe1c bi\u1EBFn nh\u01B0 backend base URL:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npx fsd shared --segments api config\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Sau \u0111\xf3 t\u1EA1o ",(0,a.jsx)(e.code,{children:"shared/config/backend.ts"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/config/backend.ts"',children:'export { mockBackendUrl as backendBaseUrl } from "mocks/handlers";\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/config/index.ts"',children:'export { backendBaseUrl } from "./backend";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["V\xec d\u1EF1 \xe1n RealWorld ti\u1EC7n l\u1EE3i cung c\u1EA5p ",(0,a.jsx)(e.a,{href:"https://github.com/gothinkster/realworld/blob/main/api/openapi.yml",children:"\u0111\u1EB7c t\u1EA3 OpenAPI"}),", ch\xfang ta c\xf3 th\u1EC3 t\u1EADn d\u1EE5ng c\xe1c type \u0111\u01B0\u1EE3c t\u1EF1 \u0111\u1ED9ng t\u1EA1o cho client c\u1EE7a m\xecnh. Ch\xfang ta s\u1EBD s\u1EED d\u1EE5ng ",(0,a.jsxs)(e.a,{href:"https://openapi-ts.pages.dev/openapi-fetch/",children:["package ",(0,a.jsx)(e.code,{children:"openapi-fetch"})]})," \u0111i k\xe8m v\u1EDBi type generator b\u1ED5 sung."]}),"\n",(0,a.jsx)(e.p,{children:"Ch\u1EA1y l\u1EC7nh sau \u0111\u1EC3 t\u1EA1o API typing c\u1EADp nh\u1EADt:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npm run generate-api-types\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u0110i\u1EC1u n\xe0y s\u1EBD t\u1EA1o file ",(0,a.jsx)(e.code,{children:"shared/api/v1.d.ts"}),". Ch\xfang ta s\u1EBD s\u1EED d\u1EE5ng file n\xe0y \u0111\u1EC3 t\u1EA1o typed API client trong ",(0,a.jsx)(e.code,{children:"shared/api/client.ts"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/client.ts"',children:'import createClient from "openapi-fetch";\n\nimport { backendBaseUrl } from "shared/config";\nimport type { paths } from "./v1";\n\nexport const { GET, POST, PUT, DELETE } = createClient<paths>({ baseUrl: backendBaseUrl });\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n'})}),"\n",(0,a.jsx)(e.h3,{id:"d\u1EEF-li\u1EC7u-th\u1EF1c-trong-feed",children:"D\u1EEF li\u1EC7u th\u1EF1c trong feed"}),"\n",(0,a.jsx)(e.p,{children:"B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 ti\u1EBFn h\xe0nh th\xeam c\xe1c article v\xe0o feed, \u0111\u01B0\u1EE3c l\u1EA5y t\u1EEB backend. H\xe3y b\u1EAFt \u0111\u1EA7u b\u1EB1ng c\xe1ch tri\u1EC3n khai component preview article."}),"\n",(0,a.jsxs)(e.p,{children:["T\u1EA1o ",(0,a.jsx)(e.code,{children:"pages/feed/ui/ArticlePreview.tsx"})," v\u1EDBi n\u1ED9i dung sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:"export function ArticlePreview({ article }) { /* TODO */ }\n"})}),"\n",(0,a.jsxs)(e.p,{children:["V\xec ch\xfang ta vi\u1EBFt b\u1EB1ng TypeScript, s\u1EBD t\u1ED1t n\u1EBFu c\xf3 m\u1ED9t article object \u0111\u01B0\u1EE3c type. N\u1EBFu ch\xfang ta kh\xe1m ph\xe1 ",(0,a.jsx)(e.code,{children:"v1.d.ts"})," \u0111\u01B0\u1EE3c t\u1EA1o, ch\xfang ta c\xf3 th\u1EC3 th\u1EA5y r\u1EB1ng article object c\xf3 s\u1EB5n th\xf4ng qua ",(0,a.jsx)(e.code,{children:'components["schemas"]["Article"]'}),". V\xec v\u1EADy h\xe3y t\u1EA1o file v\u1EDBi c\xe1c data model c\u1EE7a ch\xfang ta trong Shared v\xe0 export c\xe1c model:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/models.ts"',children:'import type { components } from "./v1";\n\nexport type Article = components["schemas"]["Article"];\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n'})}),"\n",(0,a.jsx)(e.p,{children:"B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 quay l\u1EA1i component preview article v\xe0 \u0111i\u1EC1n markup v\u1EDBi d\u1EEF li\u1EC7u. C\u1EADp nh\u1EADt component v\u1EDBi n\u1ED9i dung sau:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:'import { Link } from "@remix-run/react";\nimport type { Article } from "shared/api";\n\ninterface ArticlePreviewProps {\n  article: Article;\n}\n\nexport function ArticlePreview({ article }: ArticlePreviewProps) {\n  return (\n    <div className="article-preview">\n      <div className="article-meta">\n        <Link to={`/profile/${article.author.username}`} prefetch="intent">\n          <img src={article.author.image} alt="" />\n        </Link>\n        <div className="info">\n          <Link\n            to={`/profile/${article.author.username}`}\n            className="author"\n            prefetch="intent"\n          >\n            {article.author.username}\n          </Link>\n          <span className="date" suppressHydrationWarning>\n            {new Date(article.createdAt).toLocaleDateString(undefined, {\n              dateStyle: "long",\n            })}\n          </span>\n        </div>\n        <button className="btn btn-outline-primary btn-sm pull-xs-right">\n          <i className="ion-heart"></i> {article.favoritesCount}\n        </button>\n      </div>\n      <Link\n        to={`/article/${article.slug}`}\n        className="preview-link"\n        prefetch="intent"\n      >\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className="tag-list">\n          {article.tagList.map((tag) => (\n            <li key={tag} className="tag-default tag-pill tag-outline">\n              {tag}\n            </li>\n          ))}\n        </ul>\n      </Link>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Button like hi\u1EC7n t\u1EA1i ch\u01B0a l\xe0m g\xec c\u1EA3, ch\xfang ta s\u1EBD s\u1EEDa \u0111i\u1EC1u \u0111\xf3 khi \u0111\u1EBFn trang \u0111\u1ECDc article v\xe0 tri\u1EC3n khai t\xednh n\u0103ng th\xedch."}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 l\u1EA5y c\xe1c article v\xe0 render ra m\u1ED9t lo\u1EA1t c\xe1c card n\xe0y. L\u1EA5y d\u1EEF li\u1EC7u trong Remix \u0111\u01B0\u1EE3c th\u1EF1c hi\u1EC7n b\u1EB1ng ",(0,a.jsx)(e.em,{children:"loader"})," \u2014 c\xe1c function ph\xeda server l\u1EA5y ch\xednh x\xe1c nh\u1EEFng g\xec trang c\u1EA7n. Loader t\u01B0\u01A1ng t\xe1c v\u1EDBi API thay m\u1EB7t cho trang, v\xec v\u1EADy ch\xfang ta s\u1EBD \u0111\u1EB7t ch\xfang trong segment ",(0,a.jsx)(e.code,{children:"api"})," c\u1EE7a trang:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json } from "@remix-run/node";\n\nimport { GET } from "shared/api";\n\nexport const loader = async () => {\n  const { data: articles, error, response } = await GET("/articles");\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return json({ articles });\n};\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\u1EC3 k\u1EBFt n\u1ED1i n\xf3 v\u1EDBi trang, ch\xfang ta c\u1EA7n export n\xf3 v\u1EDBi t\xean ",(0,a.jsx)(e.code,{children:"loader"})," t\u1EEB route file:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/index.ts"',children:'export { FeedPage } from "./ui/FeedPage";\nexport { loader } from "./api/loader";\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/_index.tsx"',children:'import type { MetaFunction } from "@remix-run/node";\nimport { FeedPage } from "pages/feed";\n\nexport { loader } from "pages/feed";\n\nexport const meta: MetaFunction = () => {\n  return [{ title: "Conduit" }];\n};\n\nexport default FeedPage;\n'})}),"\n",(0,a.jsxs)(e.p,{children:["V\xe0 b\u01B0\u1EDBc cu\u1ED1i c\xf9ng l\xe0 render c\xe1c card n\xe0y trong feed. C\u1EADp nh\u1EADt ",(0,a.jsx)(e.code,{children:"FeedPage"})," c\u1EE7a b\u1EA1n v\u1EDBi code sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const { articles } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"l\u1ECDc-theo-tag",children:"L\u1ECDc theo tag"}),"\n",(0,a.jsxs)(e.p,{children:["V\u1EC1 c\xe1c tag, c\xf4ng vi\u1EC7c c\u1EE7a ch\xfang ta l\xe0 l\u1EA5y ch\xfang t\u1EEB backend v\xe0 l\u01B0u tr\u1EEF tag hi\u1EC7n t\u1EA1i \u0111\u01B0\u1EE3c ch\u1ECDn. Ch\xfang ta \u0111\xe3 bi\u1EBFt c\xe1ch l\u1EA5y \u2014 \u0111\xf3 l\xe0 m\u1ED9t request kh\xe1c t\u1EEB loader. Ch\xfang ta s\u1EBD s\u1EED d\u1EE5ng function ti\u1EC7n l\u1EE3i ",(0,a.jsx)(e.code,{children:"promiseHash"})," t\u1EEB package ",(0,a.jsx)(e.code,{children:"remix-utils"}),", \u0111\xe3 \u0111\u01B0\u1EE3c c\xe0i \u0111\u1EB7t."]}),"\n",(0,a.jsxs)(e.p,{children:["C\u1EADp nh\u1EADt file loader, ",(0,a.jsx)(e.code,{children:"pages/feed/api/loader.ts"}),", v\u1EDBi code sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async () => {\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(GET("/articles")),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\u1EA1n c\xf3 th\u1EC3 nh\u1EADn th\u1EA5y r\u1EB1ng ch\xfang ta \u0111\xe3 tr\xedch xu\u1EA5t x\u1EED l\xfd l\u1ED7i th\xe0nh function generic ",(0,a.jsx)(e.code,{children:"throwAnyErrors"}),". N\xf3 tr\xf4ng kh\xe1 h\u1EEFu \xedch, v\xec v\u1EADy ch\xfang ta c\xf3 th\u1EC3 mu\u1ED1n t\xe1i s\u1EED d\u1EE5ng n\xf3 sau, nh\u01B0ng hi\u1EC7n t\u1EA1i h\xe3y ch\u1EC9 \u0111\u1EC3 m\u1EAFt \u0111\u1EBFn n\xf3."]}),"\n",(0,a.jsx)(e.p,{children:"B\xe2y gi\u1EDD, \u0111\u1EBFn danh s\xe1ch c\xe1c tag. N\xf3 c\u1EA7n ph\u1EA3i t\u01B0\u01A1ng t\xe1c \u2014 nh\u1EA5p v\xe0o tag s\u1EBD l\xe0m cho tag \u0111\xf3 \u0111\u01B0\u1EE3c ch\u1ECDn. Theo quy \u01B0\u1EDBc Remix, ch\xfang ta s\u1EBD s\u1EED d\u1EE5ng URL search parameter l\xe0m storage cho tag \u0111\xe3 ch\u1ECDn. \u0110\u1EC3 tr\xecnh duy\u1EC7t lo v\u1EC1 storage trong khi ch\xfang ta t\u1EADp trung v\xe0o nh\u1EEFng th\u1EE9 quan tr\u1ECDng h\u01A1n."}),"\n",(0,a.jsxs)(e.p,{children:["C\u1EADp nh\u1EADt ",(0,a.jsx)(e.code,{children:"pages/feed/ui/FeedPage.tsx"})," v\u1EDBi code sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const { articles, tags } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n          </div>\n\n          <div className="col-md-3">\n            <div className="sidebar">\n              <p>Popular Tags</p>\n\n              <Form>\n                <ExistingSearchParams exclude={["tag"]} />\n                <div className="tag-list">\n                  {tags.tags.map((tag) => (\n                    <button\n                      key={tag}\n                      name="tag"\n                      value={tag}\n                      className="tag-pill tag-default"\n                    >\n                      {tag}\n                    </button>\n                  ))}\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} \n'})}),"\n",(0,a.jsxs)(e.p,{children:["Sau \u0111\xf3 ch\xfang ta c\u1EA7n s\u1EED d\u1EE5ng search parameter ",(0,a.jsx)(e.code,{children:"tag"})," trong loader c\u1EE7a ch\xfang ta. Thay \u0111\u1ED5i function ",(0,a.jsx)(e.code,{children:"loader"})," trong ",(0,a.jsx)(e.code,{children:"pages/feed/api/loader.ts"})," th\xe0nh nh\u01B0 sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", { params: { query: { tag: selectedTag } } }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Th\u1EBF l\xe0 xong, kh\xf4ng c\u1EA7n segment ",(0,a.jsx)(e.code,{children:"model"}),". Remix kh\xe1 g\u1ECDn g\xe0ng."]}),"\n",(0,a.jsx)(e.h3,{id:"ph\xe2n-trang",children:"Ph\xe2n trang"}),"\n",(0,a.jsx)(e.p,{children:"T\u01B0\u01A1ng t\u1EF1 nh\u01B0 v\u1EADy, ch\xfang ta c\xf3 th\u1EC3 tri\u1EC3n khai ph\xe2n trang. H\xe3y tho\u1EA3i m\xe1i th\u1EED t\u1EF1 l\xe0m ho\u1EB7c ch\u1EC9 copy code b\xean d\u01B0\u1EDBi. D\xf9 sao c\u0169ng kh\xf4ng ai ph\xe1n x\xe9t b\u1EA1n."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\n/** Amount of articles on one page. */\nexport const LIMIT = 20;\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n  const page = parseInt(url.searchParams.get("page") ?? "", 10);\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", {\n          params: {\n            query: {\n              tag: selectedTag,\n              limit: LIMIT,\n              offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n            },\n          },\n        }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { Form, useLoaderData, useSearchParams } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport { LIMIT, type loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const [searchParams] = useSearchParams();\n  const { articles, tags } = useLoaderData<typeof loader>();\n  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);\n  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n\n            <Form>\n              <ExistingSearchParams exclude={["page"]} />\n              <ul className="pagination">\n                {Array(pageAmount)\n                  .fill(null)\n                  .map((_, index) =>\n                    index + 1 === currentPage ? (\n                      <li key={index} className="page-item active">\n                        <span className="page-link">{index + 1}</span>\n                      </li>\n                    ) : (\n                      <li key={index} className="page-item">\n                        <button\n                          className="page-link"\n                          name="page"\n                          value={index + 1}\n                        >\n                          {index + 1}\n                        </button>\n                      </li>\n                    ),\n                  )}\n              </ul>\n            </Form>\n          </div>\n\n          <div className="col-md-3">\n            <div className="sidebar">\n              <p>Popular Tags</p>\n\n              <Form>\n                <ExistingSearchParams exclude={["tag", "page"]} />\n                <div className="tag-list">\n                  {tags.tags.map((tag) => (\n                    <button\n                      key={tag}\n                      name="tag"\n                      value={tag}\n                      className="tag-pill tag-default"\n                    >\n                      {tag}\n                    </button>\n                  ))}\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"V\u1EADy l\xe0 c\u0169ng xong r\u1ED3i. C\xf2n c\xf3 danh s\xe1ch tab c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c tri\u1EC3n khai t\u01B0\u01A1ng t\u1EF1, nh\u01B0ng h\xe3y \u0111\u1EE3i cho \u0111\u1EBFn khi ch\xfang ta tri\u1EC3n khai authentication. N\xf3i v\u1EC1 \u0111i\u1EC1u \u0111\xf3!"}),"\n",(0,a.jsx)(e.h3,{id:"authentication",children:"Authentication"}),"\n",(0,a.jsxs)(e.p,{children:["Authentication li\xean quan \u0111\u1EBFn hai trang \u2014 m\u1ED9t \u0111\u1EC3 \u0111\u0103ng nh\u1EADp v\xe0 m\u1ED9t \u0111\u1EC3 \u0111\u0103ng k\xfd. Ch\xfang h\u1EA7u nh\u01B0 gi\u1ED1ng nhau, v\xec v\u1EADy h\u1EE3p l\xfd khi gi\u1EEF ch\xfang trong c\xf9ng m\u1ED9t slice, ",(0,a.jsx)(e.code,{children:"sign-in"}),", \u0111\u1EC3 ch\xfang c\xf3 th\u1EC3 t\xe1i s\u1EED d\u1EE5ng code n\u1EBFu c\u1EA7n."]}),"\n",(0,a.jsxs)(e.p,{children:["T\u1EA1o ",(0,a.jsx)(e.code,{children:"RegisterPage.tsx"})," trong segment ",(0,a.jsx)(e.code,{children:"ui"})," c\u1EE7a ",(0,a.jsx)(e.code,{children:"pages/sign-in"})," v\u1EDBi n\u1ED9i dung sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/ui/RegisterPage.tsx"',children:'import { Form, Link, useActionData } from "@remix-run/react";\n\nimport type { register } from "../api/register";\n\nexport function RegisterPage() {\n  const registerData = useActionData<typeof register>();\n\n  return (\n    <div className="auth-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-6 offset-md-3 col-xs-12">\n            <h1 className="text-xs-center">Sign up</h1>\n            <p className="text-xs-center">\n              <Link to="/login">Have an account?</Link>\n            </p>\n\n            {registerData?.error && (\n              <ul className="error-messages">\n                {registerData.error.errors.body.map((error) => (\n                  <li key={error}>{error}</li>\n                ))}\n              </ul>\n            )}\n\n            <Form method="post">\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="text"\n                  name="username"\n                  placeholder="Username"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="text"\n                  name="email"\n                  placeholder="Email"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="password"\n                  name="password"\n                  placeholder="Password"\n                />\n              </fieldset>\n              <button className="btn btn-lg btn-primary pull-xs-right">\n                Sign up\n              </button>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Ch\xfang ta c\xf3 m\u1ED9t import b\u1ECB l\u1ED7i c\u1EA7n s\u1EEDa b\xe2y gi\u1EDD. N\xf3 li\xean quan \u0111\u1EBFn m\u1ED9t segment m\u1EDBi, v\xec v\u1EADy h\xe3y t\u1EA1o n\xf3:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npx fsd pages sign-in -s api\n"})}),"\n",(0,a.jsx)(e.p,{children:"Tuy nhi\xean, tr\u01B0\u1EDBc khi ch\xfang ta c\xf3 th\u1EC3 tri\u1EC3n khai ph\u1EA7n backend c\u1EE7a \u0111\u0103ng k\xfd, ch\xfang ta c\u1EA7n m\u1ED9t s\u1ED1 code infrastructure \u0111\u1EC3 Remix x\u1EED l\xfd session. \u0110i\u1EC1u \u0111\xf3 thu\u1ED9c v\u1EC1 Shared, ph\xf2ng khi trang n\xe0o kh\xe1c c\u1EA7n n\xf3."}),"\n",(0,a.jsxs)(e.p,{children:["\u0110\u1EB7t code sau v\xe0o ",(0,a.jsx)(e.code,{children:"shared/api/auth.server.ts"}),". \u0110\xe2y l\xe0 code r\u1EA5t c\u1EE5 th\u1EC3 cho Remix, v\xec v\u1EADy \u0111\u1EEBng lo l\u1EAFng qu\xe1 nhi\u1EC1u v\u1EC1 n\xf3, ch\u1EC9 c\u1EA7n copy-paste:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/auth.server.ts"',children:'import { createCookieSessionStorage, redirect } from "@remix-run/node";\nimport invariant from "tiny-invariant";\n\nimport type { User } from "./models";\n\ninvariant(\n  process.env.SESSION_SECRET,\n  "SESSION_SECRET must be set for authentication to work",\n);\n\nconst sessionStorage = createCookieSessionStorage<{\n  user: User;\n}>({\n  cookie: {\n    name: "__session",\n    httpOnly: true,\n    path: "/",\n    sameSite: "lax",\n    secrets: [process.env.SESSION_SECRET],\n    secure: process.env.NODE_ENV === "production",\n  },\n});\n\nexport async function createUserSession({\n  request,\n  user,\n  redirectTo,\n}: {\n  request: Request;\n  user: User;\n  redirectTo: string;\n}) {\n  const cookie = request.headers.get("Cookie");\n  const session = await sessionStorage.getSession(cookie);\n\n  session.set("user", user);\n\n  return redirect(redirectTo, {\n    headers: {\n      "Set-Cookie": await sessionStorage.commitSession(session, {\n        maxAge: 60 * 60 * 24 * 7, // 7 days\n      }),\n    },\n  });\n}\n\nexport async function getUserFromSession(request: Request) {\n  const cookie = request.headers.get("Cookie");\n  const session = await sessionStorage.getSession(cookie);\n\n  return session.get("user") ?? null;\n}\n\nexport async function requireUser(request: Request) {\n  const user = await getUserFromSession(request);\n\n  if (user === null) {\n    throw redirect("/login");\n  }\n\n  return user;\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["V\xe0 c\u0169ng export model ",(0,a.jsx)(e.code,{children:"User"})," t\u1EEB file ",(0,a.jsx)(e.code,{children:"models.ts"})," ngay c\u1EA1nh n\xf3:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/models.ts"',children:'import type { components } from "./v1";\n\nexport type Article = components["schemas"]["Article"];\nexport type User = components["schemas"]["User"];\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Tr\u01B0\u1EDBc khi code n\xe0y c\xf3 th\u1EC3 ho\u1EA1t \u0111\u1ED9ng, bi\u1EBFn m\xf4i tr\u01B0\u1EDDng ",(0,a.jsx)(e.code,{children:"SESSION_SECRET"})," c\u1EA7n \u0111\u01B0\u1EE3c \u0111\u1EB7t. T\u1EA1o file t\xean ",(0,a.jsx)(e.code,{children:".env"})," trong th\u01B0 m\u1EE5c g\u1ED1c c\u1EE7a d\u1EF1 \xe1n, vi\u1EBFt ",(0,a.jsx)(e.code,{children:"SESSION_SECRET="})," v\xe0 sau \u0111\xf3 b\u1EA5m m\u1ED9t s\u1ED1 ph\xedm tr\xean b\xe0n ph\xedm \u0111\u1EC3 t\u1EA1o chu\u1ED7i ng\u1EABu nhi\xean d\xe0i. B\u1EA1n s\u1EBD c\xf3 th\u1EE9 g\xec \u0111\xf3 nh\u01B0 th\u1EBF n\xe0y:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",metastring:'title=".env"',children:"SESSION_SECRET=dontyoudarecopypastethis\n"})}),"\n",(0,a.jsx)(e.p,{children:"Cu\u1ED1i c\xf9ng, th\xeam m\u1ED9t s\u1ED1 export v\xe0o public API \u0111\u1EC3 s\u1EED d\u1EE5ng code n\xe0y:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n\nexport { createUserSession, getUserFromSession, requireUser } from "./auth.server";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 vi\u1EBFt code s\u1EBD giao ti\u1EBFp v\u1EDBi RealWorld backend \u0111\u1EC3 th\u1EF1c s\u1EF1 th\u1EF1c hi\u1EC7n \u0111\u0103ng k\xfd. Ch\xfang ta s\u1EBD gi\u1EEF \u0111i\u1EC1u \u0111\xf3 trong ",(0,a.jsx)(e.code,{children:"pages/sign-in/api"}),". T\u1EA1o file c\xf3 t\xean ",(0,a.jsx)(e.code,{children:"register.ts"})," v\xe0 \u0111\u1EB7t code sau v\xe0o b\xean trong:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/api/register.ts"',children:'import { json, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, createUserSession } from "shared/api";\n\nexport const register = async ({ request }: ActionFunctionArgs) => {\n  const formData = await request.formData();\n  const username = formData.get("username")?.toString() ?? "";\n  const email = formData.get("email")?.toString() ?? "";\n  const password = formData.get("password")?.toString() ?? "";\n\n  const { data, error } = await POST("/users", {\n    body: { user: { email, password, username } },\n  });\n\n  if (error) {\n    return json({ error }, { status: 400 });\n  } else {\n    return createUserSession({\n      request: request,\n      user: data.user,\n      redirectTo: "/",\n    });\n  }\n};\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/index.ts"',children:"export { RegisterPage } from './ui/RegisterPage';\nexport { register } from './api/register';\n"})}),"\n",(0,a.jsxs)(e.p,{children:["G\u1EA7n xong r\u1ED3i! Ch\u1EC9 c\u1EA7n k\u1EBFt n\u1ED1i trang v\xe0 action v\u1EDBi route ",(0,a.jsx)(e.code,{children:"/register"}),". T\u1EA1o ",(0,a.jsx)(e.code,{children:"register.tsx"})," trong ",(0,a.jsx)(e.code,{children:"app/routes"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/register.tsx"',children:'import { RegisterPage, register } from "pages/sign-in";\n\nexport { register as action };\n\nexport default RegisterPage;\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD n\u1EBFu b\u1EA1n \u0111i \u0111\u1EBFn ",(0,a.jsx)(e.a,{href:"http://localhost:3000/register",children:"http://localhost:3000/register"}),", b\u1EA1n s\u1EBD c\xf3 th\u1EC3 t\u1EA1o ng\u01B0\u1EDDi d\xf9ng! Ph\u1EA7n c\xf2n l\u1EA1i c\u1EE7a \u1EE9ng d\u1EE5ng s\u1EBD ch\u01B0a ph\u1EA3n \u1EE9ng v\u1EDBi \u0111i\u1EC1u n\xe0y, ch\xfang ta s\u1EBD gi\u1EA3i quy\u1EBFt \u0111i\u1EC1u \u0111\xf3 ngay."]}),"\n",(0,a.jsx)(e.p,{children:"T\u01B0\u01A1ng t\u1EF1 nh\u01B0 v\u1EADy, ch\xfang ta c\xf3 th\u1EC3 tri\u1EC3n khai trang \u0111\u0103ng nh\u1EADp. H\xe3y th\u1EED ho\u1EB7c ch\u1EC9 l\u1EA5y code v\xe0 ti\u1EBFp t\u1EE5c:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/api/sign-in.ts"',children:'import { json, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, createUserSession } from "shared/api";\n\nexport const signIn = async ({ request }: ActionFunctionArgs) => {\n  const formData = await request.formData();\n  const email = formData.get("email")?.toString() ?? "";\n  const password = formData.get("password")?.toString() ?? "";\n\n  const { data, error } = await POST("/users/login", {\n    body: { user: { email, password } },\n  });\n\n  if (error) {\n    return json({ error }, { status: 400 });\n  } else {\n    return createUserSession({\n      request: request,\n      user: data.user,\n      redirectTo: "/",\n    });\n  }\n};\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/ui/SignInPage.tsx"',children:'import { Form, Link, useActionData } from "@remix-run/react";\n\nimport type { signIn } from "../api/sign-in";\n\nexport function SignInPage() {\n  const signInData = useActionData<typeof signIn>();\n\n  return (\n    <div className="auth-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-6 offset-md-3 col-xs-12">\n            <h1 className="text-xs-center">Sign in</h1>\n            <p className="text-xs-center">\n              <Link to="/register">Need an account?</Link>\n            </p>\n\n            {signInData?.error && (\n              <ul className="error-messages">\n                {signInData.error.errors.body.map((error) => (\n                  <li key={error}>{error}</li>\n                ))}\n              </ul>\n            )}\n\n            <Form method="post">\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  name="email"\n                  type="text"\n                  placeholder="Email"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  name="password"\n                  type="password"\n                  placeholder="Password"\n                />\n              </fieldset>\n              <button className="btn btn-lg btn-primary pull-xs-right">\n                Sign in\n              </button>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/sign-in/index.ts"',children:"export { RegisterPage } from './ui/RegisterPage';\nexport { register } from './api/register';\nexport { SignInPage } from './ui/SignInPage';\nexport { signIn } from './api/sign-in';\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/login.tsx"',children:'import { SignInPage, signIn } from "pages/sign-in";\n\nexport { signIn as action };\n\nexport default SignInPage;\n'})}),"\n",(0,a.jsx)(e.p,{children:"B\xe2y gi\u1EDD h\xe3y cung c\u1EA5p cho ng\u01B0\u1EDDi d\xf9ng c\xe1ch th\u1EF1c s\u1EF1 \u0111\u1EBFn c\xe1c trang n\xe0y."}),"\n",(0,a.jsx)(e.h3,{id:"header",children:"Header"}),"\n",(0,a.jsx)(e.p,{children:"Nh\u01B0 ch\xfang ta \u0111\xe3 th\u1EA3o lu\u1EADn trong ph\u1EA7n 1, header app th\u01B0\u1EDDng \u0111\u01B0\u1EE3c \u0111\u1EB7t trong Widgets ho\u1EB7c trong Shared. Ch\xfang ta s\u1EBD \u0111\u1EB7t n\xf3 trong Shared v\xec n\xf3 r\u1EA5t \u0111\u01A1n gi\u1EA3n v\xe0 t\u1EA5t c\u1EA3 business logic c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c gi\u1EEF b\xean ngo\xe0i n\xf3. H\xe3y t\u1EA1o ch\u1ED7 cho n\xf3:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npx fsd shared ui\n"})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD t\u1EA1o ",(0,a.jsx)(e.code,{children:"shared/ui/Header.tsx"})," v\u1EDBi n\u1ED9i dung sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/ui/Header.tsx"',children:'import { useContext } from "react";\nimport { Link, useLocation } from "@remix-run/react";\n\nimport { CurrentUser } from "../api/currentUser";\n\nexport function Header() {\n  const currentUser = useContext(CurrentUser);\n  const { pathname } = useLocation();\n\n  return (\n    <nav className="navbar navbar-light">\n      <div className="container">\n        <Link className="navbar-brand" to="/" prefetch="intent">\n          conduit\n        </Link>\n        <ul className="nav navbar-nav pull-xs-right">\n          <li className="nav-item">\n            <Link\n              prefetch="intent"\n              className={`nav-link ${pathname == "/" ? "active" : ""}`}\n              to="/"\n            >\n              Home\n            </Link>\n          </li>\n          {currentUser == null ? (\n            <>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/login" ? "active" : ""}`}\n                  to="/login"\n                >\n                  Sign in\n                </Link>\n              </li>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/register" ? "active" : ""}`}\n                  to="/register"\n                >\n                  Sign up\n                </Link>\n              </li>\n            </>\n          ) : (\n            <>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/editor" ? "active" : ""}`}\n                  to="/editor"\n                >\n                  <i className="ion-compose"></i>&nbsp;New Article{" "}\n                </Link>\n              </li>\n\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/settings" ? "active" : ""}`}\n                  to="/settings"\n                >\n                  {" "}\n                  <i className="ion-gear-a"></i>&nbsp;Settings{" "}\n                </Link>\n              </li>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname.includes("/profile") ? "active" : ""}`}\n                  to={`/profile/${currentUser.username}`}\n                >\n                  {currentUser.image && (\n                    <img\n                      width={25}\n                      height={25}\n                      src={currentUser.image}\n                      className="user-pic"\n                      alt=""\n                    />\n                  )}\n                  {currentUser.username}\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Export component n\xe0y t\u1EEB ",(0,a.jsx)(e.code,{children:"shared/ui"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/ui/index.ts"',children:'export { Header } from "./Header";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Trong header, ch\xfang ta d\u1EF1a v\xe0o context \u0111\u01B0\u1EE3c gi\u1EEF trong ",(0,a.jsx)(e.code,{children:"shared/api"}),". C\u0169ng t\u1EA1o \u0111i\u1EC1u \u0111\xf3:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/currentUser.ts"',children:'import { createContext } from "react";\n\nimport type { User } from "./models";\n\nexport const CurrentUser = createContext<User | null>(null);\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n\nexport { createUserSession, getUserFromSession, requireUser } from "./auth.server";\nexport { CurrentUser } from "./currentUser";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD h\xe3y th\xeam header v\xe0o trang. Ch\xfang ta mu\u1ED1n n\xf3 c\xf3 tr\xean m\u1ECDi trang, v\xec v\u1EADy h\u1EE3p l\xfd khi ch\u1EC9 th\xeam n\xf3 v\xe0o root route v\xe0 wrap outlet (n\u01A1i trang s\u1EBD \u0111\u01B0\u1EE3c render) v\u1EDBi provider context ",(0,a.jsx)(e.code,{children:"CurrentUser"}),". Theo c\xe1ch n\xe0y, to\xe0n b\u1ED9 app c\u1EE7a ch\xfang ta v\xe0 c\u1EA3 header \u0111\u1EC1u c\xf3 quy\u1EC1n truy c\u1EADp v\xe0o object ng\u01B0\u1EDDi d\xf9ng hi\u1EC7n t\u1EA1i. Ch\xfang ta c\u0169ng s\u1EBD th\xeam loader \u0111\u1EC3 th\u1EF1c s\u1EF1 l\u1EA5y object ng\u01B0\u1EDDi d\xf9ng hi\u1EC7n t\u1EA1i t\u1EEB cookie. \u0110\u1EB7t n\u1ED9i dung sau v\xe0o ",(0,a.jsx)(e.code,{children:"app/root.tsx"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/root.tsx"',children:'import { cssBundleHref } from "@remix-run/css-bundle";\nimport type { LinksFunction, LoaderFunctionArgs } from "@remix-run/node";\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from "@remix-run/react";\n\nimport { Header } from "shared/ui";\nimport { getUserFromSession, CurrentUser } from "shared/api";\n\nexport const links: LinksFunction = () => [\n  ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),\n];\n\nexport const loader = ({ request }: LoaderFunctionArgs) =>\n  getUserFromSession(request);\n\nexport default function App() {\n  const user = useLoaderData<typeof loader>();\n\n  return (\n    <html lang="en">\n      <head>\n        <meta charSet="utf-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1" />\n        <Meta />\n        <Links />\n        <link\n          href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"\n          rel="stylesheet"\n          type="text/css"\n        />\n        <link\n          href="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic"\n          rel="stylesheet"\n          type="text/css"\n        />\n        <link rel="stylesheet" href="//demo.productionready.io/main.css" />\n        <style>{`\n          button {\n            border: 0;\n          }\n        `}</style>\n      </head>\n      <body>\n        <CurrentUser.Provider value={user}>\n          <Header />\n          <Outlet />\n        </CurrentUser.Provider>\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"T\u1EA1i th\u1EDDi \u0111i\u1EC3m n\xe0y, b\u1EA1n s\u1EBD c\xf3 k\u1EBFt qu\u1EA3 sau tr\xean trang ch\u1EE7:"}),"\n",(0,a.jsxs)("figure",{children:[(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.",src:t(2597).A+"",width:"2880",height:"1488"})}),(0,a.jsx)("figcaption",{children:"Trang feed c\u1EE7a Conduit, bao g\u1ED3m header, feed, v\xe0 c\xe1c tag. C\xe1c tab v\u1EABn c\xf2n thi\u1EBFu."})]}),"\n",(0,a.jsx)(e.h3,{id:"tab",children:"Tab"}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 ph\xe1t hi\u1EC7n tr\u1EA1ng th\xe1i authentication, h\xe3y c\u0169ng nhanh ch\xf3ng tri\u1EC3n khai c\xe1c tab v\xe0 like b\xe0i vi\u1EBFt \u0111\u1EC3 ho\xe0n th\xe0nh trang feed. Ch\xfang ta c\u1EA7n m\u1ED9t form kh\xe1c, nh\u01B0ng file trang n\xe0y \u0111ang tr\u1EDF n\xean kh\xe1 l\u1EDBn, v\xec v\u1EADy h\xe3y chuy\u1EC3n nh\u1EEFng form n\xe0y v\xe0o c\xe1c file li\u1EC1n k\u1EC1. Ch\xfang ta s\u1EBD t\u1EA1o ",(0,a.jsx)(e.code,{children:"Tabs.tsx"}),", ",(0,a.jsx)(e.code,{children:"PopularTags.tsx"}),", v\xe0 ",(0,a.jsx)(e.code,{children:"Pagination.tsx"})," v\u1EDBi n\u1ED9i dung sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/Tabs.tsx"',children:'import { useContext } from "react";\nimport { Form, useSearchParams } from "@remix-run/react";\n\nimport { CurrentUser } from "shared/api";\n\nexport function Tabs() {\n  const [searchParams] = useSearchParams();\n  const currentUser = useContext(CurrentUser);\n\n  return (\n    <Form>\n      <div className="feed-toggle">\n        <ul className="nav nav-pills outline-active">\n          {currentUser !== null && (\n            <li className="nav-item">\n              <button\n                name="source"\n                value="my-feed"\n                className={`nav-link ${searchParams.get("source") === "my-feed" ? "active" : ""}`}\n              >\n                Your Feed\n              </button>\n            </li>\n          )}\n          <li className="nav-item">\n            <button\n              className={`nav-link ${searchParams.has("tag") || searchParams.has("source") ? "" : "active"}`}\n            >\n              Global Feed\n            </button>\n          </li>\n          {searchParams.has("tag") && (\n            <li className="nav-item">\n              <span className="nav-link active">\n                <i className="ion-pound"></i> {searchParams.get("tag")}\n              </span>\n            </li>\n          )}\n        </ul>\n      </div>\n    </Form>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/PopularTags.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport type { loader } from "../api/loader";\n\nexport function PopularTags() {\n  const { tags } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="sidebar">\n      <p>Popular Tags</p>\n\n      <Form>\n        <ExistingSearchParams exclude={["tag", "page", "source"]} />\n        <div className="tag-list">\n          {tags.tags.map((tag) => (\n            <button\n              key={tag}\n              name="tag"\n              value={tag}\n              className="tag-pill tag-default"\n            >\n              {tag}\n            </button>\n          ))}\n        </div>\n      </Form>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/Pagination.tsx"',children:'import { Form, useLoaderData, useSearchParams } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport { LIMIT, type loader } from "../api/loader";\n\nexport function Pagination() {\n  const [searchParams] = useSearchParams();\n  const { articles } = useLoaderData<typeof loader>();\n  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);\n  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);\n\n  return (\n    <Form>\n      <ExistingSearchParams exclude={["page"]} />\n      <ul className="pagination">\n        {Array(pageAmount)\n          .fill(null)\n          .map((_, index) =>\n            index + 1 === currentPage ? (\n              <li key={index} className="page-item active">\n                <span className="page-link">{index + 1}</span>\n              </li>\n            ) : (\n              <li key={index} className="page-item">\n                <button className="page-link" name="page" value={index + 1}>\n                  {index + 1}\n                </button>\n              </li>\n            ),\n          )}\n      </ul>\n    </Form>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"V\xe0 b\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 \u0111\u01A1n gi\u1EA3n h\xf3a \u0111\xe1ng k\u1EC3 ch\xednh trang feed:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\nimport { Tabs } from "./Tabs";\nimport { PopularTags } from "./PopularTags";\nimport { Pagination } from "./Pagination";\n\nexport function FeedPage() {\n  const { articles } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            <Tabs />\n\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n\n            <Pagination />\n          </div>\n\n          <div className="col-md-3">\n            <PopularTags />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Ch\xfang ta c\u0169ng c\u1EA7n t\xednh \u0111\u1EBFn tab m\u1EDBi trong function loader:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET, requireUser } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  /* unchanged */\n}\n\n/** Amount of articles on one page. */\nexport const LIMIT = 20;\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n  const page = parseInt(url.searchParams.get("page") ?? "", 10);\n\n  if (url.searchParams.get("source") === "my-feed") {\n    const userSession = await requireUser(request);\n\n    return json(\n      await promiseHash({\n        articles: throwAnyErrors(\n          GET("/articles/feed", {\n            params: {\n              query: {\n                limit: LIMIT,\n                offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n              },\n            },\n            headers: { Authorization: `Token ${userSession.token}` },\n          }),\n        ),\n        tags: throwAnyErrors(GET("/tags")),\n      }),\n    );\n  }\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", {\n          params: {\n            query: {\n              tag: selectedTag,\n              limit: LIMIT,\n              offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n            },\n          },\n        }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Tr\u01B0\u1EDBc khi r\u1EDDi trang feed, h\xe3y th\xeam m\u1ED9t s\u1ED1 code x\u1EED l\xfd like cho b\xe0i vi\u1EBFt. Thay \u0111\u1ED5i ",(0,a.jsx)(e.code,{children:"ArticlePreview.tsx"})," c\u1EE7a b\u1EA1n th\xe0nh nh\u01B0 sau:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:'import { Form, Link } from "@remix-run/react";\nimport type { Article } from "shared/api";\n\ninterface ArticlePreviewProps {\n  article: Article;\n}\n\nexport function ArticlePreview({ article }: ArticlePreviewProps) {\n  return (\n    <div className="article-preview">\n      <div className="article-meta">\n        <Link to={`/profile/${article.author.username}`} prefetch="intent">\n          <img src={article.author.image} alt="" />\n        </Link>\n        <div className="info">\n          <Link\n            to={`/profile/${article.author.username}`}\n            className="author"\n            prefetch="intent"\n          >\n            {article.author.username}\n          </Link>\n          <span className="date" suppressHydrationWarning>\n            {new Date(article.createdAt).toLocaleDateString(undefined, {\n              dateStyle: "long",\n            })}\n          </span>\n        </div>\n        <Form\n          method="post"\n          action={`/article/${article.slug}`}\n          preventScrollReset\n        >\n          <button\n            name="_action"\n            value={article.favorited ? "unfavorite" : "favorite"}\n            className={`btn ${article.favorited ? "btn-primary" : "btn-outline-primary"} btn-sm pull-xs-right`}\n          >\n            <i className="ion-heart"></i> {article.favoritesCount}\n          </button>\n        </Form>\n      </div>\n      <Link\n        to={`/article/${article.slug}`}\n        className="preview-link"\n        prefetch="intent"\n      >\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className="tag-list">\n          {article.tagList.map((tag) => (\n            <li key={tag} className="tag-default tag-pill tag-outline">\n              {tag}\n            </li>\n          ))}\n        </ul>\n      </Link>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Code n\xe0y s\u1EBD g\u1EEDi POST request \u0111\u1EBFn ",(0,a.jsx)(e.code,{children:"/article/:slug"})," v\u1EDBi ",(0,a.jsx)(e.code,{children:"_action=favorite"})," \u0111\u1EC3 \u0111\xe1nh d\u1EA5u article l\xe0 y\xeau th\xedch. N\xf3 ch\u01B0a ho\u1EA1t \u0111\u1ED9ng, nh\u01B0ng khi ch\xfang ta b\u1EAFt \u0111\u1EA7u l\xe0m vi\u1EC7c tr\xean tr\xecnh \u0111\u1ECDc article, ch\xfang ta c\u0169ng s\u1EBD tri\u1EC3n khai \u0111i\u1EC1u n\xe0y."]}),"\n",(0,a.jsx)(e.p,{children:"V\xe0 v\u1EDBi \u0111i\u1EC1u \u0111\xf3, ch\xfang ta \u0111\xe3 ch\xednh th\u1EE9c ho\xe0n th\xe0nh feed! Yay!"}),"\n",(0,a.jsx)(e.h3,{id:"tr\xecnh-\u0111\u1ECDc-article",children:"Tr\xecnh \u0111\u1ECDc article"}),"\n",(0,a.jsx)(e.p,{children:"Tr\u01B0\u1EDBc ti\xean, ch\xfang ta c\u1EA7n d\u1EEF li\u1EC7u. H\xe3y t\u1EA1o m\u1ED9t loader:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npx fsd pages article-read -s api\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport invariant from "tiny-invariant";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET, getUserFromSession } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  invariant(params.slug, "Expected a slug parameter");\n  const currentUser = await getUserFromSession(request);\n  const authorization = currentUser\n    ? { Authorization: `Token ${currentUser.token}` }\n    : undefined;\n\n  return json(\n    await promiseHash({\n      article: throwAnyErrors(\n        GET("/articles/{slug}", {\n          params: {\n            path: { slug: params.slug },\n          },\n          headers: authorization,\n        }),\n      ),\n      comments: throwAnyErrors(\n        GET("/articles/{slug}/comments", {\n          params: {\n            path: { slug: params.slug },\n          },\n          headers: authorization,\n        }),\n      ),\n    }),\n  );\n};\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/index.ts"',children:'export { loader } from "./api/loader";\n'})}),"\n",(0,a.jsxs)(e.p,{children:["B\xe2y gi\u1EDD ch\xfang ta c\xf3 th\u1EC3 k\u1EBFt n\u1ED1i n\xf3 v\u1EDBi route ",(0,a.jsx)(e.code,{children:"/article/:slug"})," b\u1EB1ng c\xe1ch t\u1EA1o file route c\xf3 t\xean ",(0,a.jsx)(e.code,{children:"article.$slug.tsx"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/article.$slug.tsx"',children:'export { loader } from "pages/article-read";\n'})}),"\n",(0,a.jsx)(e.p,{children:"Ch\xednh trang bao g\u1ED3m ba kh\u1ED1i ch\xednh \u2014 header article v\u1EDBi c\xe1c action (l\u1EB7p l\u1EA1i hai l\u1EA7n), n\u1ED9i dung article, v\xe0 ph\u1EA7n comment. \u0110\xe2y l\xe0 markup cho trang, n\xf3 kh\xf4ng \u0111\u1EB7c bi\u1EC7t th\xfa v\u1ECB:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/ArticleReadPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticleMeta } from "./ArticleMeta";\nimport { Comments } from "./Comments";\n\nexport function ArticleReadPage() {\n  const { article } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="article-page">\n      <div className="banner">\n        <div className="container">\n          <h1>{article.article.title}</h1>\n\n          <ArticleMeta />\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row article-content">\n          <div className="col-md-12">\n            <p>{article.article.body}</p>\n            <ul className="tag-list">\n              {article.article.tagList.map((tag) => (\n                <li className="tag-default tag-pill tag-outline" key={tag}>\n                  {tag}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        <hr />\n\n        <div className="article-actions">\n          <ArticleMeta />\n        </div>\n\n        <div className="row">\n          <Comments />\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u0110i\u1EC1u th\xfa v\u1ECB h\u01A1n l\xe0 ",(0,a.jsx)(e.code,{children:"ArticleMeta"})," v\xe0 ",(0,a.jsx)(e.code,{children:"Comments"}),". Ch\xfang ch\u1EE9a c\xe1c thao t\xe1c ghi nh\u01B0 th\xedch article, \u0111\u1EC3 l\u1EA1i comment, v.v. \u0110\u1EC3 ch\xfang ho\u1EA1t \u0111\u1ED9ng, tr\u01B0\u1EDBc ti\xean ch\xfang ta c\u1EA7n tri\u1EC3n khai ph\u1EA7n backend. T\u1EA1o ",(0,a.jsx)(e.code,{children:"action.ts"})," trong segment ",(0,a.jsx)(e.code,{children:"api"})," c\u1EE7a trang:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/api/action.ts"',children:'import { redirect, type ActionFunctionArgs } from "@remix-run/node";\nimport { namedAction } from "remix-utils/named-action";\nimport { redirectBack } from "remix-utils/redirect-back";\nimport invariant from "tiny-invariant";\n\nimport { DELETE, POST, requireUser } from "shared/api";\n\nexport const action = async ({ request, params }: ActionFunctionArgs) => {\n  const currentUser = await requireUser(request);\n\n  const authorization = { Authorization: `Token ${currentUser.token}` };\n\n  const formData = await request.formData();\n\n  return namedAction(formData, {\n    async delete() {\n      invariant(params.slug, "Expected a slug parameter");\n      await DELETE("/articles/{slug}", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirect("/");\n    },\n    async favorite() {\n      invariant(params.slug, "Expected a slug parameter");\n      await POST("/articles/{slug}/favorite", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async unfavorite() {\n      invariant(params.slug, "Expected a slug parameter");\n      await DELETE("/articles/{slug}/favorite", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async createComment() {\n      invariant(params.slug, "Expected a slug parameter");\n      const comment = formData.get("comment");\n      invariant(typeof comment === "string", "Expected a comment parameter");\n      await POST("/articles/{slug}/comments", {\n        params: { path: { slug: params.slug } },\n        headers: { ...authorization, "Content-Type": "application/json" },\n        body: { comment: { body: comment } },\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async deleteComment() {\n      invariant(params.slug, "Expected a slug parameter");\n      const commentId = formData.get("id");\n      invariant(typeof commentId === "string", "Expected an id parameter");\n      const commentIdNumeric = parseInt(commentId, 10);\n      invariant(\n        !Number.isNaN(commentIdNumeric),\n        "Expected a numeric id parameter",\n      );\n      await DELETE("/articles/{slug}/comments/{id}", {\n        params: { path: { slug: params.slug, id: commentIdNumeric } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async followAuthor() {\n      const authorUsername = formData.get("username");\n      invariant(\n        typeof authorUsername === "string",\n        "Expected a username parameter",\n      );\n      await POST("/profiles/{username}/follow", {\n        params: { path: { username: authorUsername } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async unfollowAuthor() {\n      const authorUsername = formData.get("username");\n      invariant(\n        typeof authorUsername === "string",\n        "Expected a username parameter",\n      );\n      await DELETE("/profiles/{username}/follow", {\n        params: { path: { username: authorUsername } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n  });\n};\n'})}),"\n",(0,a.jsx)(e.p,{children:"Export \u0111i\u1EC1u \u0111\xf3 t\u1EEB slice v\xe0 sau \u0111\xf3 t\u1EEB route. Trong khi l\xe0m \u0111i\u1EC1u \u0111\xf3, h\xe3y c\u0169ng k\u1EBFt n\u1ED1i ch\xednh trang:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/index.ts"',children:'export { ArticleReadPage } from "./ui/ArticleReadPage";\nexport { loader } from "./api/loader";\nexport { action } from "./api/action";\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/article.$slug.tsx"',children:'import { ArticleReadPage } from "pages/article-read";\n\nexport { loader, action } from "pages/article-read";\n\nexport default ArticleReadPage;\n'})}),"\n",(0,a.jsx)(e.p,{children:'B\xe2y gi\u1EDD, m\u1EB7c d\xf9 ch\xfang ta ch\u01B0a tri\u1EC3n khai button like tr\xean trang \u0111\u1ECDc, button like trong feed s\u1EBD b\u1EAFt \u0111\u1EA7u ho\u1EA1t \u0111\u1ED9ng! \u0110\xf3 l\xe0 v\xec n\xf3 \u0111\xe3 g\u1EEDi request "like" \u0111\u1EBFn route n\xe0y. H\xe3y th\u1EED \u0111i\u1EC1u \u0111\xf3.'}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"ArticleMeta"})," v\xe0 ",(0,a.jsx)(e.code,{children:"Comments"}),", m\u1ED9t l\u1EA7n n\u1EEFa, l\xe0 m\u1ED9t lo\u1EA1t form. Ch\xfang ta \u0111\xe3 l\xe0m \u0111i\u1EC1u n\xe0y tr\u01B0\u1EDBc \u0111\xe2y, h\xe3y l\u1EA5y code c\u1EE7a ch\xfang v\xe0 ti\u1EBFp t\u1EE5c:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/ArticleMeta.tsx"',children:'import { Form, Link, useLoaderData } from "@remix-run/react";\nimport { useContext } from "react";\n\nimport { CurrentUser } from "shared/api";\nimport type { loader } from "../api/loader";\n\nexport function ArticleMeta() {\n  const currentUser = useContext(CurrentUser);\n  const { article } = useLoaderData<typeof loader>();\n\n  return (\n    <Form method="post">\n      <div className="article-meta">\n        <Link\n          prefetch="intent"\n          to={`/profile/${article.article.author.username}`}\n        >\n          <img src={article.article.author.image} alt="" />\n        </Link>\n\n        <div className="info">\n          <Link\n            prefetch="intent"\n            to={`/profile/${article.article.author.username}`}\n            className="author"\n          >\n            {article.article.author.username}\n          </Link>\n          <span className="date">{article.article.createdAt}</span>\n        </div>\n\n        {article.article.author.username == currentUser?.username ? (\n          <>\n            <Link\n              prefetch="intent"\n              to={`/editor/${article.article.slug}`}\n              className="btn btn-sm btn-outline-secondary"\n            >\n              <i className="ion-edit"></i> Edit Article\n            </Link>\n            &nbsp;&nbsp;\n            <button\n              name="_action"\n              value="delete"\n              className="btn btn-sm btn-outline-danger"\n            >\n              <i className="ion-trash-a"></i> Delete Article\n            </button>\n          </>\n        ) : (\n          <>\n            <input\n              name="username"\n              value={article.article.author.username}\n              type="hidden"\n            />\n            <button\n              name="_action"\n              value={\n                article.article.author.following\n                  ? "unfollowAuthor"\n                  : "followAuthor"\n              }\n              className={`btn btn-sm ${article.article.author.following ? "btn-secondary" : "btn-outline-secondary"}`}\n            >\n              <i className="ion-plus-round"></i>\n              &nbsp;{" "}\n              {article.article.author.following\n                ? "Unfollow"\n                : "Follow"}{" "}\n              {article.article.author.username}\n            </button>\n            &nbsp;&nbsp;\n            <button\n              name="_action"\n              value={article.article.favorited ? "unfavorite" : "favorite"}\n              className={`btn btn-sm ${article.article.favorited ? "btn-primary" : "btn-outline-primary"}`}\n            >\n              <i className="ion-heart"></i>\n              &nbsp; {article.article.favorited\n                ? "Unfavorite"\n                : "Favorite"}{" "}\n              Post{" "}\n              <span className="counter">\n                ({article.article.favoritesCount})\n              </span>\n            </button>\n          </>\n        )}\n      </div>\n    </Form>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/Comments.tsx"',children:'import { useContext } from "react";\nimport { Form, Link, useLoaderData } from "@remix-run/react";\n\nimport { CurrentUser } from "shared/api";\nimport type { loader } from "../api/loader";\n\nexport function Comments() {\n  const { comments } = useLoaderData<typeof loader>();\n  const currentUser = useContext(CurrentUser);\n\n  return (\n    <div className="col-xs-12 col-md-8 offset-md-2">\n      {currentUser !== null ? (\n        <Form\n          preventScrollReset={true}\n          method="post"\n          className="card comment-form"\n        >\n          <div className="card-block">\n            <textarea\n              required\n              className="form-control"\n              name="comment"\n              placeholder="Write a comment..."\n              rows={3}\n            ></textarea>\n          </div>\n          <div className="card-footer">\n            <img\n              src={currentUser.image}\n              className="comment-author-img"\n              alt=""\n            />\n            <button\n              className="btn btn-sm btn-primary"\n              name="_action"\n              value="createComment"\n            >\n              Post Comment\n            </button>\n          </div>\n        </Form>\n      ) : (\n        <div className="row">\n          <div className="col-xs-12 col-md-8 offset-md-2">\n            <p>\n              <Link to="/login">Sign in</Link>\n              &nbsp; or &nbsp;\n              <Link to="/register">Sign up</Link>\n              &nbsp; to add comments on this article.\n            </p>\n          </div>\n        </div>\n      )}\n\n      {comments.comments.map((comment) => (\n        <div className="card" key={comment.id}>\n          <div className="card-block">\n            <p className="card-text">{comment.body}</p>\n          </div>\n\n          <div className="card-footer">\n            <Link\n              to={`/profile/${comment.author.username}`}\n              className="comment-author"\n            >\n              <img\n                src={comment.author.image}\n                className="comment-author-img"\n                alt=""\n              />\n            </Link>\n            &nbsp;\n            <Link\n              to={`/profile/${comment.author.username}`}\n              className="comment-author"\n            >\n              {comment.author.username}\n            </Link>\n            <span className="date-posted">{comment.createdAt}</span>\n            {comment.author.username === currentUser?.username && (\n              <span className="mod-options">\n                <Form method="post" preventScrollReset={true}>\n                  <input type="hidden" name="id" value={comment.id} />\n                  <button\n                    name="_action"\n                    value="deleteComment"\n                    style={{\n                      border: "none",\n                      outline: "none",\n                      backgroundColor: "transparent",\n                    }}\n                  >\n                    <i className="ion-trash-a"></i>\n                  </button>\n                </Form>\n              </span>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"V\xe0 v\u1EDBi \u0111i\u1EC1u \u0111\xf3, tr\xecnh \u0111\u1ECDc article c\u1EE7a ch\xfang ta c\u0169ng ho\xe0n th\xe0nh! C\xe1c button theo d\xf5i t\xe1c gi\u1EA3, th\xedch b\xe0i vi\u1EBFt, v\xe0 \u0111\u1EC3 l\u1EA1i comment gi\u1EDD \u0111\xe2y s\u1EBD ho\u1EA1t \u0111\u1ED9ng nh\u01B0 mong \u0111\u1EE3i."}),"\n",(0,a.jsxs)("figure",{children:[(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"Article reader with functioning buttons to like and follow",src:t(4239).A+"",width:"2880",height:"1488"})}),(0,a.jsx)("figcaption",{children:"Tr\xecnh \u0111\u1ECDc article v\u1EDBi c\xe1c button ho\u1EA1t \u0111\u1ED9ng \u0111\u1EC3 th\xedch v\xe0 theo d\xf5i"})]}),"\n",(0,a.jsx)(e.h3,{id:"tr\xecnh-ch\u1EC9nh-s\u1EEDa-article",children:"Tr\xecnh ch\u1EC9nh s\u1EEDa article"}),"\n",(0,a.jsx)(e.p,{children:"\u0110\xe2y l\xe0 trang cu\u1ED1i c\xf9ng m\xe0 ch\xfang ta s\u1EBD \u0111\u1EC1 c\u1EADp trong tutorial n\xe0y, v\xe0 ph\u1EA7n th\xfa v\u1ECB nh\u1EA5t \u1EDF \u0111\xe2y l\xe0 c\xe1ch ch\xfang ta s\u1EBD validate d\u1EEF li\u1EC7u form."}),"\n",(0,a.jsxs)(e.p,{children:["Ch\xednh trang, ",(0,a.jsx)(e.code,{children:"article-edit/ui/ArticleEditPage.tsx"}),", s\u1EBD kh\xe1 \u0111\u01A1n gi\u1EA3n, \u0111\u1ED9 ph\u1EE9c t\u1EA1p b\u1ED5 sung \u0111\u01B0\u1EE3c c\u1EA5t gi\u1EA5u trong hai component kh\xe1c:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/ArticleEditPage.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { TagsInput } from "./TagsInput";\nimport { FormErrors } from "./FormErrors";\n\nexport function ArticleEditPage() {\n  const article = useLoaderData<typeof loader>();\n\n  return (\n    <div className="editor-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-10 offset-md-1 col-xs-12">\n            <FormErrors />\n\n            <Form method="post">\n              <fieldset>\n                <fieldset className="form-group">\n                  <input\n                    type="text"\n                    className="form-control form-control-lg"\n                    name="title"\n                    placeholder="Article Title"\n                    defaultValue={article.article?.title}\n                  />\n                </fieldset>\n                <fieldset className="form-group">\n                  <input\n                    type="text"\n                    className="form-control"\n                    name="description"\n                    placeholder="What\'s this article about?"\n                    defaultValue={article.article?.description}\n                  />\n                </fieldset>\n                <fieldset className="form-group">\n                  <textarea\n                    className="form-control"\n                    name="body"\n                    rows={8}\n                    placeholder="Write your article (in markdown)"\n                    defaultValue={article.article?.body}\n                  ></textarea>\n                </fieldset>\n                <fieldset className="form-group">\n                  <TagsInput\n                    name="tags"\n                    defaultValue={article.article?.tagList ?? []}\n                  />\n                </fieldset>\n\n                <button className="btn btn-lg pull-xs-right btn-primary">\n                  Publish Article\n                </button>\n              </fieldset>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Trang n\xe0y l\u1EA5y article hi\u1EC7n t\u1EA1i (tr\u1EEB khi ch\xfang ta vi\u1EBFt t\u1EEB \u0111\u1EA7u) v\xe0 \u0111i\u1EC1n v\xe0o c\xe1c tr\u01B0\u1EDDng form t\u01B0\u01A1ng \u1EE9ng. Ch\xfang ta \u0111\xe3 th\u1EA5y \u0111i\u1EC1u n\xe0y tr\u01B0\u1EDBc \u0111\xe2y. Ph\u1EA7n th\xfa v\u1ECB l\xe0 ",(0,a.jsx)(e.code,{children:"FormErrors"}),", v\xec n\xf3 s\u1EBD nh\u1EADn k\u1EBFt qu\u1EA3 validation v\xe0 hi\u1EC3n th\u1ECB cho ng\u01B0\u1EDDi d\xf9ng. H\xe3y xem:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/FormErrors.tsx"',children:'import { useActionData } from "@remix-run/react";\nimport type { action } from "../api/action";\n\nexport function FormErrors() {\n  const actionData = useActionData<typeof action>();\n\n  return actionData?.errors != null ? (\n    <ul className="error-messages">\n      {actionData.errors.map((error) => (\n        <li key={error}>{error}</li>\n      ))}\n    </ul>\n  ) : null;\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["\u1EDE \u0111\xe2y ch\xfang ta gi\u1EA3 \u0111\u1ECBnh r\u1EB1ng action c\u1EE7a ch\xfang ta s\u1EBD tr\u1EA3 v\u1EC1 tr\u01B0\u1EDDng ",(0,a.jsx)(e.code,{children:"errors"}),", m\u1ED9t m\u1EA3ng c\xe1c th\xf4ng b\xe1o l\u1ED7i c\xf3 th\u1EC3 \u0111\u1ECDc \u0111\u01B0\u1EE3c. Ch\xfang ta s\u1EBD \u0111\u1EBFn action ngay."]}),"\n",(0,a.jsx)(e.p,{children:"Component kh\xe1c l\xe0 input tag. N\xf3 ch\u1EC9 l\xe0 tr\u01B0\u1EDDng input \u0111\u01A1n gi\u1EA3n v\u1EDBi preview b\u1ED5 sung c\u1EE7a c\xe1c tag \u0111\xe3 ch\u1ECDn. Kh\xf4ng c\xf3 g\xec nhi\u1EC1u \u0111\u1EC3 xem \u1EDF \u0111\xe2y:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/TagsInput.tsx"',children:'import { useEffect, useRef, useState } from "react";\n\nexport function TagsInput({\n  name,\n  defaultValue,\n}: {\n  name: string;\n  defaultValue?: Array<string>;\n}) {\n  const [tagListState, setTagListState] = useState(defaultValue ?? []);\n\n  function removeTag(tag: string): void {\n    const newTagList = tagListState.filter((t) => t !== tag);\n    setTagListState(newTagList);\n  }\n\n  const tagsInput = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    tagsInput.current && (tagsInput.current.value = tagListState.join(","));\n  }, [tagListState]);\n\n  return (\n    <>\n      <input\n        type="text"\n        className="form-control"\n        id="tags"\n        name={name}\n        placeholder="Enter tags"\n        defaultValue={tagListState.join(",")}\n        onChange={(e) =>\n          setTagListState(e.target.value.split(",").filter(Boolean))\n        }\n      />\n      <div className="tag-list">\n        {tagListState.map((tag) => (\n          <span className="tag-default tag-pill" key={tag}>\n            <i\n              className="ion-close-round"\n              role="button"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                [" ", "Enter"].includes(e.key) && removeTag(tag)\n              }\n              onClick={() => removeTag(tag)}\n            ></i>{" "}\n            {tag}\n          </span>\n        ))}\n      </div>\n    </>\n  );\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"B\xe2y gi\u1EDD, cho ph\u1EA7n API. Loader n\xean nh\xecn v\xe0o URL, v\xe0 n\u1EBFu n\xf3 ch\u1EE9a article slug, c\xf3 ngh\u0129a l\xe0 ch\xfang ta \u0111ang ch\u1EC9nh s\u1EEDa article hi\u1EC7n c\xf3, v\xe0 d\u1EEF li\u1EC7u c\u1EE7a n\xf3 n\xean \u0111\u01B0\u1EE3c t\u1EA3i. N\u1EBFu kh\xf4ng, tr\u1EA3 v\u1EC1 kh\xf4ng c\xf3 g\xec. H\xe3y t\u1EA1o loader \u0111\xf3:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",metastring:'title="pages/article-edit/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\n\nimport { GET, requireUser } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ params, request }: LoaderFunctionArgs) => {\n  const currentUser = await requireUser(request);\n\n  if (!params.slug) {\n    return { article: null };\n  }\n\n  return throwAnyErrors(\n    GET("/articles/{slug}", {\n      params: { path: { slug: params.slug } },\n      headers: { Authorization: `Token ${currentUser.token}` },\n    }),\n  );\n};\n'})}),"\n",(0,a.jsx)(e.p,{children:"Action s\u1EBD l\u1EA5y c\xe1c gi\xe1 tr\u1ECB tr\u01B0\u1EDDng m\u1EDBi, ch\u1EA1y ch\xfang qua data schema c\u1EE7a ch\xfang ta, v\xe0 n\u1EBFu m\u1ECDi th\u1EE9 \u0111\u1EC1u \u0111\xfang, commit nh\u1EEFng thay \u0111\u1ED5i \u0111\xf3 \u0111\u1EBFn backend, ho\u1EB7c b\u1EB1ng c\xe1ch c\u1EADp nh\u1EADt article hi\u1EC7n c\xf3 ho\u1EB7c t\u1EA1o m\u1ED9t article m\u1EDBi:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/api/action.ts"',children:'import { json, redirect, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, PUT, requireUser } from "shared/api";\nimport { parseAsArticle } from "../model/parseAsArticle";\n\nexport const action = async ({ request, params }: ActionFunctionArgs) => {\n  try {\n    const { body, description, title, tags } = parseAsArticle(\n      await request.formData(),\n    );\n    const tagList = tags?.split(",") ?? [];\n\n    const currentUser = await requireUser(request);\n    const payload = {\n      body: {\n        article: {\n          title,\n          description,\n          body,\n          tagList,\n        },\n      },\n      headers: { Authorization: `Token ${currentUser.token}` },\n    };\n\n    const { data, error } = await (params.slug\n      ? PUT("/articles/{slug}", {\n          params: { path: { slug: params.slug } },\n          ...payload,\n        })\n      : POST("/articles", payload));\n\n    if (error) {\n      return json({ errors: error }, { status: 422 });\n    }\n\n    return redirect(`/article/${data.article.slug ?? ""}`);\n  } catch (errors) {\n    return json({ errors }, { status: 400 });\n  }\n};\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Schema c\xf3 vai tr\xf2 k\xe9p nh\u01B0 m\u1ED9t function ph\xe2n t\xedch cho ",(0,a.jsx)(e.code,{children:"FormData"}),", cho ph\xe9p ch\xfang ta thu\u1EADn ti\u1EC7n l\u1EA5y c\xe1c tr\u01B0\u1EDDng s\u1EA1ch ho\u1EB7c ch\u1EC9 throw l\u1ED7i \u0111\u1EC3 x\u1EED l\xfd \u1EDF cu\u1ED1i. \u0110\xe2y l\xe0 c\xe1ch function ph\xe2n t\xedch \u0111\xf3 c\xf3 th\u1EC3 tr\xf4ng nh\u01B0 th\u1EBF n\xe0o:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/model/parseAsArticle.ts"',children:'export function parseAsArticle(data: FormData) {\n  const errors = [];\n\n  const title = data.get("title");\n  if (typeof title !== "string" || title === "") {\n    errors.push("Give this article a title");\n  }\n\n  const description = data.get("description");\n  if (typeof description !== "string" || description === "") {\n    errors.push("Describe what this article is about");\n  }\n\n  const body = data.get("body");\n  if (typeof body !== "string" || body === "") {\n    errors.push("Write the article itself");\n  }\n\n  const tags = data.get("tags");\n  if (typeof tags !== "string") {\n    errors.push("The tags must be a string");\n  }\n\n  if (errors.length > 0) {\n    throw errors;\n  }\n\n  return { title, description, body, tags: data.get("tags") ?? "" } as {\n    title: string;\n    description: string;\n    body: string;\n    tags: string;\n  };\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"C\xf3 th\u1EC3 n\xf3i, n\xf3 h\u01A1i d\xe0i v\xe0 l\u1EB7p l\u1EA1i, nh\u01B0ng \u0111\xf3 l\xe0 c\xe1i gi\xe1 ch\xfang ta ph\u1EA3i tr\u1EA3 cho c\xe1c l\u1ED7i c\xf3 th\u1EC3 \u0111\u1ECDc \u0111\u01B0\u1EE3c. \u0110i\u1EC1u n\xe0y c\u0169ng c\xf3 th\u1EC3 l\xe0 Zod schema, v\xed d\u1EE5, nh\u01B0ng sau \u0111\xf3 ch\xfang ta s\u1EBD ph\u1EA3i render th\xf4ng b\xe1o l\u1ED7i tr\xean frontend, v\xe0 form n\xe0y kh\xf4ng \u0111\xe1ng \u0111\u1EC3 ph\u1EE9c t\u1EA1p h\xf3a."}),"\n",(0,a.jsxs)(e.p,{children:["M\u1ED9t b\u01B0\u1EDBc cu\u1ED1i c\xf9ng \u2014 k\u1EBFt n\u1ED1i trang, loader, v\xe0 action v\u1EDBi c\xe1c route. V\xec ch\xfang ta h\u1ED7 tr\u1EE3 g\u1ECDn g\xe0ng c\u1EA3 t\u1EA1o v\xe0 ch\u1EC9nh s\u1EEDa, ch\xfang ta c\xf3 th\u1EC3 export c\xf9ng m\u1ED9t th\u1EE9 t\u1EEB c\u1EA3 ",(0,a.jsx)(e.code,{children:"editor._index.tsx"})," v\xe0 ",(0,a.jsx)(e.code,{children:"editor.$slug.tsx"}),":"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="pages/article-edit/index.ts"',children:'export { ArticleEditPage } from "./ui/ArticleEditPage";\nexport { loader } from "./api/loader";\nexport { action } from "./api/action";\n'})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:'title="app/routes/editor._index.tsx, app/routes/editor.$slug.tsx (same content)"',children:'import { ArticleEditPage } from "pages/article-edit";\n\nexport { loader, action } from "pages/article-edit";\n\nexport default ArticleEditPage;\n'})}),"\n",(0,a.jsx)(e.p,{children:'Ch\xfang ta ho\xe0n th\xe0nh r\u1ED3i! \u0110\u0103ng nh\u1EADp v\xe0 th\u1EED t\u1EA1o article m\u1EDBi. Ho\u1EB7c "qu\xean" vi\u1EBFt article v\xe0 xem validation ho\u1EA1t \u0111\u1ED9ng.'}),"\n",(0,a.jsxs)("figure",{children:[(0,a.jsx)(e.p,{children:(0,a.jsx)(e.img,{alt:"The Conduit article editor, with the title field saying &quot;New article&quot; and the rest of the fields empty. Above the form there are two errors: &quot;Describe what this article is about&quot; and &quot;Write the article itself&quot;.",src:t(7777).A+"",width:"2880",height:"1488"})}),(0,a.jsxs)("figcaption",{children:['Tr\xecnh ch\u1EC9nh s\u1EEDa article Conduit, v\u1EDBi tr\u01B0\u1EDDng ti\xeau \u0111\u1EC1 n\xf3i "New article" v\xe0 ph\u1EA7n c\xf2n l\u1EA1i c\u1EE7a c\xe1c tr\u01B0\u1EDDng tr\u1ED1ng. Ph\xeda tr\xean form c\xf3 hai l\u1ED7i: ',(0,a.jsx)(e.strong,{children:'"Describe what this article is about"'})," v\xe0 ",(0,a.jsx)(e.strong,{children:'"Write the article itself"'}),"."]})]}),"\n",(0,a.jsx)(e.p,{children:"C\xe1c trang profile v\xe0 settings r\u1EA5t gi\u1ED1ng v\u1EDBi tr\xecnh \u0111\u1ECDc v\xe0 ch\u1EC9nh s\u1EEDa article, ch\xfang \u0111\u01B0\u1EE3c \u0111\u1EC3 l\u1EA1i nh\u01B0 b\xe0i t\u1EADp cho ng\u01B0\u1EDDi \u0111\u1ECDc, \u0111\xf3 l\xe0 b\u1EA1n :)"})]})}function h(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},1565:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/conduit-banner-a20e38edcd109ee21a8b1426d93a66b3.jpg"},7777:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-article-editor-bc3ee45c96ae905fdbb54d6463d12723.jpg"},4239:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-article-reader-6a420e4f2afe139d2bdd54d62974f0b9.jpg"},5888:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-editor-authenticated-10de4d01479270886859e08592045b1e.jpg"},6549:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg"},4919:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-feed-authenticated-15427d9ff7baae009b47b501bee6c059.jpg"},2597:function(n,e,t){t.d(e,{A:()=>r});let r=t.p+"assets/images/realworld-feed-without-tabs-5da4c9072101ac20e82e2234bd3badbe.jpg"},6436:function(n,e,t){t.d(e,{R:()=>s,x:()=>c});var r=t(9729);let a={},i=r.createContext(a);function s(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);