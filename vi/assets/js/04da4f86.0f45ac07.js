"use strict";(self.webpackChunk_feature_sliced_documentation=self.webpackChunk_feature_sliced_documentation||[]).push([["4799"],{6846:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>r,toc:()=>a,default:()=>l,metadata:()=>s,assets:()=>h,contentTitle:()=>o});var s=JSON.parse('{"id":"guides/examples/types","title":"Types","description":"H\u01B0\u1EDBng d\u1EABn n\xe0y li\xean quan \u0111\u1EBFn data types t\u1EEB c\xe1c typed languages nh\u01B0 TypeScript v\xe0 m\xf4 t\u1EA3 ch\xfang ph\xf9 h\u1EE3p \u1EDF \u0111\xe2u trong FSD.","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/guides/examples/types.md","sourceDirName":"guides/examples","slug":"/guides/examples/types","permalink":"/documentation/vi/docs/guides/examples/types","draft":false,"unlisted":false,"editUrl":"https://github.com/feature-sliced/documentation/edit/master/i18n/vi/docusaurus-plugin-content-docs/current/guides/examples/types.md","tags":[],"version":"current","lastUpdatedAt":1764876209000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Authentication","permalink":"/documentation/vi/docs/guides/examples/auth"},"next":{"title":"Page layouts","permalink":"/documentation/vi/docs/guides/examples/page-layout"}}'),i=t(5813),c=t(6436);let r={sidebar_position:2},o="Types",h={},a=[{value:"Utility types",id:"utility-types",level:2},{value:"Business entities v\xe0 cross-references c\u1EE7a ch\xfang",id:"business-entities-v\xe0-cross-references-c\u1EE7a-ch\xfang",level:2},{value:"Data transfer objects v\xe0 mappers",id:"data-transfer-objects-and-mappers",level:2},{value:"\u0110\u1EB7t DTOs \u1EDF \u0111\xe2u",id:"\u0111\u1EB7t-dtos-\u1EDF-\u0111\xe2u",level:3},{value:"\u0110\u1EB7t mappers \u1EDF \u0111\xe2u",id:"\u0111\u1EB7t-mappers-\u1EDF-\u0111\xe2u",level:3},{value:"C\xe1ch x\u1EED l\xfd nested DTOs",id:"c\xe1ch-x\u1EED-l\xfd-nested-dtos",level:3},{value:"Global types v\xe0 Redux",id:"global-types-v\xe0-redux",level:2},{value:"Enums",id:"enums",level:2},{value:"Type validation schemas v\xe0 Zod",id:"type-validation-schemas-v\xe0-zod",level:2},{value:"Typings c\u1EE7a component props v\xe0 context",id:"typings-c\u1EE7a-component-props-v\xe0-context",level:2},{value:"Ambient declaration files (<code>*.d.ts</code>)",id:"ambient-declaration-files-dts",level:2},{value:"T\u1EF1 \u0111\u1ED9ng sinh types",id:"t\u1EF1-\u0111\u1ED9ng-sinh-types",level:2}];function d(n){let e={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"types",children:"Types"})}),"\n",(0,i.jsx)(e.p,{children:"H\u01B0\u1EDBng d\u1EABn n\xe0y li\xean quan \u0111\u1EBFn data types t\u1EEB c\xe1c typed languages nh\u01B0 TypeScript v\xe0 m\xf4 t\u1EA3 ch\xfang ph\xf9 h\u1EE3p \u1EDF \u0111\xe2u trong FSD."}),"\n",(0,i.jsx)(e.admonition,{type:"info",children:(0,i.jsx)(e.p,{children:"C\xe2u h\u1ECFi c\u1EE7a b\u1EA1n kh\xf4ng \u0111\u01B0\u1EE3c \u0111\u1EC1 c\u1EADp trong h\u01B0\u1EDBng d\u1EABn n\xe0y? \u0110\u0103ng c\xe2u h\u1ECFi c\u1EE7a b\u1EA1n b\u1EB1ng c\xe1ch \u0111\u1EC3 l\u1EA1i feedback tr\xean b\xe0i vi\u1EBFt n\xe0y (n\xfat xanh \u1EDF b\xean ph\u1EA3i) v\xe0 ch\xfang t\xf4i s\u1EBD c\xe2n nh\u1EAFc m\u1EDF r\u1ED9ng h\u01B0\u1EDBng d\u1EABn n\xe0y!"})}),"\n",(0,i.jsx)(e.h2,{id:"utility-types",children:"Utility types"}),"\n",(0,i.jsx)(e.p,{children:"Utility types l\xe0 c\xe1c types kh\xf4ng c\xf3 nhi\u1EC1u \xfd ngh\u0129a ri\xeang v\xe0 th\u01B0\u1EDDng \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng v\u1EDBi c\xe1c types kh\xe1c. V\xed d\u1EE5:"}),"\n",(0,i.jsxs)("figure",{children:[(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"type ArrayValues<T extends readonly unknown[]> = T[number];\n"})}),(0,i.jsx)("figcaption",{children:(0,i.jsxs)(e.p,{children:["Ngu\u1ED3n: ",(0,i.jsx)(e.a,{href:"https://github.com/sindresorhus/type-fest/blob/main/source/array-values.d.ts",children:"https://github.com/sindresorhus/type-fest/blob/main/source/array-values.d.ts"})]})})]}),"\n",(0,i.jsxs)(e.p,{children:["\u0110\u1EC3 l\xe0m cho utility types c\xf3 s\u1EB5n trong to\xe0n b\u1ED9 d\u1EF1 \xe1n c\u1EE7a b\u1EA1n, ho\u1EB7c l\xe0 install m\u1ED9t library nh\u01B0 ",(0,i.jsx)(e.a,{href:"https://github.com/sindresorhus/type-fest",children:(0,i.jsx)(e.code,{children:"type-fest"})}),", ho\u1EB7c t\u1EA1o library ri\xeang c\u1EE7a b\u1EA1n trong ",(0,i.jsx)(e.code,{children:"shared/lib"}),". \u0110\u1EA3m b\u1EA3o ch\u1EC9 r\xf5 r\xe0ng nh\u1EEFng types m\u1EDBi n\xe0o ",(0,i.jsx)(e.em,{children:"n\xean"})," \u0111\u01B0\u1EE3c th\xeam v\xe0o library n\xe0y, v\xe0 nh\u1EEFng types n\xe0o ",(0,i.jsx)(e.em,{children:"kh\xf4ng thu\u1ED9c v\u1EC1"})," \u0111\xf3. V\xed d\u1EE5, g\u1ECDi n\xf3 l\xe0 ",(0,i.jsx)(e.code,{children:"shared/lib/utility-types"})," v\xe0 th\xeam README b\xean trong m\xf4 t\u1EA3 utility type l\xe0 g\xec trong team c\u1EE7a b\u1EA1n."]}),"\n",(0,i.jsx)(e.p,{children:"\u0110\u1EEBng \u0111\xe1nh gi\xe1 qu\xe1 cao kh\u1EA3 n\u0103ng t\xe1i s\u1EED d\u1EE5ng c\u1EE7a utility type. Ch\u1EC9 v\xec n\xf3 c\xf3 th\u1EC3 \u0111\u01B0\u1EE3c t\xe1i s\u1EED d\u1EE5ng, kh\xf4ng c\xf3 ngh\u0129a l\xe0 n\xf3 s\u1EBD \u0111\u01B0\u1EE3c t\xe1i s\u1EED d\u1EE5ng, v\xe0 v\xec v\u1EADy, kh\xf4ng ph\u1EA3i m\u1ECDi utility type \u0111\u1EC1u c\u1EA7n \u1EDF trong Shared. M\u1ED9t s\u1ED1 utility types th\xec \u1ED5n ngay b\xean c\u1EA1nh n\u01A1i ch\xfang \u0111\u01B0\u1EE3c c\u1EA7n:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} pages","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} home","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} api","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u{1F4C4} ArrayValues.ts (utility type)"}),"\n",(0,i.jsx)(e.li,{children:"\u{1F4C4} getMemoryUsageMetrics.ts (code s\u1EED d\u1EE5ng utility type)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{type:"warning",children:(0,i.jsxs)(e.p,{children:["H\xe3y c\u01B0\u1EE1ng l\u1EA1i c\xe1m d\u1ED7 t\u1EA1o folder ",(0,i.jsx)(e.code,{children:"shared/types"}),", ho\u1EB7c th\xeam segment ",(0,i.jsx)(e.code,{children:"types"}),' v\xe0o slices c\u1EE7a b\u1EA1n. Category "types" t\u01B0\u01A1ng t\u1EF1 nh\u01B0 category "components" ho\u1EB7c "hooks" \u1EDF ch\u1ED7 n\xf3 m\xf4 t\u1EA3 n\u1ED9i dung l\xe0 g\xec, ch\u1EE9 kh\xf4ng ph\u1EA3i ch\xfang d\xe0nh cho g\xec. Segments n\xean m\xf4 t\u1EA3 m\u1EE5c \u0111\xedch c\u1EE7a code, kh\xf4ng ph\u1EA3i b\u1EA3n ch\u1EA5t.']})}),"\n",(0,i.jsx)(e.h2,{id:"business-entities-v\xe0-cross-references-c\u1EE7a-ch\xfang",children:"Business entities v\xe0 cross-references c\u1EE7a ch\xfang"}),"\n",(0,i.jsxs)(e.p,{children:["Trong s\u1ED1 nh\u1EEFng types quan tr\u1ECDng nh\u1EA5t trong app l\xe0 types c\u1EE7a business entities, t\u1EE9c l\xe0 nh\u1EEFng th\u1EE9 trong th\u1EBF gi\u1EDBi th\u1EF1c m\xe0 app c\u1EE7a b\u1EA1n l\xe0m vi\u1EC7c v\u1EDBi. V\xed d\u1EE5, trong music streaming app, b\u1EA1n c\xf3 th\u1EC3 c\xf3 business entities ",(0,i.jsx)(e.em,{children:"Song"}),", ",(0,i.jsx)(e.em,{children:"Album"}),", v.v."]}),"\n",(0,i.jsxs)(e.p,{children:["Business entities th\u01B0\u1EDDng \u0111\u1EBFn t\u1EEB backend, v\xec v\u1EADy b\u01B0\u1EDBc \u0111\u1EA7u ti\xean l\xe0 type backend responses. Th\u1EADt ti\u1EC7n l\u1EE3i khi c\xf3 function \u0111\u1EC3 th\u1EF1c hi\u1EC7n request \u0111\u1EBFn m\u1ED7i endpoint, v\xe0 type response c\u1EE7a function n\xe0y. \u0110\u1EC3 c\xf3 th\xeam type safety, b\u1EA1n c\xf3 th\u1EC3 mu\u1ED1n ch\u1EA1y response qua schema validation library nh\u01B0 ",(0,i.jsx)(e.a,{href:"https://zod.dev",children:"Zod"}),"."]}),"\n",(0,i.jsx)(e.p,{children:"V\xed d\u1EE5, n\u1EBFu b\u1EA1n gi\u1EEF t\u1EA5t c\u1EA3 requests c\u1EE7a m\xecnh trong Shared, b\u1EA1n c\xf3 th\u1EC3 l\xe0m nh\u01B0 th\u1EBF n\xe0y:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="shared/api/songs.ts"',children:"import type { Artist } from \"./artists\";\n\ninterface Song {\n  id: number;\n  title: string;\n  artists: Array<Artist>;\n}\n\nexport function listSongs() {\n  return fetch('/api/songs').then((res) => res.json() as Promise<Array<Song>>);\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:["B\u1EA1n c\xf3 th\u1EC3 nh\u1EADn th\u1EA5y r\u1EB1ng type ",(0,i.jsx)(e.code,{children:"Song"})," tham chi\u1EBFu \u0111\u1EBFn m\u1ED9t entity kh\xe1c, ",(0,i.jsx)(e.code,{children:"Artist"}),". \u0110\xe2y l\xe0 l\u1EE3i \xedch c\u1EE7a vi\u1EC7c l\u01B0u tr\u1EEF requests c\u1EE7a b\u1EA1n trong Shared \u2014 c\xe1c types th\u1EBF gi\u1EDBi th\u1EF1c th\u01B0\u1EDDng \u0111an xen. N\u1EBFu ch\xfang ta gi\u1EEF function n\xe0y trong ",(0,i.jsx)(e.code,{children:"entities/song/api"}),", ch\xfang ta s\u1EBD kh\xf4ng th\u1EC3 \u0111\u01A1n gi\u1EA3n import ",(0,i.jsx)(e.code,{children:"Artist"})," t\u1EEB ",(0,i.jsx)(e.code,{children:"entities/artist"}),", v\xec FSD h\u1EA1n ch\u1EBF cross-imports gi\u1EEFa c\xe1c slices v\u1EDBi ",(0,i.jsx)(e.a,{href:"/docs/reference/layers#import-rule-on-layers",children:"import rule tr\xean c\xe1c layers"}),":"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"M\u1ED9t module trong slice ch\u1EC9 c\xf3 th\u1EC3 import c\xe1c slices kh\xe1c khi ch\xfang \u0111\u01B0\u1EE3c \u0111\u1EB7t tr\xean c\xe1c layers \u1EDF ph\xeda d\u01B0\u1EDBi."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"C\xf3 hai c\xe1ch \u0111\u1EC3 gi\u1EA3i quy\u1EBFt v\u1EA5n \u0111\u1EC1 n\xe0y:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Tham s\u1ED1 h\xf3a c\xe1c types c\u1EE7a b\u1EA1n"}),(0,i.jsx)(e.br,{}),"\n","B\u1EA1n c\xf3 th\u1EC3 l\xe0m cho types c\u1EE7a m\xecnh ch\u1EA5p nh\u1EADn type arguments l\xe0m slots cho c\xe1c k\u1EBFt n\u1ED1i v\u1EDBi entities kh\xe1c, v\xe0 th\u1EADm ch\xed \xe1p d\u1EE5ng constraints tr\xean nh\u1EEFng slots \u0111\xf3. V\xed d\u1EE5:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/model/song.ts"',children:"interface Song<ArtistType extends { id: string }> {\n  id: number;\n  title: string;\n  artists: Array<ArtistType>;\n}\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u0110i\u1EC1u n\xe0y ho\u1EA1t \u0111\u1ED9ng t\u1ED1t h\u01A1n cho m\u1ED9t s\u1ED1 types so v\u1EDBi nh\u1EEFng types kh\xe1c. M\u1ED9t type \u0111\u01A1n gi\u1EA3n nh\u01B0 ",(0,i.jsx)(e.code,{children:"Cart = { items: Array<Product> }"})," c\xf3 th\u1EC3 d\u1EC5 d\xe0ng \u0111\u01B0\u1EE3c l\xe0m \u0111\u1EC3 ho\u1EA1t \u0111\u1ED9ng v\u1EDBi b\u1EA5t k\u1EF3 lo\u1EA1i product n\xe0o. C\xe1c types k\u1EBFt n\u1ED1i nhi\u1EC1u h\u01A1n, nh\u01B0 ",(0,i.jsx)(e.code,{children:"Country"})," v\xe0 ",(0,i.jsx)(e.code,{children:"City"}),", c\xf3 th\u1EC3 kh\xf4ng d\u1EC5 t\xe1ch r\u1EDDi."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Cross-import (nh\u01B0ng l\xe0m \u0111\xfang c\xe1ch)"}),(0,i.jsx)(e.br,{}),"\n","\u0110\u1EC3 th\u1EF1c hi\u1EC7n cross-imports gi\u1EEFa c\xe1c entities trong FSD, b\u1EA1n c\xf3 th\u1EC3 s\u1EED d\u1EE5ng public API \u0111\u1EB7c bi\u1EC7t d\xe0nh ri\xeang cho m\u1ED7i slice s\u1EBD cross-importing. V\xed d\u1EE5, n\u1EBFu ch\xfang ta c\xf3 entities ",(0,i.jsx)(e.code,{children:"song"}),", ",(0,i.jsx)(e.code,{children:"artist"}),", v\xe0 ",(0,i.jsx)(e.code,{children:"playlist"}),", v\xe0 hai c\xe1i sau c\u1EA7n tham chi\u1EBFu ",(0,i.jsx)(e.code,{children:"song"}),", ch\xfang ta c\xf3 th\u1EC3 t\u1EA1o hai public APIs \u0111\u1EB7c bi\u1EC7t cho c\u1EA3 hai trong entity ",(0,i.jsx)(e.code,{children:"song"})," v\u1EDBi k\xfd hi\u1EC7u ",(0,i.jsx)(e.code,{children:"@x"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} entities","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} song","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C2} @x","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u{1F4C4} artist.ts (public API cho entity ",(0,i.jsx)(e.code,{children:"artist"})," \u0111\u1EC3 import)"]}),"\n",(0,i.jsxs)(e.li,{children:["\u{1F4C4} playlist.ts (public API cho entity ",(0,i.jsx)(e.code,{children:"playlist"})," \u0111\u1EC3 import)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u{1F4C4} index.ts (public API th\xf4ng th\u01B0\u1EDDng)"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["N\u1ED9i dung c\u1EE7a file ",(0,i.jsx)(e.code,{children:"\u{1F4C4} entities/song/@x/artist.ts"})," t\u01B0\u01A1ng t\u1EF1 nh\u01B0 ",(0,i.jsx)(e.code,{children:"\u{1F4C4} entities/song/index.ts"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/@x/artist.ts"',children:'export type { Song } from "../model/song.ts";\n'})}),"\n",(0,i.jsxs)(e.p,{children:["Sau \u0111\xf3 ",(0,i.jsx)(e.code,{children:"\u{1F4C4} entities/artist/model/artist.ts"})," c\xf3 th\u1EC3 import ",(0,i.jsx)(e.code,{children:"Song"})," nh\u01B0 th\u1EBF n\xe0y:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/artist/model/artist.ts"',children:'import type { Song } from "entities/song/@x/artist";\n\nexport interface Artist {\n  name: string;\n  songs: Array<Song>;\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"B\u1EB1ng c\xe1ch t\u1EA1o k\u1EBFt n\u1ED1i r\xf5 r\xe0ng gi\u1EEFa c\xe1c entities, ch\xfang ta ki\u1EC3m so\xe1t \u0111\u01B0\u1EE3c inter-dependencies v\xe0 duy tr\xec m\u1EE9c \u0111\u1ED9 ph\xe2n t\xe1ch domain t\u1ED1t."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"data-transfer-objects-and-mappers",children:"Data transfer objects v\xe0 mappers"}),"\n",(0,i.jsx)(e.p,{children:"Data transfer objects, hay DTOs, l\xe0 thu\u1EADt ng\u1EEF m\xf4 t\u1EA3 h\xecnh d\u1EA1ng c\u1EE7a d\u1EEF li\u1EC7u \u0111\u1EBFn t\u1EEB backend. \u0110\xf4i khi, DTO c\xf3 th\u1EC3 s\u1EED d\u1EE5ng ngay, nh\u01B0ng \u0111\xf4i khi n\xf3 kh\xf4ng thu\u1EADn ti\u1EC7n cho frontend. \u0110\xf3 l\xe0 l\xfac mappers xu\u1EA5t hi\u1EC7n \u2014 ch\xfang bi\u1EBFn \u0111\u1ED5i DTO th\xe0nh h\xecnh d\u1EA1ng thu\u1EADn ti\u1EC7n h\u01A1n."}),"\n",(0,i.jsx)(e.h3,{id:"\u0111\u1EB7t-dtos-\u1EDF-\u0111\xe2u",children:"\u0110\u1EB7t DTOs \u1EDF \u0111\xe2u"}),"\n",(0,i.jsx)(e.p,{children:"N\u1EBFu b\u1EA1n c\xf3 backend types trong package ri\xeang (v\xed d\u1EE5, n\u1EBFu b\u1EA1n chia s\u1EBB code gi\u1EEFa frontend v\xe0 backend), th\xec ch\u1EC9 c\u1EA7n import DTOs t\u1EEB \u0111\xf3 v\xe0 xong! N\u1EBFu b\u1EA1n kh\xf4ng chia s\u1EBB code gi\u1EEFa backend v\xe0 frontend, th\xec b\u1EA1n c\u1EA7n gi\u1EEF DTOs \u1EDF \u0111\xe2u \u0111\xf3 trong frontend codebase, v\xe0 ch\xfang ta s\u1EBD kh\xe1m ph\xe1 tr\u01B0\u1EDDng h\u1EE3p n\xe0y d\u01B0\u1EDBi \u0111\xe2y."}),"\n",(0,i.jsxs)(e.p,{children:["N\u1EBFu b\u1EA1n c\xf3 request functions trong ",(0,i.jsx)(e.code,{children:"shared/api"}),", \u0111\xf3 l\xe0 n\u01A1i DTOs n\xean \u1EDF, ngay c\u1EA1nh function s\u1EED d\u1EE5ng ch\xfang:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="shared/api/songs.ts"',children:'import type { ArtistDTO } from "./artists";\n\ninterface SongDTO {\n  id: number;\n  title: string;\n  artist_ids: Array<ArtistDTO["id"]>;\n}\n\nexport function listSongs() {\n  return fetch(\'/api/songs\').then((res) => res.json() as Promise<Array<SongDTO>>);\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"Nh\u01B0 \u0111\xe3 \u0111\u1EC1 c\u1EADp trong ph\u1EA7n tr\u01B0\u1EDBc, l\u01B0u tr\u1EEF requests v\xe0 DTOs c\u1EE7a b\u1EA1n trong Shared mang l\u1EA1i l\u1EE3i \xedch c\xf3 th\u1EC3 tham chi\u1EBFu DTOs kh\xe1c."}),"\n",(0,i.jsx)(e.h3,{id:"\u0111\u1EB7t-mappers-\u1EDF-\u0111\xe2u",children:"\u0110\u1EB7t mappers \u1EDF \u0111\xe2u"}),"\n",(0,i.jsxs)(e.p,{children:["Mappers l\xe0 c\xe1c functions ch\u1EA5p nh\u1EADn DTO \u0111\u1EC3 bi\u1EBFn \u0111\u1ED5i, v\xe0 v\xec v\u1EADy, ch\xfang n\xean \u0111\u01B0\u1EE3c \u0111\u1EB7t g\u1EA7n \u0111\u1ECBnh ngh\u0129a c\u1EE7a DTO. Trong th\u1EF1c t\u1EBF \u0111i\u1EC1u n\xe0y c\xf3 ngh\u0129a l\xe0 n\u1EBFu requests v\xe0 DTOs c\u1EE7a b\u1EA1n \u0111\u01B0\u1EE3c \u0111\u1ECBnh ngh\u0129a trong ",(0,i.jsx)(e.code,{children:"shared/api"}),", th\xec mappers c\u0169ng n\xean \u1EDF \u0111\xf3:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="shared/api/songs.ts"',children:'import type { ArtistDTO } from "./artists";\n\ninterface SongDTO {\n  id: number;\n  title: string;\n  disc_no: number;\n  artist_ids: Array<ArtistDTO["id"]>;\n}\n\ninterface Song {\n  id: string;\n  title: string;\n  /** Ti\xeau \u0111\u1EC1 \u0111\u1EA7y \u0111\u1EE7 c\u1EE7a b\xe0i h\xe1t, bao g\u1ED3m s\u1ED1 \u0111\u0129a. */\n  fullTitle: string;\n  artistIds: Array<string>;\n}\n\nfunction adaptSongDTO(dto: SongDTO): Song {\n  return {\n    id: String(dto.id),\n    title: dto.title,\n    fullTitle: `${dto.disc_no} / ${dto.title}`,\n    artistIds: dto.artist_ids.map(String),\n  };\n}\n\nexport function listSongs() {\n  return fetch(\'/api/songs\').then(async (res) => (await res.json()).map(adaptSongDTO));\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"N\u1EBFu requests v\xe0 stores c\u1EE7a b\u1EA1n \u0111\u01B0\u1EE3c \u0111\u1ECBnh ngh\u0129a trong entity slices, th\xec t\u1EA5t c\u1EA3 code n\xe0y s\u1EBD \u0111i v\xe0o \u0111\xf3, nh\u1EDB l\u01B0u \xfd gi\u1EDBi h\u1EA1n c\u1EE7a cross-imports gi\u1EEFa c\xe1c slices:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/api/dto.ts"',children:'import type { ArtistDTO } from "entities/artist/@x/song";\n\nexport interface SongDTO {\n  id: number;\n  title: string;\n  disc_no: number;\n  artist_ids: Array<ArtistDTO["id"]>;\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/api/mapper.ts"',children:'import type { SongDTO } from "./dto";\n\nexport interface Song {\n  id: string;\n  title: string;\n  /** Ti\xeau \u0111\u1EC1 \u0111\u1EA7y \u0111\u1EE7 c\u1EE7a b\xe0i h\xe1t, bao g\u1ED3m s\u1ED1 \u0111\u0129a. */\n  fullTitle: string;\n  artistIds: Array<string>;\n}\n\nexport function adaptSongDTO(dto: SongDTO): Song {\n  return {\n    id: String(dto.id),\n    title: dto.title,\n    fullTitle: `${dto.disc_no} / ${dto.title}`,\n    artistIds: dto.artist_ids.map(String),\n  };\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/api/listSongs.ts"',children:"import { adaptSongDTO } from \"./mapper\";\n\nexport function listSongs() {\n  return fetch('/api/songs').then(async (res) => (await res.json()).map(adaptSongDTO));\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/model/songs.ts"',children:'import { createSlice, createEntityAdapter } from "@reduxjs/toolkit";\n\nimport { listSongs } from "../api/listSongs";\n\nexport const fetchSongs = createAsyncThunk(\'songs/fetchSongs\', listSongs);\n\nconst songAdapter = createEntityAdapter();\nconst songsSlice = createSlice({\n  name: "songs",\n  initialState: songAdapter.getInitialState(),\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSongs.fulfilled, (state, action) => {\n      songAdapter.upsertMany(state, action.payload);\n    })\n  },\n});\n'})}),"\n",(0,i.jsx)(e.h3,{id:"c\xe1ch-x\u1EED-l\xfd-nested-dtos",children:"C\xe1ch x\u1EED l\xfd nested DTOs"}),"\n",(0,i.jsxs)(e.p,{children:["Ph\u1EA7n c\xf3 v\u1EA5n \u0111\u1EC1 nh\u1EA5t l\xe0 khi response t\u1EEB backend ch\u1EE9a nhi\u1EC1u entities. V\xed d\u1EE5, n\u1EBFu b\xe0i h\xe1t bao g\u1ED3m kh\xf4ng ch\u1EC9 IDs c\u1EE7a t\xe1c gi\u1EA3, m\xe0 c\u1EA3 to\xe0n b\u1ED9 author objects. Trong tr\u01B0\u1EDDng h\u1EE3p n\xe0y, kh\xf4ng th\u1EC3 cho c\xe1c entities kh\xf4ng bi\u1EBFt v\u1EC1 nhau (tr\u1EEB khi ch\xfang ta mu\u1ED1n lo\u1EA1i b\u1ECF d\u1EEF li\u1EC7u ho\u1EB7c c\xf3 cu\u1ED9c tr\xf2 chuy\u1EC7n nghi\xeam t\xfac v\u1EDBi backend team). Thay v\xec ngh\u0129 ra gi\u1EA3i ph\xe1p cho k\u1EBFt n\u1ED1i gi\xe1n ti\u1EBFp gi\u1EEFa c\xe1c slices (nh\u01B0 common middleware s\u1EBD dispatch actions \u0111\u1EBFn slices kh\xe1c), \u01B0u ti\xean cross-imports r\xf5 r\xe0ng v\u1EDBi k\xfd hi\u1EC7u ",(0,i.jsx)(e.code,{children:"@x"}),". \u0110\xe2y l\xe0 c\xe1ch ch\xfang ta c\xf3 th\u1EC3 tri\u1EC3n khai v\u1EDBi Redux Toolkit:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/model/songs.ts"',children:"import {\n  createSlice,\n  createEntityAdapter,\n  createAsyncThunk,\n  createSelector,\n} from '@reduxjs/toolkit'\nimport { normalize, schema } from 'normalizr'\n\nimport { getSong } from \"../api/getSong\";\n\n// \u0110\u1ECBnh ngh\u0129a normalizr entity schemas\nexport const artistEntity = new schema.Entity('artists')\nexport const songEntity = new schema.Entity('songs', {\n  artists: [artistEntity],\n})\n\nconst songAdapter = createEntityAdapter()\n\nexport const fetchSong = createAsyncThunk(\n  'songs/fetchSong',\n  async (id: string) => {\n    const data = await getSong(id)\n    // Normalize d\u1EEF li\u1EC7u \u0111\u1EC3 reducers c\xf3 th\u1EC3 load payload d\u1EF1 \u0111o\xe1n \u0111\u01B0\u1EE3c, nh\u01B0:\n    // `action.payload = { songs: {}, artists: {} }`\n    const normalized = normalize(data, songEntity)\n    return normalized.entities\n  }\n)\n\nexport const slice = createSlice({\n  name: 'songs',\n  initialState: songAdapter.getInitialState(),\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSong.fulfilled, (state, action) => {\n      songAdapter.upsertMany(state, action.payload.songs)\n    })\n  },\n})\n\nconst reducer = slice.reducer\nexport default reducer\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/song/@x/artist.ts"',children:'export { fetchSong } from "../model/songs";\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="entities/artist/model/artists.ts"',children:"import { createSlice, createEntityAdapter } from '@reduxjs/toolkit'\n\nimport { fetchSong } from 'entities/song/@x/artist'\n\nconst artistAdapter = createEntityAdapter()\n\nexport const slice = createSlice({\n  name: 'users',\n  initialState: artistAdapter.getInitialState(),\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSong.fulfilled, (state, action) => {\n      // V\xe0 x\u1EED l\xfd c\xf9ng fetch result b\u1EB1ng c\xe1ch ch\xe8n artists \u1EDF \u0111\xe2y\n      artistAdapter.upsertMany(state, action.payload.artists)\n    })\n  },\n})\n\nconst reducer = slice.reducer\nexport default reducer\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u0110i\u1EC1u n\xe0y h\u1EA1n ch\u1EBF m\u1ED9t ch\xfat l\u1EE3i \xedch c\u1EE7a slice isolation, nh\u01B0ng n\xf3 th\u1EC3 hi\u1EC7n ch\xednh x\xe1c k\u1EBFt n\u1ED1i gi\u1EEFa hai entities n\xe0y m\xe0 ch\xfang ta kh\xf4ng ki\u1EC3m so\xe1t \u0111\u01B0\u1EE3c. N\u1EBFu c\xe1c entities n\xe0y c\u1EA7n \u0111\u01B0\u1EE3c refactor, ch\xfang ph\u1EA3i \u0111\u01B0\u1EE3c refactor c\xf9ng nhau."}),"\n",(0,i.jsx)(e.h2,{id:"global-types-v\xe0-redux",children:"Global types v\xe0 Redux"}),"\n",(0,i.jsx)(e.p,{children:"Global types l\xe0 types s\u1EBD \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng trong to\xe0n b\u1ED9 \u1EE9ng d\u1EE5ng. C\xf3 hai lo\u1EA1i global types, d\u1EF1a tr\xean nh\u1EEFng g\xec ch\xfang c\u1EA7n bi\u1EBFt:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"Generic types kh\xf4ng c\xf3 b\u1EA5t k\u1EF3 \u0111\u1EB7c \u0111i\u1EC3m \u1EE9ng d\u1EE5ng n\xe0o"}),"\n",(0,i.jsx)(e.li,{children:"Types c\u1EA7n bi\u1EBFt v\u1EC1 to\xe0n b\u1ED9 \u1EE9ng d\u1EE5ng"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Tr\u01B0\u1EDDng h\u1EE3p \u0111\u1EA7u ti\xean \u0111\u01A1n gi\u1EA3n \u0111\u1EC3 gi\u1EA3i quy\u1EBFt \u2014 \u0111\u1EB7t types c\u1EE7a b\u1EA1n trong Shared, trong segment ph\xf9 h\u1EE3p. V\xed d\u1EE5, n\u1EBFu b\u1EA1n c\xf3 interface cho global variable cho analytics, b\u1EA1n c\xf3 th\u1EC3 \u0111\u1EB7t n\xf3 trong ",(0,i.jsx)(e.code,{children:"shared/analytics"}),"."]}),"\n",(0,i.jsx)(e.admonition,{type:"warning",children:(0,i.jsxs)(e.p,{children:["Tr\xe1nh t\u1EA1o folder ",(0,i.jsx)(e.code,{children:"shared/types"}),'. N\xf3 nh\xf3m nh\u1EEFng th\u1EE9 kh\xf4ng li\xean quan ch\u1EC9 d\u1EF1a tr\xean thu\u1ED9c t\xednh "l\xe0 m\u1ED9t type", v\xe0 thu\u1ED9c t\xednh \u0111\xf3 th\u01B0\u1EDDng kh\xf4ng h\u1EEFu \xedch khi t\xecm ki\u1EBFm code trong d\u1EF1 \xe1n.']})}),"\n",(0,i.jsx)(e.p,{children:"Tr\u01B0\u1EDDng h\u1EE3p th\u1EE9 hai th\u01B0\u1EDDng g\u1EB7p trong c\xe1c d\u1EF1 \xe1n v\u1EDBi Redux kh\xf4ng c\xf3 RTK. Store type cu\u1ED1i c\xf9ng c\u1EE7a b\u1EA1n ch\u1EC9 c\xf3 s\u1EB5n khi b\u1EA1n th\xeam t\u1EA5t c\u1EA3 reducers l\u1EA1i v\u1EDBi nhau, nh\u01B0ng store type n\xe0y c\u1EA7n c\xf3 s\u1EB5n cho selectors m\xe0 b\u1EA1n s\u1EED d\u1EE5ng trong app. V\xed d\u1EE5, \u0111\xe2y l\xe0 \u0111\u1ECBnh ngh\u0129a store \u0111i\u1EC3n h\xecnh c\u1EE7a b\u1EA1n:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="app/store/index.ts"',children:'import { combineReducers, rootReducer } from "redux";\n\nimport { songReducer } from "entities/song";\nimport { artistReducer } from "entities/artist";\n\nconst rootReducer = combineReducers(songReducer, artistReducer);\n\nconst store = createStore(rootReducer);\n\ntype RootState = ReturnType<typeof rootReducer>;\ntype AppDispatch = typeof store.dispatch;\n'})}),"\n",(0,i.jsxs)(e.p,{children:["S\u1EBD t\u1ED1t n\u1EBFu c\xf3 typed Redux hooks ",(0,i.jsx)(e.code,{children:"useAppDispatch"})," v\xe0 ",(0,i.jsx)(e.code,{children:"useAppSelector"})," trong ",(0,i.jsx)(e.code,{children:"shared/store"}),", nh\u01B0ng ch\xfang kh\xf4ng th\u1EC3 import ",(0,i.jsx)(e.code,{children:"RootState"})," v\xe0 ",(0,i.jsx)(e.code,{children:"AppDispatch"})," t\u1EEB App layer do ",(0,i.jsx)(e.a,{href:"/docs/reference/layers#import-rule-on-layers",children:"import rule tr\xean layers"}),":"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"M\u1ED9t module trong slice ch\u1EC9 c\xf3 th\u1EC3 import c\xe1c slices kh\xe1c khi ch\xfang \u0111\u01B0\u1EE3c \u0111\u1EB7t tr\xean layers nghi\xeam ng\u1EB7t b\xean d\u01B0\u1EDBi."}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Gi\u1EA3i ph\xe1p \u0111\u01B0\u1EE3c khuy\u1EBFn ngh\u1ECB trong tr\u01B0\u1EDDng h\u1EE3p n\xe0y l\xe0 t\u1EA1o implicit dependency gi\u1EEFa layers Shared v\xe0 App. Hai types n\xe0y, ",(0,i.jsx)(e.code,{children:"RootState"})," v\xe0 ",(0,i.jsx)(e.code,{children:"AppDispatch"})," kh\xf4ng ch\u1EAFc s\u1EBD thay \u0111\u1ED5i, v\xe0 ch\xfang s\u1EBD quen thu\u1ED9c v\u1EDBi Redux developers, v\xec v\u1EADy ch\xfang ta kh\xf4ng ph\u1EA3i lo l\u1EAFng v\u1EC1 ch\xfang nhi\u1EC1u."]}),"\n",(0,i.jsx)(e.p,{children:"Trong TypeScript, b\u1EA1n c\xf3 th\u1EC3 l\xe0m \u0111i\u1EC1u \u0111\xf3 b\u1EB1ng c\xe1ch khai b\xe1o types l\xe0 global nh\u01B0 th\u1EBF n\xe0y:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="app/store/index.ts"',children:"/* c\xf9ng n\u1ED9i dung nh\u01B0 trong code block tr\u01B0\u1EDBc\u2026 */\n\ndeclare type RootState = ReturnType<typeof rootReducer>;\ndeclare type AppDispatch = typeof store.dispatch;\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="shared/store/index.ts"',children:'import { useDispatch, useSelector, type TypedUseSelectorHook } from "react-redux";\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n'})}),"\n",(0,i.jsx)(e.h2,{id:"enums",children:"Enums"}),"\n",(0,i.jsxs)(e.p,{children:["Quy t\u1EAFc chung v\u1EDBi enums l\xe0 ch\xfang n\xean \u0111\u01B0\u1EE3c \u0111\u1ECBnh ngh\u0129a ",(0,i.jsx)(e.strong,{children:"c\xe0ng g\u1EA7n v\u1EDBi v\u1ECB tr\xed s\u1EED d\u1EE5ng c\xe0ng t\u1ED1t"}),". Khi enum \u0111\u1EA1i di\u1EC7n cho c\xe1c gi\xe1 tr\u1ECB c\u1EE5 th\u1EC3 cho m\u1ED9t feature duy nh\u1EA5t, n\xf3 n\xean \u0111\u01B0\u1EE3c \u0111\u1ECBnh ngh\u0129a trong c\xf9ng feature \u0111\xf3."]}),"\n",(0,i.jsxs)(e.p,{children:["Vi\u1EC7c ch\u1ECDn segment c\u0169ng n\xean \u0111\u01B0\u1EE3c quy\u1EBFt \u0111\u1ECBnh b\u1EDFi v\u1ECB tr\xed s\u1EED d\u1EE5ng. N\u1EBFu enum c\u1EE7a b\u1EA1n ch\u1EE9a, v\xed d\u1EE5, v\u1ECB tr\xed c\u1EE7a toast tr\xean m\xe0n h\xecnh, n\xf3 n\xean \u0111\u01B0\u1EE3c \u0111\u1EB7t trong segment ",(0,i.jsx)(e.code,{children:"ui"}),". N\u1EBFu n\xf3 \u0111\u1EA1i di\u1EC7n cho loading state c\u1EE7a backend operation, n\xf3 n\xean \u0111\u01B0\u1EE3c \u0111\u1EB7t trong segment ",(0,i.jsx)(e.code,{children:"api"}),"."]}),"\n",(0,i.jsxs)(e.p,{children:["M\u1ED9t s\u1ED1 enums th\u1EF1c s\u1EF1 chung cho to\xe0n b\u1ED9 d\u1EF1 \xe1n, nh\u01B0 general backend response statuses ho\u1EB7c design system tokens. Trong tr\u01B0\u1EDDng h\u1EE3p n\xe0y, b\u1EA1n c\xf3 th\u1EC3 \u0111\u1EB7t ch\xfang trong Shared, v\xe0 ch\u1ECDn segment d\u1EF1a tr\xean enum \u0111\u1EA1i di\u1EC7n cho g\xec (",(0,i.jsx)(e.code,{children:"api"})," cho response statuses, ",(0,i.jsx)(e.code,{children:"ui"})," cho design tokens, v.v.)."]}),"\n",(0,i.jsx)(e.h2,{id:"type-validation-schemas-v\xe0-zod",children:"Type validation schemas v\xe0 Zod"}),"\n",(0,i.jsxs)(e.p,{children:["N\u1EBFu b\u1EA1n mu\u1ED1n validate r\u1EB1ng d\u1EEF li\u1EC7u c\u1EE7a b\u1EA1n ph\xf9 h\u1EE3p v\u1EDBi h\xecnh d\u1EA1ng ho\u1EB7c r\xe0ng bu\u1ED9c nh\u1EA5t \u0111\u1ECBnh, b\u1EA1n c\xf3 th\u1EC3 \u0111\u1ECBnh ngh\u0129a validation schema. Trong TypeScript, library ph\u1ED5 bi\u1EBFn cho c\xf4ng vi\u1EC7c n\xe0y l\xe0 ",(0,i.jsx)(e.a,{href:"https://zod.dev",children:"Zod"}),". Validation schemas c\u0169ng n\xean \u0111\u01B0\u1EE3c colocated v\u1EDBi code s\u1EED d\u1EE5ng ch\xfang, c\xe0ng nhi\u1EC1u c\xe0ng t\u1ED1t."]}),"\n",(0,i.jsxs)(e.p,{children:["Validation schemas t\u01B0\u01A1ng t\u1EF1 nh\u01B0 mappers (nh\u01B0 \u0111\xe3 th\u1EA3o lu\u1EADn trong ph\u1EA7n ",(0,i.jsx)(e.a,{href:"#data-transfer-objects-and-mappers",children:"Data transfer objects v\xe0 mappers"}),") \u1EDF ch\u1ED7 ch\xfang nh\u1EADn data transfer object v\xe0 parse n\xf3, t\u1EA1o ra l\u1ED7i n\u1EBFu parsing th\u1EA5t b\u1EA1i."]}),"\n",(0,i.jsxs)(e.p,{children:["M\u1ED9t trong nh\u1EEFng tr\u01B0\u1EDDng h\u1EE3p ph\u1ED5 bi\u1EBFn nh\u1EA5t c\u1EE7a validation l\xe0 cho d\u1EEF li\u1EC7u \u0111\u1EBFn t\u1EEB backend. Th\xf4ng th\u01B0\u1EDDng, b\u1EA1n mu\u1ED1n request th\u1EA5t b\u1EA1i khi d\u1EEF li\u1EC7u kh\xf4ng kh\u1EDBp v\u1EDBi schema, v\xec v\u1EADy h\u1EE3p l\xfd khi \u0111\u1EB7t schema \u1EDF c\xf9ng n\u01A1i v\u1EDBi request function, th\u01B0\u1EDDng l\xe0 segment ",(0,i.jsx)(e.code,{children:"api"}),"."]}),"\n",(0,i.jsxs)(e.p,{children:["N\u1EBFu d\u1EEF li\u1EC7u c\u1EE7a b\u1EA1n \u0111\u1EBFn qua user input, nh\u01B0 form, validation n\xean x\u1EA3y ra khi d\u1EEF li\u1EC7u \u0111ang \u0111\u01B0\u1EE3c nh\u1EADp. B\u1EA1n c\xf3 th\u1EC3 \u0111\u1EB7t schema trong segment ",(0,i.jsx)(e.code,{children:"ui"}),", c\u1EA1nh form component, ho\u1EB7c trong segment ",(0,i.jsx)(e.code,{children:"model"}),", n\u1EBFu segment ",(0,i.jsx)(e.code,{children:"ui"})," qu\xe1 \u0111\xf4ng."]}),"\n",(0,i.jsx)(e.h2,{id:"typings-c\u1EE7a-component-props-v\xe0-context",children:"Typings c\u1EE7a component props v\xe0 context"}),"\n",(0,i.jsxs)(e.p,{children:["N\xf3i chung, t\u1ED1t nh\u1EA5t l\xe0 gi\u1EEF props ho\u1EB7c context interface trong c\xf9ng file v\u1EDBi component ho\u1EB7c context s\u1EED d\u1EE5ng ch\xfang. N\u1EBFu b\u1EA1n c\xf3 framework v\u1EDBi single-file components, nh\u01B0 Vue ho\u1EB7c Svelte, v\xe0 b\u1EA1n kh\xf4ng th\u1EC3 \u0111\u1ECBnh ngh\u0129a props interface trong c\xf9ng file, ho\u1EB7c b\u1EA1n mu\u1ED1n chia s\u1EBB interface \u0111\xf3 gi\u1EEFa nhi\u1EC1u components, t\u1EA1o file ri\xeang trong c\xf9ng folder, th\u01B0\u1EDDng l\xe0 segment ",(0,i.jsx)(e.code,{children:"ui"}),"."]}),"\n",(0,i.jsx)(e.p,{children:"\u0110\xe2y l\xe0 v\xed d\u1EE5 v\u1EDBi JSX (React ho\u1EB7c Solid):"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="pages/home/ui/RecentActions.tsx"',children:"interface RecentActionsProps {\n  actions: Array<{ id: string; text: string }>;\n}\n\nexport function RecentActions({ actions }: RecentActionsProps) {\n  /* \u2026 */\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"V\xe0 \u0111\xe2y l\xe0 v\xed d\u1EE5 v\u1EDBi interface \u0111\u01B0\u1EE3c l\u01B0u trong file ri\xeang cho Vue:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="pages/home/ui/RecentActionsProps.ts"',children:"export interface RecentActionsProps {\n  actions: Array<{ id: string; text: string }>;\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",metastring:'title="pages/home/ui/RecentActions.vue"',children:'<script setup lang="ts">\n  import type { RecentActionsProps } from "./RecentActionsProps";\n\n  const props = defineProps<RecentActionsProps>();\n<\/script>\n'})}),"\n",(0,i.jsxs)(e.h2,{id:"ambient-declaration-files-dts",children:["Ambient declaration files (",(0,i.jsx)(e.code,{children:"*.d.ts"}),")"]}),"\n",(0,i.jsxs)(e.p,{children:["M\u1ED9t s\u1ED1 packages, v\xed d\u1EE5, ",(0,i.jsx)(e.a,{href:"https://vitejs.dev",children:"Vite"})," ho\u1EB7c ",(0,i.jsx)(e.a,{href:"https://www.totaltypescript.com/ts-reset",children:"ts-reset"}),", y\xeau c\u1EA7u ambient declaration files \u0111\u1EC3 ho\u1EA1t \u0111\u1ED9ng trong app c\u1EE7a b\u1EA1n. Th\u01B0\u1EDDng th\xec ch\xfang kh\xf4ng l\u1EDBn ho\u1EB7c ph\u1EE9c t\u1EA1p, v\xec v\u1EADy ch\xfang th\u01B0\u1EDDng kh\xf4ng y\xeau c\u1EA7u b\u1EA5t k\u1EF3 architecting n\xe0o, c\xf3 th\u1EC3 ch\u1EC9 c\u1EA7n \u0111\u1EB7t ch\xfang trong folder ",(0,i.jsx)(e.code,{children:"src/"}),". \u0110\u1EC3 gi\u1EEF ",(0,i.jsx)(e.code,{children:"src"})," c\xf3 t\u1ED5 ch\u1EE9c h\u01A1n, b\u1EA1n c\xf3 th\u1EC3 gi\u1EEF ch\xfang tr\xean App layer, trong ",(0,i.jsx)(e.code,{children:"app/ambient/"}),"."]}),"\n",(0,i.jsxs)(e.p,{children:["C\xe1c packages kh\xe1c \u0111\u01A1n gi\u1EA3n l\xe0 kh\xf4ng c\xf3 typings, v\xe0 b\u1EA1n c\xf3 th\u1EC3 mu\u1ED1n khai b\xe1o ch\xfang l\xe0 untyped ho\u1EB7c th\u1EADm ch\xed vi\u1EBFt typings ri\xeang cho ch\xfang. N\u01A1i t\u1ED1t cho nh\u1EEFng typings \u0111\xf3 s\u1EBD l\xe0 ",(0,i.jsx)(e.code,{children:"shared/lib"}),", trong folder nh\u01B0 ",(0,i.jsx)(e.code,{children:"shared/lib/untyped-packages"}),". T\u1EA1o file ",(0,i.jsx)(e.code,{children:"%LIBRARY_NAME%.d.ts"})," \u1EDF \u0111\xf3 v\xe0 khai b\xe1o types b\u1EA1n c\u1EA7n:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="shared/lib/untyped-packages/use-react-screenshot.d.ts"',children:'// Library n\xe0y kh\xf4ng c\xf3 typings, v\xe0 ch\xfang t\xf4i kh\xf4ng mu\u1ED1n phi\u1EC1n vi\u1EBFt ri\xeang.\ndeclare module "use-react-screenshot";\n'})}),"\n",(0,i.jsx)(e.h2,{id:"t\u1EF1-\u0111\u1ED9ng-sinh-types",children:"T\u1EF1 \u0111\u1ED9ng sinh types"}),"\n",(0,i.jsxs)(e.p,{children:["Th\u01B0\u1EDDng xuy\xean sinh types t\u1EEB ngu\u1ED3n b\xean ngo\xe0i, v\xed d\u1EE5, sinh backend types t\u1EEB OpenAPI schema. Trong tr\u01B0\u1EDDng h\u1EE3p n\xe0y, t\u1EA1o n\u01A1i chuy\xean d\u1EE5ng trong codebase c\u1EE7a b\u1EA1n cho nh\u1EEFng types n\xe0y, nh\u01B0 ",(0,i.jsx)(e.code,{children:"shared/api/openapi"}),". L\xfd t\u01B0\u1EDFng nh\u1EA5t, b\u1EA1n c\u0169ng n\xean bao g\u1ED3m README trong folder \u0111\xf3 m\xf4 t\u1EA3 nh\u1EEFng files n\xe0y l\xe0 g\xec, c\xe1ch t\xe1i t\u1EA1o ch\xfang, v.v."]})]})}function l(n={}){let{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},6436:function(n,e,t){t.d(e,{R:()=>r,x:()=>o});var s=t(9729);let i={},c=s.createContext(i);function r(n){let e=s.useContext(c);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);