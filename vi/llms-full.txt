# Feature-Sliced Design


## documentation

- [VÃ­ dá»¥](/examples.md): Danh sÃ¡ch cÃ¡c website Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i Feature-Sliced Design
- [ğŸ§­ Äiá»u hÆ°á»›ng](/nav.md): Feature-Sliced Design Navigation help page
- [TÃ¬m kiáº¿m](/search.md)
- [CÃ¡c phiÃªn báº£n Feature-Sliced Design](/versions.md): Feature-Sliced Design Versions page listing all documented site versions
- [ğŸ’« Community](/community.md): Community resources, additional materials
- [Team](/community/team.md): Core-team
- [CÃ¡c phÆ°Æ¡ng Ã¡n thay tháº¿](/docs/about/alternatives.md): Lá»‹ch sá»­ cÃ¡c cÃ¡ch tiáº¿p cáº­n kiáº¿n trÃºc
- [Sá»© má»‡nh](/docs/about/mission.md): á» Ä‘Ã¢y chÃºng tÃ´i mÃ´ táº£ cÃ¡c má»¥c tiÃªu vÃ  háº¡n cháº¿ cá»§a kháº£ nÄƒng Ã¡p dá»¥ng cá»§a phÆ°Æ¡ng phÃ¡p - nhá»¯ng gÃ¬ chÃºng tÃ´i Ä‘Æ°á»£c hÆ°á»›ng dáº«n khi phÃ¡t triá»ƒn phÆ°Æ¡ng phÃ¡p
- [Äá»™ng lá»±c](/docs/about/motivation.md): Ã tÆ°á»Ÿng chÃ­nh cá»§a Feature-Sliced Design lÃ  táº¡o Ä‘iá»u kiá»‡n thuáº­n lá»£i vÃ  giáº£m chi phÃ­ phÃ¡t triá»ƒn cÃ¡c dá»± Ã¡n phá»©c táº¡p vÃ  Ä‘Æ°á»£c phÃ¡t triá»ƒn, dá»±a trÃªn viá»‡c káº¿t há»£p káº¿t quáº£ nghiÃªn cá»©u, tháº£o luáº­n kinh nghiá»‡m cá»§a cÃ¡c loáº¡i developer khÃ¡c nhau trong pháº¡m vi rá»™ng.
- [ThÃºc Ä‘áº©y trong cÃ´ng ty](/docs/about/promote/for-company.md): Dá»± Ã¡n vÃ  cÃ´ng ty cÃ³ cáº§n methodology khÃ´ng?
- [ThÃºc Ä‘áº©y trong team](/docs/about/promote/for-team.md): - Onboard nhá»¯ng ngÆ°á»i má»›i
- [CÃ¡c khÃ­a cáº¡nh tÃ­ch há»£p](/docs/about/promote/integration.md): TÃ³m táº¯t
- [á»¨ng dá»¥ng tá»«ng pháº§n](/docs/about/promote/partial-application.md): LÃ m tháº¿ nÃ o Ä‘á»ƒ Ã¡p dá»¥ng methodology tá»«ng pháº§n? CÃ³ há»£p lÃ½ khÃ´ng? Náº¿u tÃ´i bá» qua thÃ¬ sao?
- [Abstraction](/docs/about/understanding/abstractions.md): Quy luáº­t cá»§a abstraction bá»‹ rÃ² rá»‰
- [Vá» kiáº¿n trÃºc](/docs/about/understanding/architecture.md): CÃ¡c váº¥n Ä‘á»
- [CÃ¡c loáº¡i kiáº¿n thá»©c trong dá»± Ã¡n](/docs/about/understanding/knowledge-types.md): CÃ³ thá»ƒ phÃ¢n biá»‡t cÃ¡c "loáº¡i kiáº¿n thá»©c" sau trong báº¥t ká»³ dá»± Ã¡n nÃ o:
- [Äáº·t tÃªn](/docs/about/understanding/naming.md): CÃ¡c developer khÃ¡c nhau cÃ³ kinh nghiá»‡m vÃ  ngá»¯ cáº£nh khÃ¡c nhau, cÃ³ thá»ƒ dáº«n Ä‘áº¿n hiá»ƒu láº§m trong team khi cÃ¹ng má»™t entity Ä‘Æ°á»£c gá»i khÃ¡c nhau. VÃ­ dá»¥:
- [HÆ°á»›ng nhu cáº§u](/docs/about/understanding/needs-driven.md): â€” KhÃ´ng thá»ƒ Ä‘Æ°a ra má»¥c tiÃªu mÃ  tÃ­nh nÄƒng má»›i sáº½ giáº£i quyáº¿t? Hoáº·c cÃ³ thá»ƒ váº¥n Ä‘á» lÃ  báº£n thÃ¢n task khÃ´ng Ä‘Æ°á»£c Ä‘Æ°a ra? **Äiá»m máº¥u chá»‘t cÅ©ng lÃ  methodology giÃºp rÃºt ra Ä‘á»‹nh nghÄ©a cÃ³ váº¥n Ä‘á» cá»§a cÃ¡c task vÃ  má»¥c tiÃªu**
- [Signal cá»§a kiáº¿n trÃºc](/docs/about/understanding/signals.md): Náº¿u cÃ³ giá»›i háº¡n vá» phÃ­a kiáº¿n trÃºc, thÃ¬ cÃ³ nhá»¯ng lÃ½ do rÃµ rÃ ng cho Ä‘iá»u nÃ y, vÃ  háº­u quáº£ náº¿u chÃºng bá»‹ bá» qua
- [HÆ°á»›ng dáº«n ThÆ°Æ¡ng hiá»‡u](/docs/branding.md): Báº£n sáº¯c thá»‹ giÃ¡c cá»§a FSD dá»±a trÃªn cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi: Layered, Sliced self-contained parts, Parts & Compose, Segmented.
- [Decomposition cheatsheet](/docs/get-started/cheatsheet.md): Sá»­ dá»¥ng lÃ m tÃ i liá»‡u tham kháº£o nhanh khi báº¡n quyáº¿t Ä‘á»‹nh cÃ¡ch decompose UI cá»§a mÃ¬nh. PhiÃªn báº£n PDF cÅ©ng cÃ³ sáºµn bÃªn dÆ°á»›i, Ä‘á»ƒ báº¡n cÃ³ thá»ƒ in ra vÃ  giá»¯ má»™t báº£n dÆ°á»›i gá»‘i.
- [FAQ](/docs/get-started/faq.md): Báº¡n cÃ³ thá»ƒ Ä‘áº·t cÃ¢u há»i trong Telegram chat, Discord community, vÃ  GitHub Discussions cá»§a chÃºng tÃ´i.
- [Tá»•ng quan](/docs/get-started/overview.md): Feature-Sliced Design (FSD) lÃ  má»™t phÆ°Æ¡ng phÃ¡p thiáº¿t káº¿ kiáº¿n trÃºc Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng frontend. NÃ³i Ä‘Æ¡n giáº£n, Ä‘Ã¢y lÃ  táº­p há»£p cÃ¡c quy táº¯c vÃ  quy Æ°á»›c Ä‘á»ƒ tá»• chá»©c code. Má»¥c Ä‘Ã­ch chÃ­nh cá»§a phÆ°Æ¡ng phÃ¡p nÃ y lÃ  lÃ m cho dá»± Ã¡n trá»Ÿ nÃªn dá»… hiá»ƒu vÃ  á»•n Ä‘á»‹nh hÆ¡n khi Ä‘á»‘i máº·t vá»›i nhá»¯ng yÃªu cáº§u kinh doanh liÃªn tá»¥c thay Ä‘á»•i.
- [Tutorial](/docs/get-started/tutorial.md): Pháº§n 1. TrÃªn giáº¥y
- [Xá»­ lÃ½ API Requests](/docs/guides/examples/api-requests.md): handling-api-requests}
- [Authentication](/docs/guides/examples/auth.md): NÃ³i chung, authentication bao gá»“m cÃ¡c bÆ°á»›c sau:
- [Autocomplete](/docs/guides/examples/autocompleted.md): Vá» decomposition theo layers
- [Browser API](/docs/guides/examples/browser-api.md): Vá» viá»‡c lÃ m viá»‡c vá»›i Browser API: localStorage, audio Api, bluetooth API, v.v.
- [CMS](/docs/guides/examples/cms.md): Features cÃ³ thá»ƒ khÃ¡c nhau
- [Feedback](/docs/guides/examples/feedback.md): Errors, Alerts, Notifications, ...
- [i18n](/docs/guides/examples/i18n.md): Äáº·t á»Ÿ Ä‘Ã¢u? LÃ m tháº¿ nÃ o Ä‘á»ƒ lÃ m viá»‡c vá»›i Ä‘iá»u nÃ y?
- [Metric](/docs/guides/examples/metric.md): About ways to initialize metrics in the application
- [Monorepositories](/docs/guides/examples/monorepo.md): About applicability for mono repositories, about bff, about microapps
- [Page layouts](/docs/guides/examples/page-layout.md): HÆ°á»›ng dáº«n nÃ y xem xÃ©t abstraction cá»§a má»™t page layout â€” khi nhiá»u pages chia sáº» cÃ¹ng má»™t cáº¥u trÃºc tá»•ng thá»ƒ, vÃ  chá»‰ khÃ¡c nhau á»Ÿ main content.
- [Desktop/Touch platforms](/docs/guides/examples/platforms.md): About the application of the methodology for desktop/touch
- [SSR](/docs/guides/examples/ssr.md): About the implementation of SSR using the methodology
- [Theme](/docs/guides/examples/theme.md): Where should I put my work with the theme and palette?
- [Types](/docs/guides/examples/types.md): HÆ°á»›ng dáº«n nÃ y liÃªn quan Ä‘áº¿n data types tá»« cÃ¡c typed languages nhÆ° TypeScript vÃ  mÃ´ táº£ chÃºng phÃ¹ há»£p á»Ÿ Ä‘Ã¢u trong FSD.
- [White Labels](/docs/guides/examples/white-labels.md): Figma, brand uikit, templates, adaptability to brands
- [Cross-imports](/docs/guides/issues/cross-imports.md): Cross-imports xuáº¥t hiá»‡n khi layer hoáº·c abstraction báº¯t Ä‘áº§u Ä‘áº£m nháº­n quÃ¡ nhiá»u trÃ¡ch nhiá»‡m hÆ¡n nÃ³ nÃªn. ÄÃ³ lÃ  lÃ½ do táº¡i sao phÆ°Æ¡ng phÃ¡p luáº­n xÃ¡c Ä‘á»‹nh cÃ¡c layers má»›i cho phÃ©p báº¡n tÃ¡ch rá»i nhá»¯ng cross-imports nÃ y
- [Desegmentation](/docs/guides/issues/desegmented.md): Desegmentation (also known as horizontal slicing or packaging by layer) is a code organization pattern where files are grouped by their technical roles rather than by the business domains they serve. This means code with similar technical functions is stored in the same place, regardless of the business logic it handles.
- [Excessive Entities](/docs/guides/issues/excessive-entities.md): The entities layer in Feature-Sliced Design is one of the lower layers that's primarily for business logic. That makes it widely accessible â€” all layers except for shared can access it. However, its global nature means that changes to entities can have a widespread impact, requiring careful design to avoid costly refactors.
- [Routing](/docs/guides/issues/routes.md): TÃ¬nh huá»‘ng
- [Migration tá»« custom architecture](/docs/guides/migration/from-custom.md): HÆ°á»›ng dáº«n nÃ y mÃ´ táº£ cÃ¡ch tiáº¿p cáº­n cÃ³ thá»ƒ há»¯u Ã­ch khi migration tá»« custom self-made architecture sang Feature-Sliced Design.
- [Migration tá»« v1 sang v2](/docs/guides/migration/from-v1.md): Táº¡i sao v2?
- [Migration tá»« v2.0 sang v2.1](/docs/guides/migration/from-v2-0.md): Thay Ä‘á»•i chÃ­nh trong v2.1 lÃ  mental model má»›i Ä‘á»ƒ phÃ¢n tÃ¡ch interface â€” pages first.
- [Sá»­ dá»¥ng vá»›i Electron](/docs/guides/tech/with-electron.md): CÃ¡c á»©ng dá»¥ng Electron cÃ³ kiáº¿n trÃºc Ä‘áº·c biá»‡t gá»“m nhiá»u process vá»›i cÃ¡c trÃ¡ch nhiá»‡m khÃ¡c nhau. Viá»‡c Ã¡p dá»¥ng FSD trong bá»‘i cáº£nh nhÆ° váº­y yÃªu cáº§u pháº£i thÃ­ch nghi cáº¥u trÃºc vá»›i cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a Electron.
- [Sá»­ dá»¥ng vá»›i Next.js](/docs/guides/tech/with-nextjs.md): FSD tÆ°Æ¡ng thÃ­ch vá»›i Next.js trong cáº£ phiÃªn báº£n App Router vÃ  Pages Router náº¿u báº¡n giáº£i quyáº¿t Ä‘Æ°á»£c xung Ä‘á»™t chÃ­nh â€” thÆ° má»¥c app vÃ  pages.
- [Sá»­ dá»¥ng vá»›i NuxtJS](/docs/guides/tech/with-nuxtjs.md): CÃ³ thá»ƒ triá»ƒn khai FSD trong dá»± Ã¡n NuxtJS, nhÆ°ng xáº£y ra xung Ä‘á»™t do sá»± khÃ¡c biá»‡t giá»¯a yÃªu cáº§u cáº¥u trÃºc dá»± Ã¡n cá»§a NuxtJS vÃ  cÃ¡c nguyÃªn táº¯c FSD:
- [Sá»­ dá»¥ng vá»›i React Query](/docs/guides/tech/with-react-query.md): Váº¥n Ä‘á» "nÃªn Ä‘áº·t cÃ¡c key á»Ÿ Ä‘Ã¢u"
- [Sá»­ dá»¥ng vá»›i SvelteKit](/docs/guides/tech/with-sveltekit.md): CÃ³ thá»ƒ triá»ƒn khai FSD trong dá»± Ã¡n SvelteKit, nhÆ°ng xáº£y ra xung Ä‘á»™t do sá»± khÃ¡c biá»‡t giá»¯a yÃªu cáº§u cáº¥u trÃºc cá»§a dá»± Ã¡n SvelteKit vÃ  cÃ¡c nguyÃªn táº¯c cá»§a FSD:
- [TÃ i liá»‡u cho LLMs](/docs/llms.md): Trang nÃ y cung cáº¥p cÃ¡c liÃªn káº¿t vÃ  hÆ°á»›ng dáº«n cho cÃ¡c LLM crawler.
- [Layer](/docs/reference/layers.md): Layer lÃ  cáº¥p Ä‘á»™ Ä‘áº§u tiÃªn cá»§a há»‡ thá»‘ng phÃ¢n cáº¥p tá»• chá»©c trong Feature-Sliced Design. Má»¥c Ä‘Ã­ch cá»§a chÃºng lÃ  phÃ¢n tÃ¡ch code dá»±a trÃªn má»©c Ä‘á»™ trÃ¡ch nhiá»‡m cáº§n thiáº¿t vÃ  sá»‘ lÆ°á»£ng module khÃ¡c trong app mÃ  nÃ³ phá»¥ thuá»™c vÃ o. Má»—i layer mang Ã½ nghÄ©a ngá»¯ nghÄ©a Ä‘áº·c biá»‡t Ä‘á»ƒ giÃºp báº¡n xÃ¡c Ä‘á»‹nh má»©c Ä‘á»™ trÃ¡ch nhiá»‡m mÃ  báº¡n nÃªn phÃ¢n bá»• cho code cá»§a mÃ¬nh.
- [Public API](/docs/reference/public-api.md): Public API lÃ  má»™t há»£p Ä‘á»“ng giá»¯a má»™t nhÃ³m module, nhÆ° má»™t slice, vÃ  code sá»­ dá»¥ng nÃ³. NÃ³ cÅ©ng hoáº¡t Ä‘á»™ng nhÆ° má»™t cá»•ng kiá»ƒm soÃ¡t, chá»‰ cho phÃ©p truy cáº­p Ä‘áº¿n cÃ¡c Ä‘á»‘i tÆ°á»£ng nháº¥t Ä‘á»‹nh vÃ  chá»‰ thÃ´ng qua public API Ä‘Ã³.
- [Slice vÃ  segment](/docs/reference/slices-segments.md): Slice
- [Feature-Sliced Design](/index.md): Architectural methodology for frontend projects


---

# Full Documentation Content

v2

![](/documentation/vi/assets/ideal-img/tiny-bunny.dd60f55.640.png)

Tiny Bunny Mini Game

Mini-game "21 points" in the universe of the visual novel "Tiny Bunny".

reactredux-toolkittypescript

[Website](https://sanua356.github.io/tiny-bunny/)[Source](https://github.com/sanua356/tiny-bunny)


---

# ğŸ§­ Äiá»u hÆ°á»›ng

## Route cÅ©

Sau khi tÃ¡i cáº¥u trÃºc tÃ i liá»‡u, má»™t sá»‘ route Ä‘Ã£ thay Ä‘á»•i. BÃªn dÆ°á»›i báº¡n cÃ³ thá»ƒ tÃ¬m tháº¥y trang mÃ  báº¡n Ä‘ang tÃ¬m kiáº¿m.

NhÆ°ng cÃ³ redirect tá»« cÃ¡c link cÅ© Ä‘á»ƒ Ä‘áº£m báº£o tÆ°Æ¡ng thÃ­ch

### ğŸš€ Get Started

âš¡ï¸ <!-- -->Simplified and merged

[Tutorial](/documentation/vi/docs/get-started/tutorial.md)

[**old**:](/documentation/vi/docs/get-started/tutorial.md)

<!-- -->

<!-- -->

[/docs/get-started/quick-start](/documentation/vi/docs/get-started/tutorial.md)

[**new**: ](/documentation/vi/docs/get-started/tutorial.md)

<!-- -->

[/docs/get-started/tutorial](/documentation/vi/docs/get-started/tutorial.md)

[Basics](/documentation/vi/docs/get-started/overview.md)

[**old**:](/documentation/vi/docs/get-started/overview.md)

<!-- -->

<!-- -->

[/docs/get-started/basics](/documentation/vi/docs/get-started/overview.md)

[**new**: ](/documentation/vi/docs/get-started/overview.md)

<!-- -->

[/docs/get-started/overview](/documentation/vi/docs/get-started/overview.md)

[Decompose Cheatsheet](/documentation/vi/docs/get-started/cheatsheet.md)

[**old**:](/documentation/vi/docs/get-started/cheatsheet.md)

<!-- -->

<!-- -->

[/docs/get-started/tutorial/decompose; /docs/get-started/tutorial/design-mockup; /docs/get-started/onboard/cheatsheet](/documentation/vi/docs/get-started/cheatsheet.md)

[**new**: ](/documentation/vi/docs/get-started/cheatsheet.md)

<!-- -->

[/docs/get-started/cheatsheet](/documentation/vi/docs/get-started/cheatsheet.md)

### ğŸ° Alternatives

âš¡ï¸ <!-- -->Moved and merged to /about/alternatives as advanced materials

[Architecture approaches alternatives](/documentation/vi/docs/about/alternatives.md)

[**old**:](/documentation/vi/docs/about/alternatives.md)

<!-- -->

<!-- -->

[/docs/about/alternatives/big-ball-of-mud; /docs/about/alternatives/design-principles; /docs/about/alternatives/ddd; /docs/about/alternatives/clean-architecture; /docs/about/alternatives/frameworks; /docs/about/alternatives/atomic-design; /docs/about/alternatives/smart-dumb-components; /docs/about/alternatives/feature-driven](/documentation/vi/docs/about/alternatives.md)

[**new**: ](/documentation/vi/docs/about/alternatives.md)

<!-- -->

[/docs/about/alternatives](/documentation/vi/docs/about/alternatives.md)

### ğŸ° Promote & Understanding

âš¡ï¸ <!-- -->Moved to /about as advanced materials

[Knowledge types](/documentation/vi/docs/about/understanding/knowledge-types.md)

[**old**:](/documentation/vi/docs/about/understanding/knowledge-types.md)

<!-- -->

<!-- -->

[/docs/reference/knowledge-types](/documentation/vi/docs/about/understanding/knowledge-types.md)

[**new**: ](/documentation/vi/docs/about/understanding/knowledge-types.md)

<!-- -->

[/docs/about/understanding/knowledge-types](/documentation/vi/docs/about/understanding/knowledge-types.md)

[Needs driven](/documentation/vi/docs/about/understanding/needs-driven.md)

[**old**:](/documentation/vi/docs/about/understanding/needs-driven.md)

<!-- -->

<!-- -->

[/docs/concepts/needs-driven](/documentation/vi/docs/about/understanding/needs-driven.md)

[**new**: ](/documentation/vi/docs/about/understanding/needs-driven.md)

<!-- -->

[/docs/about/understanding/needs-driven](/documentation/vi/docs/about/understanding/needs-driven.md)

[About architecture](/documentation/vi/docs/about/understanding/architecture.md)

[**old**:](/documentation/vi/docs/about/understanding/architecture.md)

<!-- -->

<!-- -->

[/docs/concepts/architecture](/documentation/vi/docs/about/understanding/architecture.md)

[**new**: ](/documentation/vi/docs/about/understanding/architecture.md)

<!-- -->

[/docs/about/understanding/architecture](/documentation/vi/docs/about/understanding/architecture.md)

[Naming adaptability](/documentation/vi/docs/about/understanding/naming.md)

[**old**:](/documentation/vi/docs/about/understanding/naming.md)

<!-- -->

<!-- -->

[/docs/concepts/naming-adaptability](/documentation/vi/docs/about/understanding/naming.md)

[**new**: ](/documentation/vi/docs/about/understanding/naming.md)

<!-- -->

[/docs/about/understanding/naming](/documentation/vi/docs/about/understanding/naming.md)

[Signals of architecture](/documentation/vi/docs/about/understanding/signals.md)

[**old**:](/documentation/vi/docs/about/understanding/signals.md)

<!-- -->

<!-- -->

[/docs/concepts/signals](/documentation/vi/docs/about/understanding/signals.md)

[**new**: ](/documentation/vi/docs/about/understanding/signals.md)

<!-- -->

[/docs/about/understanding/signals](/documentation/vi/docs/about/understanding/signals.md)

[Abstractions of architecture](/documentation/vi/docs/about/understanding/abstractions.md)

[**old**:](/documentation/vi/docs/about/understanding/abstractions.md)

<!-- -->

<!-- -->

[/docs/concepts/abstractions](/documentation/vi/docs/about/understanding/abstractions.md)

[**new**: ](/documentation/vi/docs/about/understanding/abstractions.md)

<!-- -->

[/docs/about/understanding/abstractions](/documentation/vi/docs/about/understanding/abstractions.md)

### ğŸ“š Reference guidelines (isolation & units)

âš¡ï¸ <!-- -->Moved to /reference as theoretical materials (old concepts)

[Decouple of entities](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/concepts/decouple-entities](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[Low Coupling & High Cohesion](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[**old**:](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

<!-- -->

<!-- -->

[/docs/concepts/low-coupling](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[**new**: ](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

<!-- -->

[/docs/reference/slices-segments#zero-coupling-high-cohesion](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[Cross-communication](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/concepts/cross-communication](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[App splitting](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/concepts/app-splitting](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Decomposition](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/decomposition](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Units](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Layers](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Layer overview](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/layers/overview](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[App layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/app](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Processes layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/processes](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Pages layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/pages](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Widgets layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/widgets](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Widgets layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/layers/widgets](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Features layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/features](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Entities layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/entities](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Shared layer](/documentation/vi/docs/reference/layers.md)

[**old**:](/documentation/vi/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/shared](/documentation/vi/docs/reference/layers.md)

[**new**: ](/documentation/vi/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/vi/docs/reference/layers.md)

[Segments](/documentation/vi/docs/reference/slices-segments.md)

[**old**:](/documentation/vi/docs/reference/slices-segments.md)

<!-- -->

<!-- -->

[/docs/reference/units/segments](/documentation/vi/docs/reference/slices-segments.md)

[**new**: ](/documentation/vi/docs/reference/slices-segments.md)

<!-- -->

[/docs/reference/slices-segments](/documentation/vi/docs/reference/slices-segments.md)

### ğŸ¯ Bad Practices handbook

âš¡ï¸ <!-- -->Moved to /guides as practice materials

[Cross-imports](/documentation/vi/docs/guides/issues/cross-imports.md)

[**old**:](/documentation/vi/docs/guides/issues/cross-imports.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/cross-imports](/documentation/vi/docs/guides/issues/cross-imports.md)

[**new**: ](/documentation/vi/docs/guides/issues/cross-imports.md)

<!-- -->

[/docs/guides/issues/cross-imports](/documentation/vi/docs/guides/issues/cross-imports.md)

[Desegmented](/documentation/vi/docs/guides/issues/desegmented.md)

[**old**:](/documentation/vi/docs/guides/issues/desegmented.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/desegmented](/documentation/vi/docs/guides/issues/desegmented.md)

[**new**: ](/documentation/vi/docs/guides/issues/desegmented.md)

<!-- -->

[/docs/guides/issues/desegmented](/documentation/vi/docs/guides/issues/desegmented.md)

[Routes](/documentation/vi/docs/guides/issues/routes.md)

[**old**:](/documentation/vi/docs/guides/issues/routes.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/routes](/documentation/vi/docs/guides/issues/routes.md)

[**new**: ](/documentation/vi/docs/guides/issues/routes.md)

<!-- -->

[/docs/guides/issues/routes](/documentation/vi/docs/guides/issues/routes.md)

### ğŸ¯ Examples

âš¡ï¸ <!-- -->Grouped and simplified into /guides/examples as practical examples

[Viewer logic](/documentation/vi/docs/guides/examples/auth.md)

[**old**:](/documentation/vi/docs/guides/examples/auth.md)

<!-- -->

<!-- -->

[/docs/guides/examples/viewer](/documentation/vi/docs/guides/examples/auth.md)

[**new**: ](/documentation/vi/docs/guides/examples/auth.md)

<!-- -->

[/docs/guides/examples/auth](/documentation/vi/docs/guides/examples/auth.md)

[Monorepo](/documentation/vi/docs/guides/examples/monorepo.md)

[**old**:](/documentation/vi/docs/guides/examples/monorepo.md)

<!-- -->

<!-- -->

[/docs/guides/monorepo](/documentation/vi/docs/guides/examples/monorepo.md)

[**new**: ](/documentation/vi/docs/guides/examples/monorepo.md)

<!-- -->

[/docs/guides/examples/monorepo](/documentation/vi/docs/guides/examples/monorepo.md)

[White Labels](/documentation/vi/docs/guides/examples/white-labels.md)

[**old**:](/documentation/vi/docs/guides/examples/white-labels.md)

<!-- -->

<!-- -->

[/docs/guides/white-labels](/documentation/vi/docs/guides/examples/white-labels.md)

[**new**: ](/documentation/vi/docs/guides/examples/white-labels.md)

<!-- -->

[/docs/guides/examples/white-labels](/documentation/vi/docs/guides/examples/white-labels.md)

### ğŸ¯ Migration

âš¡ï¸ <!-- -->Grouped and simplified into /guides/migration as migration guidelines

[Migration from V1](/documentation/vi/docs/guides/migration/from-v1.md)

[**old**:](/documentation/vi/docs/guides/migration/from-v1.md)

<!-- -->

<!-- -->

[/docs/guides/migration-from-v1](/documentation/vi/docs/guides/migration/from-v1.md)

[**new**: ](/documentation/vi/docs/guides/migration/from-v1.md)

<!-- -->

[/docs/guides/migration/from-v1](/documentation/vi/docs/guides/migration/from-v1.md)

[Migration from Legacy](/documentation/vi/docs/guides/migration/from-custom.md)

[**old**:](/documentation/vi/docs/guides/migration/from-custom.md)

<!-- -->

<!-- -->

[/docs/guides/migration-from-legacy](/documentation/vi/docs/guides/migration/from-custom.md)

[**new**: ](/documentation/vi/docs/guides/migration/from-custom.md)

<!-- -->

[/docs/guides/migration/from-custom](/documentation/vi/docs/guides/migration/from-custom.md)

### ğŸ¯ Tech

âš¡ï¸ <!-- -->Grouped into /guides/tech as tech-specific usage guidelines

[Usage with NextJS](/documentation/vi/docs/guides/tech/with-nextjs.md)

[**old**:](/documentation/vi/docs/guides/tech/with-nextjs.md)

<!-- -->

<!-- -->

[/docs/guides/usage-with-nextjs](/documentation/vi/docs/guides/tech/with-nextjs.md)

[**new**: ](/documentation/vi/docs/guides/tech/with-nextjs.md)

<!-- -->

[/docs/guides/tech/with-nextjs](/documentation/vi/docs/guides/tech/with-nextjs.md)

### Rename 'legacy' to 'custom'

âš¡ï¸ <!-- -->'Legacy' is derogatory, we don't get to call people's projects legacy

[Rename 'legacy' to custom](/documentation/vi/docs/guides/migration/from-custom.md)

[**old**:](/documentation/vi/docs/guides/migration/from-custom.md)

<!-- -->

<!-- -->

[/docs/guides/migration/from-legacy](/documentation/vi/docs/guides/migration/from-custom.md)

[**new**: ](/documentation/vi/docs/guides/migration/from-custom.md)

<!-- -->

[/docs/guides/migration/from-custom](/documentation/vi/docs/guides/migration/from-custom.md)

### Deduplication of Reference

âš¡ï¸ <!-- -->Cleaned up the Reference section and deduplicated the material

[Isolation of modules](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/reference/isolation](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers)


---

[Chuyá»ƒn Ä‘áº¿n ná»™i dung chÃ­nh](#__docusaurus_skipToContent_fallback)

[![Logo](/documentation/vi/img/brand/logo-primary.png)![Logo](/documentation/vi/img/brand/logo-primary.png)](/documentation/vi/.md)

[**FSD**](/documentation/vi/.md)[ğŸ“– TÃ i liá»‡u](/documentation/vi/docs/get-started/overview.md)[ğŸ’« Cá»™ng Ä‘á»“ng](/documentation/vi/community.md)[ğŸ“ Blog](/documentation/vi/blog)[ğŸ›  VÃ­ dá»¥](/documentation/vi/examples.md)

[v2.1](/documentation/vi/docs/get-started/overview.md)

* [v2.1](/documentation/vi/docs/get-started/overview.md)
* [v1.0](https://feature-sliced.github.io/featureslices.dev/v1.0.html)
* [v0.1](https://feature-sliced.github.io/featureslices.dev/v0.1.html)
* [feature-driven](https://github.com/feature-sliced/documentation/tree/rc/feature-driven)
* [All versions](/documentation/vi/versions.md)

[Tiáº¿ng Viá»‡t](#)

* [Ğ ÑƒÑÑĞºĞ¸Ğ¹](/documentation/ru/search)
* [English](/documentation/search)
* [O'zbekcha](/documentation/uz/search)
* [í•œêµ­ì–´](/documentation/kr/search)
* [æ—¥æœ¬èª](/documentation/ja/search)
* [Tiáº¿ng Viá»‡t](/documentation/vi/search.md)
* [ä¸­æ–‡](/documentation/zh/search)
* [Help Us Translate](https://github.com/feature-sliced/documentation/issues/244)

[](https://discord.gg/S8MzWTUsmp)[](https://github.com/feature-sliced/documentation)

TÃ¬m kiáº¿m

# TÃ¬m kiáº¿m

Nháº­p tÃ¬m kiáº¿m cá»§a báº¡n á»Ÿ Ä‘Ã¢y

ÄÆ°á»£c cung cáº¥p bá»Ÿi Algolia[](https://www.algolia.com/)

Specs

* [TÃ i liá»‡u](/documentation/vi/docs/get-started/overview.md)
* [Cá»™ng Ä‘á»“ng](/documentation/vi/community.md)
* [Trá»£ giÃºp](/documentation/vi/nav.md)
* [Tháº£o luáº­n](https://github.com/feature-sliced/documentation/discussions)

Cá»™ng Ä‘á»“ng

* [Discord](https://discord.gg/S8MzWTUsmp)
* [Telegram (RU)](https://t.me/feature_sliced)
* [Twitter](https://twitter.com/feature_sliced)
* [Open Collective](https://opencollective.com/feature-sliced)
* [YouTube](https://www.youtube.com/c/FeatureSlicedDesign)

ThÃªm

* [GitHub](https://github.com/feature-sliced)
* [Contribution Guide](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)
* [License](https://github.com/feature-sliced/documentation/blob/master/LICENSE)
* [Docs for LLMs](/documentation/vi/docs/llms.md)

[![Feature-Sliced Design - Architectural methodology for frontend projects](/documentation/vi/img/brand/logo-primary.png)![Feature-Sliced Design - Architectural methodology for frontend projects](/documentation/vi/img/brand/logo-primary.png)](https://github.com/feature-sliced)

Báº£n quyá»n Â© 2018-2025 Feature-Sliced Design


---

# CÃ¡c phiÃªn báº£n Feature-Sliced Design

### Feature-Sliced Design v2.1 (Current)

TÃ i liá»‡u cho phiÃªn báº£n hiá»‡n táº¡i cÃ³ thá»ƒ tÃ¬m tháº¥y á»Ÿ Ä‘Ã¢y

| v2.1 | [Release Notes](https://github.com/feature-sliced/documentation/releases/tag/v2.1) | [Documentation](/documentation/vi/docs/get-started/overview.md) | [Migration from v1](/documentation/vi/docs/guides/migration/from-v1.md) | [Migration from v2.0](/documentation/vi/docs/guides/migration/from-v1.md) |
| ---- | ---------------------------------------------------------------------------------- | --------------------------------------------------------------- | ----------------------------------------------------------------------- | ------------------------------------------------------------------------- |

### Feature Slices v1 (Legacy)

TÃ i liá»‡u cho cÃ¡c phiÃªn báº£n cÅ© cá»§a feature-slices cÃ³ thá»ƒ tÃ¬m tháº¥y á»Ÿ Ä‘Ã¢y

| v1.0 | [Documentation](https://feature-sliced.github.io/featureslices.dev/v1.0.html) |
| ---- | ----------------------------------------------------------------------------- |
| v0.1 | [Documentation](https://feature-sliced.github.io/featureslices.dev/v0.1.html) |

### Feature Driven (Legacy)

TÃ i liá»‡u cho cÃ¡c phiÃªn báº£n cÅ© cá»§a feature-driven cÃ³ thá»ƒ tÃ¬m tháº¥y á»Ÿ Ä‘Ã¢y

| v0.1          | [Documentation](https://github.com/feature-sliced/documentation/tree/rc/feature-driven) |
| ------------- | --------------------------------------------------------------------------------------- |
| Example (kof) | [Github](https://github.com/kof/feature-driven-architecture)                            |


---

# ğŸ’« Community

Community resources, additional materials

## Main[â€‹](#main "Link trá»±c tiáº¿p Ä‘áº¿n heading")

<!-- -->

[Awesome Resources](https://github.com/feature-sliced/awesome)

[A curated list of awesome FSD videos, articles, packages](https://github.com/feature-sliced/awesome)

[Team](/documentation/vi/community/team.md)

[Core-team, Champions, Contributors, Companies](/documentation/vi/community/team.md)

[Brandbook](/documentation/vi/docs/branding.md)

[Recommendations for FSD's branding usage](/documentation/vi/docs/branding.md)

[Contributing](#)

[HowTo, Workflow, Support](#)


---

# Team

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/192)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Core-team[â€‹](#core-team "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Champions[â€‹](#champions "Link trá»±c tiáº¿p Ä‘áº¿n heading")

## Contributors[â€‹](#contributors "Link trá»±c tiáº¿p Ä‘áº¿n heading")

## Companies[â€‹](#companies "Link trá»±c tiáº¿p Ä‘áº¿n heading")


---

# CÃ¡c phÆ°Æ¡ng Ã¡n thay tháº¿

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/62)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

Lá»‹ch sá»­ cÃ¡c cÃ¡ch tiáº¿p cáº­n kiáº¿n trÃºc

## Big Ball of Mud[â€‹](#big-ball-of-mud "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/258)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> NÃ³ lÃ  gÃ¬; Táº¡i sao nÃ³ phá»• biáº¿n; Khi nÃ o nÃ³ báº¯t Ä‘áº§u mang láº¡i váº¥n Ä‘á»; Pháº£i lÃ m gÃ¬ vÃ  FSD giÃºp Ä‘á»¡ Ä‘Ã¢y nhÆ° tháº¿ nÃ o

* [(Article) Oleg Isonen - Last words on UI architecture before an AI takes over](https://oleg008.medium.com/last-words-on-ui-architecture-before-an-ai-takes-over-468c78f18f0d)
* [(Report) Julia Nikolaeva, iSpring - Big Ball of Mud and other problems of the monolith, we have handled](http://youtu.be/gna4Ynz1YNI)
* [(Article) DD - Big Ball of mud](https://thedomaindrivendesign.io/big-ball-of-mud/)

## Smart & Dumb components[â€‹](#smart--dumb-components "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/214)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» cÃ¡ch tiáº¿p cáº­n; Vá» kháº£ nÄƒng Ã¡p dá»¥ng trong frontend; Vá»‹ trÃ­ cá»§a methodology

Vá» sá»± lá»—i thá»i, vá» quan Ä‘iá»ƒm má»›i tá»« methodology

Táº¡i sao cÃ¡ch tiáº¿p cáº­n component-container láº¡i xáº¥u?

* [(Article) Den Abramov-Presentation and Container Components (TLDR: deprecated)](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0)

## Design Principles[â€‹](#design-principles "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/59)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> ChÃºng ta Ä‘ang nÃ³i vá» Ä‘iá»u gÃ¬; Vá»‹ trÃ­ cá»§a FSD

SOLID, GRASP, KISS, YAGNI, ... - vÃ  táº¡i sao chÃºng khÃ´ng hoáº¡t Ä‘á»™ng tá»‘t cÃ¹ng nhau trong thá»±c táº¿

VÃ  nÃ³ tá»•ng há»£p cÃ¡c thá»±c hÃ nh nÃ y nhÆ° tháº¿ nÃ o

* [(Talk) Ilya Azin - Feature-Sliced Design (fragment about Design Principles)](https://youtu.be/SnzPAr_FJ7w?t=380)

## DDD[â€‹](#ddd "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/1)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» cÃ¡ch tiáº¿p cáº­n; Táº¡i sao nÃ³ hoáº¡t Ä‘á»™ng kÃ©m trong thá»±c táº¿

Sá»± khÃ¡c biá»‡t lÃ  gÃ¬, nÃ³ cáº£i thiá»‡n kháº£ nÄƒng Ã¡p dá»¥ng nhÆ° tháº¿ nÃ o, nÃ³ Ã¡p dá»¥ng cÃ¡c thá»±c hÃ nh á»Ÿ Ä‘Ã¢u

* [(Article) DDD, Hexagonal, Onion, Clean, CQRS, ... How I put it all together](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)
* [(Talk) Ilya Azin - Feature-Sliced Design (fragment about Clean Architecture, DDD)](https://youtu.be/SnzPAr_FJ7w?t=528)

## Clean Architecture[â€‹](#clean-architecture "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/165)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» cÃ¡ch tiáº¿p cáº­n; Vá» kháº£ nÄƒng Ã¡p dá»¥ng trong frontend; Vá»‹ trÃ­ cá»§a FSD

ChÃºng giá»‘ng nhau nhÆ° tháº¿ nÃ o (Ä‘á»‘i vá»›i nhiá»u ngÆ°á»i), chÃºng khÃ¡c nhau nhÆ° tháº¿ nÃ o

* [(Thread) About use-case/interactor in the methodology](https://t.me/feature_sliced/3897)
* [(Thread) About DI in the methodology](https://t.me/feature_sliced/4592)
* [(Article) Alex Bespoyasov - Clean Architecture on frontend](https://bespoyasov.me/blog/clean-architecture-on-frontend/)
* [(Article) DDD, Hexagonal, Onion, Clean, CQRS, ... How I put it all together](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)
* [(Talk) Ilya Azin - Feature-Sliced Design (fragment about Clean Architecture, DDD)](https://youtu.be/SnzPAr_FJ7w?t=528)
* [(Article) Misconceptions of Clean Architecture](http://habr.com/ru/company/mobileup/blog/335382/)

## Frameworks[â€‹](#frameworks "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/58)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» kháº£ nÄƒng Ã¡p dá»¥ng trong frontend; Táº¡i sao cÃ¡c framework khÃ´ng giáº£i quyáº¿t váº¥n Ä‘á»; táº¡i sao khÃ´ng cÃ³ cÃ¡ch tiáº¿p cáº­n duy nháº¥t; vá»‹ trÃ­ cá»§a FSD

KhÃ´ng phá»¥ thuá»™c vÃ o framework, cÃ¡ch tiáº¿p cáº­n thÃ´ng thÆ°á»ng

* [(Article) About the reasons for creating the methodology (fragment about frameworks)](/documentation/vi/docs/about/motivation.md)
* [(Thread) About the applicability of the methodology for different frameworks](https://t.me/feature_sliced/3867)

## Atomic Design[â€‹](#atomic-design "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### NÃ³ lÃ  gÃ¬?[â€‹](#nÃ³-lÃ -gÃ¬ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong Atomic Design, pháº¡m vi trÃ¡ch nhiá»‡m Ä‘Æ°á»£c chia thÃ nh cÃ¡c layer tiÃªu chuáº©n.

Atomic Design Ä‘Æ°á»£c chia thÃ nh **5 layer** (tá»« trÃªn xuá»‘ng dÆ°á»›i):

1. `pages` - Chá»©c nÄƒng tÆ°Æ¡ng tá»± vá»›i layer `pages` trong FSD.
2. `templates` - CÃ¡c component xÃ¡c Ä‘á»‹nh cáº¥u trÃºc cá»§a trang mÃ  khÃ´ng gáº¯n vá»›i ná»™i dung cá»¥ thá»ƒ.
3. `organisms` - CÃ¡c module bao gá»“m cÃ¡c molecule vÃ  cÃ³ logic kinh doanh.
4. `molecules` - CÃ¡c component phá»©c táº¡p hÆ¡n nÃ³i chung khÃ´ng chá»©a logic kinh doanh.
5. `atoms` - CÃ¡c component UI khÃ´ng cÃ³ logic kinh doanh.

CÃ¡c module á»Ÿ má»™t layer chá»‰ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c module á»Ÿ cÃ¡c layer bÃªn dÆ°á»›i, tÆ°Æ¡ng tá»± nhÆ° FSD. Tá»©c lÃ , cÃ¡c molecule Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« cÃ¡c atom, cÃ¡c organism tá»« cÃ¡c molecule, cÃ¡c template tá»« cÃ¡c organism, vÃ  cÃ¡c page tá»« cÃ¡c template. Atomic Design cÅ©ng bao hÃ m viá»‡c sá»­ dá»¥ng Public API trong cÃ¡c module Ä‘á»ƒ cÃ´ láº­p.

### Kháº£ nÄƒng Ã¡p dá»¥ng cho frontend[â€‹](#kháº£-nÄƒng-Ã¡p-dá»¥ng-cho-frontend "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Atomic Design tÆ°Æ¡ng Ä‘á»‘i phá»• biáº¿n trong cÃ¡c dá»± Ã¡n. Atomic Design phá»• biáº¿n hÆ¡n trong cÃ¡c nhÃ  thiáº¿t káº¿ web hÆ¡n lÃ  trong phÃ¡t triá»ƒn. CÃ¡c nhÃ  thiáº¿t káº¿ web thÆ°á»ng sá»­ dá»¥ng Atomic Design Ä‘á»ƒ táº¡o ra cÃ¡c thiáº¿t káº¿ cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  dá»… báº£o trÃ¬. Trong phÃ¡t triá»ƒn, Atomic Design thÆ°á»ng Ä‘Æ°á»£c trá»™n láº«n vá»›i cÃ¡c methodology kiáº¿n trÃºc khÃ¡c.

Tuy nhiÃªn, vÃ¬ Atomic Design táº­p trung vÃ o cÃ¡c component UI vÃ  sá»± káº¿t há»£p cá»§a chÃºng, má»™t váº¥n Ä‘á» phÃ¡t sinh vá»›i viá»‡c triá»ƒn khai logic kinh doanh trong kiáº¿n trÃºc.

Váº¥n Ä‘á» lÃ  Atomic Design khÃ´ng cung cáº¥p má»™t má»©c trÃ¡ch nhiá»‡m rÃµ rÃ ng cho logic kinh doanh, dáº«n Ä‘áº¿n viá»‡c phÃ¢n tÃ¡n nÃ³ qua cÃ¡c component vÃ  má»©c khÃ¡c nhau, lÃ m phá»©c táº¡p hÃ³a báº£o trÃ¬ vÃ  testing. Logic kinh doanh trá»Ÿ nÃªn má» nháº¡t, khiáº¿n viá»‡c phÃ¢n tÃ¡ch rÃµ trÃ¡ch nhiá»‡m trá»Ÿ nÃªn khÃ³ khÄƒn vÃ  lÃ m code Ã­t modular vÃ  cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng hÆ¡n.

### NÃ³ liÃªn quan Ä‘áº¿n FSD nhÆ° tháº¿ nÃ o?[â€‹](#nÃ³-liÃªn-quan-Ä‘áº¿n-fsd-nhÆ°-tháº¿-nÃ o "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong bá»‘i cáº£nh cá»§a FSD, má»™t sá»‘ yáº¿u tá»‘ cá»§a Atomic Design cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng Ä‘á»ƒ táº¡o ra cÃ¡c component UI linh hoáº¡t vÃ  cÃ³ thá»ƒ má»Ÿ rá»™ng. CÃ¡c layer `atoms` vÃ  `molecules` cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai trong `shared/ui` trong FSD, Ä‘Æ¡n giáº£n hÃ³a viá»‡c tÃ¡i sá»­ dá»¥ng vÃ  báº£o trÃ¬ cÃ¡c yáº¿u tá»‘ UI cÆ¡ báº£n.

```
â”œâ”€â”€ shared
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ atoms
â”‚   â”‚   â”œâ”€â”€ molecules
â”‚   ...
```

So sÃ¡nh FSD vÃ  Atomic Design cho tháº¥y ráº±ng cáº£ hai methodology Ä‘á»u hÆ°á»›ng tá»›i tÃ­nh modular vÃ  tÃ¡i sá»­ dá»¥ng nhÆ°ng táº­p trung vÃ o cÃ¡c khÃ­a cáº¡nh khÃ¡c nhau. Atomic Design hÆ°á»›ng tá»›i cÃ¡c component trá»±c quan vÃ  sá»± káº¿t há»£p cá»§a chÃºng. FSD táº­p trung vÃ o viá»‡c chia chá»©c nÄƒng cá»§a á»©ng dá»¥ng thÃ nh cÃ¡c module Ä‘á»™c láº­p vÃ  cÃ¡c káº¿t ná»‘i giá»¯a chÃºng.

* [Atomic Design Methodology](https://atomicdesign.bradfrost.com/table-of-contents/)
* [(Thread) About applicability in shared / ui](https://t.me/feature_sliced/1653)
* [(Video) Briefly about Atomic Design](https://youtu.be/Yi-A20x2dcA)
* [(Talk) Ilya Azin - Feature-Sliced Design (fragment about Atomic Design)](https://youtu.be/SnzPAr_FJ7w?t=587)

## Feature Driven[â€‹](#feature-driven "Link trá»±c tiáº¿p Ä‘áº¿n heading")

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/219)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» cÃ¡ch tiáº¿p cáº­n; Vá» kháº£ nÄƒng Ã¡p dá»¥ng trong frontend; Vá»‹ trÃ­ cá»§a FSD

Vá» tÃ­nh tÆ°Æ¡ng thÃ­ch, phÃ¡t triá»ƒn lá»‹ch sá»­ vÃ  so sÃ¡nh

* [(Talk) Oleg Isonen - Feature Driven Architecture](https://youtu.be/BWAeYuWFHhs)
* [Feature Driven-Short specification (from the point of view of FSD)](https://github.com/feature-sliced/documentation/tree/rc/feature-driven)


---

# Sá»© má»‡nh

á» Ä‘Ã¢y chÃºng tÃ´i mÃ´ táº£ cÃ¡c má»¥c tiÃªu vÃ  háº¡n cháº¿ cá»§a kháº£ nÄƒng Ã¡p dá»¥ng cá»§a phÆ°Æ¡ng phÃ¡p - nhá»¯ng gÃ¬ chÃºng tÃ´i Ä‘Æ°á»£c hÆ°á»›ng dáº«n khi phÃ¡t triá»ƒn phÆ°Æ¡ng phÃ¡p

* ChÃºng tÃ´i xem má»¥c tiÃªu cá»§a mÃ¬nh lÃ  sá»± cÃ¢n báº±ng giá»¯a ideology vÃ  tÃ­nh Ä‘Æ¡n giáº£n
* ChÃºng tÃ´i sáº½ khÃ´ng thá»ƒ táº¡o ra má»™t giáº£i phÃ¡p váº¡n nÄƒng phÃ¹ há»£p vá»›i má»i ngÆ°á»i

**Tuy nhiÃªn, phÆ°Æ¡ng phÃ¡p nÃ y nÃªn gáº§n gÅ©i vÃ  dá»… tiáº¿p cáº­n cho má»™t nhÃ³m rá»™ng rÃ£i cÃ¡c developer**

## Má»¥c tiÃªu[â€‹](#má»¥c-tiÃªu "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### TÃ­nh rÃµ rÃ ng trá»±c quan cho nhiá»u developer[â€‹](#tÃ­nh-rÃµ-rÃ ng-trá»±c-quan-cho-nhiá»u-developer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

PhÆ°Æ¡ng phÃ¡p nÃ y nÃªn dá»… tiáº¿p cáº­n - cho háº§u háº¿t thÃ nh viÃªn trong nhÃ³m dá»± Ã¡n

*VÃ¬ ngay cáº£ vá»›i táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ tÆ°Æ¡ng lai, nÃ³ sáº½ khÃ´ng Ä‘á»§, náº¿u chá»‰ cÃ³ nhá»¯ng senior/lead cÃ³ kinh nghiá»‡m hiá»ƒu Ä‘Æ°á»£c phÆ°Æ¡ng phÃ¡p*

### Giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» hÃ ng ngÃ y[â€‹](#giáº£i-quyáº¿t-cÃ¡c-váº¥n-Ä‘á»-hÃ ng-ngÃ y "Link trá»±c tiáº¿p Ä‘áº¿n heading")

PhÆ°Æ¡ng phÃ¡p nÃ y nÃªn Ä‘Æ°a ra cÃ¡c lÃ½ do vÃ  giáº£i phÃ¡p cho cÃ¡c váº¥n Ä‘á» hÃ ng ngÃ y cá»§a chÃºng ta khi phÃ¡t triá»ƒn dá»± Ã¡n

**VÃ  cÅ©ng - gáº¯n kÃ¨m cÃ´ng cá»¥ vÃ o táº¥t cáº£ nhá»¯ng Ä‘iá»u nÃ y (cli, linter)**

Äá»ƒ cÃ¡c developer cÃ³ thá»ƒ sá»­ dá»¥ng má»™t cÃ¡ch tiáº¿p cáº­n *Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm nghiá»‡m trong thá»±c chiáº¿n* cho phÃ©p há» bá» qua cÃ¡c váº¥n Ä‘á» lÃ¢u dÃ i vá» kiáº¿n trÃºc vÃ  phÃ¡t triá»ƒn

> *@sergeysova: HÃ£y tÆ°á»Ÿng tÆ°á»£ng ráº±ng, má»™t developer viáº¿t code trong khuÃ´n khá»• cá»§a phÆ°Æ¡ng phÃ¡p vÃ  gáº·p váº¥n Ä‘á» Ã­t hÆ¡n 10 láº§n, Ä‘Æ¡n giáº£n vÃ¬ nhá»¯ng ngÆ°á»i khÃ¡c Ä‘Ã£ nghÄ© ra giáº£i phÃ¡p cho nhiá»u váº¥n Ä‘á».*

## Háº¡n cháº¿[â€‹](#háº¡n-cháº¿ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ChÃºng tÃ´i khÃ´ng muá»‘n *Ã©p buá»™c quan Ä‘iá»ƒm cá»§a mÃ¬nh*, vÃ  Ä‘á»“ng thá»i chÃºng tÃ´i hiá»ƒu ráº±ng *nhiá»u thÃ³i quen cá»§a chÃºng ta, vá»›i tÆ° cÃ¡ch lÃ  developer, cáº£n trá»Ÿ tá»« ngÃ y nÃ y qua ngÃ y khÃ¡c*

Má»i ngÆ°á»i Ä‘á»u cÃ³ má»©c Ä‘á»™ kinh nghiá»‡m riÃªng trong viá»‡c thiáº¿t káº¿ vÃ  phÃ¡t triá»ƒn há»‡ thá»‘ng, **do Ä‘Ã³, Ä‘Ã¡ng lÃ m hiá»ƒu nhá»¯ng Ä‘iá»u sau:**

* **Sáº½ khÃ´ng hoáº¡t Ä‘á»™ng**: ráº¥t Ä‘Æ¡n giáº£n, ráº¥t rÃµ rÃ ng, cho má»i ngÆ°á»i

  > *@sergeysova: Má»™t sá»‘ khÃ¡i niá»‡m khÃ´ng thá»ƒ Ä‘Æ°á»£c hiá»ƒu má»™t cÃ¡ch trá»±c quan cho Ä‘áº¿n khi báº¡n gáº·p pháº£i váº¥n Ä‘á» vÃ  dÃ nh nhiá»u nÄƒm Ä‘á»ƒ giáº£i quyáº¿t chÃºng.*
  >
  > * *Trong tháº¿ giá»›i toÃ¡n há»c: lÃ  graph theory.*
  > * *Trong váº­t lÃ½: cÆ¡ há»c lÆ°á»£ng tá»­.*
  > * *Trong láº­p trÃ¬nh: kiáº¿n trÃºc á»©ng dá»¥ng.*

* **CÃ³ thá»ƒ vÃ  mong muá»‘n**: tÃ­nh Ä‘Æ¡n giáº£n, kháº£ nÄƒng má»Ÿ rá»™ng

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [CÃ¡c váº¥n Ä‘á» kiáº¿n trÃºc](/documentation/vi/docs/about/understanding/architecture.md#problems)


---

# Äá»™ng lá»±c

Ã tÆ°á»Ÿng chÃ­nh cá»§a **Feature-Sliced Design** lÃ  táº¡o Ä‘iá»u kiá»‡n thuáº­n lá»£i vÃ  giáº£m chi phÃ­ phÃ¡t triá»ƒn cÃ¡c dá»± Ã¡n phá»©c táº¡p vÃ  Ä‘Æ°á»£c phÃ¡t triá»ƒn, dá»±a trÃªn viá»‡c [káº¿t há»£p káº¿t quáº£ nghiÃªn cá»©u, tháº£o luáº­n kinh nghiá»‡m cá»§a cÃ¡c loáº¡i developer khÃ¡c nhau trong pháº¡m vi rá»™ng](https://github.com/feature-sliced/documentation/discussions).

Hiá»ƒn nhiÃªn, Ä‘Ã¢y sáº½ khÃ´ng pháº£i lÃ  giáº£i phÃ¡p váº¡n nÄƒng, vÃ  táº¥t nhiÃªn, phÆ°Æ¡ng phÃ¡p nÃ y sáº½ cÃ³ [giá»›i háº¡n kháº£ nÄƒng Ã¡p dá»¥ng](/documentation/vi/docs/about/mission.md) riÃªng cá»§a mÃ¬nh.

Tuy nhiÃªn, cÃ³ nhá»¯ng cÃ¢u há»i há»£p lÃ½ vá» *tÃ­nh kháº£ thi cá»§a má»™t phÆ°Æ¡ng phÃ¡p nhÆ° váº­y nÃ³i chung*

ghi chÃº

Chi tiáº¿t hÆ¡n [Ä‘Æ°á»£c tháº£o luáº­n trong cuá»™c tháº£o luáº­n](https://github.com/feature-sliced/documentation/discussions/27)

## Táº¡i sao cÃ¡c giáº£i phÃ¡p hiá»‡n cÃ³ khÃ´ng Ä‘á»§?[â€‹](#táº¡i-sao-cÃ¡c-giáº£i-phÃ¡p-hiá»‡n-cÃ³-khÃ´ng-Ä‘á»§ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> ThÆ°á»ng lÃ  nhá»¯ng láº­p luáº­n nÃ y:
>
> * *"Táº¡i sao báº¡n cáº§n má»™t methodology má»›i, khi Ä‘Ã£ cÃ³ nhá»¯ng phÆ°Æ¡ng phÃ¡p vÃ  nguyÃªn táº¯c thiáº¿t káº¿ lÃ¢u Ä‘á»i nhÆ° `SOLID`, `KISS`, `YAGNI`, `DDD`, `GRASP`, `DRY`, v.v."*
> * *"Táº¥t cáº£ cÃ¡c váº¥n Ä‘á» Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng tÃ i liá»‡u dá»± Ã¡n tá»‘t, test vÃ  quy trÃ¬nh cÃ³ cáº¥u trÃºc"*
> * *"CÃ¡c váº¥n Ä‘á» sáº½ khÃ´ng xáº£y ra náº¿u táº¥t cáº£ developer Ä‘á»u tuÃ¢n theo nhá»¯ng Ä‘iá»u trÃªn"*
> * *"Má»i thá»© Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t minh trÆ°á»›c báº¡n, báº¡n chá»‰ khÃ´ng biáº¿t sá»­ dá»¥ng nÃ³"*
> * *"HÃ£y láº¥y {FRAMEWORK\_NAME} - má»i thá»© Ä‘Ã£ Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh sáºµn cho báº¡n á»Ÿ Ä‘Ã³"*

### Chá»‰ cÃ³ nguyÃªn táº¯c lÃ  chÆ°a Ä‘á»§[â€‹](#chá»‰-cÃ³-nguyÃªn-táº¯c-lÃ -chÆ°a-Ä‘á»§ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

**Viá»‡c tá»“n táº¡i cÃ¡c nguyÃªn táº¯c lÃ  chÆ°a Ä‘á»§ Ä‘á»ƒ thiáº¿t káº¿ má»™t kiáº¿n trÃºc tá»‘t**

KhÃ´ng pháº£i ai cÅ©ng biáº¿t chÃºng má»™t cÃ¡ch hoÃ n toÃ n, tháº­m chÃ­ Ã­t ngÆ°á»i hÆ¡n hiá»ƒu vÃ  Ã¡p dá»¥ng chÃºng má»™t cÃ¡ch chÃ­nh xÃ¡c

*CÃ¡c nguyÃªn táº¯c thiáº¿t káº¿ quÃ¡ chung chung, vÃ  khÃ´ng Ä‘Æ°a ra cÃ¢u tráº£ lá»i cá»¥ thá»ƒ cho cÃ¢u há»i: "LÃ m tháº¿ nÃ o Ä‘á»ƒ thiáº¿t káº¿ cáº¥u trÃºc vÃ  kiáº¿n trÃºc cá»§a má»™t á»©ng dá»¥ng cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  linh hoáº¡t?"*

### Quy trÃ¬nh khÃ´ng pháº£i lÃºc nÃ o cÅ©ng hiá»‡u quáº£[â€‹](#quy-trÃ¬nh-khÃ´ng-pháº£i-lÃºc-nÃ o-cÅ©ng-hiá»‡u-quáº£ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

*TÃ i liá»‡u/Test/Quy trÃ¬nh* táº¥t nhiÃªn lÃ  tá»‘t, nhÆ°ng tiáº¿c thay, ngay cáº£ vá»›i chi phÃ­ cao cho chÃºng - **chÃºng khÃ´ng pháº£i lÃºc nÃ o cÅ©ng giáº£i quyáº¿t Ä‘Æ°á»£c cÃ¡c váº¥n Ä‘á» do kiáº¿n trÃºc Ä‘áº·t ra vÃ  viá»‡c Ä‘Æ°a ngÆ°á»i má»›i vÃ o dá»± Ã¡n**

* Thá»i gian Ä‘á»ƒ má»—i developer tham gia vÃ o dá»± Ã¡n khÃ´ng Ä‘Æ°á»£c giáº£m Ä‘Ã¡ng ká»ƒ, bá»Ÿi vÃ¬ tÃ i liá»‡u thÆ°á»ng sáº½ trá»Ÿ nÃªn khá»•ng lá»“ / lá»—i thá»i
* LiÃªn tá»¥c Ä‘áº£m báº£o ráº±ng má»i ngÆ°á»i hiá»ƒu kiáº¿n trÃºc theo cÃ¹ng má»™t cÃ¡ch - Ä‘iá»u nÃ y cÅ©ng Ä‘Ã²i há»i má»™t lÆ°á»£ng tÃ i nguyÃªn khá»•ng lá»“
* Äá»«ng quÃªn vá» bus-factor

### CÃ¡c framework hiá»‡n cÃ³ khÃ´ng thá»ƒ Ã¡p dá»¥ng á»Ÿ má»i nÆ¡i[â€‹](#cÃ¡c-framework-hiá»‡n-cÃ³-khÃ´ng-thá»ƒ-Ã¡p-dá»¥ng-á»Ÿ-má»i-nÆ¡i "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* CÃ¡c giáº£i phÃ¡p hiá»‡n cÃ³ thÆ°á»ng cÃ³ ngÆ°á»¡ng vÃ o cao, Ä‘iá»u nÃ y khiáº¿n viá»‡c tÃ¬m kiáº¿m developer má»›i trá»Ÿ nÃªn khÃ³ khÄƒn
* NgoÃ i ra, pháº§n lá»›n thá»i gian, viá»‡c lá»±a chá»n cÃ´ng nghá»‡ Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c khi cÃ¡c váº¥n Ä‘á» nghiÃªm trá»ng trong dá»± Ã¡n xuáº¥t hiá»‡n, vÃ  do Ä‘Ã³ báº¡n cáº§n cÃ³ kháº£ nÄƒng "lÃ m viá»‡c vá»›i nhá»¯ng gÃ¬ cÃ³ sáºµn" - **mÃ  khÃ´ng bá»‹ rÃ ng buá»™c vÃ o cÃ´ng nghá»‡**

> Q: *"Trong dá»± Ã¡n cá»§a tÃ´i `React/Vue/Redux/Effector/Mobx/{YOUR_TECH}` - lÃ m tháº¿ nÃ o tÃ´i cÃ³ thá»ƒ xÃ¢y dá»±ng tá»‘t hÆ¡n cáº¥u trÃºc cá»§a cÃ¡c entity vÃ  má»‘i quan há»‡ giá»¯a chÃºng?"*

### Káº¿t quáº£[â€‹](#káº¿t-quáº£ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ChÃºng ta nháº­n Ä‘Æ°á»£c cÃ¡c dá»± Ã¡n *"Ä‘á»™c Ä‘Ã¡o nhÆ° bÃ´ng tuyáº¿t"*, má»—i dá»± Ã¡n Ä‘á»u Ä‘Ã²i há»i nhÃ¢n viÃªn pháº£i há»c há»i lÃ¢u dÃ i, vÃ  kiáº¿n thá»©c khÃ´ng cháº¯c cÃ³ thá»ƒ Ã¡p dá»¥ng Ä‘Æ°á»£c cho dá»± Ã¡n khÃ¡c

> @sergeysova: *"ÄÃ¢y chÃ­nh xÃ¡c lÃ  tÃ¬nh huá»‘ng hiá»‡n táº¡i tá»“n táº¡i trong lÄ©nh vá»±c phÃ¡t triá»ƒn frontend cá»§a chÃºng ta: má»—i lead sáº½ phÃ¡t minh ra cÃ¡c kiáº¿n trÃºc vÃ  cáº¥u trÃºc dá»± Ã¡n khÃ¡c nhau, trong khi khÃ´ng cháº¯c ráº±ng nhá»¯ng cáº¥u trÃºc nÃ y sáº½ vÆ°á»£t qua Ä‘Æ°á»£c thá»­ thÃ¡ch thá»i gian, káº¿t quáº£ lÃ  tá»‘i Ä‘a hai ngÆ°á»i cÃ³ thá»ƒ phÃ¡t triá»ƒn dá»± Ã¡n ngoÃ i anh ta, vÃ  má»—i developer má»›i cáº§n pháº£i Ä‘Æ°á»£c hÆ°á»›ng dáº«n láº¡i tá»« Ä‘áº§u."*

## Táº¡i sao cÃ¡c developer cáº§n methodology?[â€‹](#táº¡i-sao-cÃ¡c-developer-cáº§n-methodology "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Táº­p trung vÃ o cÃ¡c tÃ­nh nÄƒng kinh doanh, khÃ´ng pháº£i váº¥n Ä‘á» kiáº¿n trÃºc[â€‹](#táº­p-trung-vÃ o-cÃ¡c-tÃ­nh-nÄƒng-kinh-doanh-khÃ´ng-pháº£i-váº¥n-Ä‘á»-kiáº¿n-trÃºc "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Methodology cho phÃ©p báº¡n tiáº¿t kiá»‡m tÃ i nguyÃªn trong viá»‡c thiáº¿t káº¿ má»™t kiáº¿n trÃºc cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ  linh hoáº¡t, thay vÃ o Ä‘Ã³ hÆ°á»›ng sá»± chÃº Ã½ cá»§a cÃ¡c developer vÃ o viá»‡c phÃ¡t triá»ƒn chá»©c nÄƒng chÃ­nh. Äá»“ng thá»i, cÃ¡c giáº£i phÃ¡p kiáº¿n trÃºc Ä‘Æ°á»£c tiÃªu chuáº©n hÃ³a tá»« dá»± Ã¡n nÃ y sang dá»± Ã¡n khÃ¡c.

*Má»™t cÃ¢u há»i riÃªng lÃ  methodology nÃªn giÃ nh Ä‘Æ°á»£c sá»± tin tÆ°á»Ÿng cá»§a cá»™ng Ä‘á»“ng, Ä‘á»ƒ má»™t developer khÃ¡c cÃ³ thá»ƒ lÃ m quen vá»›i nÃ³ vÃ  dá»±a vÃ o nÃ³ trong viá»‡c giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» cá»§a dá»± Ã¡n trong thá»i gian cÃ³ sáºµn*

### Giáº£i phÃ¡p Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm chá»©ng báº±ng kinh nghiá»‡m[â€‹](#giáº£i-phÃ¡p-Ä‘Ã£-Ä‘Æ°á»£c-kiá»ƒm-chá»©ng-báº±ng-kinh-nghiá»‡m "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Methodology Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c developer hÆ°á»›ng tá»›i *má»™t giáº£i phÃ¡p Ä‘Ã£ Ä‘Æ°á»£c chá»©ng minh cho viá»‡c thiáº¿t káº¿ logic kinh doanh phá»©c táº¡p*

*Tuy nhiÃªn, rÃµ rÃ ng lÃ  methodology nÃ³i chung lÃ  vá» má»™t táº­p há»£p cÃ¡c best-practice, bÃ i viáº¿t giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» vÃ  trÆ°á»ng há»£p nháº¥t Ä‘á»‹nh trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn. Do Ä‘Ã³, methodology cÅ©ng sáº½ há»¯u Ã­ch cho cÃ¡c developer khÃ¡c - nhá»¯ng ngÆ°á»i báº±ng cÃ¡ch nÃ o Ä‘Ã³ gáº·p pháº£i váº¥n Ä‘á» trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn vÃ  thiáº¿t káº¿*

### Sá»©c khá»e dá»± Ã¡n[â€‹](#sá»©c-khá»e-dá»±-Ã¡n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Methodology sáº½ cho phÃ©p *giáº£i quyáº¿t vÃ  theo dÃµi cÃ¡c váº¥n Ä‘á» cá»§a dá»± Ã¡n trÆ°á»›c, mÃ  khÃ´ng Ä‘Ã²i há»i má»™t lÆ°á»£ng lá»›n tÃ i nguyÃªn*

**Pháº§n lá»›n thá»i gian, ná»£ ká»¹ thuáº­t tÃ­ch tá»¥ vÃ  tÃ­ch tá»¥ theo thá»i gian, vÃ  trÃ¡ch nhiá»‡m giáº£i quyáº¿t nÃ³ náº±m á»Ÿ cáº£ lead vÃ  team**

Methodology sáº½ cho phÃ©p báº¡n *cáº£nh bÃ¡o* trÆ°á»›c cÃ¡c váº¥n Ä‘á» cÃ³ thá»ƒ xáº£y ra trong viá»‡c má»Ÿ rá»™ng vÃ  phÃ¡t triá»ƒn dá»± Ã¡n

## Táº¡i sao doanh nghiá»‡p cáº§n má»™t methodology?[â€‹](#táº¡i-sao-doanh-nghiá»‡p-cáº§n-má»™t-methodology "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Onboarding nhanh chÃ³ng[â€‹](#onboarding-nhanh-chÃ³ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Vá»›i methodology, báº¡n cÃ³ thá»ƒ thuÃª má»™t ngÆ°á»i vÃ o dá»± Ã¡n **Ä‘Ã£ quen thuá»™c vá»›i cÃ¡ch tiáº¿p cáº­n nÃ y trÆ°á»›c Ä‘Ã³, vÃ  khÃ´ng cáº§n Ä‘Ã o táº¡o láº¡i**

*Má»i ngÆ°á»i báº¯t Ä‘áº§u hiá»ƒu vÃ  Ä‘Ã³ng gÃ³p cho dá»± Ã¡n nhanh hÆ¡n, vÃ  cÃ³ thÃªm báº£o Ä‘áº£m Ä‘á»ƒ tÃ¬m ngÆ°á»i cho cÃ¡c láº§n láº·p tiáº¿p theo cá»§a dá»± Ã¡n*

### Giáº£i phÃ¡p Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm chá»©ng báº±ng kinh nghiá»‡m[â€‹](#giáº£i-phÃ¡p-Ä‘Ã£-Ä‘Æ°á»£c-kiá»ƒm-chá»©ng-báº±ng-kinh-nghiá»‡m-1 "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Vá»›i methodology, doanh nghiá»‡p sáº½ cÃ³ *giáº£i phÃ¡p cho háº§u háº¿t cÃ¡c váº¥n Ä‘á» phÃ¡t sinh trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn há»‡ thá»‘ng*

VÃ¬ pháº§n lá»›n thá»i gian doanh nghiá»‡p muá»‘n cÃ³ má»™t framework / giáº£i phÃ¡p cÃ³ thá»ƒ giáº£i quyáº¿t pháº§n lá»›n cÃ¡c váº¥n Ä‘á» trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn dá»± Ã¡n

### Kháº£ nÄƒng Ã¡p dá»¥ng cho cÃ¡c giai Ä‘oáº¡n khÃ¡c nhau cá»§a dá»± Ã¡n[â€‹](#kháº£-nÄƒng-Ã¡p-dá»¥ng-cho-cÃ¡c-giai-Ä‘oáº¡n-khÃ¡c-nhau-cá»§a-dá»±-Ã¡n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Methodology cÃ³ thá»ƒ mang láº¡i lá»£i Ã­ch cho dá»± Ã¡n *cáº£ á»Ÿ giai Ä‘oáº¡n há»— trá»£ vÃ  phÃ¡t triá»ƒn dá»± Ã¡n, vÃ  á»Ÿ giai Ä‘oáº¡n MVP*

VÃ¢ng, Ä‘iá»u quan trá»ng nháº¥t Ä‘á»‘i vá»›i MVP lÃ  *"cÃ¡c tÃ­nh nÄƒng, khÃ´ng pháº£i kiáº¿n trÃºc Ä‘Æ°á»£c Ä‘áº·t ná»n cho tÆ°Æ¡ng lai"*. NhÆ°ng ngay cáº£ trong Ä‘iá»u kiá»‡n deadline háº¡n cháº¿, viá»‡c biáº¿t cÃ¡c best-practice tá»« methodology, báº¡n cÃ³ thá»ƒ *"lÃ m vá»›i Ã­t mÃ¡u"*, khi thiáº¿t káº¿ phiÃªn báº£n MVP cá»§a há»‡ thá»‘ng, tÃ¬m ra má»™t sá»± thá»a hiá»‡p há»£p lÃ½ (thay vÃ¬ mÃ´ hÃ¬nh hÃ³a cÃ¡c tÃ­nh nÄƒng "má»™t cÃ¡ch ngáº«u nhiÃªn")

*Äiá»u tÆ°Æ¡ng tá»± cÃ³ thá»ƒ nÃ³i vá» testing*

## Khi nÃ o methodology cá»§a chÃºng tÃ´i khÃ´ng cáº§n thiáº¿t?[â€‹](#khi-nÃ o-methodology-cá»§a-chÃºng-tÃ´i-khÃ´ng-cáº§n-thiáº¿t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* Náº¿u dá»± Ã¡n sáº½ tá»“n táº¡i trong thá»i gian ngáº¯n
* Náº¿u dá»± Ã¡n khÃ´ng cáº§n kiáº¿n trÃºc Ä‘Æ°á»£c há»— trá»£
* Náº¿u doanh nghiá»‡p khÃ´ng nháº­n tháº¥y má»‘i liÃªn káº¿t giá»¯a code base vÃ  tá»‘c Ä‘á»™ phÃ¡t triá»ƒn tÃ­nh nÄƒng
* Náº¿u Ä‘á»‘i vá»›i doanh nghiá»‡p viá»‡c Ä‘Ã³ng cÃ¡c Ä‘Æ¡n hÃ ng cÃ ng sá»›m cÃ ng tá»‘t, mÃ  khÃ´ng cáº§n há»— trá»£ thÃªm

### QÃ´y mÃ´ doanh nghiá»‡p[â€‹](#qÃ´y-mÃ´-doanh-nghiá»‡p "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* **Doanh nghiá»‡p nhá»** - thÆ°á»ng cáº§n má»™t giáº£i phÃ¡p cÃ³ sáºµn vÃ  ráº¥t nhanh. Chá»‰ khi doanh nghiá»‡p phÃ¡t triá»ƒn (Ã­t nháº¥t lÃ  gáº§n trung bÃ¬nh), há» má»›i hiá»ƒu ráº±ng Ä‘á»ƒ khÃ¡ch hÃ ng tiáº¿p tá»¥c sá»­ dá»¥ng, cáº§n thiáº¿t, trong sá»‘ nhá»¯ng Ä‘iá»u khÃ¡c, lÃ  dÃ nh thá»i gian cho cháº¥t lÆ°á»£ng vÃ  tÃ­nh á»•n Ä‘á»‹nh cá»§a cÃ¡c giáº£i phÃ¡p Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn
* **Doanh nghiá»‡p vá»«a** - thÆ°á»ng hiá»ƒu táº¥t cáº£ cÃ¡c váº¥n Ä‘á» cá»§a phÃ¡t triá»ƒn, vÃ  ngay cáº£ khi cáº§n thiáº¿t *"Ä‘ua tá»‘c Ä‘á»ƒ cÃ³ cÃ¡c tÃ­nh nÄƒng"*, há» váº«n dÃ nh thá»i gian cho viá»‡c cáº£i thiá»‡n cháº¥t lÆ°á»£ng, refactoring vÃ  test (vÃ  táº¥t nhiÃªn - cho kiáº¿n trÃºc cÃ³ thá»ƒ má»Ÿ rá»™ng)
* **Doanh nghiá»‡p lá»›n** - thÆ°á»ng Ä‘Ã£ cÃ³ Ä‘á»‘i tÆ°á»£ng rá»™ng rÃ£i, nhÃ¢n sá»±, vÃ  má»™t táº­p há»£p cÃ¡c thá»±c hÃ nh rá»™ng rÃ£i hÆ¡n nhiá»u, vÃ  cÃ³ thá»ƒ tháº­m chÃ­ cÃ³ cÃ¡ch tiáº¿p cáº­n kiáº¿n trÃºc riÃªng cá»§a há», nÃªn Ã½ tÆ°á»Ÿng sá»­ dá»¥ng cá»§a ngÆ°á»i khÃ¡c khÃ´ng Ä‘áº¿n vá»›i há» thÆ°á»ng xuyÃªn

## Káº¿ hoáº¡ch[â€‹](#káº¿-hoáº¡ch "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Pháº§n chÃ­nh cá»§a cÃ¡c má»¥c tiÃªu [Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ Ä‘Ã¢y](/documentation/vi/docs/about/mission.md#goals), nhÆ°ng ngoÃ i ra, Ä‘Ã¡ng nÃ³i vá» ká»³ vá»ng cá»§a chÃºng tÃ´i tá»« methodology trong tÆ°Æ¡ng lai

### Káº¿t há»£p kinh nghiá»‡m[â€‹](#káº¿t-há»£p-kinh-nghiá»‡m "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Hiá»‡n táº¡i chÃºng tÃ´i Ä‘ang cá»‘ gáº¯ng káº¿t há»£p táº¥t cáº£ kinh nghiá»‡m Ä‘a dáº¡ng cá»§a `core-team`, vÃ  cÃ³ Ä‘Æ°á»£c má»™t methodology Ä‘Æ°á»£c rÃ¨n luyá»‡n báº±ng thá»±c hÃ nh

Táº¥t nhiÃªn, káº¿t quáº£ cÃ³ thá»ƒ lÃ  Angular 3.0, nhÆ°ng quan trá»ng hÆ¡n á»Ÿ Ä‘Ã¢y lÃ  **nghiÃªn cá»©u chÃ­nh váº¥n Ä‘á» thiáº¿t káº¿ kiáº¿n trÃºc cá»§a cÃ¡c há»‡ thá»‘ng phá»©c táº¡p**

*VÃ  vÃ¢ng - chÃºng tÃ´i cÃ³ phÃ n nÃ n vá» phiÃªn báº£n hiá»‡n táº¡i cá»§a methodology, nhÆ°ng chÃºng tÃ´i muá»‘n lÃ m viá»‡c cÃ¹ng nhau Ä‘á»ƒ Ä‘i Ä‘áº¿n má»™t giáº£i phÃ¡p duy nháº¥t vÃ  tá»‘i Æ°u (tÃ­nh Ä‘áº¿n, trong sá»‘ nhá»¯ng Ä‘iá»u khÃ¡c, kinh nghiá»‡m cá»§a cá»™ng Ä‘á»“ng)*

### Cuá»™c sá»‘ng ngoÃ i specification[â€‹](#cuá»™c-sá»‘ng-ngoÃ i-specification "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u má»i thá»© Ä‘iá»…n ra tá»‘t, thÃ¬ methodology sáº½ khÃ´ng chá»‰ giá»›i háº¡n trong specification vÃ  toolkit

* CÃ³ thá»ƒ sáº½ cÃ³ bÃ¡o cÃ¡o, bÃ i viáº¿t
* CÃ³ thá»ƒ cÃ³ `CODE_MOD` cho viá»‡c migration sang cÃ¡c cÃ´ng nghá»‡ khÃ¡c cá»§a cÃ¡c dá»± Ã¡n Ä‘Æ°á»£c viáº¿t theo methodology
* CÃ³ thá»ƒ káº¿t quáº£ lÃ  chÃºng ta sáº½ cÃ³ thá»ƒ tiáº¿p cáº­n Ä‘Æ°á»£c cÃ¡c maintainer cá»§a cÃ¡c giáº£i phÃ¡p cÃ´ng nghá»‡ lá»›n
  <!-- -->
  * *Äáº·c biá»‡t cho React, so vá»›i cÃ¡c framework khÃ¡c - Ä‘Ã¢y lÃ  váº¥n Ä‘á» chÃ­nh, vÃ¬ nÃ³ khÃ´ng nÃ³i cÃ¡ch giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á» nháº¥t Ä‘á»‹nh*

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Tháº£o luáº­n) KhÃ´ng cáº§n methodology?](https://github.com/feature-sliced/documentation/discussions/27)
* [Vá» sá»© má»‡nh cá»§a methodology: má»¥c tiÃªu vÃ  giá»›i háº¡n](/documentation/vi/docs/about/mission.md)
* [CÃ¡c loáº¡i kiáº¿n thá»©c trong dá»± Ã¡n](/documentation/vi/docs/about/understanding/knowledge-types.md)


---

# ThÃºc Ä‘áº©y trong cÃ´ng ty

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/206)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Dá»± Ã¡n vÃ  cÃ´ng ty cÃ³ cáº§n methodology khÃ´ng?[â€‹](#dá»±-Ã¡n-vÃ -cÃ´ng-ty-cÃ³-cáº§n-methodology-khÃ´ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> Vá» viá»‡c chá»©ng minh tÃ­nh á»©ng dá»¥ng, Nhá»¯ng nhiá»‡m vá»¥ Ä‘Ã³

## LÃ m tháº¿ nÃ o Ä‘á»ƒ trÃ¬nh bÃ y methodology cho doanh nghiá»‡p?[â€‹](#lÃ m-tháº¿-nÃ o-Ä‘á»ƒ-trÃ¬nh-bÃ y-methodology-cho-doanh-nghiá»‡p "Link trá»±c tiáº¿p Ä‘áº¿n heading")

## LÃ m tháº¿ nÃ o Ä‘á»ƒ chuáº©n bá»‹ vÃ  chá»©ng minh káº¿ hoáº¡ch chuyá»ƒn sang methodology?[â€‹](#lÃ m-tháº¿-nÃ o-Ä‘á»ƒ-chuáº©n-bá»‹-vÃ -chá»©ng-minh-káº¿-hoáº¡ch-chuyá»ƒn-sang-methodology "Link trá»±c tiáº¿p Ä‘áº¿n heading")


---

# ThÃºc Ä‘áº©y trong team

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/182)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

* Onboard nhá»¯ng ngÆ°á»i má»›i
* HÆ°á»›ng dáº«n phÃ¡t triá»ƒn ("tÃ¬m kiáº¿m module N á»Ÿ Ä‘Ã¢u", v.v...)
* CÃ¡ch tiáº¿p cáº­n má»›i cho cÃ¡c task

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) Sá»± Ä‘Æ¡n giáº£n cá»§a cÃ¡c cÃ¡ch tiáº¿p cáº­n cÅ© vÃ  táº§m quan trá»ng cá»§a sá»± tá»‰nh tÃ¡o](https://t.me/feature_sliced/3360)
* [(Thread) Vá» sá»± tiá»‡n lá»£i cá»§a viá»‡c tÃ¬m kiáº¿m theo layer](https://t.me/feature_sliced/1918)


---

# CÃ¡c khÃ­a cáº¡nh tÃ­ch há»£p

## TÃ³m táº¯t[â€‹](#tÃ³m-táº¯t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

5 phÃºt Ä‘áº§u (RU):

[YouTube video player](https://www.youtube.com/embed/TFA6zRO_Cl0?start=2110)

## NgoÃ i ra[â€‹](#ngoÃ i-ra "Link trá»±c tiáº¿p Ä‘áº¿n heading")

**Æ¯u Ä‘iá»ƒm**:

* [Tá»•ng quan](/documentation/vi/docs/get-started/overview.md)
* CodeReview
* Onboarding

**NhÆ°á»£c Ä‘iá»ƒm:**

* Äá»™ phá»©c táº¡p vá» máº·t tÆ° duy
* NgÆ°á»¡ng vÃ o cao
* "Layer hell"
* CÃ¡c váº¥n Ä‘á» Ä‘iá»ƒn hÃ¬nh cá»§a cÃ¡c cÃ¡ch tiáº¿p cáº­n dá»±a trÃªn feature


---

# á»¨ng dá»¥ng tá»«ng pháº§n

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/199)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> LÃ m tháº¿ nÃ o Ä‘á»ƒ Ã¡p dá»¥ng methodology tá»«ng pháº§n? CÃ³ há»£p lÃ½ khÃ´ng? Náº¿u tÃ´i bá» qua thÃ¬ sao?


---

# Abstraction

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/186)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Quy luáº­t cá»§a abstraction bá»‹ rÃ² rá»‰[â€‹](#quy-luáº­t-cá»§a-abstraction-bá»‹-rÃ²-rá»‰ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

## Táº¡i sao cÃ³ quÃ¡ nhiá»u abstraction[â€‹](#táº¡i-sao-cÃ³-quÃ¡-nhiá»u-abstraction "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> Abstraction giÃºp Ä‘á»‘i phÃ³ vá»›i Ä‘á»™ phá»©c táº¡p cá»§a dá»± Ã¡n. CÃ¢u há»i lÃ  - nhá»¯ng abstraction nÃ y sáº½ chá»‰ dÃ nh riÃªng cho dá»± Ã¡n nÃ y, hay chÃºng ta sáº½ cá»‘ gáº¯ng rÃºt ra nhá»¯ng abstraction chung dá»±a trÃªn Ä‘áº·c thÃ¹ cá»§a frontend

> Kiáº¿n trÃºc vÃ  á»©ng dá»¥ng nÃ³i chung vá»‘n phá»©c táº¡p, vÃ  cÃ¢u há»i duy nháº¥t lÃ  lÃ m tháº¿ nÃ o Ä‘á»ƒ phÃ¢n phá»‘i vÃ  mÃ´ táº£ tá»‘t hÆ¡n Ä‘á»™ phá»©c táº¡p nÃ y

## Vá» pháº¡m vi trÃ¡ch nhiá»‡m[â€‹](#vá»-pháº¡m-vi-trÃ¡ch-nhiá»‡m "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> Vá» cÃ¡c abstraction tÃ¹y chá»n

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Vá» nhu cáº§u cho cÃ¡c layer má»›i](https://t.me/feature_sliced/2801)
* [Vá» khÃ³ khÄƒn trong viá»‡c hiá»ƒu methodology vÃ  cÃ¡c layer](https://t.me/feature_sliced/2619)


---

# Vá» kiáº¿n trÃºc

## CÃ¡c váº¥n Ä‘á»[â€‹](#cÃ¡c-váº¥n-Ä‘á» "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÆ°á»ng thÃ¬ cuá»™c trÃ² chuyá»‡n vá» kiáº¿n trÃºc Ä‘Æ°á»£c nÃªng lÃªn khi viá»‡c phÃ¡t triá»ƒn dá»«ng láº¡i do má»™t sá»‘ váº¥n Ä‘á» nháº¥t Ä‘á»‹nh trong dá»± Ã¡n.

### Bus-factor & Onboarding[â€‹](#bus-factor--onboarding "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Chá»‰ cÃ³ má»™t sá»‘ lÆ°á»£ng háº¡n cháº¿ ngÆ°á»i hiá»ƒu dá»± Ã¡n vÃ  kiáº¿n trÃºc cá»§a nÃ³

**VÃ­ dá»¥:**

* *"KhÃ³ Ä‘Æ°a ngÆ°á»i vÃ o phÃ¡t triá»ƒn"*
* *"Äá»‘i vá»›i má»i váº¥n Ä‘á», má»i ngÆ°á»i Ä‘á»u cÃ³ Ã½ kiáº¿n riÃªng vá» cÃ¡ch giáº£i quyáº¿t" (hÃ£y ghen tá»‹ vá»›i angular)*
* *"TÃ´i khÃ´ng hiá»ƒu chuyá»‡n gÃ¬ Ä‘ang xáº£y ra trong khá»‘i monolith lá»›n nÃ y"*

### Háº­u quáº£ ngáº§m Ä‘á»‹nh vÃ  khÃ´ng kiá»ƒm soÃ¡t Ä‘Æ°á»£c[â€‹](#háº­u-quáº£-ngáº§m-Ä‘á»‹nh-vÃ -khÃ´ng-kiá»ƒm-soÃ¡t-Ä‘Æ°á»£c "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Nhiá»u tÃ¡c dá»¥ng phá»¥ ngáº§m Ä‘á»‹nh trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn/refactoring *("táº¥t cáº£ Ä‘á»u phá»¥ thuá»™c vÃ o nhau")*

**VÃ­ dá»¥:**

* *"Feature import feature"*
* *"TÃ´i cáº­p nháº­t store cá»§a má»™t trang, vÃ  chá»©c nÄƒng á»Ÿ trang khÃ¡c bá»‹ rÆ¡i"*
* *"Logic bá»‹ trÃ¡ng Ä‘áº§y kháº¯p á»©ng dá»¥ng, vÃ  khÃ´ng thá»ƒ theo dÃµi Ä‘Æ°á»£c Ä‘Ã¢u lÃ  Ä‘áº§u, Ä‘Ã¢u lÃ  cuá»‘i"*

### TÃ¡i sá»­ dá»¥ng logic khÃ´ng kiá»ƒm soÃ¡t Ä‘Æ°á»£c[â€‹](#tÃ¡i-sá»­-dá»¥ng-logic-khÃ´ng-kiá»ƒm-soÃ¡t-Ä‘Æ°á»£c "Link trá»±c tiáº¿p Ä‘áº¿n heading")

KhÃ³ khÄƒn trong viá»‡c tÃ¡i sá»­ dá»¥ng/sá»­a Ä‘á»•i logic hiá»‡n cÃ³

Äá»“ng thá»i, thÆ°á»ng cÃ³ [hai thÃ¡i cá»±c](https://github.com/feature-sliced/documentation/discussions/14):

* Hoáº·c logic Ä‘Æ°á»£c viáº¿t hoÃ n toÃ n tá»« Ä‘áº§u cho má»—i module *(vá»›i kháº£ nÄƒng láº·p láº¡i trong codebase hiá»‡n cÃ³)*
* Hoáº·c cÃ³ xu hÆ°á»›ng chuyá»ƒn táº¥t-táº¥t cáº£ cÃ¡c module Ä‘Ã£ triá»ƒn khai vÃ o thÆ° má»¥c `shared`, tá»« Ä‘Ã³ táº¡o ra má»™t kho chá»©a lá»›n cÃ¡c module *tá»« nÃ³ (trong Ä‘Ã³ háº§u háº¿t chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ má»™t nÆ¡i)*

**VÃ­ dá»¥:**

* *"TÃ´i cÃ³ **N** cÃ¡ch triá»ƒn khai cÃ¹ng má»™t logic kinh doanh trong dá»± Ã¡n cá»§a mÃ¬nh, mÃ  tÃ´i váº«n pháº£i tráº£ giÃ¡"*
* *"CÃ³ 6 component khÃ¡c nhau cá»§a button/pop-up/... trong dá»± Ã¡n"*
* *"Kho chá»©a cÃ¡c helper"*

## YÃªu cáº§u[â€‹](#yÃªu-cáº§u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Do Ä‘Ã³, cÃ³ váº» há»£p lÃ½ khi trÃ¬nh bÃ y cÃ¡c *yÃªu cáº§u mong muá»‘n cho má»™t kiáº¿n trÃºc lÃ½ tÆ°á»Ÿng:*

ghi chÃº

Báº¥t cá»© Ä‘Ã¢u nÃ³i "dá»… dÃ ng", Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  "tÆ°Æ¡ng Ä‘á»‘i dá»… dÃ ng cho má»™t nhÃ³m rá»™ng cÃ¡c developer", vÃ¬ rÃµ rÃ ng lÃ  [sáº½ khÃ´ng thá»ƒ táº¡o ra má»™t giáº£i phÃ¡p lÃ½ tÆ°á»Ÿng cho táº¥t cáº£ má»i ngÆ°á»i](/documentation/vi/docs/about/mission.md#limitations)

### TÃ­nh rÃµ rÃ ng[â€‹](#tÃ­nh-rÃµ-rÃ ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* NÃªn **dá»… dÃ ng náº¯m vá»¯ng vÃ  giáº£i thÃ­ch** dá»± Ã¡n vÃ  kiáº¿n trÃºc cá»§a nÃ³ cho team
* Cáº¥u trÃºc nÃªn pháº£n Ã¡nh **giÃ¡ trá»‹ kinh doanh thá»±c táº¿ cá»§a dá»± Ã¡n**
* Pháº£i cÃ³ **tÃ¡c dá»¥ng phá»¥ vÃ  káº¿t ná»‘i** rÃµ rÃ ng giá»¯a cÃ¡c abstraction
* NÃªn **dá»… phÃ¡t hiá»‡n logic trÃ¹ng láº·p** mÃ  khÃ´ng can thiá»‡p vÃ o cÃ¡c triá»ƒn khai Ä‘á»™c Ä‘Ã¡o
* KhÃ´ng nÃªn cÃ³ **sá»± phÃ¢n tÃ¡n logic** kháº¯p dá»± Ã¡n
* KhÃ´ng nÃªn cÃ³ **quÃ¡ nhiá»u abstraction vÃ  quy táº¯c khÃ¡c biá»‡t** cho má»™t kiáº¿n trÃºc tá»‘t

### Kiá»ƒm soÃ¡t[â€‹](#kiá»ƒm-soÃ¡t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* Má»™t kiáº¿n trÃºc tá»‘t nÃªn **tÄƒng tá»‘c giáº£i quyáº¿t cÃ¡c tÃ¡c vá»¥, viá»‡c Ä‘Æ°a vÃ o cÃ¡c tÃ­nh nÄƒng**

* NÃªn cÃ³ thá»ƒ kiá»ƒm soÃ¡t quÃ¡ trÃ¬nh phÃ¡t triá»ƒn dá»± Ã¡n

* NÃªn dá»… dÃ ng **má»Ÿ rá»™ng, sá»­a Ä‘á»•i, xÃ³a code**

* Pháº£i tuÃ¢n thá»§ viá»‡c **phÃ¢n tÃ¡ch vÃ  cÃ´ láº­p** chá»©c nÄƒng

* Má»—i component cá»§a há»‡ thá»‘ng pháº£i **dá»… dÃ ng thay tháº¿ vÃ  loáº¡i bá»**

  * *[KhÃ´ng cáº§n tá»‘i Æ°u hÃ³a cho thay Ä‘á»•i](https://youtu.be/BWAeYuWFHhs?t=1631) - chÃºng ta khÃ´ng thá»ƒ dá»± Ä‘oÃ¡n tÆ°Æ¡ng lai*
  * *[Tá»‘t hÆ¡n lÃ  tá»‘i Æ°u hÃ³a cho viá»‡c xÃ³a](https://youtu.be/BWAeYuWFHhs?t=1666) - dá»±a trÃªn bá»‘i cáº£nh Ä‘Ã£ tá»“n táº¡i*

### Kháº£ nÄƒng thÃ­ch á»©ng[â€‹](#kháº£-nÄƒng-thÃ­ch-á»©ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* Má»™t kiáº¿n trÃºc tá»‘t nÃªn cÃ³ thá»ƒ Ã¡p dá»¥ng **cho háº§u háº¿t cÃ¡c dá»± Ã¡n**

  * *Vá»›i cÃ¡c giáº£i phÃ¡p háº¡ táº§ng hiá»‡n cÃ³*
  * *á»Ÿ báº¥t ká»³ giai Ä‘oáº¡n phÃ¡t triá»ƒn nÃ o*

* KhÃ´ng nÃªn phá»¥ thuá»™c vÃ o framework vÃ  ná»n táº£ng

* NÃªn cÃ³ thá»ƒ **dá»… dÃ ng má»Ÿ rá»™ng dá»± Ã¡n vÃ  team**, vá»›i kháº£ nÄƒng song song hÃ³a phÃ¡t triá»ƒn

* NÃªn dá»… dÃ ng **thÃ­ch á»©ng vá»›i cÃ¡c yÃªu cáº§u vÃ  hoÃ n cáº£nh thay Ä‘á»•i**

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(React Berlin Talk) Oleg Isonen - Feature Driven Architecture](https://youtu.be/BWAeYuWFHhs)
* [(React SPB Meetup #1) Sergey Sova - Feature Slice](https://t.me/feature_slices)
* [(BÃ i viáº¿t) Vá» viá»‡c modular hÃ³a dá»± Ã¡n](https://alexmngn.medium.com/why-react-developers-should-modularize-their-applications-d26d381854c1)
* [(BÃ i viáº¿t) Vá» Separation of Concern vÃ  cáº¥u trÃºc theo feature](https://ryanlanciaux.com/blog/2017/08/20/a-feature-based-approach-to-react-development/)


---

# CÃ¡c loáº¡i kiáº¿n thá»©c trong dá»± Ã¡n

CÃ³ thá»ƒ phÃ¢n biá»‡t cÃ¡c "loáº¡i kiáº¿n thá»©c" sau trong báº¥t ká»³ dá»± Ã¡n nÃ o:

* **Kiáº¿n thá»©c cÆ¡ báº£n**<br /><!-- -->Kiáº¿n thá»©c khÃ´ng thay Ä‘á»•i nhiá»u theo thá»i gian, cháº³ng háº¡n nhÆ° thuáº­t toÃ¡n, khoa há»c mÃ¡y tÃ­nh, cÆ¡ cháº¿ ngÃ´n ngá»¯ láº­p trÃ¬nh vÃ  API cá»§a nÃ³.

* **Technology stack**<br /><!-- -->Kiáº¿n thá»©c vá» táº­p há»£p cÃ¡c giáº£i phÃ¡p ká»¹ thuáº­t Ä‘Æ°á»£c sá»­ dá»¥ng trong dá»± Ã¡n, bao gá»“m ngÃ´n ngá»¯ láº­p trÃ¬nh, framework vÃ  thÆ° viá»‡n.

* **Kiáº¿n thá»©c dá»± Ã¡n**<br /><!-- -->Kiáº¿n thá»©c dÃ nh riÃªng cho dá»± Ã¡n hiá»‡n táº¡i vÃ  khÃ´ng cÃ³ giÃ¡ trá»‹ bÃªn ngoÃ i nÃ³. Kiáº¿n thá»©c nÃ y lÃ  cáº§n thiáº¿t Ä‘á»ƒ cÃ¡c developer má»›i onboard cÃ³ thá»ƒ Ä‘Ã³ng gÃ³p hiá»‡u quáº£.

ghi chÃº

**Feature-Sliced Design** Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giáº£m sá»± phá»¥ thuá»™c vÃ o "kiáº¿n thá»©c dá»± Ã¡n", chá»‹u trÃ¡ch nhiá»‡m nhiá»u hÆ¡n vÃ  giÃºp onboard cÃ¡c thÃ nh viÃªn team má»›i dá»… dÃ ng hÆ¡n.

## Xem thÃªm[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Video ğŸ‡·ğŸ‡º) Ilya Klimov - Vá» cÃ¡c loáº¡i kiáº¿n thá»©c](https://youtu.be/4xyb_tA-uw0?t=249)


---

# Äáº·t tÃªn

CÃ¡c developer khÃ¡c nhau cÃ³ kinh nghiá»‡m vÃ  ngá»¯ cáº£nh khÃ¡c nhau, cÃ³ thá»ƒ dáº«n Ä‘áº¿n hiá»ƒu láº§m trong team khi cÃ¹ng má»™t entity Ä‘Æ°á»£c gá»i khÃ¡c nhau. VÃ­ dá»¥:

* Component Ä‘á»ƒ hiá»ƒn thá»‹ cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i lÃ  "ui", "component", "ui-kit", "view", â€¦
* Code Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng trong toÃ n bá»™ á»©ng dá»¥ng cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i lÃ  "core", "shared", "app", â€¦
* Code logic kinh doanh cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i lÃ  "store", "model", "state", â€¦

## Äáº·t tÃªn trong Feature-Sliced Design[â€‹](#naming-in-fsd "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Methodology sá»­ dá»¥ng cÃ¡c thuáº­t ngá»¯ cá»¥ thá»ƒ nhÆ°:

* "app", "process", "page", "feature", "entity", "shared" nhÆ° tÃªn layer,
* "ui", "model", "lib", "api", "config" nhÆ° tÃªn segment.

Ráº¥t quan trá»ng lÃ  pháº£i tuÃ¢n thá»§ nhá»¯ng thuáº­t ngá»¯ nÃ y Ä‘á»ƒ trÃ¡nh nháº§m láº«n giá»¯a cÃ¡c thÃ nh viÃªn trong team vÃ  developer má»›i tham gia dá»± Ã¡n. Viá»‡c sá»­ dá»¥ng tÃªn chuáº©n cÅ©ng giÃºp khi xin trá»£ giÃºp tá»« cá»™ng Ä‘á»“ng.

## Xung Ä‘á»™t Ä‘áº·t tÃªn[â€‹](#when-can-naming-interfere "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Xung Ä‘á»™t Ä‘áº·t tÃªn cÃ³ thá»ƒ xáº£y ra khi cÃ¡c thuáº­t ngá»¯ Ä‘Æ°á»£c sá»­ dá»¥ng trong methodology FSD trÃ¹ng láº·p vá»›i cÃ¡c thuáº­t ngá»¯ Ä‘Æ°á»£c sá»­ dá»¥ng trong kinh doanh:

* `FSD#process` vs quy trÃ¬nh mÃ´ phá»ng trong á»©ng dá»¥ng,
* `FSD#page` vs trang log,
* `FSD#model` vs model xe hÆ¡i.

VÃ­ dá»¥, má»™t developer nhÃ¬n tháº¥y tá»« "process" trong code sáº½ tá»‘n thÃªm thá»i gian Ä‘á»ƒ tÃ¬m hiá»ƒu quy trÃ¬nh nÃ o Ä‘ang Ä‘Æ°á»£c Ä‘á» cáº­p. Nhá»¯ng **xung Ä‘á»™t nhÆ° váº­y cÃ³ thá»ƒ lÃ m giÃ¡n Ä‘oáº¡n quÃ¡ trÃ¬nh phÃ¡t triá»ƒn**.

Khi tá»« vá»±ng cá»§a dá»± Ã¡n chá»©a thuáº­t ngá»¯ Ä‘áº·c thÃ¹ cá»§a FSD, Ä‘iá»u quan trá»ng lÃ  pháº£i cáº©n tháº­n khi tháº£o luáº­n cÃ¡c thuáº­t ngá»¯ nÃ y vá»›i team vÃ  cÃ¡c bÃªn liÃªn quan khÃ´ng quan tÃ¢m Ä‘áº¿n ká»¹ thuáº­t.

Äá»ƒ giao tiáº¿p hiá»‡u quáº£ vá»›i team, Ä‘Æ°á»£c khuyáº¿n nghá»‹ sá»­ dá»¥ng tá»« viáº¿t táº¯t "FSD" lÃ m tiá»n tá»‘ cho cÃ¡c thuáº­t ngá»¯ methodology. VÃ­ dá»¥, khi nÃ³i vá» má»™t process, báº¡n cÃ³ thá»ƒ nÃ³i, "ChÃºng ta cÃ³ thá»ƒ Ä‘áº·t process nÃ y trÃªn layer feature cá»§a FSD."

NgÆ°á»£c láº¡i, khi giao tiáº¿p vá»›i cÃ¡c bÃªn liÃªn quan khÃ´ng thuá»™c ká»¹ thuáº­t, tá»‘t hÆ¡n lÃ  háº¡n cháº¿ sá»­ dá»¥ng thuáº­t ngá»¯ FSD vÃ  trÃ¡nh Ä‘á» cáº­p Ä‘áº¿n cáº¥u trÃºc bÃªn trong cá»§a codebase.

## Xem thÃªm[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Tháº£o luáº­n) Kháº£ nÄƒng thÃ­ch á»©ng cá»§a viá»‡c Ä‘áº·t tÃªn](https://github.com/feature-sliced/documentation/discussions/16)
* [(Tháº£o luáº­n) Kháº£o sÃ¡t Ä‘áº·t tÃªn Entity](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-464894)
* [(Tháº£o luáº­n) "process" vs "flow" vs ...](https://github.com/feature-sliced/documentation/discussions/20)
* [(Tháº£o luáº­n) "model" vs "store" vs ...](https://github.com/feature-sliced/documentation/discussions/68)


---

# HÆ°á»›ng nhu cáº§u

TÃ³m táº¯t

â€” *KhÃ´ng thá»ƒ Ä‘Æ°a ra má»¥c tiÃªu mÃ  tÃ­nh nÄƒng má»›i sáº½ giáº£i quyáº¿t? Hoáº·c cÃ³ thá»ƒ váº¥n Ä‘á» lÃ  báº£n thÃ¢n task khÃ´ng Ä‘Æ°á»£c Ä‘Æ°a ra? **Äiá»m máº¥u chá»‘t cÅ©ng lÃ  methodology giÃºp rÃºt ra Ä‘á»‹nh nghÄ©a cÃ³ váº¥n Ä‘á» cá»§a cÃ¡c task vÃ  má»¥c tiÃªu***

â€” *dá»± Ã¡n khÃ´ng sá»‘ng trong tÄ©nh - yÃªu cáº§u vÃ  chá»©c nÄƒng liÃªn tá»¥c thay Ä‘á»•i. Theo thá»i gian, code biáº¿n thÃ nh nhá»‡u, bá»Ÿi vÃ¬ lÃºc báº¯t Ä‘áº§u dá»± Ã¡n chá»‰ Ä‘Æ°á»£c thiáº¿t káº¿ cho áº¥n tÆ°á»£ng ban Ä‘áº§u cá»§a mong muá»‘n. **VÃ  nhiá»‡m vá»¥ cá»§a má»™t kiáº¿n trÃºc tá»‘t cÅ©ng lÃ  Ä‘Æ°á»£c mÃ i giÅ©a cho cÃ¡c Ä‘iá»u kiá»‡n phÃ¡t triá»ƒn thay Ä‘á»•i.***

## Táº¡i sao?[â€‹](#táº¡i-sao "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äá»ƒ chá»n má»™t tÃªn rÃµ rÃ ng cho má»™t entity vÃ  hiá»ƒu cÃ¡c thÃ nh pháº§n cá»§a nÃ³, **báº¡n cáº§n hiá»ƒu rÃµ task nÃ o sáº½ Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng táº¥t cáº£ code nÃ y.**

> *@sergeysova: Trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, chÃºng tÃ´i cá»‘ gáº¯ng Ä‘áº·t cho má»—i entity hoáº·c function má»™t tÃªn rÃµ rÃ ng pháº£n Ã¡nh Ã½ Ä‘á»‹nh vÃ  Ã½ nghÄ©a cá»§a code Ä‘ang Ä‘Æ°á»£c thá»±c thi.*

*Sau cÃ¹ng, khÃ´ng hiá»ƒu task thÃ¬ khÃ´ng thá»ƒ viáº¿t Ä‘Æ°á»£c test Ä‘Ãºng bao phá»§ nhá»¯ng trÆ°á»ng há»£p quan trá»ng nháº¥t, Ä‘áº·t cÃ¡c lá»—i giÃºp Ä‘á»¡ ngÆ°á»i dÃ¹ng á»Ÿ Ä‘Ãºng chá»—, tháº­m chÃ­ lÃ  thiáº¿u khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n luá»“ng cá»§a ngÆ°á»i dÃ¹ng vÃ¬ cÃ¡c lá»—i khÃ´ng quan trá»ng cÃ³ thá»ƒ sá»­a Ä‘Æ°á»£c.*

## ChÃºng ta Ä‘ang nÃ³i vá» task gÃ¬?[â€‹](#chÃºng-ta-Ä‘ang-nÃ³i-vá»-task-gÃ¬ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Frontend phÃ¡t triá»ƒn á»©ng dá»¥ng vÃ  giao diá»‡n cho ngÆ°á»i dÃ¹ng cuá»‘i, nÃªn chÃºng ta giáº£i quyáº¿t cÃ¡c task cá»§a nhá»¯ng ngÆ°á»i tiÃªu dÃ¹ng nÃ y.

Khi má»™t ngÆ°á»i Ä‘áº¿n vá»›i chÃºng ta, **anh ta muá»‘n giáº£i quyáº¿t má»™t sá»‘ Ä‘au khá»• cá»§a mÃ¬nh hoáº·c Ä‘Ã³ng má»™t nhu cáº§u.**

*Nhiá»‡m vá»¥ cá»§a cÃ¡c manager vÃ  analyst lÃ  Ä‘Æ°a ra nhu cáº§u nÃ y, vÃ  triá»ƒn khai developer tÃ­nh Ä‘áº¿n cÃ¡c tÃ­nh nÄƒng cá»§a phÃ¡t triá»ƒn web (máº¥t káº¿t ná»‘i, lá»—i backend, typo, nháº¥m con trá» hoáº·c ngÃ³n tay).*

**ChÃ­nh má»¥c tiÃªu nÃ y, mÃ  ngÆ°á»i dÃ¹ng Ä‘áº¿n, lÃ  task cá»§a cÃ¡c developer.**

> *Má»™t váº¥n Ä‘á» nhá» Ä‘Æ°á»£c giáº£i quyáº¿t lÃ  má»™t feature trong methodology Feature-Sliced Design â€” báº¡n cáº§n cáº¯t toÃ n bá»™ pháº¡m vi task cá»§a dá»± Ã¡n thÃ nh cÃ¡c má»¥c tiÃªu nhá».*

## Äiá»u nÃ y áº£nh hÆ°á»Ÿng Ä‘áº¿n phÃ¡t triá»ƒn nhÆ° tháº¿ nÃ o?[â€‹](#Ä‘iá»u-nÃ y-áº£nh-hÆ°á»Ÿng-Ä‘áº¿n-phÃ¡t-triá»ƒn-nhÆ°-tháº¿-nÃ o "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### PhÃ¢n tÃ¡ch task[â€‹](#phÃ¢n-tÃ¡ch-task "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Khi má»™t developer báº¯t Ä‘áº§u triá»ƒn khai má»™t task, Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a viá»‡c hiá»ƒu vÃ  há»— trá»£ code, anh ta trong Ä‘áº§u **cáº¯t nÃ³ thÃ nh cÃ¡c giai Ä‘oáº¡n**:

* Ä‘áº§u tiÃªn *chia thÃ nh cÃ¡c entity cáº¥p cao nháº¥t* vÃ  *triá»ƒn khai chÃºng*,
* sau Ä‘Ã³ nhá»¯ng entity nÃ y *chia thÃ nh nhá»¯ng cÃ¡i nhá» hÆ¡n*
* vÃ  cá»© tiáº¿p tá»¥c nhÆ° váº­y

*Trong quÃ¡ trÃ¬nh chia thÃ nh cÃ¡c entity, developer bá»‹ buá»™c pháº£i Ä‘áº·t tÃªn cho chÃºng má»™t cÃ¡ch rÃµ rÃ ng pháº£n Ã¡nh Ã½ tÆ°á»Ÿng cá»§a mÃ¬nh vÃ  giÃºp hiá»ƒu task nÃ o code giáº£i quyáº¿t khi Ä‘á»c listing* *Äá»“ng thá»i, chÃºng ta khÃ´ng quÃªn ráº±ng chÃºng ta Ä‘ang cá»‘ gáº¯ng giÃºp ngÆ°á»i dÃ¹ng giáº£m bá»›t Ä‘au khá»• hoáº·c thá»±c hiá»‡n nhu cáº§u*

### Hiá»ƒu báº£n cháº¥t cá»§a task[â€‹](#hiá»ƒu-báº£n-cháº¥t-cá»§a-task "Link trá»±c tiáº¿p Ä‘áº¿n heading")

NhÆ°ng Ä‘á»ƒ Ä‘áº·t tÃªn rÃµ rÃ ng cho má»™t entity, **developer pháº£i biáº¿t Ä‘á»§ vá» má»¥c Ä‘Ã­ch cá»§a nÃ³**

* anh ta sáº½ sá»­ dá»¥ng entity nÃ y nhÆ° tháº¿ nÃ o,
* nÃ³ triá»ƒn khai pháº§n nÃ o cá»§a task cá»§a ngÆ°á»i dÃ¹ng, entity nÃ y cÃ²n cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng á»Ÿ Ä‘Ã¢u khÃ¡c,
* nÃ³ cÃ³ thá»ƒ tham gia vÃ o nhá»¯ng task nÃ o khÃ¡c,
* vÃ  vÃ¢n vÃ¢n

KhÃ´ng khÃ³ Ä‘á»ƒ rÃºt ra káº¿t luáº­n: **trong khi developer sáº½ suy ngáº«m vá» tÃªn cá»§a cÃ¡c entity trong khuÃ´n khá»• cá»§a methodology, anh ta sáº½ cÃ³ thá»ƒ tÃ¬m ra cÃ¡c task Ä‘Æ°á»£c Ä‘Æ°a ra kÃ©m tháº­m chÃ­ trÆ°á»›c khi viáº¿t code.**

> LÃ m tháº¿ nÃ o Ä‘áº·t tÃªn cho má»™t entity náº¿u báº¡n khÃ´ng hiá»ƒu rÃµ nhá»¯ng task nÃ o nÃ³ cÃ³ thá»ƒ giáº£i quyáº¿t, lÃ m tháº¿ nÃ o báº¡n cÃ³ thá»ƒ chia má»™t task thÃ nh cÃ¡c entity náº¿u báº¡n khÃ´ng hiá»ƒu rÃµ nÃ³?

## LÃ m tháº¿ nÃ o Ä‘á»ƒ Ä‘Æ°a ra nÃ³?[â€‹](#lÃ m-tháº¿-nÃ o-Ä‘á»ƒ-Ä‘Æ°a-ra-nÃ³ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

**Äá»ƒ Ä‘Æ°a ra má»™t task Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng cÃ¡c feature, báº¡n cáº§n hiá»ƒu báº£n thÃ¢n task Ä‘Ã³**, vÃ  Ä‘Ã¢y Ä‘Ã£ lÃ  trÃ¡ch nhiá»‡m cá»§a project manager vÃ  cÃ¡c analyst.

*Methodology chá»‰ cÃ³ thá»ƒ nÃ³i cho developer nhá»¯ng task nÃ o mÃ  product manager nÃªn chÃº Ã½ ká»¹.*

> *@sergeysova: ToÃ n bá»™ frontend chá»§ yáº¿u lÃ  hiá»ƒn thá»‹ thÃ´ng tin, báº¥t ká»³ component nÃ o á»Ÿ lÆ°á»£t Ä‘áº§u tiÃªn, hiá»ƒn thá»‹, vÃ  sau Ä‘Ã³ task "hiá»ƒn thá»‹ cho ngÆ°á»i dÃ¹ng má»™t cÃ¡i gÃ¬ Ä‘Ã³" khÃ´ng cÃ³ giÃ¡ trá»‹ thá»±c táº¿.*
>
> *Ngay cáº£ khi khÃ´ng tÃ­nh Ä‘áº¿n Ä‘áº·c thÃ¹ cá»§a frontend cÃ³ thá»ƒ há»i, "táº¡i sao tÃ´i pháº£i hiá»ƒn thá»‹ cho báº¡n", vÃ  cÃ³ thá»ƒ tiáº¿p tá»¥c há»i cho Ä‘áº¿n khi khÃ´ng thoÃ¡t Ä‘Æ°á»£c khá»i Ä‘au khá»• hoáº·c nhu cáº§u cá»§a ngÆ°á»i tiÃªu dÃ¹ng.*

NgÆ°á»i khi chÃºng ta cÃ³ thá»ƒ Ä‘áº¿n Ä‘Æ°á»£c nhá»¯ng nhu cáº§u hoáº·c Ä‘au khá»• cÆ¡ báº£n, chÃºng ta cÃ³ thá»ƒ quay láº¡i vÃ  tÃ¬m hiá»ƒu **chÃ­nh xÃ¡c sáº£n pháº©m hoáº·c dá»‹ch vá»¥ cá»§a báº¡n cÃ³ thá»ƒ giÃºp ngÆ°á»i dÃ¹ng vá»›i má»¥c tiÃªu cá»§a há» nhÆ° tháº¿ nÃ o**

Báº¥t ká»³ task má»›i nÃ o trong tracker cá»§a báº¡n Ä‘á»u hÆ°á»›ng Ä‘áº¿n giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» kinh doanh, vÃ  doanh nghiá»‡p cá»‘ gáº¯ng giáº£i quyáº¿t cÃ¡c task cá»§a ngÆ°á»i dÃ¹ng Ä‘á»“ng thá»i kiáº¿m tiá»n tá»« nÃ³. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  má»—i task Ä‘á»u cÃ³ nhá»¯ng má»¥c tiÃªu nháº¥t Ä‘á»‹nh, ngay cáº£ khi chÃºng khÃ´ng Ä‘Æ°á»£c viáº¿t rÃµ trong vÄƒn báº£n mÃ´ táº£.

***Developer pháº£i hiá»ƒu rÃµ má»¥c tiÃªu mÃ  task nÃ y hay task khÃ¡c Ä‘ang theo Ä‘uá»•i**, nhÆ°ng khÃ´ng pháº£i cÃ´ng ty nÃ o cÅ©ng cÃ³ thá»ƒ Ä‘á»§ kháº£ nÄƒng xÃ¢y dá»±ng quy trÃ¬nh hoÃ n háº£o, máº·c dÃ¹ Ä‘Ã¢y lÃ  má»™t cuá»™c trÃ² chuyá»‡n riÃªng, tuy nhiÃªn, developer cÃ³ thá»ƒ "ping" cÃ¡c manager phÃ¹ há»£p Ä‘á»ƒ tÃ¬m hiá»ƒu Ä‘iá»u nÃ y vÃ  thá»±c hiá»‡n pháº§n viá»‡c cá»§a mÃ¬nh má»™t cÃ¡ch hiá»‡u quáº£.*

## VÃ  lá»£i Ã­ch lÃ  gÃ¬?[â€‹](#vÃ -lá»£i-Ã­ch-lÃ -gÃ¬ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» hÃ£y nhÃ¬n toÃ n bá»™ quy trÃ¬nh tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i.

### 1. Hiá»ƒu task cá»§a ngÆ°á»i dÃ¹ng[â€‹](#1-hiá»ƒu-task-cá»§a-ngÆ°á»i-dÃ¹ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Khi developer hiá»ƒu ná»—i Ä‘au cá»§a há» vÃ  cÃ¡ch doanh nghiá»‡p giáº£i quyáº¿t chÃºng, anh ta cÃ³ thá»ƒ Ä‘Æ°a ra cÃ¡c giáº£i phÃ¡p mÃ  doanh nghiá»‡p khÃ´ng cÃ³ do Ä‘áº·c thÃ¹ cá»§a phÃ¡t triá»ƒn web.

> NhÆ°ng táº¥t nhiÃªn, táº¥t cáº£ Ä‘iá»u nÃ y chá»‰ cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng náº¿u developer khÃ´ng thá» Æ¡ vá»›i nhá»¯ng gÃ¬ anh ta Ä‘ang lÃ m vÃ  vÃ¬ má»¥c Ä‘Ã­ch gÃ¬, náº¿u khÃ´ng thÃ¬ *táº¡i sao láº¡i cáº§n methodology vÃ  cÃ¡c cÃ¡ch tiáº¿p cáº­n?*

### 2. Cáº¥u trÃºc hÃ³a vÃ  sáº¯p xáº¿p[â€‹](#2-cáº¥u-trÃºc-hÃ³a-vÃ -sáº¯p-xáº¿p "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Vá»›i sá»± hiá»ƒu biáº¿t vá» task Ä‘áº¿n **má»™t cáº¥u trÃºc rÃµ rÃ ng cáº£ trong Ä‘áº§u vÃ  trong task cÃ¹ng vá»›i code**

### 3. Hiá»ƒu feature vÃ  cÃ¡c thÃ nh pháº§n cá»§a nÃ³[â€‹](#3-hiá»ƒu-feature-vÃ -cÃ¡c-thÃ nh-pháº§n-cá»§a-nÃ³ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

**Má»™t feature lÃ  má»™t chá»©c nÄƒng há»¯u Ã­ch cho ngÆ°á»i dÃ¹ng**

* Khi nhiá»u features Ä‘Æ°á»£c triá»ƒn khai trong má»™t feature, Ä‘Ã¢y lÃ  **vi pháº¡m ranh giá»›i**
* Feature cÃ³ thá»ƒ khÃ´ng thá»ƒ chia nhá» vÃ  Ä‘ang phÃ¡t triá»ƒn - **vÃ  Ä‘iá»u nÃ y khÃ´ng tá»‡**
* **Tá»‡** - khi feature khÃ´ng tráº£ lá»i cÃ¢u há»i *"GiÃ¡ trá»‹ kinh doanh cho ngÆ°á»i dÃ¹ng lÃ  gÃ¬?"*
* KhÃ´ng thá»ƒ cÃ³ feature "map-office"
  <!-- -->
  * NhÆ°ng `booking-meeting-on-the-map`, `search-for-an-employee`, `change-of-workplace` - **cÃ³**

> *@sergeysova: Äiá»ƒm máº¥u chá»‘t lÃ  feature chá»‰ chá»©a code triá»ƒn khai chÃ­nh chá»©c nÄƒng*, khÃ´ng cÃ³ chi tiáº¿t khÃ´ng cáº§n thiáº¿t vÃ  giáº£i phÃ¡p ná»™i bá»™ (lÃ½ tÆ°á»Ÿng)\*
>
> *Má»Ÿ code feature **vÃ  chá»‰ tháº¥y nhá»¯ng gÃ¬ liÃªn quan Ä‘áº¿n task** - khÃ´ng hÆ¡n*

### 4. Lá»£i Ã­ch[â€‹](#4-lá»£i-Ã­ch "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Doanh nghiá»‡p ráº¥t hiáº¿m khi xoay chuyá»ƒn hÆ°á»›ng Ä‘i hoÃ n toÃ n sang hÆ°á»›ng khÃ¡c, cÃ³ nghÄ©a lÃ  **pháº£n Ã¡nh cÃ¡c task kinh doanh trong code á»©ng dá»¥ng frontend lÃ  lá»£i Ã­ch ráº¥t Ä‘Ã¡ng ká»ƒ.**

*Sau Ä‘Ã³ báº¡n khÃ´ng pháº£i giáº£i thÃ­ch cho má»—i thÃ nh viÃªn má»›i trong team code nÃ y hay code kia lÃ m gÃ¬, vÃ  nÃ³i chung táº¡i sao nÃ³ Ä‘Æ°á»£c thÃªm vÃ o - **má»i thá»© sáº½ Ä‘Æ°á»£c giáº£i thÃ­ch thÃ´ng qua cÃ¡c task kinh doanh Ä‘Ã£ Ä‘Æ°á»£c pháº£n Ã¡nh trong code.***

> CÃ¡i Ä‘Æ°á»£c gá»i lÃ  ["NgÃ´n ngá»¯ kinh doanh" trong Domain Driven Development](https://thedomaindrivendesign.io/developing-the-ubiquitous-language)

***

## Quay láº¡i thá»±c táº¿[â€‹](#quay-láº¡i-thá»±c-táº¿ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u quy trÃ¬nh kinh doanh Ä‘Æ°á»£c hiá»ƒu vÃ  Ä‘áº·t tÃªn tá»‘t á»Ÿ giai Ä‘oáº¡n thiáº¿t káº¿ - *thÃ¬ khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ Ä‘áº·c biá»‡t khi chuyá»ƒn sá»± hiá»ƒu biáº¿t vÃ  logic nÃ y vÃ o code.*

**Tuy nhiÃªn, trong thá»±c táº¿**, task vÃ  chá»©c nÄƒng thÆ°á»ng Ä‘Æ°á»£c phÃ¡t triá»ƒn "quÃ¡" láº·p Ä‘i láº·p láº¡i vÃ  (hoáº·c) khÃ´ng cÃ³ thá»i gian Ä‘á»ƒ suy nghÄ© ká»¹ vá» thiáº¿t káº¿.

**Káº¿t quáº£ lÃ , feature cÃ³ Ã½ nghÄ©a hÃ´m nay, vÃ  náº¿u báº¡n má»Ÿ rá»™ng feature nÃ y trong má»™t thÃ¡ng, báº¡n cÃ³ thá»ƒ pháº£i viáº¿t láº¡i ná»­a dá»± Ã¡n.**

> *\[[Tá»« cuá»™c tháº£o luáº­n](https://t.me/sergeysova/318)]: Developer cá»‘ gáº¯ng suy nghÄ© trÆ°á»›c 2-3 bÆ°á»›c, tÃ­nh Ä‘áº¿n nhá»¯ng mong muá»‘n trong tÆ°Æ¡ng lai, nhÆ°ng á»Ÿ Ä‘Ã¢y anh ta dá»±a vÃ o kinh nghiá»‡m cá»§a riÃªng mÃ¬nh*
>
> *Ká»¹ sÆ° cÃ³ kinh nghiá»‡m thÆ°á»ng ngay láº­p tá»©c nhÃ¬n trÆ°á»›c 10 bÆ°á»›c, vÃ  hiá»ƒu nÆ¡i nÃ o Ä‘á»ƒ chia má»™t feature vÃ  káº¿t há»£p vá»›i feature khÃ¡c*
>
> *NhÆ°ng Ä‘Ã´i khi cÃ³ nhá»¯ng task mÃ  chÆ°a tá»«ng gáº·p trong kinh nghiá»‡m, vÃ  khÃ´ng biáº¿t láº¥y Ä‘Ã¢u ra sá»± hiá»ƒu biáº¿t vá» cÃ¡ch phÃ¢n tÃ¡ch há»£p lÃ½, vá»›i háº­u quáº£ khÃ´ng mong muá»‘n Ã­t nháº¥t trong tÆ°Æ¡ng lai*

## Vai trÃ² cá»§a methodology[â€‹](#vai-trÃ²-cá»§a-methodology "Link trá»±c tiáº¿p Ä‘áº¿n heading")

**Methodology giÃºp giáº£i quyáº¿t váº¥n Ä‘á» cá»§a developers, Ä‘á»ƒ dá»… dÃ ng hÆ¡n giáº£i quyáº¿t váº¥n Ä‘á» cá»§a ngÆ°á»i dÃ¹ng.**

KhÃ´ng cÃ³ giáº£i phÃ¡p cho váº¥n Ä‘á» cá»§a developers chá»‰ vÃ¬ lá»£i Ã­ch cá»§a developers

NhÆ°ng Ä‘á»ƒ developer giáº£i quyáº¿t task cá»§a mÃ¬nh, **báº¡n cáº§n hiá»ƒu task cá»§a ngÆ°á»i dÃ¹ng** - ngÆ°á»£c láº¡i sáº½ khÃ´ng hoáº¡t Ä‘á»™ng

### YÃªu cáº§u cá»§a methodology[â€‹](#yÃªu-cáº§u-cá»§a-methodology "Link trá»±c tiáº¿p Ä‘áº¿n heading")

RÃµ rÃ ng lÃ  báº¡n cáº§n xÃ¡c Ä‘á»‹nh Ã­t nháº¥t hai yÃªu cáº§u cho **Feature-Sliced Design**:

1. Methodology nÃªn chá»‰ ra **cÃ¡ch táº¡o features, processes vÃ  entities**

   * CÃ³ nghÄ©a lÃ  nÃ³ nÃªn giáº£i thÃ­ch rÃµ rÃ ng *cÃ¡ch chia code giá»¯a chÃºng*, cÃ³ nghÄ©a lÃ  viá»‡c Ä‘áº·t tÃªn cÃ¡c entities nÃ y cÅ©ng nÃªn Ä‘Æ°á»£c quy Ä‘á»‹nh trong specification.

2. Methodology nÃªn giÃºp kiáº¿n trÃºc **[dá»… dÃ ng thÃ­ch á»©ng vá»›i yÃªu cáº§u thay Ä‘á»•i cá»§a dá»± Ã¡n](/documentation/vi/docs/about/understanding/architecture.md#adaptability)**

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(BÃ i viáº¿t) KÃ­ch thÃ­ch cho viá»‡c xÃ¢y dá»±ng task rÃµ rÃ ng (+ tháº£o luáº­n)](https://t.me/sergeysova/318)

  > ***BÃ i viáº¿t hiá»‡n táº¡i** lÃ  báº£n chuyá»ƒn thá»ƒ cá»§a cuá»™c tháº£o luáº­n nÃ y, báº¡n cÃ³ thá»ƒ Ä‘á»c phiÃªn báº£n Ä‘áº§y Ä‘á»§ khÃ´ng cáº¯t táº¡i liÃªn káº¿t*

* [(Tháº£o luáº­n) CÃ¡ch chia chá»©c nÄƒng vÃ  nÃ³ lÃ  gÃ¬](https://t.me/atomicdesign/18972)

* [(BÃ i viáº¿t) "CÃ¡ch tá»• chá»©c á»©ng dá»¥ng cá»§a báº¡n tá»‘t hÆ¡n"](https://alexmngn.medium.com/how-to-better-organize-your-react-applications-2fd3ea1920f1)


---

# Signal cá»§a kiáº¿n trÃºc

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/194)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Náº¿u cÃ³ giá»›i háº¡n vá» phÃ­a kiáº¿n trÃºc, thÃ¬ cÃ³ nhá»¯ng lÃ½ do rÃµ rÃ ng cho Ä‘iá»u nÃ y, vÃ  háº­u quáº£ náº¿u chÃºng bá»‹ bá» qua

> Methodology vÃ  kiáº¿n trÃºc Ä‘Æ°a ra signal, vÃ  cÃ¡ch xá»­ lÃ½ nÃ³ phá»¥ thuá»™c vÃ o nhá»¯ng rá»§i ro báº¡n sáºµn sÃ ng Ä‘áº£m nháº­n vÃ  Ä‘iá»u gÃ¬ phÃ¹ há»£p nháº¥t cho team cá»§a báº¡n)

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) Vá» signal tá»« kiáº¿n trÃºc vÃ  dataflow](https://t.me/feature_sliced/2070)
* [(Thread) Vá» tÃ­nh cháº¥t cÆ¡ báº£n cá»§a kiáº¿n trÃºc](https://t.me/feature_sliced/2492)
* [(Thread) Vá» viá»‡c lÃ m ná»•i báº­t cÃ¡c Ä‘iá»ƒm yáº¿u](https://t.me/feature_sliced/3979)
* [(Thread) LÃ m tháº¿ nÃ o Ä‘á»ƒ hiá»ƒu ráº±ng data model bá»‹ phÃ¬nh to](https://t.me/feature_sliced/4228)


---

# HÆ°á»›ng dáº«n ThÆ°Æ¡ng hiá»‡u

Báº£n sáº¯c thá»‹ giÃ¡c cá»§a FSD dá»±a trÃªn cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi: `Layered`, `Sliced self-contained parts`, `Parts & Compose`, `Segmented`. NhÆ°ng chÃºng tÃ´i cÅ©ng cÃ³ xu hÆ°á»›ng thiáº¿t káº¿ báº£n sáº¯c Ä‘Æ¡n giáº£n, Ä‘áº¹p máº¯t, thá»ƒ hiá»‡n triáº¿t lÃ½ FSD vÃ  dá»… nháº­n biáº¿t.

**Vui lÃ²ng sá»­ dá»¥ng báº£n sáº¯c cá»§a FSD "nguyÃªn tráº¡ng", khÃ´ng thay Ä‘á»•i nhÆ°ng vá»›i cÃ¡c tÃ i sáº£n cá»§a chÃºng tÃ´i Ä‘á»ƒ thuáº­n tiá»‡n cho báº¡n.** HÆ°á»›ng dáº«n thÆ°Æ¡ng hiá»‡u nÃ y sáº½ giÃºp báº¡n sá»­ dá»¥ng báº£n sáº¯c FSD má»™t cÃ¡ch chÃ­nh xÃ¡c.

TÆ°Æ¡ng thÃ­ch

FSD trÆ°á»›c Ä‘Ã¢y Ä‘Ã£ cÃ³ [má»™t báº£n sáº¯c cÅ© khÃ¡c](https://drive.google.com/drive/folders/11Y-3qZ_C9jOFoW2UbSp11YasOhw4yBdl?usp=sharing). Thiáº¿t káº¿ cÅ© khÃ´ng thá»ƒ hiá»‡n Ä‘Æ°á»£c cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cá»§a phÆ°Æ¡ng phÃ¡p luáº­n. NgoÃ i ra nÃ³ chá»‰ Ä‘Æ°á»£c táº¡o nhÆ° má»™t báº£n nhÃ¡p thuáº§n tÃºy, vÃ  Ä‘Ã¡ng láº½ pháº£i Ä‘Æ°á»£c hiá»‡n thá»±c hÃ³a.

Äá»ƒ sá»­ dá»¥ng thÆ°Æ¡ng hiá»‡u tÆ°Æ¡ng thÃ­ch vÃ  lÃ¢u dÃ i, chÃºng tÃ´i Ä‘Ã£ cáº©n tháº­n thá»±c hiá»‡n tÃ¡i thÆ°Æ¡ng hiá»‡u trong má»™t nÄƒm (2021-2022). **VÃ¬ váº­y báº¡n cÃ³ thá»ƒ yÃªn tÃ¢m khi sá»­ dá»¥ng báº£n sáº¯c cá»§a FSD ğŸ°**

*NhÆ°ng hÃ£y Æ°u tiÃªn báº£n sáº¯c hiá»‡n táº¡i, khÃ´ng pháº£i cÅ©!*

## TiÃªu Ä‘á»[â€‹](#tiÃªu-Ä‘á» "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* âœ… **ÄÃºng:** `Feature-Sliced Design`, `FSD`
* âŒ **Sai:** `Feature-Sliced`, `Feature Sliced`, `FeatureSliced`, `feature-sliced`, `feature sliced`, `FS`

## Emoji[â€‹](#emoji "Link trá»±c tiáº¿p Ä‘áº¿n heading")

HÃ¬nh áº£nh bÃ¡nh ğŸ° thá»ƒ hiá»‡n khÃ¡ tá»‘t cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cá»§a FSD, nÃªn nÃ³ Ä‘Ã£ Ä‘Æ°á»£c chá»n lÃ m emoji Ä‘áº·c trÆ°ng cá»§a chÃºng tÃ´i

> VÃ­ dá»¥: *"ğŸ° PhÆ°Æ¡ng phÃ¡p luáº­n thiáº¿t káº¿ kiáº¿n trÃºc cho cÃ¡c dá»± Ã¡n Frontend"*

## Logo & Báº£ng mÃ u[â€‹](#logo--báº£ng-mÃ u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

FSD cÃ³ má»™t vÃ i biáº¿n thá»ƒ logo cho cÃ¡c ngá»¯ cáº£nh khÃ¡c nhau, nhÆ°ng Ä‘Æ°á»£c khuyáº¿n nghá»‹ Æ°u tiÃªn **primary**

|                                 |                                                                                                                        |                                  |
| ------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | -------------------------------- |
| Theme                           | Logo (Ctrl/Cmd + Click Ä‘á»ƒ táº£i xuá»‘ng)                                                                                   | Sá»­ dá»¥ng                          |
| primary<br />(#29BEDC, #517AED) | [![logo-primary](/documentation/vi/img/brand/logo-primary.png)](/documentation/vi/img/brand/logo-primary.png)          | Æ¯u tiÃªn trong háº§u háº¿t trÆ°á»ng há»£p |
| flat<br />(#3193FF)             | [![logo-flat](/documentation/vi/img/brand/logo-flat.png)](/documentation/vi/img/brand/logo-flat.png)                   | Cho ngá»¯ cáº£nh má»™t mÃ u             |
| monochrome<br />(#FFF)          | [![logo-monocrhome](/documentation/vi/img/brand/logo-monochrome.png)](/documentation/vi/img/brand/logo-monochrome.png) | Cho ngá»¯ cáº£nh thang mÃ u xÃ¡m       |
| square<br />(#3193FF)           | [![logo-square](/documentation/vi/img/brand/logo-square.png)](/documentation/vi/img/brand/logo-square.png)             | Cho biÃªn hÃ¬nh vuÃ´ng              |

## Banner & SÆ¡ Ä‘á»“[â€‹](#banner--sÆ¡-Ä‘á»“ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

[![banner-primary](/documentation/vi/img/brand/banner-primary.jpg)](/documentation/vi/img/brand/banner-primary.jpg) [![banner-monochrome](/documentation/vi/img/brand/banner-monochrome.jpg)](/documentation/vi/img/brand/banner-monochrome.jpg)

## Social Preview[â€‹](#social-preview "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n...

## Template thuyáº¿t trÃ¬nh[â€‹](#template-thuyáº¿t-trÃ¬nh "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n...

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Discussion (github)](https://github.com/feature-sliced/documentation/discussions/399)
* [Lá»‹ch sá»­ phÃ¡t triá»ƒn vá»›i tham kháº£o (figma)](https://www.figma.com/file/RPphccpoeasVB0lMpZwPVR/FSD-Brand?node-id=0%3A1)


---

# Decomposition cheatsheet

Sá»­ dá»¥ng lÃ m tÃ i liá»‡u tham kháº£o nhanh khi báº¡n quyáº¿t Ä‘á»‹nh cÃ¡ch decompose UI cá»§a mÃ¬nh. PhiÃªn báº£n PDF cÅ©ng cÃ³ sáºµn bÃªn dÆ°á»›i, Ä‘á»ƒ báº¡n cÃ³ thá»ƒ in ra vÃ  giá»¯ má»™t báº£n dÆ°á»›i gá»‘i.

## Chá»n layer[â€‹](#chá»n-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

[Download PDF](/documentation/vi/assets/files/choosing-a-layer-en-12fdf3265c8fc4f6b58687352b81fce7.pdf)

![Definitions of all layers and self-check questions](/documentation/vi/assets/images/choosing-a-layer-en-5b67f20bb921ba17d78a56c0dc7654a9.jpg)

## VÃ­ dá»¥[â€‹](#vÃ­-dá»¥ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Tweet[â€‹](#tweet "Link trá»±c tiáº¿p Ä‘áº¿n heading")

![decomposed-tweet-bordered-bgLight](/documentation/vi/assets/images/decompose-twitter-7b9a50f879d763c49305b3bf0751ee35.png)

### GitHub[â€‹](#github "Link trá»±c tiáº¿p Ä‘áº¿n heading")

![decomposed-github-bordered](/documentation/vi/assets/images/decompose-github-a0eeb839a4b5ef5c480a73726a4451b0.jpg)

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) Logic tá»•ng quÃ¡t cho feature vÃ  entity](https://t.me/feature_sliced/4262)
* [(Thread) Decomposition cá»§a logic phÃ¬nh to](https://t.me/feature_sliced/4210)
* [(Thread) Vá» viá»‡c hiá»ƒu cÃ¡c vÃ¹ng trÃ¡ch nhiá»‡m trong decomposition](https://t.me/feature_sliced/4088)
* [(Thread) Decomposition cá»§a Product List widget](https://t.me/feature_sliced/3828)
* [(Article) CÃ¡c cÃ¡ch tiáº¿p cáº­n khÃ¡c nhau cho decomposition cá»§a logic](https://www.pluralsight.com/guides/how-to-organize-your-react-+-redux-codebase)
* [(Thread) Vá» sá»± khÃ¡c biá»‡t giá»¯a feature vÃ  entity](https://t.me/feature_sliced/3776)
* [(Thread) Vá» sá»± khÃ¡c biá»‡t giá»¯a things vÃ  entity (2)](https://t.me/feature_sliced/3248)
* [(Thread) Vá» viá»‡c Ã¡p dá»¥ng tiÃªu chÃ­ cho decomposition](https://t.me/feature_sliced/3833)


---

# FAQ

thÃ´ng tin

Báº¡n cÃ³ thá»ƒ Ä‘áº·t cÃ¢u há»i trong [Telegram chat](https://t.me/feature_sliced), [Discord community](https://discord.gg/S8MzWTUsmp), vÃ  [GitHub Discussions](https://github.com/feature-sliced/documentation/discussions) cá»§a chÃºng tÃ´i.

### CÃ³ toolkit hay linter nÃ o khÃ´ng?[â€‹](#cÃ³-toolkit-hay-linter-nÃ o-khÃ´ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ³! ChÃºng tÃ´i cÃ³ linter tÃªn lÃ  [Steiger](https://github.com/feature-sliced/steiger) Ä‘á»ƒ kiá»ƒm tra kiáº¿n trÃºc project cá»§a báº¡n vÃ  cÃ³ [folder generator](https://github.com/feature-sliced/awesome?tab=readme-ov-file#tools) thÃ´ng qua CLI hoáº·c IDE.

### Äáº·t layout/template cá»§a trang á»Ÿ Ä‘Ã¢u?[â€‹](#Ä‘áº·t-layouttemplate-cá»§a-trang-á»Ÿ-Ä‘Ã¢u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u báº¡n cáº§n layout markup thuáº§n tÃºy, báº¡n cÃ³ thá»ƒ giá»¯ chÃºng trong `shared/ui`. Náº¿u báº¡n cáº§n sá»­ dá»¥ng cÃ¡c layer cao hÆ¡n bÃªn trong, cÃ³ má»™t vÃ i lá»±a chá»n:

* CÃ³ láº½ báº¡n khÃ´ng cáº§n layout chÃºt nÃ o? Náº¿u layout chá»‰ cÃ³ vÃ i dÃ²ng, cÃ³ thá»ƒ há»£p lÃ½ hÆ¡n lÃ  duplicate code trong má»—i trang thay vÃ¬ cá»‘ gáº¯ng trá»«u tÆ°á»£ng hÃ³a nÃ³.
* Náº¿u báº¡n thá»±c sá»± cáº§n layout, báº¡n cÃ³ thá»ƒ cÃ³ chÃºng nhÆ° cÃ¡c widget hoáº·c trang riÃªng biá»‡t, vÃ  compose chÃºng trong cáº¥u hÃ¬nh router á»Ÿ App. Nested routing lÃ  má»™t lá»±a chá»n khÃ¡c.

### Sá»± khÃ¡c biá»‡t giá»¯a feature vÃ  entity lÃ  gÃ¬?[â€‹](#sá»±-khÃ¡c-biá»‡t-giá»¯a-feature-vÃ -entity-lÃ -gÃ¬ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

*Entity* lÃ  khÃ¡i niá»‡m thá»±c táº¿ mÃ  app cá»§a báº¡n Ä‘ang lÃ m viá»‡c vá»›i. *Feature* lÃ  tÆ°Æ¡ng tÃ¡c cung cáº¥p giÃ¡ trá»‹ thá»±c táº¿ cho ngÆ°á»i dÃ¹ng app cá»§a báº¡n, Ä‘iá»u mÃ  má»i ngÆ°á»i muá»‘n lÃ m vá»›i cÃ¡c entity cá»§a báº¡n.

Äá»ƒ biáº¿t thÃªm thÃ´ng tin cÃ¹ng vá»›i vÃ­ dá»¥, xem trang Reference vá» [slice](/documentation/vi/docs/reference/layers.md#entities).

### TÃ´i cÃ³ thá»ƒ embed page/feature/entity vÃ o nhau khÃ´ng?[â€‹](#tÃ´i-cÃ³-thá»ƒ-embed-pagefeatureentity-vÃ o-nhau-khÃ´ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ³, nhÆ°ng viá»‡c embedding nÃ y nÃªn xáº£y ra á»Ÿ cÃ¡c layer cao hÆ¡n. VÃ­ dá»¥, bÃªn trong widget, báº¡n cÃ³ thá»ƒ import cáº£ feature rá»“i insert feature nÃ y vÃ o feature khÃ¡c nhÆ° props/children.

Báº¡n khÃ´ng thá»ƒ import feature nÃ y tá»« feature khÃ¡c, Ä‘iá»u nÃ y bá»‹ cáº¥m bá»Ÿi [**import rule on layers**](/documentation/vi/docs/reference/layers.md#import-rule-on-layers).

### CÃ²n Atomic Design thÃ¬ sao?[â€‹](#cÃ²n-atomic-design-thÃ¬-sao "Link trá»±c tiáº¿p Ä‘áº¿n heading")

PhiÃªn báº£n hiá»‡n táº¡i cá»§a phÆ°Æ¡ng phÃ¡p luáº­n khÃ´ng yÃªu cáº§u cÅ©ng khÃ´ng cáº¥m viá»‡c sá»­ dá»¥ng Atomic Design cÃ¹ng vá»›i Feature-Sliced Design.

VÃ­ dá»¥, Atomic Design [cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng tá»‘t](https://t.me/feature_sliced/1653) cho segment `ui` cá»§a cÃ¡c module.

### CÃ³ tÃ i nguyÃªn/bÃ i viáº¿t/v.v. há»¯u Ã­ch nÃ o vá» FSD khÃ´ng?[â€‹](#cÃ³-tÃ i-nguyÃªnbÃ i-viáº¿tvv-há»¯u-Ã­ch-nÃ o-vá»-fsd-khÃ´ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ³! <https://github.com/feature-sliced/awesome>

### Táº¡i sao tÃ´i cáº§n Feature-Sliced Design?[â€‹](#táº¡i-sao-tÃ´i-cáº§n-feature-sliced-design "Link trá»±c tiáº¿p Ä‘áº¿n heading")

NÃ³ giÃºp báº¡n vÃ  team cá»§a báº¡n nhanh chÃ³ng tá»•ng quan project theo cÃ¡c component mang láº¡i giÃ¡ trá»‹ chÃ­nh. Kiáº¿n trÃºc Ä‘Æ°á»£c tiÃªu chuáº©n hÃ³a giÃºp tÄƒng tá»‘c onboarding vÃ  giáº£i quyáº¿t cÃ¡c tranh luáº­n vá» cáº¥u trÃºc code. Xem trang [motivation](/documentation/vi/docs/about/motivation.md) Ä‘á»ƒ tÃ¬m hiá»ƒu thÃªm vá» lÃ½ do FSD Ä‘Æ°á»£c táº¡o ra.

### Developer má»›i cÃ³ cáº§n architecture/methodology khÃ´ng?[â€‹](#developer-má»›i-cÃ³-cáº§n-architecturemethodology-khÃ´ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ³ thÃ¬ tá»‘t hÆ¡n lÃ  khÃ´ng

*ThÆ°á»ng thÃ¬ khi báº¡n thiáº¿t káº¿ vÃ  phÃ¡t triá»ƒn project má»™t mÃ¬nh, má»i thá»© diá»…n ra suÃ´n sáº». NhÆ°ng náº¿u cÃ³ táº¡m dá»«ng trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, cÃ³ thÃªm developer má»›i vÃ o team - thÃ¬ váº¥n Ä‘á» sáº½ xuáº¥t hiá»‡n*

### LÃ m tháº¿ nÃ o Ä‘á»ƒ lÃ m viá»‡c vá»›i authorization context?[â€‹](#lÃ m-tháº¿-nÃ o-Ä‘á»ƒ-lÃ m-viá»‡c-vá»›i-authorization-context "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Tráº£ lá»i [á»Ÿ Ä‘Ã¢y](/documentation/vi/docs/guides/examples/auth.md)


---

# Tá»•ng quan

**Feature-Sliced Design** (FSD) lÃ  má»™t phÆ°Æ¡ng phÃ¡p thiáº¿t káº¿ kiáº¿n trÃºc Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng frontend. NÃ³i Ä‘Æ¡n giáº£n, Ä‘Ã¢y lÃ  táº­p há»£p cÃ¡c quy táº¯c vÃ  quy Æ°á»›c Ä‘á»ƒ tá»• chá»©c code. Má»¥c Ä‘Ã­ch chÃ­nh cá»§a phÆ°Æ¡ng phÃ¡p nÃ y lÃ  lÃ m cho dá»± Ã¡n trá»Ÿ nÃªn dá»… hiá»ƒu vÃ  á»•n Ä‘á»‹nh hÆ¡n khi Ä‘á»‘i máº·t vá»›i nhá»¯ng yÃªu cáº§u kinh doanh liÃªn tá»¥c thay Ä‘á»•i.

NgoÃ i táº­p há»£p cÃ¡c quy Æ°á»›c, FSD cÃ²n lÃ  má»™t bá»™ cÃ´ng cá»¥. ChÃºng tÃ´i cÃ³ [linter](https://github.com/feature-sliced/steiger) Ä‘á»ƒ kiá»ƒm tra kiáº¿n trÃºc dá»± Ã¡n cá»§a báº¡n, [trÃ¬nh táº¡o thÆ° má»¥c](https://github.com/feature-sliced/awesome?tab=readme-ov-file#tools) thÃ´ng qua CLI hoáº·c IDE, cÅ©ng nhÆ° thÆ° viá»‡n phong phÃº cÃ¡c [vÃ­ dá»¥](/documentation/vi/examples.md).

## CÃ³ phÃ¹ há»£p vá»›i tÃ´i khÃ´ng?[â€‹](#is-it-right-for-me "Link trá»±c tiáº¿p Ä‘áº¿n heading")

FSD cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai trong cÃ¡c dá»± Ã¡n vÃ  nhÃ³m vá»›i báº¥t ká»³ quy mÃ´ nÃ o. NÃ³ phÃ¹ há»£p vá»›i dá»± Ã¡n cá»§a báº¡n náº¿u:

* Báº¡n Ä‘ang lÃ m **frontend** (UI trÃªn web, mobile, desktop, v.v.)
* Báº¡n Ä‘ang xÃ¢y dá»±ng má»™t **á»©ng dá»¥ng**, khÃ´ng pháº£i thÆ° viá»‡n

VÃ¢ng, chá»‰ Ä‘Æ¡n giáº£n tháº¿ thÃ´i! KhÃ´ng cÃ³ rÃ ng buá»™c nÃ o vá» ngÃ´n ngá»¯ láº­p trÃ¬nh, UI framework, hoáº·c state manager báº¡n sá»­ dá»¥ng. Báº¡n cÅ©ng cÃ³ thá»ƒ Ã¡p dá»¥ng FSD tá»«ng bÆ°á»›c má»™t, sá»­ dá»¥ng nÃ³ trong monorepo, vÃ  má»Ÿ rá»™ng quy mÃ´ lá»›n báº±ng cÃ¡ch chia á»©ng dá»¥ng thÃ nh cÃ¡c package vÃ  triá»ƒn khai FSD riÃªng láº» trong tá»«ng package.

Náº¿u báº¡n Ä‘Ã£ cÃ³ má»™t kiáº¿n trÃºc vÃ  Ä‘ang cÃ¢n nháº¯c chuyá»ƒn sang FSD, hÃ£y Ä‘áº£m báº£o ráº±ng kiáº¿n trÃºc hiá»‡n táº¡i Ä‘ang **gÃ¢y ra váº¥n Ä‘á»** trong nhÃ³m cá»§a báº¡n. VÃ­ dá»¥, náº¿u dá»± Ã¡n cá»§a báº¡n Ä‘Ã£ trá»Ÿ nÃªn quÃ¡ lá»›n vÃ  liÃªn káº¿t cháº·t cháº½ vá»›i nhau khiáº¿n viá»‡c triá»ƒn khai tÃ­nh nÄƒng má»›i trá»Ÿ nÃªn kÃ©m hiá»‡u quáº£, hoáº·c náº¿u báº¡n dá»± kiáº¿n cÃ³ nhiá»u thÃ nh viÃªn má»›i tham gia nhÃ³m. Náº¿u kiáº¿n trÃºc hiá»‡n táº¡i hoáº¡t Ä‘á»™ng tá»‘t, cÃ³ láº½ khÃ´ng Ä‘Ã¡ng Ä‘á»ƒ thay Ä‘á»•i. NhÆ°ng náº¿u báº¡n quyáº¿t Ä‘á»‹nh migrate, hÃ£y xem pháº§n [Migration](/documentation/vi/docs/guides/migration/from-custom.md) Ä‘á»ƒ Ä‘Æ°á»£c hÆ°á»›ng dáº«n.

## VÃ­ dá»¥ cÆ¡ báº£n[â€‹](#basic-example "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ÄÃ¢y lÃ  má»™t dá»± Ã¡n Ä‘Æ¡n giáº£n triá»ƒn khai FSD:

* `ğŸ“ app`
* `ğŸ“ pages`
* `ğŸ“ shared`

Nhá»¯ng thÆ° má»¥c cáº¥p cao nÃ y Ä‘Æ°á»£c gá»i lÃ  *layer*. HÃ£y xem sÃ¢u hÆ¡n:

* `ğŸ“‚ app`

  * `ğŸ“ routes`
  * `ğŸ“ analytics`

* `ğŸ“‚ pages`

  * `ğŸ“ home`

  * `ğŸ“‚ article-reader`

    * `ğŸ“ ui`
    * `ğŸ“ api`

  * `ğŸ“ settings`

* `ğŸ“‚ shared`

  * `ğŸ“ ui`
  * `ğŸ“ api`

CÃ¡c thÆ° má»¥c bÃªn trong `ğŸ“‚ pages` Ä‘Æ°á»£c gá»i lÃ  *slice*. ChÃºng chia layer theo domain (trong trÆ°á»ng há»£p nÃ y, theo trang).

CÃ¡c thÆ° má»¥c bÃªn trong `ğŸ“‚ app`, `ğŸ“‚ shared`, vÃ  `ğŸ“‚ pages/article-reader` Ä‘Æ°á»£c gá»i lÃ  *segment*, vÃ  chÃºng chia cÃ¡c slice (hoáº·c layer) theo má»¥c Ä‘Ã­ch ká»¹ thuáº­t, tá»©c lÃ  code Ä‘Ã³ dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬.

## CÃ¡c khÃ¡i niá»‡m[â€‹](#concepts "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layer, slice, vÃ  segment táº¡o thÃ nh má»™t há»‡ thá»‘ng phÃ¢n cáº¥p nhÆ° sau:

![Hierarchy of FSD concepts, described below](/documentation/vi/assets/images/visual_schema-e826067f573946613dcdc76e3f585082.jpg)

HÃ¬nh minh há»a: ba cá»™t, Ä‘Æ°á»£c gáº¯n nhÃ£n tá»« trÃ¡i sang pháº£i láº§n lÆ°á»£t lÃ  "Layers", "Slices", vÃ  "Segments".

Cá»™t "Layers" chá»©a báº£y phÃ¢n chia Ä‘Æ°á»£c sáº¯p xáº¿p tá»« trÃªn xuá»‘ng dÆ°á»›i vÃ  Ä‘Æ°á»£c gáº¯n nhÃ£n "app", "processes", "pages", "widgets", "features", "entities", vÃ  "shared". PhÃ¢n chia "processes" bá»‹ gáº¡ch ngang. PhÃ¢n chia "entities" Ä‘Æ°á»£c káº¿t ná»‘i vá»›i cá»™t thá»© hai "Slices" theo cÃ¡ch truyá»n Ä‘áº¡t ráº±ng cá»™t thá»© hai lÃ  ná»™i dung cá»§a "entities".

Cá»™t "Slices" chá»©a ba phÃ¢n chia Ä‘Æ°á»£c sáº¯p xáº¿p tá»« trÃªn xuá»‘ng dÆ°á»›i vÃ  Ä‘Æ°á»£c gáº¯n nhÃ£n "user", "post", vÃ  "comment". PhÃ¢n chia "post" Ä‘Æ°á»£c káº¿t ná»‘i vá»›i cá»™t thá»© ba "Segments" theo cÃ¹ng cÃ¡ch nhÆ° váº­y Ä‘á»ƒ nÃ³ lÃ  ná»™i dung cá»§a "post".

Cá»™t "Segments" chá»©a ba phÃ¢n chia, Ä‘Æ°á»£c sáº¯p xáº¿p tá»« trÃªn xuá»‘ng dÆ°á»›i vÃ  Ä‘Æ°á»£c gáº¯n nhÃ£n "ui", "model", vÃ  "api".

### Layer[â€‹](#layers "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c layer Ä‘Æ°á»£c tiÃªu chuáº©n hÃ³a trÃªn táº¥t cáº£ cÃ¡c dá»± Ã¡n FSD. Báº¡n khÃ´ng cáº§n pháº£i sá»­ dá»¥ng táº¥t cáº£ cÃ¡c layer, nhÆ°ng tÃªn cá»§a chÃºng ráº¥t quan trá»ng. Hiá»‡n táº¡i cÃ³ báº£y layer (tá»« trÃªn xuá»‘ng dÆ°á»›i):

1. **App** â€” má»i thá»© khiáº¿n á»©ng dá»¥ng cháº¡y Ä‘Æ°á»£c â€” routing, entrypoint, global style, provider.
2. **Processes** (deprecated) â€” cÃ¡c ká»‹ch báº£n phá»©c táº¡p liÃªn quan Ä‘áº¿n nhiá»u trang.
3. **Pages** â€” cÃ¡c trang Ä‘áº§y Ä‘á»§ hoáº·c cÃ¡c pháº§n lá»›n cá»§a trang trong nested routing.
4. **Widget** â€” cÃ¡c khá»‘i chá»©c nÄƒng hoáº·c UI lá»›n, tá»± chá»©a, thÆ°á»ng cung cáº¥p toÃ n bá»™ má»™t use case.
5. **Feature** â€” cÃ¡c triá»ƒn khai *tÃ¡i sá»­ dá»¥ng* cá»§a toÃ n bá»™ tÃ­nh nÄƒng sáº£n pháº©m, tá»©c lÃ  cÃ¡c hÃ nh Ä‘á»™ng mang láº¡i giÃ¡ trá»‹ kinh doanh cho ngÆ°á»i dÃ¹ng.
6. **Entity** â€” cÃ¡c thá»±c thá»ƒ kinh doanh mÃ  dá»± Ã¡n lÃ m viá»‡c vá»›i, nhÆ° `user` hoáº·c `product`.
7. **Shared** â€” chá»©c nÄƒng tÃ¡i sá»­ dá»¥ng, Ä‘áº·c biá»‡t khi nÃ³ tÃ¡ch rá»i khá»i Ä‘áº·c Ä‘iá»ƒm cá»¥ thá»ƒ cá»§a dá»± Ã¡n/kinh doanh, máº·c dÃ¹ khÃ´ng nháº¥t thiáº¿t.

cáº£nh bÃ¡o

CÃ¡c layer **App** vÃ  **Shared**, khÃ´ng giá»‘ng nhÆ° cÃ¡c layer khÃ¡c, khÃ´ng cÃ³ slice vÃ  Ä‘Æ°á»£c chia trá»±c tiáº¿p thÃ nh cÃ¡c segment.

Tuy nhiÃªn, táº¥t cáº£ cÃ¡c layer khÃ¡c â€” **Entity**, **Feature**, **Widget**, vÃ  **Page**, giá»¯ nguyÃªn cáº¥u trÃºc trong Ä‘Ã³ báº¡n pháº£i táº¡o slice trÆ°á»›c, bÃªn trong Ä‘Ã³ báº¡n táº¡o cÃ¡c segment.

Äiá»u thÃº vá»‹ vá»›i cÃ¡c layer lÃ  cÃ¡c module á»Ÿ má»™t layer chá»‰ cÃ³ thá»ƒ biáº¿t vá» vÃ  import tá»« cÃ¡c module tá»« cÃ¡c layer á»Ÿ phÃ­a dÆ°á»›i má»™t cÃ¡ch nghiÃªm ngáº·t.

### Slice[â€‹](#slices "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Tiáº¿p theo lÃ  cÃ¡c slice, chÃºng phÃ¢n chia code theo domain business. Báº¡n cÃ³ thá»ƒ tá»± do chá»n báº¥t ká»³ tÃªn nÃ o cho chÃºng vÃ  táº¡o nhiá»u nhÆ° báº¡n muá»‘n. CÃ¡c slice lÃ m cho codebase cá»§a báº¡n dá»… Ä‘iá»u hÆ°á»›ng hÆ¡n báº±ng cÃ¡ch giá»¯ cÃ¡c module cÃ³ liÃªn quan logic gáº§n nhau.

CÃ¡c slice khÃ´ng thá»ƒ sá»­ dá»¥ng slice khÃ¡c trÃªn cÃ¹ng layer, vÃ  Ä‘iá»u Ä‘Ã³ giÃºp vá»›i tÃ­nh liÃªn káº¿t cao vÃ  khá»›p ná»‘i tháº¥p.

### Segment[â€‹](#segments "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c slice, cÅ©ng nhÆ° cÃ¡c layer App vÃ  Shared, bao gá»“m cÃ¡c segment, vÃ  cÃ¡c segment nhÃ³m code cá»§a báº£n theo má»¥c Ä‘Ã­ch cá»§a nÃ³. TÃªn segment khÃ´ng bá»‹ rÃ ng buá»™c bá»Ÿi tiÃªu chuáº©n, nhÆ°ng cÃ³ má»™t sá»‘ tÃªn quy Æ°á»›c cho cÃ¡c má»¥c Ä‘Ã­ch phá»• biáº¿n nháº¥t:

* `ui` â€” má»i thá»© liÃªn quan Ä‘áº¿n hiá»ƒn thá»‹ UI: UI component, date formatter, style, v.v.
* `api` â€” tÆ°Æ¡ng tÃ¡c backend: request function, data type, mapper, v.v.
* `model` â€” model dá»¯ liá»‡u: schema, interface, store, vÃ  business logic.
* `lib` â€” library code mÃ  cÃ¡c module khÃ¡c trÃªn slice nÃ y cáº§n.
* `config` â€” file cáº¥u hÃ¬nh vÃ  feature flag.

ThÆ°á»ng thÃ¬ nhá»¯ng segment nÃ y Ä‘á»§ cho háº§u háº¿t cÃ¡c layer, báº¡n chá»‰ táº¡o segment riÃªng cá»§a mÃ¬nh trong Shared hoáº·c App, nhÆ°ng Ä‘Ã¢y khÃ´ng pháº£i lÃ  quy táº¯c báº¯t buá»™c.

## Æ¯u Ä‘iá»ƒm[â€‹](#advantages "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* **TÃ­nh thá»‘ng nháº¥t**<br /><!-- -->VÃ¬ cáº¥u trÃºc Ä‘Æ°á»£c tiÃªu chuáº©n hÃ³a, cÃ¡c dá»± Ã¡n trá»Ÿ nÃªn thá»‘ng nháº¥t hÆ¡n, Ä‘iá»u nÃ y lÃ m cho viá»‡c onboard thÃ nh viÃªn má»›i dá»… dÃ ng hÆ¡n cho nhÃ³m.

* **á»”n Ä‘á»‹nh trÆ°á»›c cÃ¡c thay Ä‘á»•i vÃ  refactoring**<br /><!-- -->Má»™t module trÃªn má»™t layer khÃ´ng thá»ƒ sá»­ dá»¥ng cÃ¡c module khÃ¡c trÃªn cÃ¹ng layer, hoáº·c cÃ¡c layer á»Ÿ trÃªn.<br /><!-- -->Äiá»u nÃ y cho phÃ©p báº¡n thá»±c hiá»‡n cÃ¡c sá»­a Ä‘á»•i Ä‘á»™c láº­p mÃ  khÃ´ng cÃ³ háº­u quáº£ khÃ´ng lÆ°á»ng trÆ°á»›c Ä‘á»‘i vá»›i pháº§n cÃ²n láº¡i cá»§a á»©ng dá»¥ng.

* **Kiá»ƒm soÃ¡t viá»‡c tÃ¡i sá»­ dá»¥ng logic**<br /><!-- -->TÃ¹y thuá»™c vÃ o layer, báº¡n cÃ³ thá»ƒ lÃ m cho code ráº¥t cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng hoáº·c ráº¥t cá»¥c bá»™.<br /><!-- -->Äiá»u nÃ y giá»¯ sá»± cÃ¢n báº±ng giá»¯a viá»‡c tuÃ¢n theo nguyÃªn táº¯c **DRY** vÃ  tÃ­nh thá»±c táº¿.

* **Äá»‹nh hÆ°á»›ng vÃ o nhu cáº§u kinh doanh vÃ  ngÆ°á»i dÃ¹ng**<br /><!-- -->á»¨ng dá»¥ng Ä‘Æ°á»£c chia theo cÃ¡c domain kinh doanh vÃ  viá»‡c sá»­ dá»¥ng ngÃ´n ngá»¯ kinh doanh Ä‘Æ°á»£c khuyáº¿n khÃ­ch trong viá»‡c Ä‘áº·t tÃªn, Ä‘á»ƒ báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n cÃ´ng viá»‡c sáº£n pháº©m há»¯u Ã­ch mÃ  khÃ´ng cáº§n hiá»ƒu Ä‘áº§y Ä‘á»§ táº¥t cáº£ cÃ¡c pháº§n khÃ´ng liÃªn quan khÃ¡c cá»§a dá»± Ã¡n.

## Ãp dá»¥ng tá»«ng bÆ°á»›c[â€‹](#incremental-adoption "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u báº¡n cÃ³ má»™t codebase hiá»‡n cÃ³ mÃ  báº¡n muá»‘n migrate sang FSD, chÃºng tÃ´i Ä‘á» xuáº¥t chiáº¿n lÆ°á»£c sau. ChÃºng tÃ´i tháº¥y nÃ³ há»¯u Ã­ch trong kinh nghiá»‡m migrate cá»§a chÃ­nh mÃ¬nh.

1. Báº¯t Ä‘áº§u báº±ng cÃ¡ch tá»« tá»« Ä‘á»‹nh hÃ¬nh cÃ¡c layer App vÃ  Shared tá»«ng module má»™t Ä‘á»ƒ táº¡o ná»n táº£ng.

2. PhÃ¢n phá»‘i táº¥t cáº£ UI hiá»‡n cÃ³ trÃªn Widget vÃ  Page báº±ng cÃ¡ch sÆ¡ bá»™, ngay cáº£ khi chÃºng cÃ³ dependency vi pháº¡m cÃ¡c quy táº¯c cá»§a FSD.

3. Báº¯t Ä‘áº§u tá»« tá»« giáº£i quyáº¿t cÃ¡c vi pháº¡m import vÃ  cÅ©ng trÃ­ch xuáº¥t Entity vÃ  cÃ³ thá»ƒ cáº£ Feature.

NÃªn trÃ¡nh thÃªm cÃ¡c entity lá»›n má»›i trong khi refactor hoáº·c chá»‰ refactor má»™t sá»‘ pháº§n nháº¥t Ä‘á»‹nh cá»§a dá»± Ã¡n.

## BÆ°á»›c tiáº¿p theo[â€‹](#next-steps "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* **Muá»‘n náº¯m báº¯t tá»‘t cÃ¡ch tÆ° duy trong FSD?** Xem [Tutorial](/documentation/vi/docs/get-started/tutorial.md).
* **Báº¡n thÃ­ch há»c tá»« vÃ­ dá»¥?** ChÃºng tÃ´i cÃ³ ráº¥t nhiá»u trong pháº§n [Examples](/documentation/vi/examples.md).
* **Báº¡n cÃ³ cÃ¢u há»i?** GhÃ© thÄƒm [Telegram chat](https://t.me/feature_sliced) cá»§a chÃºng tÃ´i vÃ  nháº­n trá»£ giÃºp tá»« cá»™ng Ä‘á»“ng.


---

# Tutorial

## Pháº§n 1. TrÃªn giáº¥y[â€‹](#pháº§n-1-trÃªn-giáº¥y "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Tutorial nÃ y sáº½ xem xÃ©t má»™t app thá»±c táº¿, cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn Conduit. Conduit lÃ  má»™t báº£n clone cÆ¡ báº£n cá»§a [Medium](https://medium.com/) â€” nÃ³ cho phÃ©p báº¡n Ä‘á»c vÃ  viáº¿t bÃ i, cÅ©ng nhÆ° bÃ¬nh luáº­n trÃªn cÃ¡c bÃ i viáº¿t cá»§a ngÆ°á»i khÃ¡c.

![Conduit home page](/documentation/vi/assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg)

ÄÃ¢y lÃ  má»™t á»©ng dá»¥ng khÃ¡ nhá», vÃ¬ váº­y chÃºng ta sáº½ giá»¯ nÃ³ Ä‘Æ¡n giáº£n vÃ  trÃ¡nh phÃ¢n tÃ¡ch quÃ¡ má»©c. Ráº¥t cÃ³ thá»ƒ toÃ n bá»™ á»©ng dá»¥ng sáº½ chá»‰ cáº§n ba layer: **App**, **Pages**, vÃ  **Shared**. Náº¿u khÃ´ng, chÃºng ta sáº½ giá»›i thiá»‡u thÃªm cÃ¡c layer khi cáº§n. Sáºµn sÃ ng chÆ°a?

### Báº¯t Ä‘áº§u báº±ng viá»‡c liá»‡t kÃª cÃ¡c trang[â€‹](#báº¯t-Ä‘áº§u-báº±ng-viá»‡c-liá»‡t-kÃª-cÃ¡c-trang "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u nhÃ¬n vÃ o áº£nh chá»¥p mÃ n hÃ¬nh á»Ÿ trÃªn, chÃºng ta cÃ³ thá»ƒ giáº£ Ä‘á»‹nh Ã­t nháº¥t nhá»¯ng trang sau:

* Trang chá»§ (article feed)
* ÄÄƒng nháº­p vÃ  Ä‘Äƒng kÃ½
* Äá»c article
* Chá»‰nh sá»­a article
* Xem profile ngÆ°á»i dÃ¹ng
* Chá»‰nh sá»­a profile ngÆ°á»i dÃ¹ng (user settings)

Má»—i trang nÃ y sáº½ trá»Ÿ thÃ nh má»™t *slice* riÃªng trÃªn *layer* Pages. HÃ£y nhá»› láº¡i tá»« pháº§n tá»•ng quan ráº±ng slice chá»‰ Ä‘Æ¡n giáº£n lÃ  cÃ¡c folder bÃªn trong layer, vÃ  layer chá»‰ Ä‘Æ¡n giáº£n lÃ  cÃ¡c folder cÃ³ tÃªn Ä‘á»‹nh sáºµn nhÆ° `pages`.

NhÆ° váº­y, folder Pages cá»§a chÃºng ta sáº½ trÃ´ng nhÆ° tháº¿ nÃ y:

```
ğŸ“‚ pages/
  ğŸ“ feed/
  ğŸ“ sign-in/
  ğŸ“ article-read/
  ğŸ“ article-edit/
  ğŸ“ profile/
  ğŸ“ settings/
```

Sá»± khÃ¡c biá»‡t chÃ­nh cá»§a Feature-Sliced Design so vá»›i cáº¥u trÃºc code khÃ´ng Ä‘Æ°á»£c quy Ä‘á»‹nh lÃ  cÃ¡c pages khÃ´ng thá»ƒ tham chiáº¿u láº«n nhau. NghÄ©a lÃ , má»™t page khÃ´ng thá»ƒ import code tá»« trang khÃ¡c. Äiá»u nÃ y lÃ  do **quy táº¯c import trÃªn cÃ¡c layer**:

*Má»™t module (file) trong má»™t slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slice khÃ¡c khi chÃºng náº±m trÃªn cÃ¡c layer á»Ÿ bÃªn dÆ°á»›i.*

Trong trÆ°á»ng há»£p nÃ y, má»™t trang lÃ  má»™t slice, vÃ¬ váº­y cÃ¡c module (file) bÃªn trong trang nÃ y chá»‰ cÃ³ thá»ƒ tham chiáº¿u code tá»« cÃ¡c layer bÃªn dÆ°á»›i, khÃ´ng pháº£i tá»« cÃ¹ng layer Pages.

### NhÃ¬n ká»¹ hÆ¡n vÃ o feed[â€‹](#nhÃ¬n-ká»¹-hÆ¡n-vÃ o-feed "Link trá»±c tiáº¿p Ä‘áº¿n heading")

![Anonymous user\&#39;s perspective](/documentation/vi/assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg)

*Tá»« gÃ³c nhÃ¬n cá»§a ngÆ°á»i dÃ¹ng áº©n danh*

![Authenticated user\&#39;s perspective](/documentation/vi/assets/images/realworld-feed-authenticated-15427d9ff7baae009b47b501bee6c059.jpg)

*Tá»« gÃ³c nhÃ¬n cá»§a ngÆ°á»i dÃ¹ng Ä‘Ã£ xÃ¡c thá»±c*

CÃ³ ba khu vá»±c Ä‘á»™ng trÃªn trang feed:

1. CÃ¡c link Ä‘Äƒng nháº­p vá»›i thÃ´ng bÃ¡o náº¿u báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p
2. Danh sÃ¡ch cÃ¡c tag kÃ­ch hoáº¡t viá»‡c lá»c trong feed
3. Má»™t/hai feed cá»§a cÃ¡c article, má»—i article cÃ³ nÃºt like

CÃ¡c link Ä‘Äƒng nháº­p lÃ  má»™t pháº§n cá»§a header chung cho táº¥t cáº£ cÃ¡c trang, chÃºng ta sáº½ xem xÃ©t nÃ³ riÃªng.

#### Danh sÃ¡ch cÃ¡c tag[â€‹](#danh-sÃ¡ch-cÃ¡c-tag "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äá»ƒ xÃ¢y dá»±ng danh sÃ¡ch cÃ¡c tag, chÃºng ta cáº§n láº¥y cÃ¡c tag cÃ³ sáºµn, render má»—i tag dÆ°á»›i dáº¡ng chip, vÃ  lÆ°u trá»¯ cÃ¡c tag Ä‘Ã£ chá»n trong client-side storage. Nhá»¯ng thao tÃ¡c nÃ y thuá»™c cÃ¡c danh má»¥c "tÆ°Æ¡ng tÃ¡c API", "giao diá»‡n ngÆ°á»i dÃ¹ng", vÃ  "lÆ°u trá»¯". Trong Feature-Sliced Design, code Ä‘Æ°á»£c phÃ¢n tÃ¡ch theo má»¥c Ä‘Ã­ch sá»­ dá»¥ng *segment*. Segment lÃ  cÃ¡c folder trong slice, vÃ  chÃºng cÃ³ thá»ƒ cÃ³ tÃªn tÃ¹y Ã½ Ä‘á»ƒ mÃ´ táº£ má»¥c Ä‘Ã­ch, nhÆ°ng má»™t sá»‘ má»¥c Ä‘Ã­ch ráº¥t phá»• biáº¿n nÃªn cÃ³ quy Æ°á»›c cho má»™t sá»‘ tÃªn segment nháº¥t Ä‘á»‹nh:

* ğŸ“‚ `api/` cho cÃ¡c tÆ°Æ¡ng tÃ¡c backend
* ğŸ“‚ `ui/` cho code xá»­ lÃ½ rendering vÃ  giao diá»‡n
* ğŸ“‚ `model/` cho storage vÃ  business logic
* ğŸ“‚ `config/` cho feature flag, biáº¿n mÃ´i trÆ°á»ng vÃ  cÃ¡c hÃ¬nh thá»©c cáº¥u hÃ¬nh khÃ¡c

ChÃºng ta sáº½ Ä‘áº·t code láº¥y tag vÃ o `api`, component tag vÃ o `ui`, vÃ  tÆ°Æ¡ng tÃ¡c storage vÃ o `model`.

#### CÃ¡c article[â€‹](#cÃ¡c-article "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Sá»­ dá»¥ng cÃ¹ng nguyÃªn táº¯c nhÃ³m, chÃºng ta cÃ³ thá»ƒ phÃ¢n tÃ¡ch feed cá»§a cÃ¡c article thÃ nh ba segment tÆ°Æ¡ng tá»±:

* ğŸ“‚ `api/`: láº¥y cÃ¡c article Ä‘Æ°á»£c phÃ¢n trang vá»›i sá»‘ lÆ°á»£ng like; thÃ­ch má»™t article

* ğŸ“‚ `ui/`:

  <!-- -->

  * danh sÃ¡ch tab cÃ³ thá»ƒ render thÃªm tab náº¿u cÃ³ tag Ä‘Æ°á»£c chá»n
  * article riÃªng láº»
  * phÃ¢n trang chá»©c nÄƒng

* ğŸ“‚ `model/`: client-side storage cá»§a cÃ¡c article hiá»‡n táº¡i Ä‘Æ°á»£c táº£i vÃ  trang hiá»‡n táº¡i (náº¿u cáº§n)

### TÃ¡i sá»­ dá»¥ng code chung[â€‹](#tÃ¡i-sá»­-dá»¥ng-code-chung "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Háº§u háº¿t cÃ¡c trang cÃ³ Ã½ Ä‘á»‹nh ráº¥t khÃ¡c nhau, nhÆ°ng má»™t sá»‘ thá»© nháº¥t Ä‘á»‹nh váº«n giá»¯ nguyÃªn trong toÃ n bá»™ app â€” vÃ­ dá»¥, UI kit tuÃ¢n thá»§ design language, hoáº·c quy Æ°á»›c trÃªn backend ráº±ng má»i thá»© Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng REST API vá»›i cÃ¹ng phÆ°Æ¡ng thá»©c xÃ¡c thá»±c. VÃ¬ cÃ¡c slice Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tÃ¡ch biá»‡t, viá»‡c tÃ¡i sá»­ dá»¥ng code Ä‘Æ°á»£c há»— trá»£ bá»Ÿi má»™t layer tháº¥p hÆ¡n, **Shared**.

Shared khÃ¡c vá»›i cÃ¡c layer khÃ¡c á»Ÿ chá»— nÃ³ chá»©a cÃ¡c segment, khÃ´ng pháº£i slice. Theo cÃ¡ch nÃ y, layer Shared cÃ³ thá»ƒ Ä‘Æ°á»£c coi lÃ  sá»± káº¿t há»£p giá»¯a má»™t layer vÃ  má»™t slice.

ThÃ´ng thÆ°á»ng, code trong Shared khÃ´ng Ä‘Æ°á»£c lÃªn káº¿ hoáº¡ch trÆ°á»›c, mÃ  Ä‘Æ°á»£c trÃ­ch xuáº¥t trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, vÃ¬ chá»‰ trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn má»›i rÃµ pháº§n nÃ o cá»§a code thá»±c sá»± Ä‘Æ°á»£c chia sáº». Tuy nhiÃªn, váº«n há»¯u Ã­ch khi ghi nhá»› loáº¡i code nÃ o thuá»™c vá» Shared:

* ğŸ“‚ `ui/` â€” UI kit, giao diá»‡n thuáº§n tÃºy, khÃ´ng cÃ³ business logic. VÃ­ dá»¥, button, modal dialog, form input.
* ğŸ“‚ `api/` â€” wrapper tiá»‡n lá»£i xung quanh cÃ¡c primitive táº¡o request (nhÆ° `fetch()` trÃªn Web) vÃ , tÃ¹y chá»n, cÃ¡c function Ä‘á»ƒ kÃ­ch hoáº¡t request cá»¥ thá»ƒ theo Ä‘áº·c táº£ backend.
* ğŸ“‚ `config/` â€” phÃ¢n tÃ­ch biáº¿n mÃ´i trÆ°á»ng
* ğŸ“‚ `i18n/` â€” cáº¥u hÃ¬nh há»— trá»£ ngÃ´n ngá»¯
* ğŸ“‚ `router/` â€” routing primitive vÃ  route constant

ÄÃ³ chá»‰ lÃ  má»™t vÃ i vÃ­ dá»¥ vá» tÃªn segment trong Shared, nhÆ°ng báº¡n cÃ³ thá»ƒ bá» qua báº¥t ká»³ segment nÃ o hoáº·c táº¡o segment cá»§a riÃªng báº¡n. Äiá»u quan trá»ng duy nháº¥t cáº§n nhá»› khi táº¡o segment má»›i lÃ  tÃªn segment nÃªn mÃ´ táº£ **má»¥c Ä‘Ã­ch (táº¡i sao), khÃ´ng pháº£i báº£n cháº¥t (cÃ¡i gÃ¬)**. CÃ¡c tÃªn nhÆ° "components", "hooks", "modals" *khÃ´ng nÃªn* Ä‘Æ°á»£c sá»­ dá»¥ng vÃ¬ chÃºng mÃ´ táº£ nhá»¯ng file nÃ y lÃ  gÃ¬, nhÆ°ng khÃ´ng giÃºp Ä‘iá»u hÆ°á»›ng code bÃªn trong. Äiá»u nÃ y yÃªu cáº§u má»i ngÆ°á»i trong team pháº£i Ä‘Ã o sÃ¢u vÃ o tá»«ng file trong nhá»¯ng folder nhÆ° váº­y vÃ  cÅ©ng giá»¯ code khÃ´ng liÃªn quan gáº§n nhau, dáº«n Ä‘áº¿n viá»‡c refactoring áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c khu vá»±c rá»™ng lá»›n cá»§a code vÃ  do Ä‘Ã³ lÃ m cho viá»‡c review code vÃ  testing khÃ³ khÄƒn hÆ¡n.

### Äá»‹nh nghÄ©a public API nghiÃªm ngáº·t[â€‹](#Ä‘á»‹nh-nghÄ©a-public-api-nghiÃªm-ngáº·t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong ngá»¯ cáº£nh cá»§a Feature-Sliced Design, thuáº­t ngá»¯ *public API* Ä‘á» cáº­p Ä‘áº¿n má»™t slice hoáº·c segment khai bÃ¡o nhá»¯ng gÃ¬ cÃ³ thá»ƒ Ä‘Æ°á»£c import tá»« nÃ³ bá»Ÿi cÃ¡c module khÃ¡c trong dá»± Ã¡n. VÃ­ dá»¥, trong JavaScript Ä‘Ã³ cÃ³ thá»ƒ lÃ  file `index.js` re-export cÃ¡c object tá»« cÃ¡c file khÃ¡c trong slice. Äiá»u nÃ y cho phÃ©p tá»± do refactoring code bÃªn trong slice miá»…n lÃ  há»£p Ä‘á»“ng vá»›i tháº¿ giá»›i bÃªn ngoÃ i (tá»©c lÃ  public API) váº«n giá»¯ nguyÃªn.

Äá»‘i vá»›i layer Shared khÃ´ng cÃ³ slice, thÆ°á»ng thuáº­n tiá»‡n hÆ¡n khi Ä‘á»‹nh nghÄ©a public API riÃªng cho má»—i segment thay vÃ¬ Ä‘á»‹nh nghÄ©a má»™t index duy nháº¥t cho má»i thá»© trong Shared. Äiá»u nÃ y giá»¯ cÃ¡c import tá»« Shared Ä‘Æ°á»£c tá»• chá»©c tá»± nhiÃªn theo Ã½ Ä‘á»‹nh. Äá»‘i vá»›i cÃ¡c layer khÃ¡c cÃ³ slice, ngÆ°á»£c láº¡i â€” thÆ°á»ng thá»±c táº¿ hÆ¡n khi Ä‘á»‹nh nghÄ©a má»™t index cho má»—i slice vÃ  Ä‘á»ƒ slice quyáº¿t Ä‘á»‹nh táº­p há»£p segment riÃªng cá»§a nÃ³ mÃ  tháº¿ giá»›i bÃªn ngoÃ i khÃ´ng biáº¿t vÃ¬ cÃ¡c layer khÃ¡c thÆ°á»ng cÃ³ Ã­t export hÆ¡n nhiá»u.

CÃ¡c slice/segment cá»§a chÃºng ta sáº½ xuáº¥t hiá»‡n vá»›i nhau nhÆ° sau:

```
ğŸ“‚ pages/
  ğŸ“‚ feed/
    ğŸ“„ index
  ğŸ“‚ sign-in/
    ğŸ“„ index
  ğŸ“‚ article-read/
    ğŸ“„ index
  ğŸ“ â€¦
ğŸ“‚ shared/
  ğŸ“‚ ui/
    ğŸ“„ index
  ğŸ“‚ api/
    ğŸ“„ index
  ğŸ“ â€¦
```

Báº¥t cá»© thá»© gÃ¬ bÃªn trong cÃ¡c folder nhÆ° `pages/feed` hoáº·c `shared/ui` chá»‰ Ä‘Æ°á»£c biáº¿t Ä‘áº¿n bá»Ÿi nhá»¯ng folder Ä‘Ã³, vÃ  cÃ¡c file khÃ¡c khÃ´ng nÃªn dá»±a vÃ o cáº¥u trÃºc ná»™i bá»™ cá»§a nhá»¯ng folder nÃ y.

### Khá»‘i UI lá»›n Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng[â€‹](#khá»‘i-ui-lá»›n-Ä‘Æ°á»£c-tÃ¡i-sá»­-dá»¥ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

TrÆ°á»›c Ä‘Ã³ chÃºng ta Ä‘Ã£ ghi chÃº Ä‘á»ƒ xem láº¡i header xuáº¥t hiá»‡n trÃªn má»—i trang. XÃ¢y dá»±ng láº¡i tá»« Ä‘áº§u trÃªn má»—i trang sáº½ khÃ´ng thá»±c táº¿, vÃ¬ váº­y viá»‡c muá»‘n tÃ¡i sá»­ dá»¥ng nÃ³ lÃ  Ä‘iá»u tá»± nhiÃªn. ChÃºng ta Ä‘Ã£ cÃ³ Shared Ä‘á»ƒ há»— trá»£ tÃ¡i sá»­ dá»¥ng code, tuy nhiÃªn, cÃ³ má»™t lÆ°u Ã½ khi Ä‘áº·t cÃ¡c khá»‘i UI lá»›n trong Shared â€” layer Shared khÃ´ng Ä‘Æ°á»£c biáº¿t vá» báº¥t ká»³ layer nÃ o á»Ÿ trÃªn.

Giá»¯a Shared vÃ  Pages cÃ³ ba layer khÃ¡c: Entities, Features, vÃ  Widgets. Má»™t sá»‘ dá»± Ã¡n cÃ³ thá»ƒ cÃ³ thá»© gÃ¬ Ä‘Ã³ trong nhá»¯ng layer Ä‘Ã³ mÃ  há» cáº§n trong má»™t khá»‘i cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng lá»›n, vÃ  Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  chÃºng ta khÃ´ng thá»ƒ Ä‘áº·t khá»‘i cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng Ä‘Ã³ trong Shared, náº¿u khÃ´ng nÃ³ sáº½ import tá»« cÃ¡c layer trÃªn, Ä‘iá»u nÃ y bá»‹ cáº¥m. ÄÃ³ lÃ  lÃºc layer Widgets xuáº¥t hiá»‡n. NÃ³ Ä‘Æ°á»£c Ä‘áº·t phÃ­a trÃªn Shared, Entities, vÃ  Features, vÃ¬ váº­y nÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng táº¥t cáº£ chÃºng.

Trong trÆ°á»ng há»£p cá»§a chÃºng ta, header ráº¥t Ä‘Æ¡n giáº£n â€” Ä‘Ã³ lÃ  logo tÄ©nh vÃ  Ä‘iá»u hÆ°á»›ng cáº¥p cao nháº¥t. Äiá»u hÆ°á»›ng cáº§n thá»±c hiá»‡n request Ä‘áº¿n API Ä‘á»ƒ xÃ¡c Ä‘á»‹nh ngÆ°á»i dÃ¹ng hiá»‡n táº¡i cÃ³ Ä‘Äƒng nháº­p hay khÃ´ng, nhÆ°ng Ä‘iá»u Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c xá»­ lÃ½ báº±ng má»™t import Ä‘Æ¡n giáº£n tá»« segment `api`. Do Ä‘Ã³, chÃºng ta sáº½ giá»¯ header cá»§a mÃ¬nh trong Shared.

### NhÃ¬n ká»¹ vÃ o trang cÃ³ form[â€‹](#nhÃ¬n-ká»¹-vÃ o-trang-cÃ³-form "Link trá»±c tiáº¿p Ä‘áº¿n heading")

HÃ£y cÅ©ng kiá»ƒm tra má»™t trang Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ chá»‰nh sá»­a, khÃ´ng pháº£i Ä‘á»c. VÃ­ dá»¥, trÃ¬nh soáº¡n tháº£o article:

![Conduit post editor](/documentation/vi/assets/images/realworld-editor-authenticated-10de4d01479270886859e08592045b1e.jpg)

NÃ³ trÃ´ng Ä‘Æ¡n giáº£n, nhÆ°ng chá»©a má»™t sá»‘ khÃ­a cáº¡nh cá»§a phÃ¡t triá»ƒn á»©ng dá»¥ng mÃ  chÃºng ta chÆ°a khÃ¡m phÃ¡ â€” validation form, tráº¡ng thÃ¡i lá»—i, vÃ  data persistence.

Náº¿u chÃºng ta xÃ¢y dá»±ng trang nÃ y, chÃºng ta sáº½ láº¥y má»™t sá»‘ input vÃ  button tá»« Shared vÃ  ghÃ©p thÃ nh má»™t form trong segment `ui` cá»§a trang nÃ y. Sau Ä‘Ã³, trong segment `api`, chÃºng ta sáº½ Ä‘á»‹nh nghÄ©a má»™t mutation request Ä‘á»ƒ táº¡o article trÃªn backend.

Äá»ƒ validate request trÆ°á»›c khi gá»­i, chÃºng ta cáº§n má»™t validation schema, vÃ  vá»‹ trÃ­ tá»‘t cho nÃ³ lÃ  segment `model`, vÃ¬ nÃ³ lÃ  data model. á» Ä‘Ã³ chÃºng ta sáº½ táº¡o ra cÃ¡c thÃ´ng bÃ¡o lá»—i vÃ  hiá»ƒn thá»‹ chÃºng báº±ng má»™t component khÃ¡c trong segment `ui`.

Äá»ƒ cáº£i thiá»‡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng, chÃºng ta cÅ©ng cÃ³ thá»ƒ persist cÃ¡c input Ä‘á»ƒ ngÄƒn máº¥t dá»¯ liá»‡u vÃ´ tÃ¬nh. ÄÃ¢y cÅ©ng lÃ  cÃ´ng viá»‡c cá»§a segment `model`.

### TÃ³m táº¯t[â€‹](#tÃ³m-táº¯t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ChÃºng ta Ä‘Ã£ kiá»ƒm tra má»™t sá»‘ trang vÃ  phÃ¡c tháº£o cáº¥u trÃºc sÆ¡ bá»™ cho á»©ng dá»¥ng cá»§a mÃ¬nh:

1. Layer Shared

   <!-- -->

   1. `ui` sáº½ chá»©a UI kit cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng cá»§a chÃºng ta
   2. `api` sáº½ chá»©a cÃ¡c tÆ°Æ¡ng tÃ¡c primitive vá»›i backend
   3. Pháº§n cÃ²n láº¡i sáº½ Ä‘Æ°á»£c sáº¯p xáº¿p theo yÃªu cáº§u

2. Layer Pages â€” má»—i trang lÃ  má»™t slice riÃªng biá»‡t

   <!-- -->

   1. `ui` sáº½ chá»©a chÃ­nh trang Ä‘Ã³ vÃ  táº¥t cáº£ cÃ¡c pháº§n cá»§a nÃ³
   2. `api` sáº½ chá»©a data fetching chuyÃªn biá»‡t hÆ¡n, sá»­ dá»¥ng `shared/api`
   3. `model` cÃ³ thá»ƒ chá»©a client-side storage cá»§a dá»¯ liá»‡u mÃ  chÃºng ta sáº½ hiá»ƒn thá»‹

HÃ£y báº¯t Ä‘áº§u xÃ¢y dá»±ng!

## Pháº§n 2. Trong code[â€‹](#pháº§n-2-trong-code "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» chÃºng ta Ä‘Ã£ cÃ³ káº¿ hoáº¡ch, hÃ£y Ä‘Æ°a nÃ³ vÃ o thá»±c hÃ nh. ChÃºng ta sáº½ sá»­ dá»¥ng React vÃ  [Remix](https://remix.run).

CÃ³ má»™t template sáºµn sÃ ng cho dá»± Ã¡n nÃ y, clone nÃ³ tá»« GitHub Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c khá»Ÿi Ä‘áº§u: <https://github.com/feature-sliced/tutorial-conduit/tree/clean>.

CÃ i Ä‘áº·t dependencies vá»›i `npm install` vÃ  khá»Ÿi Ä‘á»™ng development server vá»›i `npm run dev`. Má»Ÿ <http://localhost:3000> vÃ  báº¡n sáº½ tháº¥y má»™t app trá»‘ng.

### Bá»‘ trÃ­ cÃ¡c trang[â€‹](#bá»‘-trÃ­-cÃ¡c-trang "Link trá»±c tiáº¿p Ä‘áº¿n heading")

HÃ£y báº¯t Ä‘áº§u báº±ng viá»‡c táº¡o cÃ¡c component trá»‘ng cho táº¥t cáº£ cÃ¡c trang cá»§a chÃºng ta. Cháº¡y lá»‡nh sau trong dá»± Ã¡n cá»§a báº¡n:

```
npx fsd pages feed sign-in article-read article-edit profile settings --segments ui
```

Äiá»u nÃ y sáº½ táº¡o cÃ¡c folder nhÆ° `pages/feed/ui/` vÃ  má»™t file index, `pages/feed/index.ts`, cho má»—i trang.

### Káº¿t ná»‘i trang feed[â€‹](#káº¿t-ná»‘i-trang-feed "Link trá»±c tiáº¿p Ä‘áº¿n heading")

HÃ£y káº¿t ná»‘i route gá»‘c cá»§a á»©ng dá»¥ng vá»›i trang feed. Táº¡o má»™t component, `FeedPage.tsx` trong `pages/feed/ui` vÃ  Ä‘áº·t ná»™i dung sau vÃ o Ä‘Ã³:

pages/feed/ui/FeedPage.tsx

```
export function FeedPage() {
  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>
    </div>
  );
}
```

Sau Ä‘Ã³ re-export component nÃ y trong public API cá»§a trang feed, file `pages/feed/index.ts`:

pages/feed/index.ts

```
export { FeedPage } from "./ui/FeedPage";
```

BÃ¢y giá» káº¿t ná»‘i nÃ³ vá»›i root route. Trong Remix, routing dá»±a trÃªn file, vÃ  cÃ¡c file route Ä‘Æ°á»£c Ä‘áº·t trong folder `app/routes`, Ä‘iá»u nÃ y phÃ¹ há»£p vá»›i Feature-Sliced Design.

Sá»­ dá»¥ng component `FeedPage` trong `app/routes/_index.tsx`:

app/routes/\_index.tsx

```
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

Sau Ä‘Ã³, náº¿u báº¡n cháº¡y dev server vÃ  má»Ÿ á»©ng dá»¥ng, báº¡n sáº½ tháº¥y banner cá»§a Conduit!

![The banner of Conduit](/documentation/vi/assets/images/conduit-banner-a20e38edcd109ee21a8b1426d93a66b3.jpg)

### API client[â€‹](#api-client "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äá»ƒ giao tiáº¿p vá»›i RealWorld backend, hÃ£y táº¡o má»™t API client tiá»‡n lá»£i trong Shared. Táº¡o hai segment, `api` cho client vÃ  `config` cho cÃ¡c biáº¿n nhÆ° backend base URL:

```
npx fsd shared --segments api config
```

Sau Ä‘Ã³ táº¡o `shared/config/backend.ts`:

shared/config/backend.ts

```
export { mockBackendUrl as backendBaseUrl } from "mocks/handlers";
```

shared/config/index.ts

```
export { backendBaseUrl } from "./backend";
```

VÃ¬ dá»± Ã¡n RealWorld tiá»‡n lá»£i cung cáº¥p [Ä‘áº·c táº£ OpenAPI](https://github.com/gothinkster/realworld/blob/main/api/openapi.yml), chÃºng ta cÃ³ thá»ƒ táº­n dá»¥ng cÃ¡c type Ä‘Æ°á»£c tá»± Ä‘á»™ng táº¡o cho client cá»§a mÃ¬nh. ChÃºng ta sáº½ sá»­ dá»¥ng [package `openapi-fetch`](https://openapi-ts.pages.dev/openapi-fetch/) Ä‘i kÃ¨m vá»›i type generator bá»• sung.

Cháº¡y lá»‡nh sau Ä‘á»ƒ táº¡o API typing cáº­p nháº­t:

```
npm run generate-api-types
```

Äiá»u nÃ y sáº½ táº¡o file `shared/api/v1.d.ts`. ChÃºng ta sáº½ sá»­ dá»¥ng file nÃ y Ä‘á»ƒ táº¡o typed API client trong `shared/api/client.ts`:

shared/api/client.ts

```
import createClient from "openapi-fetch";

import { backendBaseUrl } from "shared/config";
import type { paths } from "./v1";

export const { GET, POST, PUT, DELETE } = createClient<paths>({ baseUrl: backendBaseUrl });
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";
```

### Dá»¯ liá»‡u thá»±c trong feed[â€‹](#dá»¯-liá»‡u-thá»±c-trong-feed "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ tiáº¿n hÃ nh thÃªm cÃ¡c article vÃ o feed, Ä‘Æ°á»£c láº¥y tá»« backend. HÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch triá»ƒn khai component preview article.

Táº¡o `pages/feed/ui/ArticlePreview.tsx` vá»›i ná»™i dung sau:

pages/feed/ui/ArticlePreview\.tsx

```
export function ArticlePreview({ article }) { /* TODO */ }
```

VÃ¬ chÃºng ta viáº¿t báº±ng TypeScript, sáº½ tá»‘t náº¿u cÃ³ má»™t article object Ä‘Æ°á»£c type. Náº¿u chÃºng ta khÃ¡m phÃ¡ `v1.d.ts` Ä‘Æ°á»£c táº¡o, chÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng article object cÃ³ sáºµn thÃ´ng qua `components["schemas"]["Article"]`. VÃ¬ váº­y hÃ£y táº¡o file vá»›i cÃ¡c data model cá»§a chÃºng ta trong Shared vÃ  export cÃ¡c model:

shared/api/models.ts

```
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";
```

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ quay láº¡i component preview article vÃ  Ä‘iá»n markup vá»›i dá»¯ liá»‡u. Cáº­p nháº­t component vá»›i ná»™i dung sau:

pages/feed/ui/ArticlePreview\.tsx

```
import { Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <button className="btn btn-outline-primary btn-sm pull-xs-right">
          <i className="ion-heart"></i> {article.favoritesCount}
        </button>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

Button like hiá»‡n táº¡i chÆ°a lÃ m gÃ¬ cáº£, chÃºng ta sáº½ sá»­a Ä‘iá»u Ä‘Ã³ khi Ä‘áº¿n trang Ä‘á»c article vÃ  triá»ƒn khai tÃ­nh nÄƒng thÃ­ch.

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ láº¥y cÃ¡c article vÃ  render ra má»™t loáº¡t cÃ¡c card nÃ y. Láº¥y dá»¯ liá»‡u trong Remix Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng *loader* â€” cÃ¡c function phÃ­a server láº¥y chÃ­nh xÃ¡c nhá»¯ng gÃ¬ trang cáº§n. Loader tÆ°Æ¡ng tÃ¡c vá»›i API thay máº·t cho trang, vÃ¬ váº­y chÃºng ta sáº½ Ä‘áº·t chÃºng trong segment `api` cá»§a trang:

pages/feed/api/loader.ts

```
import { json } from "@remix-run/node";

import { GET } from "shared/api";

export const loader = async () => {
  const { data: articles, error, response } = await GET("/articles");

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return json({ articles });
};
```

Äá»ƒ káº¿t ná»‘i nÃ³ vá»›i trang, chÃºng ta cáº§n export nÃ³ vá»›i tÃªn `loader` tá»« route file:

pages/feed/index.ts

```
export { FeedPage } from "./ui/FeedPage";
export { loader } from "./api/loader";
```

app/routes/\_index.tsx

```
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export { loader } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

VÃ  bÆ°á»›c cuá»‘i cÃ¹ng lÃ  render cÃ¡c card nÃ y trong feed. Cáº­p nháº­t `FeedPage` cá»§a báº¡n vá»›i code sau:

pages/feed/ui/FeedPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

### Lá»c theo tag[â€‹](#lá»c-theo-tag "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Vá» cÃ¡c tag, cÃ´ng viá»‡c cá»§a chÃºng ta lÃ  láº¥y chÃºng tá»« backend vÃ  lÆ°u trá»¯ tag hiá»‡n táº¡i Ä‘Æ°á»£c chá»n. ChÃºng ta Ä‘Ã£ biáº¿t cÃ¡ch láº¥y â€” Ä‘Ã³ lÃ  má»™t request khÃ¡c tá»« loader. ChÃºng ta sáº½ sá»­ dá»¥ng function tiá»‡n lá»£i `promiseHash` tá»« package `remix-utils`, Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t.

Cáº­p nháº­t file loader, `pages/feed/api/loader.ts`, vá»›i code sau:

pages/feed/api/loader.ts

```
import { json } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async () => {
  return json(
    await promiseHash({
      articles: throwAnyErrors(GET("/articles")),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

Báº¡n cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng chÃºng ta Ä‘Ã£ trÃ­ch xuáº¥t xá»­ lÃ½ lá»—i thÃ nh function generic `throwAnyErrors`. NÃ³ trÃ´ng khÃ¡ há»¯u Ã­ch, vÃ¬ váº­y chÃºng ta cÃ³ thá»ƒ muá»‘n tÃ¡i sá»­ dá»¥ng nÃ³ sau, nhÆ°ng hiá»‡n táº¡i hÃ£y chá»‰ Ä‘á»ƒ máº¯t Ä‘áº¿n nÃ³.

BÃ¢y giá», Ä‘áº¿n danh sÃ¡ch cÃ¡c tag. NÃ³ cáº§n pháº£i tÆ°Æ¡ng tÃ¡c â€” nháº¥p vÃ o tag sáº½ lÃ m cho tag Ä‘Ã³ Ä‘Æ°á»£c chá»n. Theo quy Æ°á»›c Remix, chÃºng ta sáº½ sá»­ dá»¥ng URL search parameter lÃ m storage cho tag Ä‘Ã£ chá»n. Äá»ƒ trÃ¬nh duyá»‡t lo vá» storage trong khi chÃºng ta táº­p trung vÃ o nhá»¯ng thá»© quan trá»ng hÆ¡n.

Cáº­p nháº­t `pages/feed/ui/FeedPage.tsx` vá»›i code sau:

pages/feed/ui/FeedPage.tsx

```
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles, tags } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
} 
```

Sau Ä‘Ã³ chÃºng ta cáº§n sá»­ dá»¥ng search parameter `tag` trong loader cá»§a chÃºng ta. Thay Ä‘á»•i function `loader` trong `pages/feed/api/loader.ts` thÃ nh nhÆ° sau:

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", { params: { query: { tag: selectedTag } } }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

Tháº¿ lÃ  xong, khÃ´ng cáº§n segment `model`. Remix khÃ¡ gá»n gÃ ng.

### PhÃ¢n trang[â€‹](#phÃ¢n-trang "Link trá»±c tiáº¿p Ä‘áº¿n heading")

TÆ°Æ¡ng tá»± nhÆ° váº­y, chÃºng ta cÃ³ thá»ƒ triá»ƒn khai phÃ¢n trang. HÃ£y thoáº£i mÃ¡i thá»­ tá»± lÃ m hoáº·c chá»‰ copy code bÃªn dÆ°á»›i. DÃ¹ sao cÅ©ng khÃ´ng ai phÃ¡n xÃ©t báº¡n.

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

pages/feed/ui/FeedPage.tsx

```
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const [searchParams] = useSearchParams();
  const { articles, tags } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Form>
              <ExistingSearchParams exclude={["page"]} />
              <ul className="pagination">
                {Array(pageAmount)
                  .fill(null)
                  .map((_, index) =>
                    index + 1 === currentPage ? (
                      <li key={index} className="page-item active">
                        <span className="page-link">{index + 1}</span>
                      </li>
                    ) : (
                      <li key={index} className="page-item">
                        <button
                          className="page-link"
                          name="page"
                          value={index + 1}
                        >
                          {index + 1}
                        </button>
                      </li>
                    ),
                  )}
              </ul>
            </Form>
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag", "page"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

Váº­y lÃ  cÅ©ng xong rá»“i. CÃ²n cÃ³ danh sÃ¡ch tab cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai tÆ°Æ¡ng tá»±, nhÆ°ng hÃ£y Ä‘á»£i cho Ä‘áº¿n khi chÃºng ta triá»ƒn khai authentication. NÃ³i vá» Ä‘iá»u Ä‘Ã³!

### Authentication[â€‹](#authentication "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Authentication liÃªn quan Ä‘áº¿n hai trang â€” má»™t Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ  má»™t Ä‘á»ƒ Ä‘Äƒng kÃ½. ChÃºng háº§u nhÆ° giá»‘ng nhau, vÃ¬ váº­y há»£p lÃ½ khi giá»¯ chÃºng trong cÃ¹ng má»™t slice, `sign-in`, Ä‘á»ƒ chÃºng cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng code náº¿u cáº§n.

Táº¡o `RegisterPage.tsx` trong segment `ui` cá»§a `pages/sign-in` vá»›i ná»™i dung sau:

pages/sign-in/ui/RegisterPage.tsx

```
import { Form, Link, useActionData } from "@remix-run/react";

import type { register } from "../api/register";

export function RegisterPage() {
  const registerData = useActionData<typeof register>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign up</h1>
            <p className="text-xs-center">
              <Link to="/login">Have an account?</Link>
            </p>

            {registerData?.error && (
              <ul className="error-messages">
                {registerData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="username"
                  placeholder="Username"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="email"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="password"
                  name="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign up
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

ChÃºng ta cÃ³ má»™t import bá»‹ lá»—i cáº§n sá»­a bÃ¢y giá». NÃ³ liÃªn quan Ä‘áº¿n má»™t segment má»›i, vÃ¬ váº­y hÃ£y táº¡o nÃ³:

```
npx fsd pages sign-in -s api
```

Tuy nhiÃªn, trÆ°á»›c khi chÃºng ta cÃ³ thá»ƒ triá»ƒn khai pháº§n backend cá»§a Ä‘Äƒng kÃ½, chÃºng ta cáº§n má»™t sá»‘ code infrastructure Ä‘á»ƒ Remix xá»­ lÃ½ session. Äiá»u Ä‘Ã³ thuá»™c vá» Shared, phÃ²ng khi trang nÃ o khÃ¡c cáº§n nÃ³.

Äáº·t code sau vÃ o `shared/api/auth.server.ts`. ÄÃ¢y lÃ  code ráº¥t cá»¥ thá»ƒ cho Remix, vÃ¬ váº­y Ä‘á»«ng lo láº¯ng quÃ¡ nhiá»u vá» nÃ³, chá»‰ cáº§n copy-paste:

shared/api/auth.server.ts

```
import { createCookieSessionStorage, redirect } from "@remix-run/node";
import invariant from "tiny-invariant";

import type { User } from "./models";

invariant(
  process.env.SESSION_SECRET,
  "SESSION_SECRET must be set for authentication to work",
);

const sessionStorage = createCookieSessionStorage<{
  user: User;
}>({
  cookie: {
    name: "__session",
    httpOnly: true,
    path: "/",
    sameSite: "lax",
    secrets: [process.env.SESSION_SECRET],
    secure: process.env.NODE_ENV === "production",
  },
});

export async function createUserSession({
  request,
  user,
  redirectTo,
}: {
  request: Request;
  user: User;
  redirectTo: string;
}) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  session.set("user", user);

  return redirect(redirectTo, {
    headers: {
      "Set-Cookie": await sessionStorage.commitSession(session, {
        maxAge: 60 * 60 * 24 * 7, // 7 days
      }),
    },
  });
}

export async function getUserFromSession(request: Request) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  return session.get("user") ?? null;
}

export async function requireUser(request: Request) {
  const user = await getUserFromSession(request);

  if (user === null) {
    throw redirect("/login");
  }

  return user;
}
```

VÃ  cÅ©ng export model `User` tá»« file `models.ts` ngay cáº¡nh nÃ³:

shared/api/models.ts

```
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
export type User = components["schemas"]["User"];
```

TrÆ°á»›c khi code nÃ y cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng, biáº¿n mÃ´i trÆ°á»ng `SESSION_SECRET` cáº§n Ä‘Æ°á»£c Ä‘áº·t. Táº¡o file tÃªn `.env` trong thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n, viáº¿t `SESSION_SECRET=` vÃ  sau Ä‘Ã³ báº¥m má»™t sá»‘ phÃ­m trÃªn bÃ n phÃ­m Ä‘á»ƒ táº¡o chuá»—i ngáº«u nhiÃªn dÃ i. Báº¡n sáº½ cÃ³ thá»© gÃ¬ Ä‘Ã³ nhÆ° tháº¿ nÃ y:

.env

```
SESSION_SECRET=dontyoudarecopypastethis
```

Cuá»‘i cÃ¹ng, thÃªm má»™t sá»‘ export vÃ o public API Ä‘á»ƒ sá»­ dá»¥ng code nÃ y:

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
```

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ viáº¿t code sáº½ giao tiáº¿p vá»›i RealWorld backend Ä‘á»ƒ thá»±c sá»± thá»±c hiá»‡n Ä‘Äƒng kÃ½. ChÃºng ta sáº½ giá»¯ Ä‘iá»u Ä‘Ã³ trong `pages/sign-in/api`. Táº¡o file cÃ³ tÃªn `register.ts` vÃ  Ä‘áº·t code sau vÃ o bÃªn trong:

pages/sign-in/api/register.ts

```
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const register = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const username = formData.get("username")?.toString() ?? "";
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users", {
    body: { user: { email, password, username } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

pages/sign-in/index.ts

```
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
```

Gáº§n xong rá»“i! Chá»‰ cáº§n káº¿t ná»‘i trang vÃ  action vá»›i route `/register`. Táº¡o `register.tsx` trong `app/routes`:

app/routes/register.tsx

```
import { RegisterPage, register } from "pages/sign-in";

export { register as action };

export default RegisterPage;
```

BÃ¢y giá» náº¿u báº¡n Ä‘i Ä‘áº¿n <http://localhost:3000/register>, báº¡n sáº½ cÃ³ thá»ƒ táº¡o ngÆ°á»i dÃ¹ng! Pháº§n cÃ²n láº¡i cá»§a á»©ng dá»¥ng sáº½ chÆ°a pháº£n á»©ng vá»›i Ä‘iá»u nÃ y, chÃºng ta sáº½ giáº£i quyáº¿t Ä‘iá»u Ä‘Ã³ ngay.

TÆ°Æ¡ng tá»± nhÆ° váº­y, chÃºng ta cÃ³ thá»ƒ triá»ƒn khai trang Ä‘Äƒng nháº­p. HÃ£y thá»­ hoáº·c chá»‰ láº¥y code vÃ  tiáº¿p tá»¥c:

pages/sign-in/api/sign-in.ts

```
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const signIn = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users/login", {
    body: { user: { email, password } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

pages/sign-in/ui/SignInPage.tsx

```
import { Form, Link, useActionData } from "@remix-run/react";

import type { signIn } from "../api/sign-in";

export function SignInPage() {
  const signInData = useActionData<typeof signIn>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign in</h1>
            <p className="text-xs-center">
              <Link to="/register">Need an account?</Link>
            </p>

            {signInData?.error && (
              <ul className="error-messages">
                {signInData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="email"
                  type="text"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="password"
                  type="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign in
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

pages/sign-in/index.ts

```
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
export { SignInPage } from './ui/SignInPage';
export { signIn } from './api/sign-in';
```

app/routes/login.tsx

```
import { SignInPage, signIn } from "pages/sign-in";

export { signIn as action };

export default SignInPage;
```

BÃ¢y giá» hÃ£y cung cáº¥p cho ngÆ°á»i dÃ¹ng cÃ¡ch thá»±c sá»± Ä‘áº¿n cÃ¡c trang nÃ y.

### Header[â€‹](#header "Link trá»±c tiáº¿p Ä‘áº¿n heading")

NhÆ° chÃºng ta Ä‘Ã£ tháº£o luáº­n trong pháº§n 1, header app thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t trong Widgets hoáº·c trong Shared. ChÃºng ta sáº½ Ä‘áº·t nÃ³ trong Shared vÃ¬ nÃ³ ráº¥t Ä‘Æ¡n giáº£n vÃ  táº¥t cáº£ business logic cÃ³ thá»ƒ Ä‘Æ°á»£c giá»¯ bÃªn ngoÃ i nÃ³. HÃ£y táº¡o chá»— cho nÃ³:

```
npx fsd shared ui
```

BÃ¢y giá» táº¡o `shared/ui/Header.tsx` vá»›i ná»™i dung sau:

shared/ui/Header.tsx

```
import { useContext } from "react";
import { Link, useLocation } from "@remix-run/react";

import { CurrentUser } from "../api/currentUser";

export function Header() {
  const currentUser = useContext(CurrentUser);
  const { pathname } = useLocation();

  return (
    <nav className="navbar navbar-light">
      <div className="container">
        <Link className="navbar-brand" to="/" prefetch="intent">
          conduit
        </Link>
        <ul className="nav navbar-nav pull-xs-right">
          <li className="nav-item">
            <Link
              prefetch="intent"
              className={`nav-link ${pathname == "/" ? "active" : ""}`}
              to="/"
            >
              Home
            </Link>
          </li>
          {currentUser == null ? (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/login" ? "active" : ""}`}
                  to="/login"
                >
                  Sign in
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/register" ? "active" : ""}`}
                  to="/register"
                >
                  Sign up
                </Link>
              </li>
            </>
          ) : (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/editor" ? "active" : ""}`}
                  to="/editor"
                >
                  <i className="ion-compose"></i>&nbsp;New Article{" "}
                </Link>
              </li>

              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/settings" ? "active" : ""}`}
                  to="/settings"
                >
                  {" "}
                  <i className="ion-gear-a"></i>&nbsp;Settings{" "}
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname.includes("/profile") ? "active" : ""}`}
                  to={`/profile/${currentUser.username}`}
                >
                  {currentUser.image && (
                    <img
                      width={25}
                      height={25}
                      src={currentUser.image}
                      className="user-pic"
                      alt=""
                    />
                  )}
                  {currentUser.username}
                </Link>
              </li>
            </>
          )}
        </ul>
      </div>
    </nav>
  );
}
```

Export component nÃ y tá»« `shared/ui`:

shared/ui/index.ts

```
export { Header } from "./Header";
```

Trong header, chÃºng ta dá»±a vÃ o context Ä‘Æ°á»£c giá»¯ trong `shared/api`. CÅ©ng táº¡o Ä‘iá»u Ä‘Ã³:

shared/api/currentUser.ts

```
import { createContext } from "react";

import type { User } from "./models";

export const CurrentUser = createContext<User | null>(null);
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
export { CurrentUser } from "./currentUser";
```

BÃ¢y giá» hÃ£y thÃªm header vÃ o trang. ChÃºng ta muá»‘n nÃ³ cÃ³ trÃªn má»i trang, vÃ¬ váº­y há»£p lÃ½ khi chá»‰ thÃªm nÃ³ vÃ o root route vÃ  wrap outlet (nÆ¡i trang sáº½ Ä‘Æ°á»£c render) vá»›i provider context `CurrentUser`. Theo cÃ¡ch nÃ y, toÃ n bá»™ app cá»§a chÃºng ta vÃ  cáº£ header Ä‘á»u cÃ³ quyá»n truy cáº­p vÃ o object ngÆ°á»i dÃ¹ng hiá»‡n táº¡i. ChÃºng ta cÅ©ng sáº½ thÃªm loader Ä‘á»ƒ thá»±c sá»± láº¥y object ngÆ°á»i dÃ¹ng hiá»‡n táº¡i tá»« cookie. Äáº·t ná»™i dung sau vÃ o `app/root.tsx`:

app/root.tsx

```
import { cssBundleHref } from "@remix-run/css-bundle";
import type { LinksFunction, LoaderFunctionArgs } from "@remix-run/node";
import {
  Links,
  LiveReload,
  Meta,
  Outlet,
  Scripts,
  ScrollRestoration,
  useLoaderData,
} from "@remix-run/react";

import { Header } from "shared/ui";
import { getUserFromSession, CurrentUser } from "shared/api";

export const links: LinksFunction = () => [
  ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),
];

export const loader = ({ request }: LoaderFunctionArgs) =>
  getUserFromSession(request);

export default function App() {
  const user = useLoaderData<typeof loader>();

  return (
    <html lang="en">
      <head>
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <Meta />
        <Links />
        <link
          href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
          rel="stylesheet"
          type="text/css"
        />
        <link
          href="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic"
          rel="stylesheet"
          type="text/css"
        />
        <link rel="stylesheet" href="//demo.productionready.io/main.css" />
        <style>{`
          button {
            border: 0;
          }
        `}</style>
      </head>
      <body>
        <CurrentUser.Provider value={user}>
          <Header />
          <Outlet />
        </CurrentUser.Provider>
        <ScrollRestoration />
        <Scripts />
        <LiveReload />
      </body>
    </html>
  );
}
```

Táº¡i thá»i Ä‘iá»ƒm nÃ y, báº¡n sáº½ cÃ³ káº¿t quáº£ sau trÃªn trang chá»§:

![The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.](/documentation/vi/assets/images/realworld-feed-without-tabs-5da4c9072101ac20e82e2234bd3badbe.jpg)

Trang feed cá»§a Conduit, bao gá»“m header, feed, vÃ  cÃ¡c tag. CÃ¡c tab váº«n cÃ²n thiáº¿u.

### Tab[â€‹](#tab "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ phÃ¡t hiá»‡n tráº¡ng thÃ¡i authentication, hÃ£y cÅ©ng nhanh chÃ³ng triá»ƒn khai cÃ¡c tab vÃ  like bÃ i viáº¿t Ä‘á»ƒ hoÃ n thÃ nh trang feed. ChÃºng ta cáº§n má»™t form khÃ¡c, nhÆ°ng file trang nÃ y Ä‘ang trá»Ÿ nÃªn khÃ¡ lá»›n, vÃ¬ váº­y hÃ£y chuyá»ƒn nhá»¯ng form nÃ y vÃ o cÃ¡c file liá»n ká». ChÃºng ta sáº½ táº¡o `Tabs.tsx`, `PopularTags.tsx`, vÃ  `Pagination.tsx` vá»›i ná»™i dung sau:

pages/feed/ui/Tabs.tsx

```
import { useContext } from "react";
import { Form, useSearchParams } from "@remix-run/react";

import { CurrentUser } from "shared/api";

export function Tabs() {
  const [searchParams] = useSearchParams();
  const currentUser = useContext(CurrentUser);

  return (
    <Form>
      <div className="feed-toggle">
        <ul className="nav nav-pills outline-active">
          {currentUser !== null && (
            <li className="nav-item">
              <button
                name="source"
                value="my-feed"
                className={`nav-link ${searchParams.get("source") === "my-feed" ? "active" : ""}`}
              >
                Your Feed
              </button>
            </li>
          )}
          <li className="nav-item">
            <button
              className={`nav-link ${searchParams.has("tag") || searchParams.has("source") ? "" : "active"}`}
            >
              Global Feed
            </button>
          </li>
          {searchParams.has("tag") && (
            <li className="nav-item">
              <span className="nav-link active">
                <i className="ion-pound"></i> {searchParams.get("tag")}
              </span>
            </li>
          )}
        </ul>
      </div>
    </Form>
  );
}
```

pages/feed/ui/PopularTags.tsx

```
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";

export function PopularTags() {
  const { tags } = useLoaderData<typeof loader>();

  return (
    <div className="sidebar">
      <p>Popular Tags</p>

      <Form>
        <ExistingSearchParams exclude={["tag", "page", "source"]} />
        <div className="tag-list">
          {tags.tags.map((tag) => (
            <button
              key={tag}
              name="tag"
              value={tag}
              className="tag-pill tag-default"
            >
              {tag}
            </button>
          ))}
        </div>
      </Form>
    </div>
  );
}
```

pages/feed/ui/Pagination.tsx

```
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";

export function Pagination() {
  const [searchParams] = useSearchParams();
  const { articles } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <Form>
      <ExistingSearchParams exclude={["page"]} />
      <ul className="pagination">
        {Array(pageAmount)
          .fill(null)
          .map((_, index) =>
            index + 1 === currentPage ? (
              <li key={index} className="page-item active">
                <span className="page-link">{index + 1}</span>
              </li>
            ) : (
              <li key={index} className="page-item">
                <button className="page-link" name="page" value={index + 1}>
                  {index + 1}
                </button>
              </li>
            ),
          )}
      </ul>
    </Form>
  );
}
```

VÃ  bÃ¢y giá» chÃºng ta cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a Ä‘Ã¡ng ká»ƒ chÃ­nh trang feed:

pages/feed/ui/FeedPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";
import { Tabs } from "./Tabs";
import { PopularTags } from "./PopularTags";
import { Pagination } from "./Pagination";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            <Tabs />

            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Pagination />
          </div>

          <div className="col-md-3">
            <PopularTags />
          </div>
        </div>
      </div>
    </div>
  );
}
```

ChÃºng ta cÅ©ng cáº§n tÃ­nh Ä‘áº¿n tab má»›i trong function loader:

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  /* unchanged */
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  if (url.searchParams.get("source") === "my-feed") {
    const userSession = await requireUser(request);

    return json(
      await promiseHash({
        articles: throwAnyErrors(
          GET("/articles/feed", {
            params: {
              query: {
                limit: LIMIT,
                offset: !Number.isNaN(page) ? page * LIMIT : undefined,
              },
            },
            headers: { Authorization: `Token ${userSession.token}` },
          }),
        ),
        tags: throwAnyErrors(GET("/tags")),
      }),
    );
  }

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

TrÆ°á»›c khi rá»i trang feed, hÃ£y thÃªm má»™t sá»‘ code xá»­ lÃ½ like cho bÃ i viáº¿t. Thay Ä‘á»•i `ArticlePreview.tsx` cá»§a báº¡n thÃ nh nhÆ° sau:

pages/feed/ui/ArticlePreview\.tsx

```
import { Form, Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <Form
          method="post"
          action={`/article/${article.slug}`}
          preventScrollReset
        >
          <button
            name="_action"
            value={article.favorited ? "unfavorite" : "favorite"}
            className={`btn ${article.favorited ? "btn-primary" : "btn-outline-primary"} btn-sm pull-xs-right`}
          >
            <i className="ion-heart"></i> {article.favoritesCount}
          </button>
        </Form>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

Code nÃ y sáº½ gá»­i POST request Ä‘áº¿n `/article/:slug` vá»›i `_action=favorite` Ä‘á»ƒ Ä‘Ã¡nh dáº¥u article lÃ  yÃªu thÃ­ch. NÃ³ chÆ°a hoáº¡t Ä‘á»™ng, nhÆ°ng khi chÃºng ta báº¯t Ä‘áº§u lÃ m viá»‡c trÃªn trÃ¬nh Ä‘á»c article, chÃºng ta cÅ©ng sáº½ triá»ƒn khai Ä‘iá»u nÃ y.

VÃ  vá»›i Ä‘iá»u Ä‘Ã³, chÃºng ta Ä‘Ã£ chÃ­nh thá»©c hoÃ n thÃ nh feed! Yay!

### TrÃ¬nh Ä‘á»c article[â€‹](#trÃ¬nh-Ä‘á»c-article "Link trá»±c tiáº¿p Ä‘áº¿n heading")

TrÆ°á»›c tiÃªn, chÃºng ta cáº§n dá»¯ liá»‡u. HÃ£y táº¡o má»™t loader:

```
npx fsd pages article-read -s api
```

pages/article-read/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import invariant from "tiny-invariant";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, getUserFromSession } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request, params }: LoaderFunctionArgs) => {
  invariant(params.slug, "Expected a slug parameter");
  const currentUser = await getUserFromSession(request);
  const authorization = currentUser
    ? { Authorization: `Token ${currentUser.token}` }
    : undefined;

  return json(
    await promiseHash({
      article: throwAnyErrors(
        GET("/articles/{slug}", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
      comments: throwAnyErrors(
        GET("/articles/{slug}/comments", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
    }),
  );
};
```

pages/article-read/index.ts

```
export { loader } from "./api/loader";
```

BÃ¢y giá» chÃºng ta cÃ³ thá»ƒ káº¿t ná»‘i nÃ³ vá»›i route `/article/:slug` báº±ng cÃ¡ch táº¡o file route cÃ³ tÃªn `article.$slug.tsx`:

app/routes/article.$slug.tsx

```
export { loader } from "pages/article-read";
```

ChÃ­nh trang bao gá»“m ba khá»‘i chÃ­nh â€” header article vá»›i cÃ¡c action (láº·p láº¡i hai láº§n), ná»™i dung article, vÃ  pháº§n comment. ÄÃ¢y lÃ  markup cho trang, nÃ³ khÃ´ng Ä‘áº·c biá»‡t thÃº vá»‹:

pages/article-read/ui/ArticleReadPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticleMeta } from "./ArticleMeta";
import { Comments } from "./Comments";

export function ArticleReadPage() {
  const { article } = useLoaderData<typeof loader>();

  return (
    <div className="article-page">
      <div className="banner">
        <div className="container">
          <h1>{article.article.title}</h1>

          <ArticleMeta />
        </div>
      </div>

      <div className="container page">
        <div className="row article-content">
          <div className="col-md-12">
            <p>{article.article.body}</p>
            <ul className="tag-list">
              {article.article.tagList.map((tag) => (
                <li className="tag-default tag-pill tag-outline" key={tag}>
                  {tag}
                </li>
              ))}
            </ul>
          </div>
        </div>

        <hr />

        <div className="article-actions">
          <ArticleMeta />
        </div>

        <div className="row">
          <Comments />
        </div>
      </div>
    </div>
  );
}
```

Äiá»u thÃº vá»‹ hÆ¡n lÃ  `ArticleMeta` vÃ  `Comments`. ChÃºng chá»©a cÃ¡c thao tÃ¡c ghi nhÆ° thÃ­ch article, Ä‘á»ƒ láº¡i comment, v.v. Äá»ƒ chÃºng hoáº¡t Ä‘á»™ng, trÆ°á»›c tiÃªn chÃºng ta cáº§n triá»ƒn khai pháº§n backend. Táº¡o `action.ts` trong segment `api` cá»§a trang:

pages/article-read/api/action.ts

```
import { redirect, type ActionFunctionArgs } from "@remix-run/node";
import { namedAction } from "remix-utils/named-action";
import { redirectBack } from "remix-utils/redirect-back";
import invariant from "tiny-invariant";

import { DELETE, POST, requireUser } from "shared/api";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  const currentUser = await requireUser(request);

  const authorization = { Authorization: `Token ${currentUser.token}` };

  const formData = await request.formData();

  return namedAction(formData, {
    async delete() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirect("/");
    },
    async favorite() {
      invariant(params.slug, "Expected a slug parameter");
      await POST("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfavorite() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async createComment() {
      invariant(params.slug, "Expected a slug parameter");
      const comment = formData.get("comment");
      invariant(typeof comment === "string", "Expected a comment parameter");
      await POST("/articles/{slug}/comments", {
        params: { path: { slug: params.slug } },
        headers: { ...authorization, "Content-Type": "application/json" },
        body: { comment: { body: comment } },
      });
      return redirectBack(request, { fallback: "/" });
    },
    async deleteComment() {
      invariant(params.slug, "Expected a slug parameter");
      const commentId = formData.get("id");
      invariant(typeof commentId === "string", "Expected an id parameter");
      const commentIdNumeric = parseInt(commentId, 10);
      invariant(
        !Number.isNaN(commentIdNumeric),
        "Expected a numeric id parameter",
      );
      await DELETE("/articles/{slug}/comments/{id}", {
        params: { path: { slug: params.slug, id: commentIdNumeric } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async followAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await POST("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfollowAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await DELETE("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
  });
};
```

Export Ä‘iá»u Ä‘Ã³ tá»« slice vÃ  sau Ä‘Ã³ tá»« route. Trong khi lÃ m Ä‘iá»u Ä‘Ã³, hÃ£y cÅ©ng káº¿t ná»‘i chÃ­nh trang:

pages/article-read/index.ts

```
export { ArticleReadPage } from "./ui/ArticleReadPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

app/routes/article.$slug.tsx

```
import { ArticleReadPage } from "pages/article-read";

export { loader, action } from "pages/article-read";

export default ArticleReadPage;
```

BÃ¢y giá», máº·c dÃ¹ chÃºng ta chÆ°a triá»ƒn khai button like trÃªn trang Ä‘á»c, button like trong feed sáº½ báº¯t Ä‘áº§u hoáº¡t Ä‘á»™ng! ÄÃ³ lÃ  vÃ¬ nÃ³ Ä‘Ã£ gá»­i request "like" Ä‘áº¿n route nÃ y. HÃ£y thá»­ Ä‘iá»u Ä‘Ã³.

`ArticleMeta` vÃ  `Comments`, má»™t láº§n ná»¯a, lÃ  má»™t loáº¡t form. ChÃºng ta Ä‘Ã£ lÃ m Ä‘iá»u nÃ y trÆ°á»›c Ä‘Ã¢y, hÃ£y láº¥y code cá»§a chÃºng vÃ  tiáº¿p tá»¥c:

pages/article-read/ui/ArticleMeta.tsx

```
import { Form, Link, useLoaderData } from "@remix-run/react";
import { useContext } from "react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function ArticleMeta() {
  const currentUser = useContext(CurrentUser);
  const { article } = useLoaderData<typeof loader>();

  return (
    <Form method="post">
      <div className="article-meta">
        <Link
          prefetch="intent"
          to={`/profile/${article.article.author.username}`}
        >
          <img src={article.article.author.image} alt="" />
        </Link>

        <div className="info">
          <Link
            prefetch="intent"
            to={`/profile/${article.article.author.username}`}
            className="author"
          >
            {article.article.author.username}
          </Link>
          <span className="date">{article.article.createdAt}</span>
        </div>

        {article.article.author.username == currentUser?.username ? (
          <>
            <Link
              prefetch="intent"
              to={`/editor/${article.article.slug}`}
              className="btn btn-sm btn-outline-secondary"
            >
              <i className="ion-edit"></i> Edit Article
            </Link>
            &nbsp;&nbsp;
            <button
              name="_action"
              value="delete"
              className="btn btn-sm btn-outline-danger"
            >
              <i className="ion-trash-a"></i> Delete Article
            </button>
          </>
        ) : (
          <>
            <input
              name="username"
              value={article.article.author.username}
              type="hidden"
            />
            <button
              name="_action"
              value={
                article.article.author.following
                  ? "unfollowAuthor"
                  : "followAuthor"
              }
              className={`btn btn-sm ${article.article.author.following ? "btn-secondary" : "btn-outline-secondary"}`}
            >
              <i className="ion-plus-round"></i>
              &nbsp;{" "}
              {article.article.author.following
                ? "Unfollow"
                : "Follow"}{" "}
              {article.article.author.username}
            </button>
            &nbsp;&nbsp;
            <button
              name="_action"
              value={article.article.favorited ? "unfavorite" : "favorite"}
              className={`btn btn-sm ${article.article.favorited ? "btn-primary" : "btn-outline-primary"}`}
            >
              <i className="ion-heart"></i>
              &nbsp; {article.article.favorited
                ? "Unfavorite"
                : "Favorite"}{" "}
              Post{" "}
              <span className="counter">
                ({article.article.favoritesCount})
              </span>
            </button>
          </>
        )}
      </div>
    </Form>
  );
}
```

pages/article-read/ui/Comments.tsx

```
import { useContext } from "react";
import { Form, Link, useLoaderData } from "@remix-run/react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function Comments() {
  const { comments } = useLoaderData<typeof loader>();
  const currentUser = useContext(CurrentUser);

  return (
    <div className="col-xs-12 col-md-8 offset-md-2">
      {currentUser !== null ? (
        <Form
          preventScrollReset={true}
          method="post"
          className="card comment-form"
        >
          <div className="card-block">
            <textarea
              required
              className="form-control"
              name="comment"
              placeholder="Write a comment..."
              rows={3}
            ></textarea>
          </div>
          <div className="card-footer">
            <img
              src={currentUser.image}
              className="comment-author-img"
              alt=""
            />
            <button
              className="btn btn-sm btn-primary"
              name="_action"
              value="createComment"
            >
              Post Comment
            </button>
          </div>
        </Form>
      ) : (
        <div className="row">
          <div className="col-xs-12 col-md-8 offset-md-2">
            <p>
              <Link to="/login">Sign in</Link>
              &nbsp; or &nbsp;
              <Link to="/register">Sign up</Link>
              &nbsp; to add comments on this article.
            </p>
          </div>
        </div>
      )}

      {comments.comments.map((comment) => (
        <div className="card" key={comment.id}>
          <div className="card-block">
            <p className="card-text">{comment.body}</p>
          </div>

          <div className="card-footer">
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              <img
                src={comment.author.image}
                className="comment-author-img"
                alt=""
              />
            </Link>
            &nbsp;
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              {comment.author.username}
            </Link>
            <span className="date-posted">{comment.createdAt}</span>
            {comment.author.username === currentUser?.username && (
              <span className="mod-options">
                <Form method="post" preventScrollReset={true}>
                  <input type="hidden" name="id" value={comment.id} />
                  <button
                    name="_action"
                    value="deleteComment"
                    style={{
                      border: "none",
                      outline: "none",
                      backgroundColor: "transparent",
                    }}
                  >
                    <i className="ion-trash-a"></i>
                  </button>
                </Form>
              </span>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}
```

VÃ  vá»›i Ä‘iá»u Ä‘Ã³, trÃ¬nh Ä‘á»c article cá»§a chÃºng ta cÅ©ng hoÃ n thÃ nh! CÃ¡c button theo dÃµi tÃ¡c giáº£, thÃ­ch bÃ i viáº¿t, vÃ  Ä‘á»ƒ láº¡i comment giá» Ä‘Ã¢y sáº½ hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i.

![Article reader with functioning buttons to like and follow](/documentation/vi/assets/images/realworld-article-reader-6a420e4f2afe139d2bdd54d62974f0b9.jpg)

TrÃ¬nh Ä‘á»c article vá»›i cÃ¡c button hoáº¡t Ä‘á»™ng Ä‘á»ƒ thÃ­ch vÃ  theo dÃµi

### TrÃ¬nh chá»‰nh sá»­a article[â€‹](#trÃ¬nh-chá»‰nh-sá»­a-article "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ÄÃ¢y lÃ  trang cuá»‘i cÃ¹ng mÃ  chÃºng ta sáº½ Ä‘á» cáº­p trong tutorial nÃ y, vÃ  pháº§n thÃº vá»‹ nháº¥t á»Ÿ Ä‘Ã¢y lÃ  cÃ¡ch chÃºng ta sáº½ validate dá»¯ liá»‡u form.

ChÃ­nh trang, `article-edit/ui/ArticleEditPage.tsx`, sáº½ khÃ¡ Ä‘Æ¡n giáº£n, Ä‘á»™ phá»©c táº¡p bá»• sung Ä‘Æ°á»£c cáº¥t giáº¥u trong hai component khÃ¡c:

pages/article-edit/ui/ArticleEditPage.tsx

```
import { Form, useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { TagsInput } from "./TagsInput";
import { FormErrors } from "./FormErrors";

export function ArticleEditPage() {
  const article = useLoaderData<typeof loader>();

  return (
    <div className="editor-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-10 offset-md-1 col-xs-12">
            <FormErrors />

            <Form method="post">
              <fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control form-control-lg"
                    name="title"
                    placeholder="Article Title"
                    defaultValue={article.article?.title}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control"
                    name="description"
                    placeholder="What's this article about?"
                    defaultValue={article.article?.description}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <textarea
                    className="form-control"
                    name="body"
                    rows={8}
                    placeholder="Write your article (in markdown)"
                    defaultValue={article.article?.body}
                  ></textarea>
                </fieldset>
                <fieldset className="form-group">
                  <TagsInput
                    name="tags"
                    defaultValue={article.article?.tagList ?? []}
                  />
                </fieldset>

                <button className="btn btn-lg pull-xs-right btn-primary">
                  Publish Article
                </button>
              </fieldset>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

Trang nÃ y láº¥y article hiá»‡n táº¡i (trá»« khi chÃºng ta viáº¿t tá»« Ä‘áº§u) vÃ  Ä‘iá»n vÃ o cÃ¡c trÆ°á»ng form tÆ°Æ¡ng á»©ng. ChÃºng ta Ä‘Ã£ tháº¥y Ä‘iá»u nÃ y trÆ°á»›c Ä‘Ã¢y. Pháº§n thÃº vá»‹ lÃ  `FormErrors`, vÃ¬ nÃ³ sáº½ nháº­n káº¿t quáº£ validation vÃ  hiá»ƒn thá»‹ cho ngÆ°á»i dÃ¹ng. HÃ£y xem:

pages/article-edit/ui/FormErrors.tsx

```
import { useActionData } from "@remix-run/react";
import type { action } from "../api/action";

export function FormErrors() {
  const actionData = useActionData<typeof action>();

  return actionData?.errors != null ? (
    <ul className="error-messages">
      {actionData.errors.map((error) => (
        <li key={error}>{error}</li>
      ))}
    </ul>
  ) : null;
}
```

á» Ä‘Ã¢y chÃºng ta giáº£ Ä‘á»‹nh ráº±ng action cá»§a chÃºng ta sáº½ tráº£ vá» trÆ°á»ng `errors`, má»™t máº£ng cÃ¡c thÃ´ng bÃ¡o lá»—i cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c. ChÃºng ta sáº½ Ä‘áº¿n action ngay.

Component khÃ¡c lÃ  input tag. NÃ³ chá»‰ lÃ  trÆ°á»ng input Ä‘Æ¡n giáº£n vá»›i preview bá»• sung cá»§a cÃ¡c tag Ä‘Ã£ chá»n. KhÃ´ng cÃ³ gÃ¬ nhiá»u Ä‘á»ƒ xem á»Ÿ Ä‘Ã¢y:

pages/article-edit/ui/TagsInput.tsx

```
import { useEffect, useRef, useState } from "react";

export function TagsInput({
  name,
  defaultValue,
}: {
  name: string;
  defaultValue?: Array<string>;
}) {
  const [tagListState, setTagListState] = useState(defaultValue ?? []);

  function removeTag(tag: string): void {
    const newTagList = tagListState.filter((t) => t !== tag);
    setTagListState(newTagList);
  }

  const tagsInput = useRef<HTMLInputElement>(null);
  useEffect(() => {
    tagsInput.current && (tagsInput.current.value = tagListState.join(","));
  }, [tagListState]);

  return (
    <>
      <input
        type="text"
        className="form-control"
        id="tags"
        name={name}
        placeholder="Enter tags"
        defaultValue={tagListState.join(",")}
        onChange={(e) =>
          setTagListState(e.target.value.split(",").filter(Boolean))
        }
      />
      <div className="tag-list">
        {tagListState.map((tag) => (
          <span className="tag-default tag-pill" key={tag}>
            <i
              className="ion-close-round"
              role="button"
              tabIndex={0}
              onKeyDown={(e) =>
                [" ", "Enter"].includes(e.key) && removeTag(tag)
              }
              onClick={() => removeTag(tag)}
            ></i>{" "}
            {tag}
          </span>
        ))}
      </div>
    </>
  );
}
```

BÃ¢y giá», cho pháº§n API. Loader nÃªn nhÃ¬n vÃ o URL, vÃ  náº¿u nÃ³ chá»©a article slug, cÃ³ nghÄ©a lÃ  chÃºng ta Ä‘ang chá»‰nh sá»­a article hiá»‡n cÃ³, vÃ  dá»¯ liá»‡u cá»§a nÃ³ nÃªn Ä‘Æ°á»£c táº£i. Náº¿u khÃ´ng, tráº£ vá» khÃ´ng cÃ³ gÃ¬. HÃ£y táº¡o loader Ä‘Ã³:

pages/article-edit/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ params, request }: LoaderFunctionArgs) => {
  const currentUser = await requireUser(request);

  if (!params.slug) {
    return { article: null };
  }

  return throwAnyErrors(
    GET("/articles/{slug}", {
      params: { path: { slug: params.slug } },
      headers: { Authorization: `Token ${currentUser.token}` },
    }),
  );
};
```

Action sáº½ láº¥y cÃ¡c giÃ¡ trá»‹ trÆ°á»ng má»›i, cháº¡y chÃºng qua data schema cá»§a chÃºng ta, vÃ  náº¿u má»i thá»© Ä‘á»u Ä‘Ãºng, commit nhá»¯ng thay Ä‘á»•i Ä‘Ã³ Ä‘áº¿n backend, hoáº·c báº±ng cÃ¡ch cáº­p nháº­t article hiá»‡n cÃ³ hoáº·c táº¡o má»™t article má»›i:

pages/article-edit/api/action.ts

```
import { json, redirect, type ActionFunctionArgs } from "@remix-run/node";

import { POST, PUT, requireUser } from "shared/api";
import { parseAsArticle } from "../model/parseAsArticle";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  try {
    const { body, description, title, tags } = parseAsArticle(
      await request.formData(),
    );
    const tagList = tags?.split(",") ?? [];

    const currentUser = await requireUser(request);
    const payload = {
      body: {
        article: {
          title,
          description,
          body,
          tagList,
        },
      },
      headers: { Authorization: `Token ${currentUser.token}` },
    };

    const { data, error } = await (params.slug
      ? PUT("/articles/{slug}", {
          params: { path: { slug: params.slug } },
          ...payload,
        })
      : POST("/articles", payload));

    if (error) {
      return json({ errors: error }, { status: 422 });
    }

    return redirect(`/article/${data.article.slug ?? ""}`);
  } catch (errors) {
    return json({ errors }, { status: 400 });
  }
};
```

Schema cÃ³ vai trÃ² kÃ©p nhÆ° má»™t function phÃ¢n tÃ­ch cho `FormData`, cho phÃ©p chÃºng ta thuáº­n tiá»‡n láº¥y cÃ¡c trÆ°á»ng sáº¡ch hoáº·c chá»‰ throw lá»—i Ä‘á»ƒ xá»­ lÃ½ á»Ÿ cuá»‘i. ÄÃ¢y lÃ  cÃ¡ch function phÃ¢n tÃ­ch Ä‘Ã³ cÃ³ thá»ƒ trÃ´ng nhÆ° tháº¿ nÃ o:

pages/article-edit/model/parseAsArticle.ts

```
export function parseAsArticle(data: FormData) {
  const errors = [];

  const title = data.get("title");
  if (typeof title !== "string" || title === "") {
    errors.push("Give this article a title");
  }

  const description = data.get("description");
  if (typeof description !== "string" || description === "") {
    errors.push("Describe what this article is about");
  }

  const body = data.get("body");
  if (typeof body !== "string" || body === "") {
    errors.push("Write the article itself");
  }

  const tags = data.get("tags");
  if (typeof tags !== "string") {
    errors.push("The tags must be a string");
  }

  if (errors.length > 0) {
    throw errors;
  }

  return { title, description, body, tags: data.get("tags") ?? "" } as {
    title: string;
    description: string;
    body: string;
    tags: string;
  };
}
```

CÃ³ thá»ƒ nÃ³i, nÃ³ hÆ¡i dÃ i vÃ  láº·p láº¡i, nhÆ°ng Ä‘Ã³ lÃ  cÃ¡i giÃ¡ chÃºng ta pháº£i tráº£ cho cÃ¡c lá»—i cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c. Äiá»u nÃ y cÅ©ng cÃ³ thá»ƒ lÃ  Zod schema, vÃ­ dá»¥, nhÆ°ng sau Ä‘Ã³ chÃºng ta sáº½ pháº£i render thÃ´ng bÃ¡o lá»—i trÃªn frontend, vÃ  form nÃ y khÃ´ng Ä‘Ã¡ng Ä‘á»ƒ phá»©c táº¡p hÃ³a.

Má»™t bÆ°á»›c cuá»‘i cÃ¹ng â€” káº¿t ná»‘i trang, loader, vÃ  action vá»›i cÃ¡c route. VÃ¬ chÃºng ta há»— trá»£ gá»n gÃ ng cáº£ táº¡o vÃ  chá»‰nh sá»­a, chÃºng ta cÃ³ thá»ƒ export cÃ¹ng má»™t thá»© tá»« cáº£ `editor._index.tsx` vÃ  `editor.$slug.tsx`:

pages/article-edit/index.ts

```
export { ArticleEditPage } from "./ui/ArticleEditPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

app/routes/editor.\_index.tsx, app/routes/editor.$slug.tsx (same content)

```
import { ArticleEditPage } from "pages/article-edit";

export { loader, action } from "pages/article-edit";

export default ArticleEditPage;
```

ChÃºng ta hoÃ n thÃ nh rá»“i! ÄÄƒng nháº­p vÃ  thá»­ táº¡o article má»›i. Hoáº·c "quÃªn" viáº¿t article vÃ  xem validation hoáº¡t Ä‘á»™ng.

![The Conduit article editor, with the title field saying \&quot;New article\&quot; and the rest of the fields empty. Above the form there are two errors: \&quot;Describe what this article is about\&quot; and \&quot;Write the article itself\&quot;.](/documentation/vi/assets/images/realworld-article-editor-bc3ee45c96ae905fdbb54d6463d12723.jpg)

TrÃ¬nh chá»‰nh sá»­a article Conduit, vá»›i trÆ°á»ng tiÃªu Ä‘á» nÃ³i "New article" vÃ  pháº§n cÃ²n láº¡i cá»§a cÃ¡c trÆ°á»ng trá»‘ng. PhÃ­a trÃªn form cÃ³ hai lá»—i: **"Describe what this article is about"** vÃ  **"Write the article itself"**.

CÃ¡c trang profile vÃ  settings ráº¥t giá»‘ng vá»›i trÃ¬nh Ä‘á»c vÃ  chá»‰nh sá»­a article, chÃºng Ä‘Æ°á»£c Ä‘á»ƒ láº¡i nhÆ° bÃ i táº­p cho ngÆ°á»i Ä‘á»c, Ä‘Ã³ lÃ  báº¡n :)


---

# Xá»­ lÃ½ API Requests

## Shared API Requests[â€‹](#shared-api-requests "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Báº¯t Ä‘áº§u báº±ng cÃ¡ch Ä‘áº·t logic API request chung trong thÆ° má»¥c `shared/api`. Äiá»u nÃ y giÃºp dá»… dÃ ng tÃ¡i sá»­ dá»¥ng cÃ¡c request trong toÃ n bá»™ á»©ng dá»¥ng vÃ  há»— trá»£ prototyping nhanh hÆ¡n. Äá»‘i vá»›i nhiá»u dá»± Ã¡n, Ä‘Ã¢y lÃ  táº¥t cáº£ nhá»¯ng gÃ¬ báº¡n cáº§n cho cÃ¡c API call.

Cáº¥u trÃºc file Ä‘iá»ƒn hÃ¬nh sáº½ lÃ :

* ğŸ“‚ shared

  <!-- -->

  * ğŸ“‚ api

    <!-- -->

    * ğŸ“„ client.ts
    * ğŸ“„ index.ts
    * ğŸ“‚ endpoints
      <!-- -->
      * ğŸ“„ login.ts

File `client.ts` táº­p trung thiáº¿t láº­p HTTP request cá»§a báº¡n. NÃ³ bao bá»c phÆ°Æ¡ng thá»©c báº¡n chá»n (nhÆ° `fetch()` hoáº·c má»™t instance `axios`) vÃ  xá»­ lÃ½ cÃ¡c cáº¥u hÃ¬nh chung, cháº³ng háº¡n nhÆ°:

* Backend base URL.
* Default headers (vÃ­ dá»¥, cho authentication).
* Data serialization.

DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡c vÃ­ dá»¥ cho `axios` vÃ  `fetch`:

* Axios
* Fetch

shared/api/client.ts

```
// Example using axios
import axios from 'axios';

export const client = axios.create({
  baseURL: 'https://your-api-domain.com/api/',
  timeout: 5000,
  headers: { 'X-Custom-Header': 'my-custom-value' }
});
```

shared/api/client.ts

```
export const client = {
  async post(endpoint: string, body: any, options?: RequestInit) {
    const response = await fetch(`https://your-api-domain.com/api${endpoint}`, {
      method: 'POST',
      body: JSON.stringify(body),
      ...options,
      headers: {
        'Content-Type': 'application/json',
        'X-Custom-Header': 'my-custom-value',
        ...options?.headers,
      },
    });
    return response.json();
  }
  // ... other methods like put, delete, etc.
};
```

Tá»• chá»©c cÃ¡c function API request riÃªng láº» cá»§a báº¡n trong `shared/api/endpoints`, nhÃ³m chÃºng theo API endpoint.

ghi chÃº

Äá»ƒ giá»¯ cÃ¡c vÃ­ dá»¥ táº­p trung, chÃºng tÃ´i bá» qua form interaction vÃ  validation. Äá»ƒ biáº¿t chi tiáº¿t vá» cÃ¡c thÆ° viá»‡n nhÆ° Zod hoáº·c Valibot, hÃ£y tham kháº£o bÃ i viáº¿t [Type Validation vÃ  Schemas](/documentation/vi/docs/guides/examples/types.md#type-validation-schemas-and-zod).

shared/api/endpoints/login.ts

```
import { client } from '../client';

export interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

Sá»­ dá»¥ng file `index.ts` trong `shared/api` Ä‘á»ƒ export cÃ¡c function request cá»§a báº¡n.

shared/api/index.ts

```
export { client } from './client'; // Náº¿u báº¡n muá»‘n export client
export { login } from './endpoints/login';
export type { LoginCredentials } from './endpoints/login';
```

## Slice-Specific API Requests[â€‹](#slice-specific-api-requests "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u má»™t API request chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi má»™t slice cá»¥ thá»ƒ (nhÆ° má»™t page hoáº·c feature Ä‘Æ¡n láº») vÃ  sáº½ khÃ´ng Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, hÃ£y Ä‘áº·t nÃ³ trong segment api cá»§a slice Ä‘Ã³. Äiá»u nÃ y giÃºp logic slice-specific Ä‘Æ°á»£c chá»©a Ä‘Ã³ng má»™t cÃ¡ch gá»n gÃ ng.

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ login

    <!-- -->

    * ğŸ“„ index.ts
    * ğŸ“‚ api
      <!-- -->
      * ğŸ“„ login.ts
    * ğŸ“‚ ui
      <!-- -->
      * ğŸ“„ LoginPage.tsx

pages/login/api/login.ts

```
import { client } from 'shared/api';

interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

Báº¡n khÃ´ng cáº§n export function `login()` trong public API cá»§a page, vÃ¬ khÃ´ng cÃ³ kháº£ nÄƒng nÆ¡i nÃ o khÃ¡c trong app sáº½ cáº§n request nÃ y.

ghi chÃº

TrÃ¡nh Ä‘áº·t API calls vÃ  response types trong layer `entities` quÃ¡ sá»›m. Backend responses cÃ³ thá»ƒ khÃ¡c vá»›i nhá»¯ng gÃ¬ frontend entities cá»§a báº¡n cáº§n. Logic API trong `shared/api` hoáº·c segment `api` cá»§a slice cho phÃ©p báº¡n transform data má»™t cÃ¡ch phÃ¹ há»£p, giá»¯ cho entities táº­p trung vÃ o cÃ¡c má»‘i quan tÃ¢m cá»§a frontend.

## Sá»­ dá»¥ng Client Generators[â€‹](#client-generators "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u backend cá»§a báº¡n cÃ³ OpenAPI specification, cÃ¡c cÃ´ng cá»¥ nhÆ° [orval](https://orval.dev/) hoáº·c [openapi-typescript](https://openapi-ts.dev/) cÃ³ thá»ƒ generate API types vÃ  request functions cho báº¡n. Äáº·t code Ä‘Æ°á»£c generate trong, vÃ­ dá»¥, `shared/api/openapi`. Äáº£m báº£o bao gá»“m `README.md` Ä‘á»ƒ document nhá»¯ng types Ä‘Ã³ lÃ  gÃ¬ vÃ  cÃ¡ch generate chÃºng.

## TÃ­ch há»£p vá»›i Server State Libraries[â€‹](#server-state-libraries "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Khi sá»­ dá»¥ng server state libraries nhÆ° [TanStack Query (React Query)](https://tanstack.com/query/latest) hoáº·c [Pinia Colada](https://pinia-colada.esm.dev/), báº¡n cÃ³ thá»ƒ cáº§n chia sáº» types hoáº·c cache keys giá»¯a cÃ¡c slices. Sá»­ dá»¥ng layer `shared` cho nhá»¯ng thá»© nhÆ°:

* API data types
* Cache keys
* Common query/mutation options

Äá»ƒ biáº¿t thÃªm chi tiáº¿t vá» cÃ¡ch lÃ m viá»‡c vá»›i server state libraries, hÃ£y tham kháº£o [bÃ i viáº¿t React Query](/documentation/vi/docs/guides/tech/with-react-query.md)


---

# Authentication

NÃ³i chung, authentication bao gá»“m cÃ¡c bÆ°á»›c sau:

1. Láº¥y credentials tá»« ngÆ°á»i dÃ¹ng
2. Gá»­i chÃºng Ä‘áº¿n backend
3. LÆ°u trá»¯ token Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c authenticated requests

## CÃ¡ch láº¥y credentials tá»« ngÆ°á»i dÃ¹ng[â€‹](#cÃ¡ch-láº¥y-credentials-tá»«-ngÆ°á»i-dÃ¹ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ChÃºng tÃ´i giáº£ Ä‘á»‹nh ráº±ng app cá»§a báº¡n chá»‹u trÃ¡ch nhiá»‡m láº¥y credentials. Náº¿u báº¡n cÃ³ authentication qua OAuth, báº¡n cÃ³ thá»ƒ Ä‘Æ¡n giáº£n táº¡o má»™t login page vá»›i link Ä‘áº¿n login page cá»§a OAuth provider vÃ  bá» qua Ä‘áº¿n [bÆ°á»›c 3](#how-to-store-the-token-for-authenticated-requests).

### Page chuyÃªn dá»¥ng cho login[â€‹](#page-chuyÃªn-dá»¥ng-cho-login "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÃ´ng thÆ°á»ng, cÃ¡c websites cÃ³ cÃ¡c pages chuyÃªn dá»¥ng cho login, nÆ¡i báº¡n nháº­p username vÃ  password. CÃ¡c pages nÃ y khÃ¡ Ä‘Æ¡n giáº£n, vÃ¬ váº­y chÃºng khÃ´ng yÃªu cáº§u decomposition. Login vÃ  registration forms khÃ¡ giá»‘ng nhau vá» ngoáº¡i hÃ¬nh, vÃ¬ váº­y chÃºng tháº­m chÃ­ cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ³m vÃ o má»™t page. Táº¡o má»™t slice cho login/registration page cá»§a báº¡n trÃªn layer Pages:

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ login

    <!-- -->

    * ğŸ“‚ ui

      <!-- -->

      * ğŸ“„ LoginPage.tsx (or your framework's component file format)
      * ğŸ“„ RegisterPage.tsx

    * ğŸ“„ index.ts

  * other pagesâ€¦

á» Ä‘Ã¢y chÃºng tÃ´i táº¡o hai components vÃ  export cáº£ hai trong index file cá»§a slice. CÃ¡c components nÃ y sáº½ chá»©a forms chá»‹u trÃ¡ch nhiá»‡m trÃ¬nh bÃ y cho ngÆ°á»i dÃ¹ng cÃ¡c controls dá»… hiá»ƒu Ä‘á»ƒ láº¥y credentials cá»§a há».

### Dialog cho login[â€‹](#dialog-cho-login "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u app cá»§a báº¡n cÃ³ dialog cho login cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn báº¥t ká»³ page nÃ o, hÃ£y cÃ¢n nháº¯c táº¡o dialog Ä‘Ã³ thÃ nh má»™t widget. Báº±ng cÃ¡ch Ä‘Ã³, báº¡n váº«n cÃ³ thá»ƒ trÃ¡nh quÃ¡ nhiá»u decomposition, nhÆ°ng cÃ³ tá»± do tÃ¡i sá»­ dá»¥ng dialog nÃ y trÃªn báº¥t ká»³ page nÃ o.

* ğŸ“‚ widgets

  <!-- -->

  * ğŸ“‚ login-dialog

    <!-- -->

    * ğŸ“‚ ui
      <!-- -->
      * ğŸ“„ LoginDialog.tsx
    * ğŸ“„ index.ts

  * other widgetsâ€¦

Pháº§n cÃ²n láº¡i cá»§a hÆ°á»›ng dáº«n nÃ y Ä‘Æ°á»£c viáº¿t cho cÃ¡ch tiáº¿p cáº­n dedicated page, nhÆ°ng cÃ¡c nguyÃªn táº¯c tÆ°Æ¡ng tá»± Ã¡p dá»¥ng cho dialog widget.

### Client-side validation[â€‹](#client-side-validation "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Thiá»‡ng thoáº£ng, Ä‘áº·c biá»‡t lÃ  cho registration, viá»‡c thá»±c hiá»‡n client-side validation Ä‘á»ƒ cho ngÆ°á»i dÃ¹ng biáº¿t nhanh chÃ³ng ráº±ng há» Ä‘Ã£ máº¯c lá»—i lÃ  há»£p lÃ½. Validation cÃ³ thá»ƒ diá»…n ra trong segment `model` cá»§a login page. Sá»­ dá»¥ng má»™t schema validation library, vÃ­ dá»¥, [Zod](https://zod.dev) cho JS/TS, vÃ  expose schema Ä‘Ã³ cho segment `ui`:

pages/login/model/registration-schema.ts

```
import { z } from "zod";

export const registrationData = z.object({
    email: z.string().email(),
    password: z.string().min(6),
    confirmPassword: z.string(),
}).refine((data) => data.password === data.confirmPassword, {
    message: "Passwords do not match",
    path: ["confirmPassword"],
});
```

Sau Ä‘Ã³, trong segment `ui`, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng schema nÃ y Ä‘á»ƒ validate user input:

pages/login/ui/RegisterPage.tsx

```
import { registrationData } from "../model/registration-schema";

function validate(formData: FormData) {
    const data = Object.fromEntries(formData.entries());
    try {
        registrationData.parse(data);
    } catch (error) {
        // TODO: Show error message to the user
    }
}

export function RegisterPage() {
    return (
        <form onSubmit={(e) => validate(new FormData(e.target))}>
            <label htmlFor="email">E-mail</label>
            <input id="email" name="email" required />

            <label htmlFor="password">Password (min. 6 characters)</label>
            <input id="password" name="password" type="password" required />

            <label htmlFor="confirmPassword">Confirm password</label>
            <input id="confirmPassword" name="confirmPassword" type="password" required />
        </form>
    )
}
```

## CÃ¡ch gá»­i credentials Ä‘áº¿n backend[â€‹](#cÃ¡ch-gá»­i-credentials-Ä‘áº¿n-backend "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Táº¡o má»™t function thá»±c hiá»‡n request Ä‘áº¿n login endpoint cá»§a backend. Function nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i trá»±c tiáº¿p trong component code sá»­ dá»¥ng mutation library (vÃ­ dá»¥ TanStack Query), hoáº·c cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i nhÆ° side effect trong state manager. NhÆ° Ä‘Æ°á»£c giáº£i thÃ­ch trong [hÆ°á»›ng dáº«n cho API requests](/documentation/vi/docs/guides/examples/api-requests.md), báº¡n cÃ³ thá»ƒ Ä‘áº·t request cá»§a mÃ¬nh trong `shared/api` hoáº·c trong segment `api` cá»§a login page.

### Two-factor authentication[â€‹](#two-factor-authentication "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u app cá»§a báº¡n há»— trá»£ two-factor authentication (2FA), báº¡n cÃ³ thá»ƒ pháº£i redirect Ä‘áº¿n page khÃ¡c nÆ¡i ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­p one-time password. ThÃ´ng thÆ°á»ng `POST /login` request cá»§a báº¡n sáº½ tráº£ vá» user object vá»›i flag chá»‰ ra ráº±ng ngÆ°á»i dÃ¹ng Ä‘Ã£ báº­t 2FA. Náº¿u flag Ä‘Ã³ Ä‘Æ°á»£c thiáº¿t láº­p, redirect ngÆ°á»i dÃ¹ng Ä‘áº¿n 2FA page.

VÃ¬ page nÃ y liÃªn quan ráº¥t cháº·t cháº½ Ä‘áº¿n logging in, báº¡n cÅ©ng cÃ³ thá»ƒ giá»¯ nÃ³ trong cÃ¹ng má»™t slice, `login` trÃªn layer Pages.

Báº¡n cÅ©ng cáº§n má»™t request function khÃ¡c, tÆ°Æ¡ng tá»± nhÆ° `login()` mÃ  chÃºng tÃ´i Ä‘Ã£ táº¡o á»Ÿ trÃªn. Äáº·t chÃºng cÃ¹ng nhau, hoáº·c trong Shared, hoáº·c trong segment `api` cá»§a page `login`.

## CÃ¡ch lÆ°u trá»¯ token cho authenticated requests[â€‹](#how-to-store-the-token-for-authenticated-requests "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Báº¥t ká»ƒ authentication scheme nÃ o báº¡n cÃ³, cho dÃ¹ lÃ  login & password Ä‘Æ¡n giáº£n, OAuth, hoáº·c two-factor authentication, cuá»‘i cÃ¹ng báº¡n sáº½ nháº­n Ä‘Æ°á»£c má»™t token. Token nÃ y nÃªn Ä‘Æ°á»£c lÆ°u trá»¯ Ä‘á»ƒ cÃ¡c requests tiáº¿p theo cÃ³ thá»ƒ identify chÃ­nh chÃºng.

LÆ°u trá»¯ token lÃ½ tÆ°á»Ÿng cho web app lÃ  **cookie** â€” nÃ³ khÃ´ng yÃªu cáº§u token storage hoáº·c handling thá»§ cÃ´ng. VÃ¬ váº­y, cookie storage háº§u nhÆ° khÃ´ng cáº§n cÃ¢n nháº¯c gÃ¬ tá»« phÃ­a frontend architecture. Náº¿u frontend framework cá»§a báº¡n cÃ³ server side (vÃ­ dá»¥, [Remix](https://remix.run)), thÃ¬ báº¡n nÃªn lÆ°u trá»¯ server-side cookie infrastructure trong `shared/api`. CÃ³ má»™t vÃ­ dá»¥ trong [pháº§n Authentication cá»§a tutorial](/documentation/vi/docs/get-started/tutorial.md#authentication) vá» cÃ¡ch thá»±c hiá»‡n Ä‘iá»u Ä‘Ã³ vá»›i Remix.

Tuy nhiÃªn, Ä‘Ã´i khi cookie storage khÃ´ng pháº£i lÃ  lá»±a chá»n. Trong trÆ°á»ng há»£p nÃ y, báº¡n sáº½ pháº£i lÆ°u trá»¯ token thá»§ cÃ´ng. NgoÃ i viá»‡c lÆ°u trá»¯ token, báº¡n cÅ©ng cÃ³ thá»ƒ cáº§n thiáº¿t láº­p logic Ä‘á»ƒ refresh token khi nÃ³ expires. Vá»›i FSD, cÃ³ nhiá»u nÆ¡i báº¡n cÃ³ thá»ƒ lÆ°u trá»¯ token, cÅ©ng nhÆ° nhiá»u cÃ¡ch Ä‘á»ƒ lÃ m cho nÃ³ available cho pháº§n cÃ²n láº¡i cá»§a app.

### Trong Shared[â€‹](#trong-shared "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡ch tiáº¿p cáº­n nÃ y hoáº¡t Ä‘á»™ng tá»‘t vá»›i API client Ä‘Æ°á»£c define trong `shared/api` vÃ¬ token cÃ³ sáºµn má»™t cÃ¡ch tá»± do cho cÃ¡c request functions khÃ¡c yÃªu cáº§u authentication Ä‘á»ƒ thÃ nh cÃ´ng. Báº¡n cÃ³ thá»ƒ lÃ m cho API client giá»¯ state, hoáº·c vá»›i reactive store hoáº·c Ä‘Æ¡n giáº£n lÃ  module-level variable, vÃ  cáº­p nháº­t state Ä‘Ã³ trong cÃ¡c functions `login()`/`logout()` cá»§a báº¡n.

Automatic token refresh cÃ³ thá»ƒ Ä‘Æ°á»£c implement nhÆ° middleware trong API client â€” thá»© gÃ¬ Ä‘Ã³ cÃ³ thá»ƒ thá»±c thi má»—i khi báº¡n thá»±c hiá»‡n báº¥t ká»³ request nÃ o. NÃ³ cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ y:

* Authenticate vÃ  lÆ°u trá»¯ access token cÅ©ng nhÆ° refresh token
* Thá»±c hiá»‡n báº¥t ká»³ request nÃ o yÃªu cáº§u authentication
* Náº¿u request tháº¥t báº¡i vá»›i status code chá»‰ ra token expiration, vÃ  cÃ³ token trong store, thá»±c hiá»‡n refresh request, lÆ°u trá»¯ cÃ¡c tokens má»›i, vÃ  retry request gá»‘c

Má»™t trong nhá»¯ng drawbacks cá»§a cÃ¡ch tiáº¿p cáº­n nÃ y lÃ  logic managing vÃ  refreshing token khÃ´ng cÃ³ má»™t nÆ¡i chuyÃªn dá»¥ng. Äiá»u nÃ y cÃ³ thá»ƒ á»•n Ä‘á»‘i vá»›i má»™t sá»‘ apps hoáº·c teams, nhÆ°ng náº¿u logic token management phá»©c táº¡p hÆ¡n, cÃ³ thá»ƒ tá»‘t hÆ¡n lÃ  tÃ¡ch biá»‡t trÃ¡ch nhiá»‡m cá»§a viá»‡c thá»±c hiá»‡n requests vÃ  managing tokens. Báº¡n cÃ³ thá»ƒ lÃ m Ä‘iá»u Ä‘Ã³ báº±ng cÃ¡ch giá»¯ requests vÃ  API client trong `shared/api`, nhÆ°ng token store vÃ  management logic trong `shared/auth`.

Má»™t drawback khÃ¡c cá»§a cÃ¡ch tiáº¿p cáº­n nÃ y lÃ  náº¿u backend cá»§a báº¡n tráº£ vá» object thÃ´ng tin cá»§a current user cÃ¹ng vá»›i token, báº¡n pháº£i lÆ°u trá»¯ Ä‘iá»u Ä‘Ã³ á»Ÿ Ä‘Ã¢u Ä‘Ã³ hoáº·c bá» qua thÃ´ng tin Ä‘Ã³ vÃ  request láº¡i tá»« endpoint nhÆ° `/me` hoáº·c `/users/current`.

### Trong Entities[â€‹](#trong-entities "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÃ´ng thÆ°á»ng cÃ¡c dá»± Ã¡n FSD cÃ³ má»™t entity cho user vÃ /hoáº·c má»™t entity cho current user. NÃ³ tháº­m chÃ­ cÃ³ thá»ƒ lÃ  cÃ¹ng má»™t entity cho cáº£ hai.

ghi chÃº

**Current user** Ä‘Ã´i khi cÅ©ng Ä‘Æ°á»£c gá»i lÃ  "viewer" hoáº·c "me". Äiá»u nÃ y lÃ  Ä‘á»ƒ phÃ¢n biá»‡t single authenticated user, vá»›i permissions vÃ  private information, tá»« danh sÃ¡ch táº¥t cáº£ users vá»›i publicly accessible information.

Äá»ƒ lÆ°u trá»¯ token trong User entity, táº¡o reactive store trong segment `model`. Store Ä‘Ã³ cÃ³ thá»ƒ chá»©a cáº£ token vÃ  user object.

VÃ¬ API client thÆ°á»ng Ä‘Æ°á»£c define trong `shared/api` hoáº·c spread qua cÃ¡c entities, thÃ¡ch thá»©c chÃ­nh cá»§a cÃ¡ch tiáº¿p cáº­n nÃ y lÃ  lÃ m cho token available cho cÃ¡c requests khÃ¡c cáº§n nÃ³ mÃ  khÃ´ng vi pháº¡m [import rule trÃªn cÃ¡c layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers):

> Má»™t module (file) trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slices khÃ¡c khi chÃºng Ä‘Æ°á»£c Ä‘áº·t trÃªn cÃ¡c layers á»Ÿ phÃ­a dÆ°á»›i.

CÃ³ nhiá»u giáº£i phÃ¡p cho thÃ¡ch thá»©c nÃ y:

1. **Pass token thá»§ cÃ´ng má»—i láº§n báº¡n thá»±c hiá»‡n request**
   <br />
   <!-- -->
   ÄÃ¢y lÃ  giáº£i phÃ¡p Ä‘Æ¡n giáº£n nháº¥t, nhÆ°ng nÃ³ nhanh chÃ³ng trá»Ÿ nÃªn cá»“ng ká»nh, vÃ  náº¿u báº¡n khÃ´ng cÃ³ type safety, dá»… quÃªn. NÃ³ cÅ©ng khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i middlewares pattern cho API client trong Shared.
2. **Expose token cho toÃ n bá»™ app vá»›i context hoáº·c global store nhÆ° `localStorage`**
   <br />
   <!-- -->
   Key Ä‘á»ƒ retrieve token sáº½ Ä‘Æ°á»£c giá»¯ trong `shared/api` Ä‘á»ƒ API client cÃ³ thá»ƒ truy cáº­p nÃ³. Reactive store cá»§a token sáº½ Ä‘Æ°á»£c export tá»« User entity, vÃ  context provider (náº¿u cáº§n) sáº½ Ä‘Æ°á»£c thiáº¿t láº­p trÃªn layer App. Äiá»u nÃ y cho nhiá»u tá»± do hÆ¡n Ä‘á»ƒ thiáº¿t káº¿ API client, tuy nhiÃªn, nÃ³ táº¡o ra implicit dependency trÃªn cÃ¡c layers cao hÆ¡n Ä‘á»ƒ cung cáº¥p context. Khi theo cÃ¡ch tiáº¿p cáº­n nÃ y, hÃ£y cÃ¢n nháº¯c cung cáº¥p cÃ¡c error messages há»¯u Ã­ch náº¿u context hoáº·c `localStorage` khÃ´ng Ä‘Æ°á»£c thiáº¿t láº­p chÃ­nh xÃ¡c.
3. **Inject token vÃ o API client má»—i khi nÃ³ thay Ä‘á»•i**
   <br />
   <!-- -->
   Náº¿u store cá»§a báº¡n lÃ  reactive, báº¡n cÃ³ thá»ƒ táº¡o subscription sáº½ cáº­p nháº­t token store cá»§a API client má»—i khi store trong entity thay Ä‘á»•i. Äiá»u nÃ y tÆ°Æ¡ng tá»± nhÆ° giáº£i phÃ¡p trÆ°á»›c á»Ÿ chá»— chÃºng Ä‘á»u táº¡o implicit dependency trÃªn cÃ¡c layers cao hÆ¡n, nhÆ°ng cÃ¡i nÃ y imperative hÆ¡n ("push"), trong khi cÃ¡i trÆ°á»›c declarative hÆ¡n ("pull").

Khi báº¡n vÆ°á»£t qua thÃ¡ch thá»©c expose token Ä‘Æ°á»£c lÆ°u trá»¯ trong model cá»§a entity, báº¡n cÃ³ thá»ƒ encode nhiá»u business logic liÃªn quan Ä‘áº¿n token management. VÃ­ dá»¥, segment `model` cÃ³ thá»ƒ chá»©a logic Ä‘á»ƒ invalidate token sau má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh, hoáº·c refresh token khi nÃ³ expires. Äá»ƒ thá»±c sá»± thá»±c hiá»‡n requests Ä‘áº¿n backend, sá»­ dá»¥ng segment `api` cá»§a User entity hoáº·c `shared/api`.

### Trong Pages/Widgets (khÃ´ng Ä‘Æ°á»£c khuyáº¿n nghá»‹)[â€‹](#trong-pageswidgets-khÃ´ng-Ä‘Æ°á»£c-khuyáº¿n-nghá»‹ "Link trá»±c tiáº¿p Ä‘áº¿n heading")

KhÃ´ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch lÆ°u trá»¯ app-wide state nhÆ° access token trong pages hoáº·c widgets. TrÃ¡nh Ä‘áº·t token store cá»§a báº¡n trong segment `model` cá»§a login page, thay vÃ o Ä‘Ã³ hÃ£y chá»n tá»« hai giáº£i phÃ¡p Ä‘áº§u tiÃªn, Shared hoáº·c Entities.

## Logout vÃ  token invalidation[â€‹](#logout-vÃ -token-invalidation "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÃ´ng thÆ°á»ng, cÃ¡c apps khÃ´ng cÃ³ má»™t page hoÃ n chá»‰nh cho logging out, nhÆ°ng logout functionality váº«n ráº¥t quan trá»ng. NÃ³ bao gá»“m authenticated request Ä‘áº¿n backend vÃ  cáº­p nháº­t token store.

Náº¿u báº¡n lÆ°u trá»¯ táº¥t cáº£ requests trong `shared/api`, hÃ£y giá»¯ logout request function á»Ÿ Ä‘Ã³, gáº§n login function. Náº¿u khÃ´ng, hÃ£y cÃ¢n nháº¯c giá»¯ logout request function gáº§n button kÃ­ch hoáº¡t nÃ³. VÃ­ dá»¥, náº¿u báº¡n cÃ³ header widget xuáº¥t hiá»‡n trÃªn má»—i page vÃ  chá»©a logout link, hÃ£y Ä‘áº·t request Ä‘Ã³ trong segment `api` cá»§a widget Ä‘Ã³.

Cáº­p nháº­t token store sáº½ pháº£i Ä‘Æ°á»£c trigger tá»« vá»‹ trÃ­ cá»§a logout button, nhÆ° header widget. Báº¡n cÃ³ thá»ƒ káº¿t há»£p request vÃ  store update trong segment `model` cá»§a widget Ä‘Ã³.

### Automatic logout[â€‹](#automatic-logout "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Äá»«ng quÃªn xÃ¢y dá»±ng cÃ¡c failsafes cho khi request log out tháº¥t báº¡i, hoáº·c request refresh login token tháº¥t báº¡i. Trong cáº£ hai trÆ°á»ng há»£p nÃ y, báº¡n nÃªn clear token store. Náº¿u báº¡n giá»¯ token trong Entities, code nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t trong segment `model` vÃ¬ nÃ³ lÃ  pure business logic. Náº¿u báº¡n giá»¯ token trong Shared, Ä‘áº·t logic nÃ y trong `shared/api` cÃ³ thá»ƒ lÃ m segment phÃ¬nh to vÃ  pha loÃ£ng má»¥c Ä‘Ã­ch cá»§a nÃ³. Náº¿u báº¡n nháº­n tháº¥y ráº±ng API segment cá»§a mÃ¬nh chá»©a nhiá»u thá»© khÃ´ng liÃªn quan, hÃ£y cÃ¢n nháº¯c tÃ¡ch logic token management thÃ nh segment khÃ¡c, vÃ­ dá»¥, `shared/auth`.


---

# Autocomplete

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/170)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» decomposition theo layers

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Discussion) Vá» viá»‡c Ã¡p dá»¥ng phÆ°Æ¡ng phÃ¡p luáº­n cho viá»‡c lá»±a chá»n vá»›i loaded dictionaries](https://github.com/feature-sliced/documentation/discussions/65#discussioncomment-480807)


---

# Browser API

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/197)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Vá» viá»‡c lÃ m viá»‡c vá»›i Browser API: localStorage, audio Api, bluetooth API, v.v.
>
> Báº¡n cÃ³ thá»ƒ há»i vá» Ã½ tÆ°á»Ÿng chi tiáº¿t hÆ¡n [@alex\_novi](https://t.me/alex_novich)


---

# CMS

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/172)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Features cÃ³ thá»ƒ khÃ¡c nhau[â€‹](#features-cÃ³-thá»ƒ-khÃ¡c-nhau "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong má»™t sá»‘ dá»± Ã¡n, táº¥t cáº£ functionality Ä‘Æ°á»£c táº­p trung trong data tá»« server

> <https://github.com/feature-sliced/documentation/discussions/65#discussioncomment-480785>

## CÃ¡ch lÃ m viá»‡c Ä‘Ãºng Ä‘áº¯n hÆ¡n vá»›i CMS markup[â€‹](#cÃ¡ch-lÃ m-viá»‡c-Ä‘Ãºng-Ä‘áº¯n-hÆ¡n-vá»›i-cms-markup "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> <https://t.me/feature_sliced/1557>

> <https://t.me/feature_sliced/1553>


---

# Feedback

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/187)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Errors, Alerts, Notifications, ...


---

# i18n

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/171)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Äáº·t á»Ÿ Ä‘Ã¢u? LÃ m tháº¿ nÃ o Ä‘á»ƒ lÃ m viá»‡c vá»›i Ä‘iá»u nÃ y?[â€‹](#Ä‘áº·t-á»Ÿ-Ä‘Ã¢u-lÃ m-tháº¿-nÃ o-Ä‘á»ƒ-lÃ m-viá»‡c-vá»›i-Ä‘iá»u-nÃ y "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* <https://t.me/feature_sliced/4425>
* <https://t.me/feature_sliced/2325>
* <https://t.me/feature_sliced/1867>


---

# Metric

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/181)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> About ways to initialize metrics in the application


---

# Monorepositories

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/221)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> About applicability for mono repositories, about bff, about microapps

## See also[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Discussion) About mono repositories and plug-ins-packages](https://github.com/feature-sliced/documentation/discussions/50)
* [(Thread) About the application for a mono repository](https://t.me/feature_sliced/2412)


---

# Page layouts

HÆ°á»›ng dáº«n nÃ y xem xÃ©t abstraction cá»§a má»™t *page layout* â€” khi nhiá»u pages chia sáº» cÃ¹ng má»™t cáº¥u trÃºc tá»•ng thá»ƒ, vÃ  chá»‰ khÃ¡c nhau á»Ÿ main content.

thÃ´ng tin

CÃ¢u há»i cá»§a báº¡n khÃ´ng Ä‘Æ°á»£c Ä‘á» cáº­p trong hÆ°á»›ng dáº«n nÃ y? ÄÄƒng cÃ¢u há»i cá»§a báº¡n báº±ng cÃ¡ch Ä‘á»ƒ láº¡i feedback trÃªn bÃ i viáº¿t nÃ y (nÃºt xanh á»Ÿ bÃªn pháº£i) vÃ  chÃºng tÃ´i sáº½ cÃ¢n nháº¯c má»Ÿ rá»™ng hÆ°á»›ng dáº«n nÃ y!

## Simple layout[â€‹](#simple-layout "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layout Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ¬n tháº¥y trÃªn trang báº¡n Ä‘ang xem Ä‘Ã¢y. NÃ³ cÃ³ header vá»›i site navigation, hai sidebars, vÃ  footer vá»›i external links. KhÃ´ng cÃ³ business logic phá»©c táº¡p, vÃ  cÃ¡c pháº§n dynamic duy nháº¥t lÃ  sidebars vÃ  switchers á»Ÿ phÃ­a bÃªn pháº£i cá»§a header. Layout nhÆ° váº­y cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘áº·t hoÃ n toÃ n trong `shared/ui` hoáº·c trong `app/layouts`, vá»›i props Ä‘iá»n vÃ o content cho cÃ¡c sidebars:

shared/ui/layout/Layout.tsx

```
import { Link, Outlet } from "react-router-dom";
import { useThemeSwitcher } from "./useThemeSwitcher";

export function Layout({ siblingPages, headings }) {
  const [theme, toggleTheme] = useThemeSwitcher();

  return (
    <div>
      <header>
        <nav>
          <ul>
            <li> <Link to="/">Home</Link> </li>
            <li> <Link to="/docs">Docs</Link> </li>
            <li> <Link to="/blog">Blog</Link> </li>
          </ul>
        </nav>
        <button onClick={toggleTheme}>{theme}</button>
      </header>
      <main>
        <SiblingPageSidebar siblingPages={siblingPages} />
        <Outlet /> {/* This is where the main content goes */}
        <HeadingsSidebar headings={headings} />
      </main>
      <footer>
        <ul>
          <li>GitHub</li>
          <li>Twitter</li>
        </ul>
      </footer>
    </div>
  );
}
```

shared/ui/layout/useThemeSwitcher.ts

```
export function useThemeSwitcher() {
  const [theme, setTheme] = useState("light");

  function toggleTheme() {
    setTheme(theme === "light" ? "dark" : "light");
  }

  useEffect(() => {
    document.body.classList.remove("light", "dark");
    document.body.classList.add(theme);
  }, [theme]);

  return [theme, toggleTheme] as const;
}
```

Code cá»§a cÃ¡c sidebars Ä‘Æ°á»£c Ä‘á»ƒ láº¡i nhÆ° bÃ i táº­p cho Ä‘á»™c giáº£ ğŸ˜‰.

## Sá»­ dá»¥ng widgets trong layout[â€‹](#sá»­-dá»¥ng-widgets-trong-layout "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Thiá»‡ng thoáº£ng báº¡n muá»‘n bao gá»“m business logic nháº¥t Ä‘á»‹nh trong layout, Ä‘áº·c biá»‡t náº¿u báº¡n Ä‘ang sá»­ dá»¥ng deeply nested routes vá»›i router nhÆ° [React Router](https://reactrouter.com/). Khi Ä‘Ã³ báº¡n khÃ´ng thá»ƒ lÆ°u trá»¯ layout trong Shared hoáº·c trong Widgets do [import rule trÃªn cÃ¡c layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers):

> Má»™t module trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slices khÃ¡c khi chÃºng Ä‘Æ°á»£c Ä‘áº·t trÃªn cÃ¡c layers á»Ÿ phÃ­a dÆ°á»›i.

TrÆ°á»›c khi chÃºng ta tháº£o luáº­n cÃ¡c giáº£i phÃ¡p, chÃºng ta cáº§n tháº£o luáº­n liá»‡u Ä‘Ã³ cÃ³ pháº£i lÃ  váº¥n Ä‘á» ngay tá»« Ä‘áº§u hay khÃ´ng. Báº¡n cÃ³ *thá»±c sá»± cáº§n* layout Ä‘Ã³ khÃ´ng, vÃ  náº¿u cÃ³, liá»‡u nÃ³ *thá»±c sá»± cáº§n* lÃ  Widget khÃ´ng? Náº¿u block business logic Ä‘ang bÃ n Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng trÃªn 2-3 pages, vÃ  layout chá»‰ Ä‘Æ¡n giáº£n lÃ  wrapper nhá» cho widget Ä‘Ã³, hÃ£y cÃ¢n nháº¯c má»™t trong hai lá»±a chá»n nÃ y:

1. **Viáº¿t layout inline trÃªn layer App, nÆ¡i báº¡n cáº¥u hÃ¬nh routing**<br /><!-- -->Äiá»u nÃ y ráº¥t tá»‘t cho cÃ¡c routers há»— trá»£ nesting, vÃ¬ báº¡n cÃ³ thá»ƒ nhÃ³m cÃ¡c routes nháº¥t Ä‘á»‹nh vÃ  chá»‰ Ã¡p dá»¥ng layout cho chÃºng.

2. **Chá»‰ cáº§n copy-paste nÃ³**<br /><!-- -->Xu hÆ°á»›ng abstract code thÆ°á»ng bá»‹ Ä‘Ã¡nh giÃ¡ quÃ¡ cao. Äiá»u nÃ y Ä‘áº·c biá»‡t Ä‘Ãºng cho cÃ¡c layouts, hiáº¿m khi thay Ä‘á»•i. Táº¡i má»™t thá»i Ä‘iá»ƒm nÃ o Ä‘Ã³, náº¿u má»™t trong nhá»¯ng pages nÃ y cáº§n thay Ä‘á»•i, báº¡n cÃ³ thá»ƒ Ä‘Æ¡n giáº£n thá»±c hiá»‡n thay Ä‘á»•i mÃ  khÃ´ng cáº§n thiáº¿t áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c pages khÃ¡c. Náº¿u báº¡n lo láº¯ng ráº±ng ai Ä‘Ã³ cÃ³ thá»ƒ quÃªn cáº­p nháº­t cÃ¡c pages khÃ¡c, báº¡n luÃ´n cÃ³ thá»ƒ Ä‘á»ƒ láº¡i comment mÃ´ táº£ má»‘i quan há»‡ giá»¯a cÃ¡c pages.

Náº¿u khÃ´ng cÃ³ Ä‘iá»u nÃ o á»Ÿ trÃªn Ã¡p dá»¥ng Ä‘Æ°á»£c, cÃ³ hai giáº£i phÃ¡p Ä‘á»ƒ bao gá»“m widget trong layout:

1. **Sá»­ dá»¥ng render props hoáº·c slots**
   <br />
   <!-- -->
   Háº§u háº¿t cÃ¡c frameworks cho phÃ©p báº¡n pass má»™t pháº§n UI tá»« bÃªn ngoÃ i. Trong React, Ä‘Æ°á»£c gá»i lÃ  [render props](https://www.patterns.dev/react/render-props-pattern/), trong Vue Ä‘Æ°á»£c gá»i lÃ  [slots](https://vuejs.org/guide/components/slots).
2. **Chuyá»ƒn layout Ä‘áº¿n layer App**
   <br />
   <!-- -->
   Báº¡n cÅ©ng cÃ³ thá»ƒ lÆ°u trá»¯ layout cá»§a mÃ¬nh trÃªn layer App, vÃ­ dá»¥, trong `app/layouts`, vÃ  compose báº¥t ká»³ widgets nÃ o báº¡n muá»‘n.

## Äá»c thÃªm[â€‹](#Ä‘á»c-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* CÃ³ má»™t vÃ­ dá»¥ vá» cÃ¡ch xÃ¢y dá»±ng layout vá»›i authentication sá»­ dá»¥ng React vÃ  Remix (tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i React Router) trong [tutorial](/documentation/vi/docs/get-started/tutorial.md).


---

# Desktop/Touch platforms

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/198)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> About the application of the methodology for desktop/touch


---

# SSR

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/173)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> About the implementation of SSR using the methodology


---

# Theme

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/207)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Where should I put my work with the theme and palette?[â€‹](#where-should-i-put-my-work-with-the-theme-and-palette "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> <https://t.me/feature_sliced/4410>

## Discussion about the location of the theme, i18n logic[â€‹](#discussion-about-the-location-of-the-theme-i18n-logic "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> <https://youtu.be/b_nBvHWqxP8?t=133>


---

# Types

HÆ°á»›ng dáº«n nÃ y liÃªn quan Ä‘áº¿n data types tá»« cÃ¡c typed languages nhÆ° TypeScript vÃ  mÃ´ táº£ chÃºng phÃ¹ há»£p á»Ÿ Ä‘Ã¢u trong FSD.

thÃ´ng tin

CÃ¢u há»i cá»§a báº¡n khÃ´ng Ä‘Æ°á»£c Ä‘á» cáº­p trong hÆ°á»›ng dáº«n nÃ y? ÄÄƒng cÃ¢u há»i cá»§a báº¡n báº±ng cÃ¡ch Ä‘á»ƒ láº¡i feedback trÃªn bÃ i viáº¿t nÃ y (nÃºt xanh á»Ÿ bÃªn pháº£i) vÃ  chÃºng tÃ´i sáº½ cÃ¢n nháº¯c má»Ÿ rá»™ng hÆ°á»›ng dáº«n nÃ y!

## Utility types[â€‹](#utility-types "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Utility types lÃ  cÃ¡c types khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a riÃªng vÃ  thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i cÃ¡c types khÃ¡c. VÃ­ dá»¥:

```
type ArrayValues<T extends readonly unknown[]> = T[number];
```

Nguá»“n: <https://github.com/sindresorhus/type-fest/blob/main/source/array-values.d.ts>

Äá»ƒ lÃ m cho utility types cÃ³ sáºµn trong toÃ n bá»™ dá»± Ã¡n cá»§a báº¡n, hoáº·c lÃ  install má»™t library nhÆ° [`type-fest`](https://github.com/sindresorhus/type-fest), hoáº·c táº¡o library riÃªng cá»§a báº¡n trong `shared/lib`. Äáº£m báº£o chá»‰ rÃµ rÃ ng nhá»¯ng types má»›i nÃ o *nÃªn* Ä‘Æ°á»£c thÃªm vÃ o library nÃ y, vÃ  nhá»¯ng types nÃ o *khÃ´ng thuá»™c vá»* Ä‘Ã³. VÃ­ dá»¥, gá»i nÃ³ lÃ  `shared/lib/utility-types` vÃ  thÃªm README bÃªn trong mÃ´ táº£ utility type lÃ  gÃ¬ trong team cá»§a báº¡n.

Äá»«ng Ä‘Ã¡nh giÃ¡ quÃ¡ cao kháº£ nÄƒng tÃ¡i sá»­ dá»¥ng cá»§a utility type. Chá»‰ vÃ¬ nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, khÃ´ng cÃ³ nghÄ©a lÃ  nÃ³ sáº½ Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, vÃ  vÃ¬ váº­y, khÃ´ng pháº£i má»i utility type Ä‘á»u cáº§n á»Ÿ trong Shared. Má»™t sá»‘ utility types thÃ¬ á»•n ngay bÃªn cáº¡nh nÆ¡i chÃºng Ä‘Æ°á»£c cáº§n:

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ home

    <!-- -->

    * ğŸ“‚ api

      <!-- -->

      * ğŸ“„ ArrayValues.ts (utility type)
      * ğŸ“„ getMemoryUsageMetrics.ts (code sá»­ dá»¥ng utility type)

cáº£nh bÃ¡o

HÃ£y cÆ°á»¡ng láº¡i cÃ¡m dá»— táº¡o folder `shared/types`, hoáº·c thÃªm segment `types` vÃ o slices cá»§a báº¡n. Category "types" tÆ°Æ¡ng tá»± nhÆ° category "components" hoáº·c "hooks" á»Ÿ chá»— nÃ³ mÃ´ táº£ ná»™i dung lÃ  gÃ¬, chá»© khÃ´ng pháº£i chÃºng dÃ nh cho gÃ¬. Segments nÃªn mÃ´ táº£ má»¥c Ä‘Ã­ch cá»§a code, khÃ´ng pháº£i báº£n cháº¥t.

## Business entities vÃ  cross-references cá»§a chÃºng[â€‹](#business-entities-vÃ -cross-references-cá»§a-chÃºng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong sá»‘ nhá»¯ng types quan trá»ng nháº¥t trong app lÃ  types cá»§a business entities, tá»©c lÃ  nhá»¯ng thá»© trong tháº¿ giá»›i thá»±c mÃ  app cá»§a báº¡n lÃ m viá»‡c vá»›i. VÃ­ dá»¥, trong music streaming app, báº¡n cÃ³ thá»ƒ cÃ³ business entities *Song*, *Album*, v.v.

Business entities thÆ°á»ng Ä‘áº¿n tá»« backend, vÃ¬ váº­y bÆ°á»›c Ä‘áº§u tiÃªn lÃ  type backend responses. Tháº­t tiá»‡n lá»£i khi cÃ³ function Ä‘á»ƒ thá»±c hiá»‡n request Ä‘áº¿n má»—i endpoint, vÃ  type response cá»§a function nÃ y. Äá»ƒ cÃ³ thÃªm type safety, báº¡n cÃ³ thá»ƒ muá»‘n cháº¡y response qua schema validation library nhÆ° [Zod](https://zod.dev).

VÃ­ dá»¥, náº¿u báº¡n giá»¯ táº¥t cáº£ requests cá»§a mÃ¬nh trong Shared, báº¡n cÃ³ thá»ƒ lÃ m nhÆ° tháº¿ nÃ y:

shared/api/songs.ts

```
import type { Artist } from "./artists";

interface Song {
  id: number;
  title: string;
  artists: Array<Artist>;
}

export function listSongs() {
  return fetch('/api/songs').then((res) => res.json() as Promise<Array<Song>>);
}
```

Báº¡n cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng type `Song` tham chiáº¿u Ä‘áº¿n má»™t entity khÃ¡c, `Artist`. ÄÃ¢y lÃ  lá»£i Ã­ch cá»§a viá»‡c lÆ°u trá»¯ requests cá»§a báº¡n trong Shared â€” cÃ¡c types tháº¿ giá»›i thá»±c thÆ°á»ng Ä‘an xen. Náº¿u chÃºng ta giá»¯ function nÃ y trong `entities/song/api`, chÃºng ta sáº½ khÃ´ng thá»ƒ Ä‘Æ¡n giáº£n import `Artist` tá»« `entities/artist`, vÃ¬ FSD háº¡n cháº¿ cross-imports giá»¯a cÃ¡c slices vá»›i [import rule trÃªn cÃ¡c layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers):

> Má»™t module trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slices khÃ¡c khi chÃºng Ä‘Æ°á»£c Ä‘áº·t trÃªn cÃ¡c layers á»Ÿ phÃ­a dÆ°á»›i.

CÃ³ hai cÃ¡ch Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y:

1. **Tham sá»‘ hÃ³a cÃ¡c types cá»§a báº¡n**<br /><!-- -->Báº¡n cÃ³ thá»ƒ lÃ m cho types cá»§a mÃ¬nh cháº¥p nháº­n type arguments lÃ m slots cho cÃ¡c káº¿t ná»‘i vá»›i entities khÃ¡c, vÃ  tháº­m chÃ­ Ã¡p dá»¥ng constraints trÃªn nhá»¯ng slots Ä‘Ã³. VÃ­ dá»¥:

   entities/song/model/song.ts

   ```
   interface Song<ArtistType extends { id: string }> {
     id: number;
     title: string;
     artists: Array<ArtistType>;
   }
   ```

   Äiá»u nÃ y hoáº¡t Ä‘á»™ng tá»‘t hÆ¡n cho má»™t sá»‘ types so vá»›i nhá»¯ng types khÃ¡c. Má»™t type Ä‘Æ¡n giáº£n nhÆ° `Cart = { items: Array<Product> }` cÃ³ thá»ƒ dá»… dÃ ng Ä‘Æ°á»£c lÃ m Ä‘á»ƒ hoáº¡t Ä‘á»™ng vá»›i báº¥t ká»³ loáº¡i product nÃ o. CÃ¡c types káº¿t ná»‘i nhiá»u hÆ¡n, nhÆ° `Country` vÃ  `City`, cÃ³ thá»ƒ khÃ´ng dá»… tÃ¡ch rá»i.

2. **Cross-import (nhÆ°ng lÃ m Ä‘Ãºng cÃ¡ch)**<br /><!-- -->Äá»ƒ thá»±c hiá»‡n cross-imports giá»¯a cÃ¡c entities trong FSD, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng public API Ä‘áº·c biá»‡t dÃ nh riÃªng cho má»—i slice sáº½ cross-importing. VÃ­ dá»¥, náº¿u chÃºng ta cÃ³ entities `song`, `artist`, vÃ  `playlist`, vÃ  hai cÃ¡i sau cáº§n tham chiáº¿u `song`, chÃºng ta cÃ³ thá»ƒ táº¡o hai public APIs Ä‘áº·c biá»‡t cho cáº£ hai trong entity `song` vá»›i kÃ½ hiá»‡u `@x`:

   * ğŸ“‚ entities

     <!-- -->

     * ğŸ“‚ song

       <!-- -->

       * ğŸ“‚ @x

         <!-- -->

         * ğŸ“„ artist.ts (public API cho entity `artist` Ä‘á»ƒ import)
         * ğŸ“„ playlist.ts (public API cho entity `playlist` Ä‘á»ƒ import)

       * ğŸ“„ index.ts (public API thÃ´ng thÆ°á»ng)

   Ná»™i dung cá»§a file `ğŸ“„ entities/song/@x/artist.ts` tÆ°Æ¡ng tá»± nhÆ° `ğŸ“„ entities/song/index.ts`:

   entities/song/@x/artist.ts

   ```
   export type { Song } from "../model/song.ts";
   ```

   Sau Ä‘Ã³ `ğŸ“„ entities/artist/model/artist.ts` cÃ³ thá»ƒ import `Song` nhÆ° tháº¿ nÃ y:

   entities/artist/model/artist.ts

   ```
   import type { Song } from "entities/song/@x/artist";

   export interface Artist {
     name: string;
     songs: Array<Song>;
   }
   ```

   Báº±ng cÃ¡ch táº¡o káº¿t ná»‘i rÃµ rÃ ng giá»¯a cÃ¡c entities, chÃºng ta kiá»ƒm soÃ¡t Ä‘Æ°á»£c inter-dependencies vÃ  duy trÃ¬ má»©c Ä‘á»™ phÃ¢n tÃ¡ch domain tá»‘t.

## Data transfer objects vÃ  mappers[â€‹](#data-transfer-objects-and-mappers "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Data transfer objects, hay DTOs, lÃ  thuáº­t ngá»¯ mÃ´ táº£ hÃ¬nh dáº¡ng cá»§a dá»¯ liá»‡u Ä‘áº¿n tá»« backend. ÄÃ´i khi, DTO cÃ³ thá»ƒ sá»­ dá»¥ng ngay, nhÆ°ng Ä‘Ã´i khi nÃ³ khÃ´ng thuáº­n tiá»‡n cho frontend. ÄÃ³ lÃ  lÃºc mappers xuáº¥t hiá»‡n â€” chÃºng biáº¿n Ä‘á»•i DTO thÃ nh hÃ¬nh dáº¡ng thuáº­n tiá»‡n hÆ¡n.

### Äáº·t DTOs á»Ÿ Ä‘Ã¢u[â€‹](#Ä‘áº·t-dtos-á»Ÿ-Ä‘Ã¢u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u báº¡n cÃ³ backend types trong package riÃªng (vÃ­ dá»¥, náº¿u báº¡n chia sáº» code giá»¯a frontend vÃ  backend), thÃ¬ chá»‰ cáº§n import DTOs tá»« Ä‘Ã³ vÃ  xong! Náº¿u báº¡n khÃ´ng chia sáº» code giá»¯a backend vÃ  frontend, thÃ¬ báº¡n cáº§n giá»¯ DTOs á»Ÿ Ä‘Ã¢u Ä‘Ã³ trong frontend codebase, vÃ  chÃºng ta sáº½ khÃ¡m phÃ¡ trÆ°á»ng há»£p nÃ y dÆ°á»›i Ä‘Ã¢y.

Náº¿u báº¡n cÃ³ request functions trong `shared/api`, Ä‘Ã³ lÃ  nÆ¡i DTOs nÃªn á»Ÿ, ngay cáº¡nh function sá»­ dá»¥ng chÃºng:

shared/api/songs.ts

```
import type { ArtistDTO } from "./artists";

interface SongDTO {
  id: number;
  title: string;
  artist_ids: Array<ArtistDTO["id"]>;
}

export function listSongs() {
  return fetch('/api/songs').then((res) => res.json() as Promise<Array<SongDTO>>);
}
```

NhÆ° Ä‘Ã£ Ä‘á» cáº­p trong pháº§n trÆ°á»›c, lÆ°u trá»¯ requests vÃ  DTOs cá»§a báº¡n trong Shared mang láº¡i lá»£i Ã­ch cÃ³ thá»ƒ tham chiáº¿u DTOs khÃ¡c.

### Äáº·t mappers á»Ÿ Ä‘Ã¢u[â€‹](#Ä‘áº·t-mappers-á»Ÿ-Ä‘Ã¢u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Mappers lÃ  cÃ¡c functions cháº¥p nháº­n DTO Ä‘á»ƒ biáº¿n Ä‘á»•i, vÃ  vÃ¬ váº­y, chÃºng nÃªn Ä‘Æ°á»£c Ä‘áº·t gáº§n Ä‘á»‹nh nghÄ©a cá»§a DTO. Trong thá»±c táº¿ Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  náº¿u requests vÃ  DTOs cá»§a báº¡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `shared/api`, thÃ¬ mappers cÅ©ng nÃªn á»Ÿ Ä‘Ã³:

shared/api/songs.ts

```
import type { ArtistDTO } from "./artists";

interface SongDTO {
  id: number;
  title: string;
  disc_no: number;
  artist_ids: Array<ArtistDTO["id"]>;
}

interface Song {
  id: string;
  title: string;
  /** TiÃªu Ä‘á» Ä‘áº§y Ä‘á»§ cá»§a bÃ i hÃ¡t, bao gá»“m sá»‘ Ä‘Ä©a. */
  fullTitle: string;
  artistIds: Array<string>;
}

function adaptSongDTO(dto: SongDTO): Song {
  return {
    id: String(dto.id),
    title: dto.title,
    fullTitle: `${dto.disc_no} / ${dto.title}`,
    artistIds: dto.artist_ids.map(String),
  };
}

export function listSongs() {
  return fetch('/api/songs').then(async (res) => (await res.json()).map(adaptSongDTO));
}
```

Náº¿u requests vÃ  stores cá»§a báº¡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong entity slices, thÃ¬ táº¥t cáº£ code nÃ y sáº½ Ä‘i vÃ o Ä‘Ã³, nhá»› lÆ°u Ã½ giá»›i háº¡n cá»§a cross-imports giá»¯a cÃ¡c slices:

entities/song/api/dto.ts

```
import type { ArtistDTO } from "entities/artist/@x/song";

export interface SongDTO {
  id: number;
  title: string;
  disc_no: number;
  artist_ids: Array<ArtistDTO["id"]>;
}
```

entities/song/api/mapper.ts

```
import type { SongDTO } from "./dto";

export interface Song {
  id: string;
  title: string;
  /** TiÃªu Ä‘á» Ä‘áº§y Ä‘á»§ cá»§a bÃ i hÃ¡t, bao gá»“m sá»‘ Ä‘Ä©a. */
  fullTitle: string;
  artistIds: Array<string>;
}

export function adaptSongDTO(dto: SongDTO): Song {
  return {
    id: String(dto.id),
    title: dto.title,
    fullTitle: `${dto.disc_no} / ${dto.title}`,
    artistIds: dto.artist_ids.map(String),
  };
}
```

entities/song/api/listSongs.ts

```
import { adaptSongDTO } from "./mapper";

export function listSongs() {
  return fetch('/api/songs').then(async (res) => (await res.json()).map(adaptSongDTO));
}
```

entities/song/model/songs.ts

```
import { createSlice, createEntityAdapter } from "@reduxjs/toolkit";

import { listSongs } from "../api/listSongs";

export const fetchSongs = createAsyncThunk('songs/fetchSongs', listSongs);

const songAdapter = createEntityAdapter();
const songsSlice = createSlice({
  name: "songs",
  initialState: songAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSongs.fulfilled, (state, action) => {
      songAdapter.upsertMany(state, action.payload);
    })
  },
});
```

### CÃ¡ch xá»­ lÃ½ nested DTOs[â€‹](#cÃ¡ch-xá»­-lÃ½-nested-dtos "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Pháº§n cÃ³ váº¥n Ä‘á» nháº¥t lÃ  khi response tá»« backend chá»©a nhiá»u entities. VÃ­ dá»¥, náº¿u bÃ i hÃ¡t bao gá»“m khÃ´ng chá»‰ IDs cá»§a tÃ¡c giáº£, mÃ  cáº£ toÃ n bá»™ author objects. Trong trÆ°á»ng há»£p nÃ y, khÃ´ng thá»ƒ cho cÃ¡c entities khÃ´ng biáº¿t vá» nhau (trá»« khi chÃºng ta muá»‘n loáº¡i bá» dá»¯ liá»‡u hoáº·c cÃ³ cuá»™c trÃ² chuyá»‡n nghiÃªm tÃºc vá»›i backend team). Thay vÃ¬ nghÄ© ra giáº£i phÃ¡p cho káº¿t ná»‘i giÃ¡n tiáº¿p giá»¯a cÃ¡c slices (nhÆ° common middleware sáº½ dispatch actions Ä‘áº¿n slices khÃ¡c), Æ°u tiÃªn cross-imports rÃµ rÃ ng vá»›i kÃ½ hiá»‡u `@x`. ÄÃ¢y lÃ  cÃ¡ch chÃºng ta cÃ³ thá»ƒ triá»ƒn khai vá»›i Redux Toolkit:

entities/song/model/songs.ts

```
import {
  createSlice,
  createEntityAdapter,
  createAsyncThunk,
  createSelector,
} from '@reduxjs/toolkit'
import { normalize, schema } from 'normalizr'

import { getSong } from "../api/getSong";

// Äá»‹nh nghÄ©a normalizr entity schemas
export const artistEntity = new schema.Entity('artists')
export const songEntity = new schema.Entity('songs', {
  artists: [artistEntity],
})

const songAdapter = createEntityAdapter()

export const fetchSong = createAsyncThunk(
  'songs/fetchSong',
  async (id: string) => {
    const data = await getSong(id)
    // Normalize dá»¯ liá»‡u Ä‘á»ƒ reducers cÃ³ thá»ƒ load payload dá»± Ä‘oÃ¡n Ä‘Æ°á»£c, nhÆ°:
    // `action.payload = { songs: {}, artists: {} }`
    const normalized = normalize(data, songEntity)
    return normalized.entities
  }
)

export const slice = createSlice({
  name: 'songs',
  initialState: songAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSong.fulfilled, (state, action) => {
      songAdapter.upsertMany(state, action.payload.songs)
    })
  },
})

const reducer = slice.reducer
export default reducer
```

entities/song/@x/artist.ts

```
export { fetchSong } from "../model/songs";
```

entities/artist/model/artists.ts

```
import { createSlice, createEntityAdapter } from '@reduxjs/toolkit'

import { fetchSong } from 'entities/song/@x/artist'

const artistAdapter = createEntityAdapter()

export const slice = createSlice({
  name: 'users',
  initialState: artistAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSong.fulfilled, (state, action) => {
      // VÃ  xá»­ lÃ½ cÃ¹ng fetch result báº±ng cÃ¡ch chÃ¨n artists á»Ÿ Ä‘Ã¢y
      artistAdapter.upsertMany(state, action.payload.artists)
    })
  },
})

const reducer = slice.reducer
export default reducer
```

Äiá»u nÃ y háº¡n cháº¿ má»™t chÃºt lá»£i Ã­ch cá»§a slice isolation, nhÆ°ng nÃ³ thá»ƒ hiá»‡n chÃ­nh xÃ¡c káº¿t ná»‘i giá»¯a hai entities nÃ y mÃ  chÃºng ta khÃ´ng kiá»ƒm soÃ¡t Ä‘Æ°á»£c. Náº¿u cÃ¡c entities nÃ y cáº§n Ä‘Æ°á»£c refactor, chÃºng pháº£i Ä‘Æ°á»£c refactor cÃ¹ng nhau.

## Global types vÃ  Redux[â€‹](#global-types-vÃ -redux "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Global types lÃ  types sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng trong toÃ n bá»™ á»©ng dá»¥ng. CÃ³ hai loáº¡i global types, dá»±a trÃªn nhá»¯ng gÃ¬ chÃºng cáº§n biáº¿t:

1. Generic types khÃ´ng cÃ³ báº¥t ká»³ Ä‘áº·c Ä‘iá»ƒm á»©ng dá»¥ng nÃ o
2. Types cáº§n biáº¿t vá» toÃ n bá»™ á»©ng dá»¥ng

TrÆ°á»ng há»£p Ä‘áº§u tiÃªn Ä‘Æ¡n giáº£n Ä‘á»ƒ giáº£i quyáº¿t â€” Ä‘áº·t types cá»§a báº¡n trong Shared, trong segment phÃ¹ há»£p. VÃ­ dá»¥, náº¿u báº¡n cÃ³ interface cho global variable cho analytics, báº¡n cÃ³ thá»ƒ Ä‘áº·t nÃ³ trong `shared/analytics`.

cáº£nh bÃ¡o

TrÃ¡nh táº¡o folder `shared/types`. NÃ³ nhÃ³m nhá»¯ng thá»© khÃ´ng liÃªn quan chá»‰ dá»±a trÃªn thuá»™c tÃ­nh "lÃ  má»™t type", vÃ  thuá»™c tÃ­nh Ä‘Ã³ thÆ°á»ng khÃ´ng há»¯u Ã­ch khi tÃ¬m kiáº¿m code trong dá»± Ã¡n.

TrÆ°á»ng há»£p thá»© hai thÆ°á»ng gáº·p trong cÃ¡c dá»± Ã¡n vá»›i Redux khÃ´ng cÃ³ RTK. Store type cuá»‘i cÃ¹ng cá»§a báº¡n chá»‰ cÃ³ sáºµn khi báº¡n thÃªm táº¥t cáº£ reducers láº¡i vá»›i nhau, nhÆ°ng store type nÃ y cáº§n cÃ³ sáºµn cho selectors mÃ  báº¡n sá»­ dá»¥ng trong app. VÃ­ dá»¥, Ä‘Ã¢y lÃ  Ä‘á»‹nh nghÄ©a store Ä‘iá»ƒn hÃ¬nh cá»§a báº¡n:

app/store/index.ts

```
import { combineReducers, rootReducer } from "redux";

import { songReducer } from "entities/song";
import { artistReducer } from "entities/artist";

const rootReducer = combineReducers(songReducer, artistReducer);

const store = createStore(rootReducer);

type RootState = ReturnType<typeof rootReducer>;
type AppDispatch = typeof store.dispatch;
```

Sáº½ tá»‘t náº¿u cÃ³ typed Redux hooks `useAppDispatch` vÃ  `useAppSelector` trong `shared/store`, nhÆ°ng chÃºng khÃ´ng thá»ƒ import `RootState` vÃ  `AppDispatch` tá»« App layer do [import rule trÃªn layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers):

> Má»™t module trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slices khÃ¡c khi chÃºng Ä‘Æ°á»£c Ä‘áº·t trÃªn layers nghiÃªm ngáº·t bÃªn dÆ°á»›i.

Giáº£i phÃ¡p Ä‘Æ°á»£c khuyáº¿n nghá»‹ trong trÆ°á»ng há»£p nÃ y lÃ  táº¡o implicit dependency giá»¯a layers Shared vÃ  App. Hai types nÃ y, `RootState` vÃ  `AppDispatch` khÃ´ng cháº¯c sáº½ thay Ä‘á»•i, vÃ  chÃºng sáº½ quen thuá»™c vá»›i Redux developers, vÃ¬ váº­y chÃºng ta khÃ´ng pháº£i lo láº¯ng vá» chÃºng nhiá»u.

Trong TypeScript, báº¡n cÃ³ thá»ƒ lÃ m Ä‘iá»u Ä‘Ã³ báº±ng cÃ¡ch khai bÃ¡o types lÃ  global nhÆ° tháº¿ nÃ y:

app/store/index.ts

```
/* cÃ¹ng ná»™i dung nhÆ° trong code block trÆ°á»›câ€¦ */

declare type RootState = ReturnType<typeof rootReducer>;
declare type AppDispatch = typeof store.dispatch;
```

shared/store/index.ts

```
import { useDispatch, useSelector, type TypedUseSelectorHook } from "react-redux";

export const useAppDispatch = useDispatch.withTypes<AppDispatch>()
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

## Enums[â€‹](#enums "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Quy táº¯c chung vá»›i enums lÃ  chÃºng nÃªn Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a **cÃ ng gáº§n vá»›i vá»‹ trÃ­ sá»­ dá»¥ng cÃ ng tá»‘t**. Khi enum Ä‘áº¡i diá»‡n cho cÃ¡c giÃ¡ trá»‹ cá»¥ thá»ƒ cho má»™t feature duy nháº¥t, nÃ³ nÃªn Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong cÃ¹ng feature Ä‘Ã³.

Viá»‡c chá»n segment cÅ©ng nÃªn Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh bá»Ÿi vá»‹ trÃ­ sá»­ dá»¥ng. Náº¿u enum cá»§a báº¡n chá»©a, vÃ­ dá»¥, vá»‹ trÃ­ cá»§a toast trÃªn mÃ n hÃ¬nh, nÃ³ nÃªn Ä‘Æ°á»£c Ä‘áº·t trong segment `ui`. Náº¿u nÃ³ Ä‘áº¡i diá»‡n cho loading state cá»§a backend operation, nÃ³ nÃªn Ä‘Æ°á»£c Ä‘áº·t trong segment `api`.

Má»™t sá»‘ enums thá»±c sá»± chung cho toÃ n bá»™ dá»± Ã¡n, nhÆ° general backend response statuses hoáº·c design system tokens. Trong trÆ°á»ng há»£p nÃ y, báº¡n cÃ³ thá»ƒ Ä‘áº·t chÃºng trong Shared, vÃ  chá»n segment dá»±a trÃªn enum Ä‘áº¡i diá»‡n cho gÃ¬ (`api` cho response statuses, `ui` cho design tokens, v.v.).

## Type validation schemas vÃ  Zod[â€‹](#type-validation-schemas-vÃ -zod "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u báº¡n muá»‘n validate ráº±ng dá»¯ liá»‡u cá»§a báº¡n phÃ¹ há»£p vá»›i hÃ¬nh dáº¡ng hoáº·c rÃ ng buá»™c nháº¥t Ä‘á»‹nh, báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a validation schema. Trong TypeScript, library phá»• biáº¿n cho cÃ´ng viá»‡c nÃ y lÃ  [Zod](https://zod.dev). Validation schemas cÅ©ng nÃªn Ä‘Æ°á»£c colocated vá»›i code sá»­ dá»¥ng chÃºng, cÃ ng nhiá»u cÃ ng tá»‘t.

Validation schemas tÆ°Æ¡ng tá»± nhÆ° mappers (nhÆ° Ä‘Ã£ tháº£o luáº­n trong pháº§n [Data transfer objects vÃ  mappers](#data-transfer-objects-and-mappers)) á»Ÿ chá»— chÃºng nháº­n data transfer object vÃ  parse nÃ³, táº¡o ra lá»—i náº¿u parsing tháº¥t báº¡i.

Má»™t trong nhá»¯ng trÆ°á»ng há»£p phá»• biáº¿n nháº¥t cá»§a validation lÃ  cho dá»¯ liá»‡u Ä‘áº¿n tá»« backend. ThÃ´ng thÆ°á»ng, báº¡n muá»‘n request tháº¥t báº¡i khi dá»¯ liá»‡u khÃ´ng khá»›p vá»›i schema, vÃ¬ váº­y há»£p lÃ½ khi Ä‘áº·t schema á»Ÿ cÃ¹ng nÆ¡i vá»›i request function, thÆ°á»ng lÃ  segment `api`.

Náº¿u dá»¯ liá»‡u cá»§a báº¡n Ä‘áº¿n qua user input, nhÆ° form, validation nÃªn xáº£y ra khi dá»¯ liá»‡u Ä‘ang Ä‘Æ°á»£c nháº­p. Báº¡n cÃ³ thá»ƒ Ä‘áº·t schema trong segment `ui`, cáº¡nh form component, hoáº·c trong segment `model`, náº¿u segment `ui` quÃ¡ Ä‘Ã´ng.

## Typings cá»§a component props vÃ  context[â€‹](#typings-cá»§a-component-props-vÃ -context "Link trá»±c tiáº¿p Ä‘áº¿n heading")

NÃ³i chung, tá»‘t nháº¥t lÃ  giá»¯ props hoáº·c context interface trong cÃ¹ng file vá»›i component hoáº·c context sá»­ dá»¥ng chÃºng. Náº¿u báº¡n cÃ³ framework vá»›i single-file components, nhÆ° Vue hoáº·c Svelte, vÃ  báº¡n khÃ´ng thá»ƒ Ä‘á»‹nh nghÄ©a props interface trong cÃ¹ng file, hoáº·c báº¡n muá»‘n chia sáº» interface Ä‘Ã³ giá»¯a nhiá»u components, táº¡o file riÃªng trong cÃ¹ng folder, thÆ°á»ng lÃ  segment `ui`.

ÄÃ¢y lÃ  vÃ­ dá»¥ vá»›i JSX (React hoáº·c Solid):

pages/home/ui/RecentActions.tsx

```
interface RecentActionsProps {
  actions: Array<{ id: string; text: string }>;
}

export function RecentActions({ actions }: RecentActionsProps) {
  /* â€¦ */
}
```

VÃ  Ä‘Ã¢y lÃ  vÃ­ dá»¥ vá»›i interface Ä‘Æ°á»£c lÆ°u trong file riÃªng cho Vue:

pages/home/ui/RecentActionsProps.ts

```
export interface RecentActionsProps {
  actions: Array<{ id: string; text: string }>;
}
```

pages/home/ui/RecentActions.vue

```
<script setup lang="ts">
  import type { RecentActionsProps } from "./RecentActionsProps";

  const props = defineProps<RecentActionsProps>();
</script>
```

## Ambient declaration files (`*.d.ts`)[â€‹](#ambient-declaration-files-dts "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»™t sá»‘ packages, vÃ­ dá»¥, [Vite](https://vitejs.dev) hoáº·c [ts-reset](https://www.totaltypescript.com/ts-reset), yÃªu cáº§u ambient declaration files Ä‘á»ƒ hoáº¡t Ä‘á»™ng trong app cá»§a báº¡n. ThÆ°á»ng thÃ¬ chÃºng khÃ´ng lá»›n hoáº·c phá»©c táº¡p, vÃ¬ váº­y chÃºng thÆ°á»ng khÃ´ng yÃªu cáº§u báº¥t ká»³ architecting nÃ o, cÃ³ thá»ƒ chá»‰ cáº§n Ä‘áº·t chÃºng trong folder `src/`. Äá»ƒ giá»¯ `src` cÃ³ tá»• chá»©c hÆ¡n, báº¡n cÃ³ thá»ƒ giá»¯ chÃºng trÃªn App layer, trong `app/ambient/`.

CÃ¡c packages khÃ¡c Ä‘Æ¡n giáº£n lÃ  khÃ´ng cÃ³ typings, vÃ  báº¡n cÃ³ thá»ƒ muá»‘n khai bÃ¡o chÃºng lÃ  untyped hoáº·c tháº­m chÃ­ viáº¿t typings riÃªng cho chÃºng. NÆ¡i tá»‘t cho nhá»¯ng typings Ä‘Ã³ sáº½ lÃ  `shared/lib`, trong folder nhÆ° `shared/lib/untyped-packages`. Táº¡o file `%LIBRARY_NAME%.d.ts` á»Ÿ Ä‘Ã³ vÃ  khai bÃ¡o types báº¡n cáº§n:

shared/lib/untyped-packages/use-react-screenshot.d.ts

```
// Library nÃ y khÃ´ng cÃ³ typings, vÃ  chÃºng tÃ´i khÃ´ng muá»‘n phiá»n viáº¿t riÃªng.
declare module "use-react-screenshot";
```

## Tá»± Ä‘á»™ng sinh types[â€‹](#tá»±-Ä‘á»™ng-sinh-types "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÆ°á»ng xuyÃªn sinh types tá»« nguá»“n bÃªn ngoÃ i, vÃ­ dá»¥, sinh backend types tá»« OpenAPI schema. Trong trÆ°á»ng há»£p nÃ y, táº¡o nÆ¡i chuyÃªn dá»¥ng trong codebase cá»§a báº¡n cho nhá»¯ng types nÃ y, nhÆ° `shared/api/openapi`. LÃ½ tÆ°á»Ÿng nháº¥t, báº¡n cÅ©ng nÃªn bao gá»“m README trong folder Ä‘Ã³ mÃ´ táº£ nhá»¯ng files nÃ y lÃ  gÃ¬, cÃ¡ch tÃ¡i táº¡o chÃºng, v.v.


---

# White Labels

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/215)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Figma, brand uikit, templates, adaptability to brands

## See also[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) About the application for white-labels (branded) projects](https://t.me/feature_sliced/1543)
* [(Presentation) About white-labels apps and design](http://yadi.sk/i/5IdhzsWrpO3v4Q)


---

# Cross-imports

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/220)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Cross-imports xuáº¥t hiá»‡n khi layer hoáº·c abstraction báº¯t Ä‘áº§u Ä‘áº£m nháº­n quÃ¡ nhiá»u trÃ¡ch nhiá»‡m hÆ¡n nÃ³ nÃªn. ÄÃ³ lÃ  lÃ½ do táº¡i sao phÆ°Æ¡ng phÃ¡p luáº­n xÃ¡c Ä‘á»‹nh cÃ¡c layers má»›i cho phÃ©p báº¡n tÃ¡ch rá»i nhá»¯ng cross-imports nÃ y

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) Vá» tÃ­nh khÃ´ng thá»ƒ trÃ¡nh khá»i cá»§a cross-ports](https://t.me/feature_sliced/4515)
* [(Thread) Vá» viá»‡c giáº£i quyáº¿t cross-ports trong entities](https://t.me/feature_sliced/3678)
* [(Thread) Vá» cross-imports vÃ  responsibility](https://t.me/feature_sliced/3287)
* [(Thread) Vá» imports giá»¯a cÃ¡c segments](https://t.me/feature_sliced/4021)
* [(Thread) Vá» cross-imports bÃªn trong shared](https://t.me/feature_sliced/3618)


---

# Desegmentation

Desegmentation (also known as horizontal slicing or packaging by layer) is a code organization pattern where files are grouped by their technical roles rather than by the business domains they serve. This means code with similar technical functions is stored in the same place, regardless of the business logic it handles.

This approach is popular in meta-frameworks like Next and Nuxt due to its simplicity, as it's easy to get started and enables features like auto-imports and file-based routing:

* ğŸ“‚ app

  <!-- -->

  * ğŸ“‚ components

    <!-- -->

    * ğŸ“„ DeliveryCard.jsx
    * ğŸ“„ DeliveryChoice.jsx
    * ğŸ“„ RegionSelect.jsx
    * ğŸ“„ UserAvatar.jsx

  * ğŸ“‚ actions

    <!-- -->

    * ğŸ“„ delivery.js
    * ğŸ“„ region.js
    * ğŸ“„ user.js

  * ğŸ“‚ composables

    <!-- -->

    * ğŸ“„ delivery.js
    * ğŸ“„ region.js
    * ğŸ“„ user.js

  * ğŸ“‚ constants

    <!-- -->

    * ğŸ“„ delivery.js
    * ğŸ“„ region.js
    * ğŸ“„ user.js

  * ğŸ“‚ utils

    <!-- -->

    * ğŸ“„ delivery.js
    * ğŸ“„ region.js
    * ğŸ“„ user.js

  * ğŸ“‚ stores

    <!-- -->

    * ğŸ“‚ delivery

      <!-- -->

      * ğŸ“„ getters.js
      * ğŸ“„ actions.js

This pattern also occurs in FSD codebases, in the form of generic folders:

* ğŸ“‚ features
  <!-- -->
  * ğŸ“‚ delivery
    <!-- -->
    * ğŸ“‚ ui
      <!-- -->
      * ğŸ“‚ components âš ï¸
* ğŸ“‚ entities
  <!-- -->
  * ğŸ“‚ recommendations
    <!-- -->
    * ğŸ“‚ utils âš ï¸

Files can also be a source of desegmentation. Files like `types.ts` can aggregate multiple domains, complicating navigation and future refactoring, especially in layers like `pages` or `widgets`:

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ delivery

    <!-- -->

    * ğŸ“„ index.ts

    * ğŸ“‚ ui

      <!-- -->

      * ğŸ“„ DeliveryCard.tsx
      * ğŸ“„ DeliveryChoice.tsx
      * ğŸ“„ UserAvatar.tsx

    * ğŸ“‚ model

      <!-- -->

      * ğŸ“„ types.ts âš ï¸
      * ğŸ“„ utils.ts âš ï¸

    * ğŸ“‚ api
      <!-- -->
      * ğŸ“„ endpoints.ts âš ï¸

- types.ts
- utils.ts
- endpoints.ts

pages/delivery/model/types.ts

```
// âŒ Bad: Mixed business domains in generic file
export interface DeliveryOption {
  id: string;
  name: string;
  price: number;
}

export interface UserInfo {
  id: string;
  name: string;
  avatar: string;
}
```

pages/delivery/model/utils.ts

```
// âŒ Bad: Mixed business domains in generic file
export function formatDeliveryPrice(price: number) {
  return `$${price.toFixed(2)}`;
}

export function getUserInitials(name: string) {
  return name.split(' ').map(n => n[0]).join('');
}
```

pages/delivery/api/endpoints.ts

```
// âŒ Bad: Mixed business domains in generic file
export async function fetchDeliveryOptions() { /* ... */ }
export async function fetchUserInfo() { /* ... */ }
```

## The Problem[â€‹](#the-problem "Link trá»±c tiáº¿p Ä‘áº¿n heading")

While this structure is easy to start with, it can lead to scalability issues in larger projects:

* Low Cohesion: Modifying a single feature often requires editing files in multiple large folders, such as `pages`, `components`, and `stores`.

* Tight Coupling: Components can have unexpected dependencies, leading to complex and tangled dependency chains.

* Difficult Refactoring: It requires additional effort to manually extract code related to a specific domain.

## Solution[â€‹](#solution "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Group all code that relates to a specific domain in one place.

Avoid generic folder names such as `types`, `components`, `utils`, as well as generic file names like `types.ts`, `utils.ts`, or `helpers.ts`. Instead, use names that directly reflect the domain they represent.

Avoid generic file names like `types.ts` if possible, especially in slices with multiple domains:

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ delivery

    <!-- -->

    * ğŸ“„ index.tsx

    * ğŸ“‚ ui

      <!-- -->

      * ğŸ“„ DeliveryPage.tsx
      * ğŸ“„ DeliveryCard.tsx
      * ğŸ“„ DeliveryChoice.tsx
      * ğŸ“„ UserInfo.tsx

    * ğŸ“‚ model

      <!-- -->

      * ğŸ“„ delivery.ts
      * ğŸ“„ user.ts

## See Also[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Article) About Low Coupling and High Cohesion clearly](https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/)
* [(Article) Low Coupling and High Cohesion. The Law of Demeter](https://medium.com/german-gorelkin/low-coupling-high-cohesion-d36369fb1be9)


---

# Excessive Entities

The `entities` layer in Feature-Sliced Design is one of the lower layers that's primarily for business logic. That makes it widely accessible â€” all layers except for `shared` can access it. However, its global nature means that changes to `entities` can have a widespread impact, requiring careful design to avoid costly refactors.

Excessive entities can lead to ambiguity (what code belongs to this layer), coupling, and constant import dilemmas (code scattered across sibling entities).

## How to keep `entities` layer clean[â€‹](#how-to-keep-entities-layer-clean "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### 0. Consider having no `entities` layer[â€‹](#0-consider-having-no-entities-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

You might think that your application won't be Feature-Sliced if you don't include this layer, but it is completely fine for the application to have no `entities` layer. It doesn't break FSD in any way, on the contrary, it simplifies the architecture and keeps the `entities` layer available for future scaling. For example, if your application acts as a thin client, most likely it doesn't need `entities` layer.

What are thick and thin clients?

*Thick* vs. *thin client* distinction refers to how the application processes data:

* *Thin* clients rely on the backend for most data processing. Client-side business logic is minimal and involves only exchanging data with the backend.
* *Thick* clients handle significant client-side business logic, making them suitable candidates for the `entities` layer.

Keep in mind that this classification is not strictly binary, and different parts of the same application may act as a "thick" or a "thin" client.

### 1. Avoid preemptive slicing[â€‹](#1-avoid-preemptive-slicing "Link trá»±c tiáº¿p Ä‘áº¿n heading")

In contrast to previous versions, FSD 2.1 encourages deferred decomposition of slices instead of preemptive, and this approach also extends to `entities` layer. At first, you can place all your code in the `model` segment of your page (widget, feature), and then consider refactoring it later, when business requirements are stable.

Remember: the later you move code to the `entities` layer, the less dangerous your potential refactors will be â€” code in Entities may affect functionality of any slice on higher layers.

### 2. Avoid Unnecessary Entities[â€‹](#2-avoid-unnecessary-entities "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Do not create an entity for every piece of business logic. Instead, leverage types from `shared/api` and place logic in the `model` segment of a current slice. For reusable business logic, use the `model` segment within an entity slice while keeping data definitions in `shared/api`:

```
ğŸ“‚ entities
  ğŸ“‚ order
    ğŸ“„ index.ts
    ğŸ“‚ model
      ğŸ“„ apply-discount.ts // Business logic using OrderDto from shared/api
ğŸ“‚ shared
  ğŸ“‚ api
    ğŸ“„ index.ts
    ğŸ“‚ endpoints
      ğŸ“„ order.ts
```

### 3. Exclude CRUD Operations from Entities[â€‹](#3-exclude-crud-operations-from-entities "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CRUD operations, while essential, often involve boilerplate code without significant business logic. Including them in the `entities` layer can clutter it and obscure meaningful code. Instead, place CRUD operations in `shared/api`:

```
ğŸ“‚ shared
  ğŸ“‚ api
    ğŸ“„ client.ts
    ğŸ“„ index.ts
    ğŸ“‚ endpoints
      ğŸ“„ order.ts // Contains all order-related CRUD operations
      ğŸ“„ products.ts
      ğŸ“„ cart.ts
```

For complex CRUD operations (e.g., atomic updates, rollbacks, or transactions), evaluate whether the `entities` layer is appropriate, but use it with caution.

### 4. Store Authentication Data in `shared`[â€‹](#4-store-authentication-data-in-shared "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Prefer `shared` layer to creating a `user` entity for authentication data, such as tokens or user DTOs returned from the backend. These are context-specific and unlikely to be reused outside authentication scope:

* Authentication responses (e.g., tokens or DTOs) often lack fields needed for broader reuse or vary by context (e.g., private vs. public user profiles).
* Using entities for auth data can lead to cross-layer imports (e.g., `entities` into `shared`) or usage of `@x` notation, complicating the architecture.

Instead, store authentication-related data in `shared/auth` or `shared/api`:

```
ğŸ“‚ shared
  ğŸ“‚ auth
    ğŸ“„ use-auth.ts // authenticated user info or token
    ğŸ“„ index.ts
  ğŸ“‚ api
    ğŸ“„ client.ts
    ğŸ“„ index.ts
    ğŸ“‚ endpoints
      ğŸ“„ order.ts
```

For more details on implementing authentication, see [the Authentication guide](/documentation/vi/docs/guides/examples/auth.md).

### 5. Minimize Cross-Imports[â€‹](#5-minimize-cross-imports "Link trá»±c tiáº¿p Ä‘áº¿n heading")

FSD permits cross-imports via `@x` notation, but they can introduce technical issues like circular dependencies. To avoid this, design entities within isolated business contexts to eliminate the need for cross-imports:

Non-Isolated Business Context (Avoid):

```
ğŸ“‚ entities
  ğŸ“‚ order
    ğŸ“‚ @x
    ğŸ“‚ model
  ğŸ“‚ order-item
    ğŸ“‚ @x
    ğŸ“‚ model
  ğŸ“‚ order-customer-info
    ğŸ“‚ @x
    ğŸ“‚ model
```

Isolated Business Context (Preferred):

```
ğŸ“‚ entities
  ğŸ“‚ order-info
    ğŸ“„ index.ts
    ğŸ“‚ model
      ğŸ“„ order-info.ts
```

An isolated context encapsulates all related logic (e.g., order items and customer info) within a single module, reducing complexity and preventing external modifications to tightly coupled logic.


---

# Routing

WIP

BÃ i viáº¿t Ä‘ang trong quÃ¡ trÃ¬nh hoÃ n thiá»‡n

Äá»ƒ Ä‘áº©y nhanh viá»‡c phÃ¡t hÃ nh bÃ i viáº¿t, báº¡n cÃ³ thá»ƒ:

* ğŸ“¢ Chia sáº» pháº£n há»“i cá»§a báº¡n [táº¡i bÃ i viáº¿t (comment/emoji-reaction)](https://github.com/feature-sliced/documentation/issues/169)
* ğŸ’¬ Thu tháº­p tÃ i liá»‡u liÃªn quan [vá» chá»§ Ä‘á» tá»« chat](https://t.me/feature_sliced)
* âš’ï¸ ÄÃ³ng gÃ³p [báº±ng báº¥t ká»³ cÃ¡ch nÃ o khÃ¡c](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## TÃ¬nh huá»‘ng[â€‹](#tÃ¬nh-huá»‘ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

URL Ä‘áº¿n cÃ¡c trang Ä‘Æ°á»£c hardcode trong cÃ¡c layer bÃªn dÆ°á»›i pages

entities/post/card

```

<Card>
    <Card.Title 
        href={`/post/${data.id}`}
        title={data.name}
    />
    ...
</Card>
```

## Váº¥n Ä‘á»[â€‹](#váº¥n-Ä‘á» "Link trá»±c tiáº¿p Ä‘áº¿n heading")

URL khÃ´ng Ä‘Æ°á»£c táº­p trung trong layer pages, nÆ¡i chÃºng thuá»™c vá» theo pháº¡m vi trÃ¡ch nhiá»‡m

## Náº¿u bá» qua[â€‹](#náº¿u-bá»-qua "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Khi thay Ä‘á»•i URL, báº¡n sáº½ pháº£i nhá»› ráº±ng cÃ¡c URL nÃ y (vÃ  logic cá»§a URL/redirect) cÃ³ thá»ƒ náº±m á»Ÿ táº¥t cáº£ cÃ¡c layer trá»« pages

VÃ  Ä‘iá»u Ä‘Ã³ cÅ©ng cÃ³ nghÄ©a lÃ  giá» Ä‘Ã¢y ngay cáº£ má»™t product card Ä‘Æ¡n giáº£n cÅ©ng Ä‘áº£m nháº­n má»™t pháº§n trÃ¡ch nhiá»‡m tá»« pages, lÃ m má» logic cá»§a project

## Giáº£i phÃ¡p[â€‹](#giáº£i-phÃ¡p "Link trá»±c tiáº¿p Ä‘áº¿n heading")

XÃ¡c Ä‘á»‹nh cÃ¡ch lÃ m viá»‡c vá»›i URL/redirect tá»« cáº¥p Ä‘á»™ page trá»Ÿ lÃªn

Chuyá»ƒn xuá»‘ng cÃ¡c layer bÃªn dÆ°á»›i thÃ´ng qua composition/props/factories

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(Thread) Äiá»u gÃ¬ xáº£y ra náº¿u tÃ´i "may" routing trong entities/features/widgets](https://t.me/feature_sliced/4389)
* [(Thread) Táº¡i sao nÃ³ lÃ m má» logic cá»§a routes chá»‰ trong pages](https://t.me/feature_sliced/3756)


---

# Migration tá»« custom architecture

HÆ°á»›ng dáº«n nÃ y mÃ´ táº£ cÃ¡ch tiáº¿p cáº­n cÃ³ thá»ƒ há»¯u Ã­ch khi migration tá»« custom self-made architecture sang Feature-Sliced Design.

ÄÃ¢y lÃ  cáº¥u trÃºc folder cá»§a má»™t custom architecture Ä‘iá»ƒn hÃ¬nh. ChÃºng tÃ´i sáº½ sá»­ dá»¥ng nÃ³ lÃ m vÃ­ dá»¥ trong hÆ°á»›ng dáº«n nÃ y.<br /><!-- -->Nháº¥p vÃ o mÅ©i tÃªn xanh Ä‘á»ƒ má»Ÿ folder.

ğŸ“ src

* ğŸ“ actions

  * ğŸ“ product
  * ğŸ“ order

* ğŸ“ api

* ğŸ“ components

* ğŸ“ containers

* ğŸ“ constants

* ğŸ“ i18n

* ğŸ“ modules

* ğŸ“ helpers

* ğŸ“ routes

  * ğŸ“ products.jsx
  * ğŸ“„ products.\[id].jsx

* ğŸ“ utils

* ğŸ“ reducers

* ğŸ“ selectors

* ğŸ“ styles

* ğŸ“„ App.jsx

* ğŸ“„ index.js

## TrÆ°á»›c khi báº¡n báº¯t Ä‘áº§u[â€‹](#before-you-start "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¢u há»i quan trá»ng nháº¥t Ä‘á»ƒ há»i team cá»§a báº¡n khi cÃ¢n nháº¯c chuyá»ƒn sang Feature-Sliced Design lÃ  â€” *báº¡n cÃ³ thá»±c sá»± cáº§n nÃ³ khÃ´ng?* ChÃºng tÃ´i yÃªu Feature-Sliced Design, nhÆ°ng tháº­m chÃ­ chÃºng tÃ´i cÅ©ng nháº­n ra ráº±ng má»™t sá»‘ dá»± Ã¡n hoÃ n toÃ n á»•n mÃ  khÃ´ng cáº§n nÃ³.

ÄÃ¢y lÃ  má»™t sá»‘ lÃ½ do Ä‘á»ƒ cÃ¢n nháº¯c thá»±c hiá»‡n sá»± chuyá»ƒn Ä‘á»•i:

1. ThÃ nh viÃªn má»›i trong team phÃ n nÃ n ráº±ng khÃ³ Ä‘áº¡t Ä‘áº¿n má»©c Ä‘á»™ hiá»‡u quáº£
2. Thá»±c hiá»‡n modifications á»Ÿ má»™t pháº§n cá»§a code **thÆ°á»ng** gÃ¢y ra pháº§n khÃ¡c khÃ´ng liÃªn quan bá»‹ há»ng
3. ThÃªm functionality má»›i khÃ³ khÄƒn do sá»‘ lÆ°á»£ng lá»›n cÃ¡c thá»© báº¡n cáº§n suy nghÄ©

**TrÃ¡nh chuyá»ƒn sang FSD trÃ¡i vá»›i Ã½ muá»‘n cá»§a cÃ¡c Ä‘á»“ng Ä‘á»™i**, ngay cáº£ khi báº¡n lÃ  lead.<br /><!-- -->TrÆ°á»›c tiÃªn, hÃ£y thuyáº¿t phá»¥c cÃ¡c Ä‘á»“ng Ä‘á»™i ráº±ng lá»£i Ã­ch vÆ°á»£t trá»™i so vá»›i chi phÃ­ migration vÃ  chi phÃ­ há»c má»™t architecture má»›i thay vÃ¬ architecture Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p.

CÅ©ng cáº§n nhá»› ráº±ng báº¥t ká»³ loáº¡i thay Ä‘á»•i kiáº¿n trÃºc nÃ o cÅ©ng khÃ´ng ngay láº­p tá»©c cÃ³ thá»ƒ quan sÃ¡t Ä‘Æ°á»£c Ä‘á»‘i vá»›i quáº£n lÃ½. HÃ£y Ä‘áº£m báº£o há» Ä‘á»“ng Ã½ vá»›i viá»‡c chuyá»ƒn Ä‘á»•i trÆ°á»›c khi báº¯t Ä‘áº§u vÃ  giáº£i thÃ­ch cho há» táº¡i sao Ä‘iá»u nÃ y cÃ³ thá»ƒ cÃ³ lá»£i cho dá»± Ã¡n.

máº¹o

Náº¿u báº¡n cáº§n giÃºp Ä‘á»ƒ thuyáº¿t phá»¥c project manager ráº±ng FSD cÃ³ lá»£i, hÃ£y cÃ¢n nháº¯c má»™t sá»‘ Ä‘iá»ƒm nÃ y:

1. Migration sang FSD cÃ³ thá»ƒ diá»…n ra dáº§n dáº§n, vÃ¬ váº­y nÃ³ sáº½ khÃ´ng dá»«ng viá»‡c phÃ¡t triá»ƒn cÃ¡c tÃ­nh nÄƒng má»›i
2. Má»™t architecture tá»‘t cÃ³ thá»ƒ giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian mÃ  má»™t developer má»›i cáº§n Ä‘á»ƒ trá»Ÿ nÃªn hiá»‡u quáº£
3. FSD lÃ  má»™t architecture Ä‘Æ°á»£c tÃ i liá»‡u hÃ³a, vÃ¬ váº­y team khÃ´ng pháº£i liÃªn tá»¥c dÃ nh thá»i gian Ä‘á»ƒ duy trÃ¬ documentation riÃªng cá»§a há»

***

Náº¿u báº¡n Ä‘Ã£ quyáº¿t Ä‘á»‹nh báº¯t Ä‘áº§u migration, thÃ¬ Ä‘iá»u Ä‘áº§u tiÃªn báº¡n muá»‘n lÃ m lÃ  thiáº¿t láº­p má»™t alias cho `ğŸ“ src`. Äiá»u nÃ y sáº½ há»¯u Ã­ch sau nÃ y khi tham chiáº¿u Ä‘áº¿n cÃ¡c folder táº§ng cao. ChÃºng tÃ´i sáº½ coi `@` lÃ  alias cho `./src` trong pháº§n cÃ²n láº¡i cá»§a hÆ°á»›ng dáº«n nÃ y.

## BÆ°á»›c 1. Chia code theo pages[â€‹](#divide-code-by-pages "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Háº§u háº¿t custom architectures Ä‘Ã£ cÃ³ sá»± phÃ¢n chia theo pages, dÃ¹ logic nhá» hay lá»›n. Náº¿u báº¡n Ä‘Ã£ cÃ³ `ğŸ“ pages`, báº¡n cÃ³ thá»ƒ bá» qua bÆ°á»›c nÃ y.

Náº¿u báº¡n chá»‰ cÃ³ `ğŸ“ routes`, hÃ£y táº¡o `ğŸ“ pages` vÃ  cá»‘ gáº¯ng di chuyá»ƒn cÃ ng nhiá»u component code tá»« `ğŸ“ routes` cÃ ng tá»‘t. LÃ½ tÆ°á»Ÿng lÃ  báº¡n sáº½ cÃ³ má»™t route nhá» vÃ  má»™t page lá»›n hÆ¡n. Khi Ä‘ang di chuyá»ƒn code, hÃ£y táº¡o má»™t folder cho má»—i page vÃ  thÃªm má»™t index file:

ghi chÃº

Hiá»‡n táº¡i, khÃ´ng sao náº¿u cÃ¡c page cá»§a báº¡n tham chiáº¿u láº«n nhau. Báº¡n cÃ³ thá»ƒ giáº£i quyáº¿t Ä‘iá»u Ä‘Ã³ sau, nhÆ°ng hiá»‡n táº¡i, hÃ£y táº­p trung vÃ o viá»‡c thiáº¿t láº­p má»™t sá»± phÃ¢n chia rÃµ rÃ ng theo pages.

Route file:

src/routes/products.\[id].js

```
export { ProductPage as default } from "@/pages/product"
```

Page index file:

src/pages/product/index.js

```
export { ProductPage } from "./ProductPage.jsx"
```

Page component file:

src/pages/product/ProductPage.jsx

```
export function ProductPage(props) {
  return <div />;
}
```

## BÆ°á»›c 2. TÃ¡ch má»i thá»© khÃ¡c ra khá»i pages[â€‹](#separate-everything-else-from-pages "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Táº§o folder `ğŸ“ src/shared` vÃ  di chuyá»ƒn má»i thá»© khÃ´ng import tá»« `ğŸ“ pages` hoáº·c `ğŸ“ routes` vÃ o Ä‘Ã³. Táº¡o folder `ğŸ“ src/app` vÃ  di chuyá»ƒn má»i thá»© cÃ³ import pages hoáº·c routes vÃ o Ä‘Ã³, bao gá»“m cáº£ chÃ­nh cÃ¡c routes.

HÃ£y nhá»› ráº±ng Shared layer khÃ´ng cÃ³ slices, vÃ¬ váº­y khÃ´ng sao náº¿u cÃ¡c segment import láº«n nhau.

Cuá»‘i cÃ¹ng báº¡n sáº½ cÃ³ Ä‘Æ°á»£c cáº¥u trÃºc tá»‡p nhÆ° tháº¿ nÃ y:

ğŸ“ src

* ğŸ“ app

  * ğŸ“ routes

    * ğŸ“„ products.jsx
    * ğŸ“„ products.\[id].jsx

  * ğŸ“„ App.jsx

  * ğŸ“„ index.js

* ğŸ“ pages

  * ğŸ“ product

    * ğŸ“ ui

      * ğŸ“„ ProductPage.jsx

    * ğŸ“„ index.js

  * ğŸ“ catalog

* ğŸ“ shared

  * ğŸ“ actions
  * ğŸ“ api
  * ğŸ“ components
  * ğŸ“ containers
  * ğŸ“ constants
  * ğŸ“ i18n
  * ğŸ“ modules
  * ğŸ“ helpers
  * ğŸ“ utils
  * ğŸ“ reducers
  * ğŸ“ selectors
  * ğŸ“ styles

## BÆ°á»›c 3. Giáº£i quyáº¿t cross-imports giá»¯a cÃ¡c pages[â€‹](#tackle-cross-imports-between-pages "Link trá»±c tiáº¿p Ä‘áº¿n heading")

TÃ¬m táº¥t cáº£ cÃ¡c trÆ°á»ng há»£p mÃ  má»™t page Ä‘ang import tá»« page khÃ¡c vÃ  lÃ m má»™t trong hai Ä‘iá»u sau:

1. Copy-paste code Ä‘Æ°á»£c import vÃ o page phá»¥ thuá»™c Ä‘á»ƒ loáº¡i bá» dependency

2. Di chuyá»ƒn code vÃ o má»™t segment thÃ­ch há»£p trong Shared:

   <!-- -->

   * náº¿u nÃ³ lÃ  má»™t pháº§n cá»§a UI kit, di chuyá»ƒn vÃ o `ğŸ“ shared/ui`;
   * náº¿u nÃ³ lÃ  má»™t configuration constant, di chuyá»ƒn vÃ o `ğŸ“ shared/config`;
   * náº¿u nÃ³ lÃ  má»™t backend interaction, di chuyá»ƒn vÃ o `ğŸ“ shared/api`.

ghi chÃº

**Copy-pasting khÃ´ng sai vá» máº·t kiáº¿n trÃºc**, thá»±c táº¿, Ä‘Ã´i khi duplicate cÃ³ thá»ƒ chÃ­nh xÃ¡c hÆ¡n lÃ  abstract thÃ nh má»™t reusable module má»›i. LÃ½ do lÃ  Ä‘Ã´i khi cÃ¡c pháº§n shared cá»§a pages báº¯t Ä‘áº§u tÃ¡ch rá»i, vÃ  báº¡n khÃ´ng muá»‘n cÃ¡c dependency cáº£n trá»Ÿ báº¡n trong nhá»¯ng trÆ°á»ng há»£p nÃ y.

Tuy nhiÃªn, váº«n cÃ²n Ã½ nghÄ©a trong nguyÃªn táº¯c DRY ("don't repeat yourself"), vÃ¬ váº­y hÃ£y Ä‘áº£m báº£o báº¡n khÃ´ng copy-paste business logic. Náº¿u khÃ´ng báº¡n sáº½ cáº§n pháº£i nhá»› sá»­a bug á»Ÿ nhiá»u nÆ¡i cÃ¹ng lÃºc.

## BÆ°á»›c 4. Giáº£i nÃ©n Shared layer[â€‹](#unpack-shared-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Báº¡n cÃ³ thá»ƒ cÃ³ ráº¥t nhiá»u thá»© trong Shared layer á»Ÿ bÆ°á»›c nÃ y, vÃ  nÃ³i chung báº¡n muá»‘n trÃ¡nh Ä‘iá»u Ä‘Ã³. LÃ½ do lÃ  Shared layer cÃ³ thá»ƒ lÃ  dependency cho báº¥t ká»³ layer nÃ o khÃ¡c trong codebase cá»§a báº¡n, vÃ¬ váº­y viá»‡c thay Ä‘á»•i code Ä‘Ã³ tá»± Ä‘á»™ng dá»… gÃ¢y ra cÃ¡c háº­u quáº£ ngoÃ i Ã½ muá»‘n hÆ¡n.

TÃ¬m táº¥t cáº£ cÃ¡c object chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn má»™t page vÃ  di chuyá»ƒn nÃ³ vÃ o slice cá»§a page Ä‘Ã³. VÃ  Ä‘Ãºng rá»“i, *Ä‘iá»u Ä‘Ã³ cÅ©ng Ã¡p dá»¥ng cho actions, reducers, vÃ  selectors*. KhÃ´ng cÃ³ lá»£i Ã­ch gÃ¬ khi nhÃ³m táº¥t cáº£ actions láº¡i vá»›i nhau, nhÆ°ng cÃ³ lá»£i Ã­ch khi Ä‘áº·t cÃ¡c relevant actions gáº§n vá»›i nÆ¡i sá»­ dá»¥ng chÃºng.

Cuá»‘i cÃ¹ng báº¡n sáº½ cÃ³ Ä‘Æ°á»£c cáº¥u trÃºc tá»‡p nhÆ° tháº¿ nÃ y:

ğŸ“ src

* ğŸ“ app (unchanged)

* ğŸ“ pages

  * ğŸ“ product

    * ğŸ“ actions

    * ğŸ“ reducers

    * ğŸ“ selectors

    * ğŸ“ ui

      * ğŸ“„ Component.jsx
      * ğŸ“„ Container.jsx
      * ğŸ“„ ProductPage.jsx

    * ğŸ“„ index.js

  * ğŸ“ catalog

* ğŸ“ shared (only objects that are reused)

  * ğŸ“ actions
  * ğŸ“ api
  * ğŸ“ components
  * ğŸ“ containers
  * ğŸ“ constants
  * ğŸ“ i18n
  * ğŸ“ modules
  * ğŸ“ helpers
  * ğŸ“ utils
  * ğŸ“ reducers
  * ğŸ“ selectors
  * ğŸ“ styles

## BÆ°á»›c 5. Tá»• chá»©c code theo má»¥c Ä‘Ã­ch ká»¹ thuáº­t[â€‹](#organize-by-technical-purpose "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong FSD, viá»‡c phÃ¢n chia theo má»¥c Ä‘Ã­ch ká»¹ thuáº­t Ä‘Æ°á»£c thá»±c hiá»‡n vá»›i *segments*. CÃ³ má»™t sá»‘ loáº¡i phá»• biáº¿n:

* `ui` â€” má»i thá»© liÃªn quan Ä‘áº¿n hiá»ƒn thá»‹ UI: UI components, date formatters, styles, v.v.
* `api` â€” cÃ¡c tÆ°Æ¡ng tÃ¡c backend: request functions, data types, mappers, v.v.
* `model` â€” data model: schemas, interfaces, stores, vÃ  business logic.
* `lib` â€” library code mÃ  cÃ¡c module khÃ¡c trÃªn slice nÃ y cáº§n.
* `config` â€” cÃ¡c file cáº¥u hÃ¬nh vÃ  feature flags.

Báº¡n cÅ©ng cÃ³ thá»ƒ táº¡o cÃ¡c segment riÃªng cá»§a mÃ¬nh náº¿u cáº§n. HÃ£y Ä‘áº£m báº£o khÃ´ng táº¡o cÃ¡c segment nhÃ³m code theo nhá»¯ng gÃ¬ nÃ³ lÃ , nhÆ° `components`, `actions`, `types`, `utils`. Thay vÃ o Ä‘Ã³, hÃ£y nhÃ³m code theo nhá»¯ng gÃ¬ nÃ³ dÃ nh cho.

Tá»• chá»©c láº¡i cÃ¡c pages cá»§a báº¡n Ä‘á»ƒ tÃ¡ch biá»‡t code theo segments. Báº¡n nÃªn Ä‘Ã£ cÃ³ má»™t `ui` segment, bÃ¢y giá» lÃ  lÃºc táº¡o cÃ¡c segment khÃ¡c, nhÆ° `model` cho actions, reducers, vÃ  selectors cá»§a báº¡n, hoáº·c `api` cho thunks vÃ  mutations cá»§a báº¡n.

CÅ©ng tá»• chá»©c láº¡i Shared layer Ä‘á»ƒ loáº¡i bá» cÃ¡c folder nÃ y:

* `ğŸ“ components`, `ğŸ“ containers` â€” pháº§n lá»›n nÃ³ nÃªn trá»Ÿ thÃ nh `ğŸ“ shared/ui`;
* `ğŸ“ helpers`, `ğŸ“ utils` â€” náº¿u cÃ²n má»™t sá»‘ helpers Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, hÃ£y nhÃ³m chÃºng láº¡i theo function, nhÆ° dates hoáº·c type conversions, vÃ  di chuyá»ƒn cÃ¡c nhÃ³m nÃ y vÃ o `ğŸ“ shared/lib`;
* `ğŸ“ constants` â€” láº¡i, nhÃ³m theo function vÃ  di chuyá»ƒn vÃ o `ğŸ“ shared/config`.

## CÃ¡c bÆ°á»›c tÃ¹y chá»n[â€‹](#optional-steps "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### BÆ°á»›c 6. Táº¡o entities/features tá»« cÃ¡c Redux slice Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn nhiá»u pages[â€‹](#form-entities-features-from-redux "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÆ°á»ng thÃ¬ cÃ¡c Redux slice Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng nÃ y sáº½ mÃ´ táº£ Ä‘iá»u gÃ¬ Ä‘Ã³ liÃªn quan Ä‘áº¿n nghiá»‡p vá»¥, vÃ­ dá»¥ nhÆ° products hoáº·c users, vÃ¬ váº­y chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c di chuyá»ƒn vÃ o Entities layer, má»™t entity má»™t folder. Náº¿u Redux slice liÃªn quan Ä‘áº¿n má»™t action mÃ  ngÆ°á»i dÃ¹ng cá»§a báº¡n muá»‘n thá»±c hiá»‡n trong app, nhÆ° comments, thÃ¬ báº¡n cÃ³ thá»ƒ di chuyá»ƒn nÃ³ vÃ o Features layer.

Entities vÃ  features cÃ³ Ã½ Ä‘á»‹nh Ä‘á»™c láº­p vá»›i nhau. Náº¿u business domain cá»§a báº¡n chá»©a cÃ¡c káº¿t ná»‘i báº©m sinh giá»¯a cÃ¡c entity, hÃ£y tham kháº£o [hÆ°á»›ng dáº«n vá» business entities](/documentation/vi/docs/guides/examples/types.md#business-entities-and-their-cross-references) Ä‘á»ƒ cÃ³ lá»i khuyÃªn vá» cÃ¡ch tá»• chá»©c cÃ¡c káº¿t ná»‘i nÃ y.

CÃ¡c API functions liÃªn quan Ä‘áº¿n cÃ¡c slice nÃ y cÃ³ thá»ƒ giá»¯ láº¡i trong `ğŸ“ shared/api`.

### BÆ°á»›c 7. Refactor cÃ¡c modules cá»§a báº¡n[â€‹](#refactor-your-modules "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Folder `ğŸ“ modules` thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho business logic, vÃ¬ váº­y nÃ³ Ä‘Ã£ khÃ¡ tÆ°Æ¡ng tá»± vá» báº£n cháº¥t vá»›i Features layer tá»« FSD. Má»™t sá»‘ module cÅ©ng cÃ³ thá»ƒ mÃ´ táº£ nhá»¯ng khá»‘i lá»›n cá»§a UI, nhÆ° app header. Trong trÆ°á»ng há»£p Ä‘Ã³, báº¡n nÃªn migration chÃºng vÃ o Widgets layer.

### BÆ°á»›c 8. Táº¡o má»™t UI foundation sáº¡ch trong `shared/ui`[â€‹](#form-clean-ui-foundation "Link trá»±c tiáº¿p Ä‘áº¿n heading")

`ğŸ“ shared/ui` lÃ½ tÆ°á»Ÿng nÃªn chá»©a má»™t táº­p há»£p cÃ¡c UI elements khÃ´ng cÃ³ business logic nÃ o Ä‘Æ°á»£c encode trong chÃºng. ChÃºng cÅ©ng nÃªn cÃ³ tÃ­nh tÃ¡i sá»­ dá»¥ng cao.

Refactor cÃ¡c UI components Ä‘Ã£ tá»«ng náº±m trong `ğŸ“ components` vÃ  `ğŸ“ containers` Ä‘á»ƒ tÃ¡ch riÃªng business logic. Di chuyá»ƒn business logic Ä‘Ã³ lÃªn cÃ¡c layer cao hÆ¡n. Náº¿u nÃ³ khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ quÃ¡ nhiá»u nÆ¡i, báº¡n tháº­m chÃ­ cÃ³ thá»ƒ cÃ¢n nháº¯c copy-paste.

## Xem thÃªm[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(BÃ i nÃ³i tiáº¿ng Nga) Ilya Klimov â€” ĞšÑ€Ñ‹ÑĞ¸Ğ½Ñ‹Ğµ Ğ±ĞµĞ³Ğ° Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°: ĞºĞ°Ğº Ğ½Ğµ Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼Ñƒ Ğ´Ğ¾Ğ»Ğ³Ñƒ ÑƒĞ±Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚](https://youtu.be/aOiJ3k2UvO4)


---

# Migration tá»« v1 sang v2

## Táº¡i sao v2?[â€‹](#táº¡i-sao-v2 "Link trá»±c tiáº¿p Ä‘áº¿n heading")

KhÃ¡i niá»‡m gá»‘c cá»§a **feature-slices** [Ä‘Ã£ Ä‘Æ°á»£c cÃ´ng bá»‘](https://t.me/feature_slices) vÃ o nÄƒm 2018.

Ká»ƒ tá»« Ä‘Ã³, nhiá»u sá»± biáº¿n Ä‘á»•i cá»§a phÆ°Æ¡ng phÃ¡p luáº­n Ä‘Ã£ diá»…n ra, nhÆ°ng Ä‘á»“ng thá»i **[cÃ¡c nguyÃªn táº¯c cÆ¡ báº£n Ä‘Ã£ Ä‘Æ°á»£c báº£o tá»“n](https://feature-sliced.github.io/featureslices.dev/v1.0.html)**:

* Sá»­ dá»¥ng cáº¥u trÃºc dá»± Ã¡n frontend *Ä‘Æ°á»£c tiÃªu chuáº©n hÃ³a*
* Chia nhá» á»©ng dá»¥ng ngay tá»« Ä‘áº§u - theo *logic nghiá»‡p vá»¥*
* Sá»­ dá»¥ng cÃ¡c *feature Ä‘á»™c láº­p* Ä‘á»ƒ ngÄƒn cháº·n side effects ngáº§m Ä‘á»‹nh vÃ  phá»¥ thuá»™c vÃ²ng trÃ²n
* Sá»­ dá»¥ng *Public API* vá»›i viá»‡c cáº¥m "leo vÃ o bÃªn trong" cá»§a module

Äá»“ng thá»i, trong phiÃªn báº£n trÆ°á»›c cá»§a phÆ°Æ¡ng phÃ¡p luáº­n, váº«n cÃ²n nhá»¯ng **Ä‘iá»ƒm yáº¿u** mÃ :

* ÄÃ´i khi dáº«n Ä‘áº¿n boilerplate code
* ÄÃ´i khi dáº«n Ä‘áº¿n sá»± phá»©c táº¡p quÃ¡ má»©c cá»§a code base vÃ  cÃ¡c quy táº¯c khÃ´ng rÃµ rÃ ng giá»¯a cÃ¡c abstraction
* ÄÃ´i khi dáº«n Ä‘áº¿n cÃ¡c giáº£i phÃ¡p kiáº¿n trÃºc ngáº§m Ä‘á»‹nh, ngÄƒn cáº£n viá»‡c kÃ©o dá»± Ã¡n lÃªn vÃ  onboarding ngÆ°á»i má»›i

PhiÃªn báº£n má»›i cá»§a phÆ°Æ¡ng phÃ¡p luáº­n ([v2](https://github.com/feature-sliced/documentation)) Ä‘Æ°á»£c thiáº¿t káº¿ **Ä‘á»ƒ loáº¡i bá» nhá»¯ng thiáº¿u sÃ³t nÃ y, Ä‘á»“ng thá»i báº£o tá»“n cÃ¡c Æ°u Ä‘iá»ƒm hiá»‡n cÃ³** cá»§a cÃ¡ch tiáº¿p cáº­n nÃ y.

Ká»ƒ tá»« nÄƒm 2018, [cÅ©ng Ä‘Ã£ phÃ¡t triá»ƒn](https://github.com/kof/feature-driven-architecture/issues) má»™t phÆ°Æ¡ng phÃ¡p luáº­n tÆ°Æ¡ng tá»± khÃ¡c - [**feature-driven**](https://github.com/feature-sliced/documentation/tree/rc/feature-driven), Ä‘Æ°á»£c cÃ´ng bá»‘ láº§n Ä‘áº§u bá»Ÿi [Oleg Isonen](https://github.com/kof).

Sau khi há»£p nháº¥t hai cÃ¡ch tiáº¿p cáº­n, chÃºng tÃ´i Ä‘Ã£ **cáº£i thiá»‡n vÃ  tinh chá»‰nh cÃ¡c thá»±c tiá»…n hiá»‡n cÃ³** - hÆ°á»›ng tá»›i sá»± linh hoáº¡t, rÃµ rÃ ng vÃ  hiá»‡u quáº£ hÆ¡n trong á»©ng dá»¥ng.

> Káº¿t quáº£ lÃ , Ä‘iá»u nÃ y tháº­m chÃ­ Ä‘Ã£ áº£nh hÆ°á»Ÿng Ä‘áº¿n tÃªn cá»§a phÆ°Æ¡ng phÃ¡p luáº­n - *"feature-slice**d**"*

## Táº¡i sao viá»‡c migration dá»± Ã¡n sang v2 cÃ³ Ã½ nghÄ©a?[â€‹](#táº¡i-sao-viá»‡c-migration-dá»±-Ã¡n-sang-v2-cÃ³-Ã½-nghÄ©a "Link trá»±c tiáº¿p Ä‘áº¿n heading")

> `WIP:` PhiÃªn báº£n hiá»‡n táº¡i cá»§a phÆ°Æ¡ng phÃ¡p luáº­n Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn vÃ  má»™t sá»‘ chi tiáº¿t *cÃ³ thá»ƒ thay Ä‘á»•i*

#### ğŸ” Kiáº¿n trÃºc minh báº¡ch vÃ  Ä‘Æ¡n giáº£n hÆ¡n[â€‹](#-kiáº¿n-trÃºc-minh-báº¡ch-vÃ -Ä‘Æ¡n-giáº£n-hÆ¡n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

PhÆ°Æ¡ng phÃ¡p luáº­n (v2) cung cáº¥p **cÃ¡c abstraction trá»±c quan hÆ¡n vÃ  phá»• biáº¿n hÆ¡n cÅ©ng nhÆ° cÃ¡c cÃ¡ch phÃ¢n tÃ¡ch logic giá»¯a cÃ¡c developer.**

Táº¥t cáº£ Ä‘iá»u nÃ y cÃ³ tÃ¡c Ä‘á»™ng cá»±c ká»³ tÃ­ch cá»±c Ä‘áº¿n viá»‡c thu hÃºt ngÆ°á»i má»›i, cÅ©ng nhÆ° nghiÃªn cá»©u tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a dá»± Ã¡n, vÃ  phÃ¢n phá»‘i logic nghiá»‡p vá»¥ cá»§a á»©ng dá»¥ng.

#### ğŸ“¦ TÃ­nh modular linh hoáº¡t vÃ  trung thá»±c hÆ¡n[â€‹](#-tÃ­nh-modular-linh-hoáº¡t-vÃ -trung-thá»±c-hÆ¡n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

PhÆ°Æ¡ng phÃ¡p luáº­n (v2) cho phÃ©p **phÃ¢n phá»‘i logic theo cÃ¡ch linh hoáº¡t hÆ¡n:**

* Vá»›i kháº£ nÄƒng refactor cÃ¡c pháº§n riÃªng biá»‡t tá»« Ä‘áº§u
* Vá»›i kháº£ nÄƒng dá»±a vÃ o cÃ¹ng cÃ¡c abstraction, nhÆ°ng khÃ´ng cÃ³ sá»± Ä‘an xen phá»¥ thuá»™c khÃ´ng cáº§n thiáº¿t
* Vá»›i cÃ¡c yÃªu cáº§u Ä‘Æ¡n giáº£n hÆ¡n cho vá»‹ trÃ­ cá»§a module má»›i *(layer => slice => segment)*

#### ğŸš€ Nhiá»u Ä‘áº·c táº£, káº¿ hoáº¡ch, cá»™ng Ä‘á»“ng hÆ¡n[â€‹](#-nhiá»u-Ä‘áº·c-táº£-káº¿-hoáº¡ch-cá»™ng-Ä‘á»“ng-hÆ¡n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Hiá»‡n táº¡i, `core-team` Ä‘ang tÃ­ch cá»±c lÃ m viá»‡c trÃªn phiÃªn báº£n má»›i nháº¥t (v2) cá»§a phÆ°Æ¡ng phÃ¡p luáº­n

VÃ¬ váº­y Ä‘á»‘i vá»›i nÃ³:

* sáº½ cÃ³ nhiá»u case / váº¥n Ä‘á» Ä‘Æ°á»£c mÃ´ táº£ hÆ¡n
* sáº½ cÃ³ nhiá»u hÆ°á»›ng dáº«n vá» á»©ng dá»¥ng hÆ¡n
* sáº½ cÃ³ nhiá»u vÃ­ dá»¥ thá»±c táº¿ hÆ¡n
* nÃ³i chung, sáº½ cÃ³ nhiá»u tÃ i liá»‡u hÆ¡n Ä‘á»ƒ onboarding ngÆ°á»i má»›i vÃ  nghiÃªn cá»©u cÃ¡c khÃ¡i niá»‡m cá»§a phÆ°Æ¡ng phÃ¡p luáº­n
* toolkit sáº½ Ä‘Æ°á»£c phÃ¡t triá»ƒn trong tÆ°Æ¡ng lai Ä‘á»ƒ tuÃ¢n thá»§ cÃ¡c khÃ¡i niá»‡m vÃ  quy Æ°á»›c vá» kiáº¿n trÃºc

> Táº¥t nhiÃªn, cÅ©ng sáº½ cÃ³ há»— trá»£ ngÆ°á»i dÃ¹ng cho phiÃªn báº£n Ä‘áº§u tiÃªn - nhÆ°ng phiÃªn báº£n má»›i nháº¥t váº«n lÃ  Æ°u tiÃªn cá»§a chÃºng tÃ´i
>
> Trong tÆ°Æ¡ng lai, vá»›i cÃ¡c báº£n cáº­p nháº­t major tiáº¿p theo, báº¡n váº«n sáº½ cÃ³ quyá»n truy cáº­p vÃ o phiÃªn báº£n hiá»‡n táº¡i (v2) cá»§a phÆ°Æ¡ng phÃ¡p luáº­n, **khÃ´ng cÃ³ rá»§i ro cho team vÃ  dá»± Ã¡n cá»§a báº¡n**

## Changelog[â€‹](#changelog "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### `BREAKING` Layers[â€‹](#breaking-layers "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» phÆ°Æ¡ng phÃ¡p luáº­n giáº£ Ä‘á»‹nh viá»‡c phÃ¢n bá»• rÃµ rÃ ng cÃ¡c layer á»Ÿ táº§ng cao nháº¥t

* `/app` > `/processes` > **`/pages`** > **`/features`** > `/entities` > `/shared`

* *Tá»©c lÃ , khÃ´ng pháº£i má»i thá»© bÃ¢y giá» Ä‘á»u Ä‘Æ°á»£c coi lÃ  features/pages*

* CÃ¡ch tiáº¿p cáº­n nÃ y cho phÃ©p báº¡n [Ä‘áº·t quy táº¯c rÃµ rÃ ng cho cÃ¡c layer](https://t.me/atomicdesign/18708):

* **CÃ ng cao layer** cá»§a module Ä‘Æ°á»£c Ä‘áº·t, cÃ ng nhiá»u **context** nÃ³ cÃ³

  *(nÃ³i cÃ¡ch khÃ¡c - má»—i module cá»§a layer - chá»‰ cÃ³ thá»ƒ import cÃ¡c module cá»§a cÃ¡c layer bÃªn dÆ°á»›i, nhÆ°ng khÃ´ng pháº£i cao hÆ¡n)*

* **CÃ ng tháº¥p layer** cá»§a module Ä‘Æ°á»£c Ä‘áº·t, cÃ ng nhiá»u **nguy hiá»ƒm vÃ  trÃ¡ch nhiá»‡m** khi thá»±c hiá»‡n thay Ä‘á»•i

  *(vÃ¬ thÆ°á»ng lÃ  cÃ¡c layer bÃªn dÆ°á»›i Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u hÆ¡n)*

### `BREAKING` Shared[â€‹](#breaking-shared "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c infrastructure abstraction `/ui`, `/lib`, `/api`, trÆ°á»›c Ä‘Ã¢y náº±m trong src root cá»§a dá»± Ã¡n, bÃ¢y giá» Ä‘Æ°á»£c tÃ¡ch biá»‡t bá»Ÿi thÆ° má»¥c riÃªng biá»‡t `/src/shared`

* `shared/ui` - Váº«n lÃ  uikit tá»•ng quÃ¡t giá»‘ng nhÆ° cÅ© cá»§a á»©ng dá»¥ng (tÃ¹y chá»n)
  <!-- -->
  * *Äá»“ng thá»i, khÃ´ng ai cáº¥m sá»­ dá»¥ng `Atomic Design` á»Ÿ Ä‘Ã¢y nhÆ° trÆ°á»›c*
* `shared/lib` - Táº­p há»£p cÃ¡c thÆ° viá»‡n phá»¥ trá»£ Ä‘á»ƒ triá»ƒn khai logic
  <!-- -->
  * *Váº«n - khÃ´ng cÃ³ dump cá»§a helpers*
* `shared/api` - Äiá»ƒm vÃ o chung Ä‘á»ƒ truy cáº­p API
  <!-- -->
  * *CÅ©ng cÃ³ thá»ƒ Ä‘Äƒng kÃ½ cá»¥c bá»™ trong má»—i feature / page - nhÆ°ng khÃ´ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch*
* NhÆ° trÆ°á»›c - khÃ´ng nÃªn cÃ³ rÃ ng buá»™c rÃµ rÃ ng vá»›i business logic trong `shared`
  * *Náº¿u cáº§n thiáº¿t, báº¡n cáº§n Ä‘Æ°a má»‘i quan há»‡ nÃ y lÃªn táº§ng `entities` hoáº·c tháº­m chÃ­ cao hÆ¡n*

### `NEW` Entities, Processes[â€‹](#new-entities-processes "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong v2 **, cÃ¡c abstraction má»›i khÃ¡c** Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o Ä‘á»ƒ loáº¡i bá» cÃ¡c váº¥n Ä‘á» vá» Ä‘á»™ phá»©c táº¡p logic vÃ  coupling cao.

* `/entities` - layer **business entities** chá»©a cÃ¡c slice cÃ³ liÃªn quan trá»±c tiáº¿p Ä‘áº¿n cÃ¡c business model hoáº·c synthetic entities chá»‰ cáº§n thiáº¿t trÃªn frontend
  <!-- -->
  * *VÃ­ dá»¥: `user`, `i18n`, `order`, `blog`*

* `/processes` - layer **business processes**, xuyÃªn suá»‘t app

  <!-- -->

  * **Layer nÃ y lÃ  tÃ¹y chá»n**, thÆ°á»ng Ä‘Æ°á»£c khuyáº¿n khÃ­ch sá»­ dá»¥ng khi *logic phÃ¡t triá»ƒn vÃ  báº¯t Ä‘áº§u má» nháº¡t trong nhiá»u page*
  * *VÃ­ dá»¥: `payment`, `auth`, `quick-tour`*

### `BREAKING` Abstractions & Naming[â€‹](#breaking-abstractions--naming "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» cÃ¡c abstraction cá»¥ thá»ƒ vÃ  [khuyáº¿n nghá»‹ rÃµ rÃ ng cho viá»‡c Ä‘áº·t tÃªn chÃºng](/documentation/vi/docs/about/understanding/naming.md) Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a

#### Layers[â€‹](#layers "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* `/app` â€” **layer khá»Ÿi táº¡o á»©ng dá»¥ng**
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `app`, `core`,`init`, `src/index` (vÃ  Ä‘iá»u nÃ y cÅ©ng xáº£y ra)*
* `/processes` â€” [**layer business process**](https://github.com/feature-sliced/documentation/discussions/20)
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `processes`, `flows`, `workflows`*
* `/pages` â€” **layer page á»©ng dá»¥ng**
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `pages`, `screens`, `views`, `layouts`, `components`, `containers`*
* `/features` â€” [**layer cÃ¡c pháº§n functionality**](https://github.com/feature-sliced/documentation/discussions/23)
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `features`, `components`, `containers`*
* `/entities` â€” [**layer business entity**](https://github.com/feature-sliced/documentation/discussions/18#discussioncomment-422649)
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `entities`, `models`, `shared`*
* `/shared` â€” [**layer cá»§a infrastructure code tÃ¡i sá»­ dá»¥ng**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-453020) ğŸ”¥
  <!-- -->
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `shared`, `common`, `lib`*

#### Segments[â€‹](#segments "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* `/ui` â€” [**UI segment**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-453132) ğŸ”¥
  <!-- -->
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `ui`, `components`, `view`*
* `/model` â€” [**BL-segment**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-472645) ğŸ”¥
  <!-- -->
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `model`, `store`, `state`, `services`, `controller`*
* `/lib` â€” segment **cá»§a auxiliary code**
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `lib`, `libs`, `utils`, `helpers`*
* `/api` â€” [**API segment**](https://github.com/feature-sliced/documentation/discussions/66)
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `api`, `service`, `requests`, `queries`*
* `/config` â€” **segment cáº¥u hÃ¬nh á»©ng dá»¥ng**
  * *CÃ¡c phiÃªn báº£n trÆ°á»›c: `config`, `env`, `get-env`*

### `REFINED` Low coupling[â€‹](#refined-low-coupling "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃ¢y giá» viá»‡c [tuÃ¢n thá»§ nguyÃªn táº¯c low coupling](/documentation/vi/docs/reference/slices-segments.md#zero-coupling-high-cohesion) giá»¯a cÃ¡c module dá»… dÃ ng hÆ¡n nhiá»u, nhá» vÃ o cÃ¡c layer má»›i.

*Äá»“ng thá»i, váº«n Ä‘Æ°á»£c khuyáº¿n khÃ­ch trÃ¡nh cÃ ng nhiá»u cÃ ng tá»‘t cÃ¡c trÆ°á»ng há»£p khi cá»±c ká»³ khÃ³ Ä‘á»ƒ "uncouple" cÃ¡c module*

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Ghi chÃº tá»« bÃ¡o cÃ¡o "React SPB Meetup #1"](https://t.me/feature_slices)
* [React Berlin Talk - Oleg Isonen "Feature Driven Architecture"](https://www.youtube.com/watch?v=BWAeYuWFHhs)
* [So sÃ¡nh vá»›i v1 (community-chat)](https://t.me/feature_sliced/493)
* [Ã tÆ°á»Ÿng má»›i v2 vá»›i giáº£i thÃ­ch (atomicdesign-chat)](https://t.me/atomicdesign/18708)
* [Tháº£o luáº­n vá» cÃ¡c abstraction vÃ  naming cho phiÃªn báº£n má»›i cá»§a phÆ°Æ¡ng phÃ¡p luáº­n (v2)](https://github.com/feature-sliced/documentation/discussions/31)


---

# Migration tá»« v2.0 sang v2.1

Thay Ä‘á»•i chÃ­nh trong v2.1 lÃ  mental model má»›i Ä‘á»ƒ phÃ¢n tÃ¡ch interface â€” pages first.

Trong v2.0, FSD khuyáº¿n nghá»‹ xÃ¡c Ä‘á»‹nh entities vÃ  features trong interface cá»§a báº¡n, cÃ¢n nháº¯c tháº­m chÃ­ nhá»¯ng bit nhá» nháº¥t cá»§a entity representation vÃ  tÃ­nh tÆ°Æ¡ng tÃ¡c Ä‘á»ƒ phÃ¢n tÃ¡ch. Sau Ä‘Ã³ báº¡n sáº½ xÃ¢y dá»±ng widgets vÃ  pages tá»« entities vÃ  features. Trong model phÃ¢n tÃ¡ch nÃ y, pháº§n lá»›n logic náº±m trong entities vÃ  features, vÃ  pages chá»‰ lÃ  cÃ¡c compositional layer khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a riÃªng biá»‡t.

Trong v2.1, chÃºng tÃ´i khuyáº¿n nghá»‹ báº¯t Ä‘áº§u vá»›i pages, vÃ  cÃ³ thá»ƒ tháº­m chÃ­ dá»«ng láº¡i á»Ÿ Ä‘Ã³. Háº§u háº¿t má»i ngÆ°á»i Ä‘Ã£ biáº¿t cÃ¡ch tÃ¡ch app thÃ nh cÃ¡c page riÃªng biá»‡t, vÃ  pages cÅ©ng lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘áº§u phá»• biáº¿n khi cá»‘ gáº¯ng tÃ¬m má»™t component trong codebase. Trong model phÃ¢n tÃ¡ch má»›i nÃ y, báº¡n giá»¯ pháº§n lá»›n UI vÃ  logic trong má»—i page riÃªng biá»‡t, duy trÃ¬ má»™t foundation cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng trong Shared. Náº¿u phÃ¡t sinh nhu cáº§u tÃ¡i sá»­ dá»¥ng business logic trÃªn nhiá»u page, báº¡n cÃ³ thá»ƒ di chuyá»ƒn nÃ³ xuá»‘ng layer bÃªn dÆ°á»›i.

Má»™t bá»• sung khÃ¡c cho Feature-Sliced Design lÃ  viá»‡c tiÃªu chuáº©n hÃ³a cross-imports giá»¯a cÃ¡c entity vá»›i kÃ½ hiá»‡u `@x`.

## CÃ¡ch migration[â€‹](#how-to-migrate "Link trá»±c tiáº¿p Ä‘áº¿n heading")

KhÃ´ng cÃ³ breaking changes trong v2.1, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  má»™t dá»± Ã¡n Ä‘Æ°á»£c viáº¿t vá»›i FSD v2.0 cÅ©ng lÃ  má»™t dá»± Ã¡n há»£p lá»‡ trong FSD v2.1. Tuy nhiÃªn, chÃºng tÃ´i tin ráº±ng mental model má»›i cÃ³ lá»£i hÆ¡n cho cÃ¡c team vÃ  Ä‘áº·c biá»‡t lÃ  onboarding cÃ¡c developer má»›i, vÃ¬ váº­y chÃºng tÃ´i khuyáº¿n nghá»‹ thá»±c hiá»‡n cÃ¡c Ä‘iá»u chá»‰nh nhá» Ä‘á»‘i vá»›i viá»‡c phÃ¢n tÃ¡ch cá»§a báº¡n.

### Merge slices[â€‹](#merge-slices "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»™t cÃ¡ch Ä‘Æ¡n giáº£n Ä‘á»ƒ báº¯t Ä‘áº§u lÃ  cháº¡y linter cá»§a chÃºng tÃ´i, [Steiger](https://github.com/feature-sliced/steiger), trÃªn dá»± Ã¡n. Steiger Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i mental model má»›i, vÃ  cÃ¡c rule há»¯u Ã­ch nháº¥t sáº½ lÃ :

* [`insignificant-slice`](https://github.com/feature-sliced/steiger/tree/master/packages/steiger-plugin-fsd/src/insignificant-slice) â€” náº¿u má»™t entity hoáº·c feature chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng trong má»™t page, rule nÃ y sáº½ Ä‘á» xuáº¥t merge entity hoáº·c feature Ä‘Ã³ hoÃ n toÃ n vÃ o page.
* [`excessive-slicing`](https://github.com/feature-sliced/steiger/tree/master/packages/steiger-plugin-fsd/src/excessive-slicing) â€” náº¿u má»™t layer cÃ³ quÃ¡ nhiá»u slices, thÆ°á»ng lÃ  dáº¥u hiá»‡u cho tháº¥y viá»‡c phÃ¢n tÃ¡ch quÃ¡ chi tiáº¿t. Rule nÃ y sáº½ Ä‘á» xuáº¥t merge hoáº·c nhÃ³m má»™t sá»‘ slices Ä‘á»ƒ há»— trá»£ navigation dá»± Ã¡n.

```
npx steiger src
```

Äiá»u nÃ y sáº½ giÃºp báº¡n xÃ¡c Ä‘á»‹nh nhá»¯ng slice chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng má»™t láº§n, Ä‘á»ƒ báº¡n cÃ³ thá»ƒ cÃ¢n nháº¯c láº¡i xem chÃºng cÃ³ thá»±c sá»± cáº§n thiáº¿t khÃ´ng. Trong nhá»¯ng cÃ¢n nháº¯c nhÆ° váº­y, hÃ£y nhá»› ráº±ng má»™t layer táº¡o thÃ nh má»™t loáº¡i global namespace cho táº¥t cáº£ cÃ¡c slice bÃªn trong nÃ³. Giá»‘ng nhÆ° báº£n sáº½ khÃ´ng lÃ m Ã´ nhiá»…m global namespace vá»›i cÃ¡c biáº¿n chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng má»™t láº§n, báº¡n nÃªn coi má»™t vá»‹ trÃ­ trong namespace cá»§a layer lÃ  cÃ³ giÃ¡ trá»‹, Ä‘Æ°á»£c sá»­ dá»¥ng má»™t cÃ¡ch tiáº¿t kiá»‡m.

### TiÃªu chuáº©n hÃ³a cross-imports[â€‹](#tiÃªu-chuáº©n-hÃ³a-cross-imports "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u trÆ°á»›c Ä‘Ã¢y báº¡n Ä‘Ã£ cÃ³ cross-imports giá»¯a trong dá»± Ã¡n cá»§a mÃ¬nh (chÃºng tÃ´i khÃ´ng phÃ¡n xÃ©t!), bÃ¢y giá» báº¡n cÃ³ thá»ƒ táº­n dá»¥ng má»™t kÃ½ hiá»‡u má»›i cho cross-importing trong Feature-Sliced Design â€” kÃ½ hiá»‡u `@x`. NÃ³ trÃ´ng nhÆ° tháº¿ nÃ y:

entities/B/some/file.ts

```
import type { EntityA } from "entities/A/@x/B";
```

Äá»ƒ biáº¿t thÃªm chi tiáº¿t, hÃ£y xem pháº§n [Public API for cross-imports](/documentation/vi/docs/reference/public-api.md#public-api-for-cross-imports) trong reference.


---

# Sá»­ dá»¥ng vá»›i Electron

CÃ¡c á»©ng dá»¥ng Electron cÃ³ kiáº¿n trÃºc Ä‘áº·c biá»‡t gá»“m nhiá»u process vá»›i cÃ¡c trÃ¡ch nhiá»‡m khÃ¡c nhau. Viá»‡c Ã¡p dá»¥ng FSD trong bá»‘i cáº£nh nhÆ° váº­y yÃªu cáº§u pháº£i thÃ­ch nghi cáº¥u trÃºc vá»›i cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a Electron.

```
â””â”€â”€ src
    â”œâ”€â”€ app                                 # Common app layer
    â”‚   â”œâ”€â”€ main                            # Main process
    â”‚   â”‚   â””â”€â”€ index.ts                    # Main process entry point
    â”‚   â”œâ”€â”€ preload                         # Preload script and Context Bridge
    â”‚   â”‚   â””â”€â”€ index.ts                    # Preload entry point
    â”‚   â””â”€â”€ renderer                        # Renderer process
    â”‚       â””â”€â”€ index.html                  # Renderer process entry point
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ features
    â”‚   â”‚   â””â”€â”€ user
    â”‚   â”‚       â””â”€â”€ ipc
    â”‚   â”‚           â”œâ”€â”€ get-user.ts
    â”‚   â”‚           â””â”€â”€ send-user.ts
    â”‚   â”œâ”€â”€ entities
    â”‚   â””â”€â”€ shared
    â”œâ”€â”€ renderer
    â”‚   â”œâ”€â”€ pages
    â”‚   â”‚   â”œâ”€â”€ settings
    â”‚   â”‚   â”‚   â”œâ”€â”€ ipc
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-user.ts
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ save-user.ts
    â”‚   â”‚   â”‚   â”œâ”€â”€ ui
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.tsx
    â”‚   â”‚   â”‚   â””â”€â”€ index.ts
    â”‚   â”‚   â””â”€â”€ home
    â”‚   â”‚       â”œâ”€â”€ ui
    â”‚   â”‚       â”‚   â””â”€â”€ home.tsx
    â”‚   â”‚       â””â”€â”€ index.ts
    â”‚   â”œâ”€â”€ widgets
    â”‚   â”œâ”€â”€ features
    â”‚   â”œâ”€â”€ entities
    â”‚   â””â”€â”€ shared
    â””â”€â”€ shared                              # Common code between main and renderer
        â””â”€â”€ ipc                             # IPC description (event names, contracts)
```

## Quy táº¯c Public API[â€‹](#quy-táº¯c-public-api "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»—i process pháº£i cÃ³ public API riÃªng cá»§a nÃ³. VÃ­ dá»¥, báº¡n khÃ´ng thá»ƒ import cÃ¡c module tá»« `main` vÃ o `renderer`. Chá»‰ cÃ³ thÆ° má»¥c `src/shared` lÃ  public cho cáº£ hai process. NÃ³ cÅ©ng cáº§n thiáº¿t Ä‘á»ƒ mÃ´ táº£ cÃ¡c há»£p Ä‘á»“ng cho tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c process.

## CÃ¡c thay Ä‘á»•i bá»• sung cho cáº¥u trÃºc chuáº©n[â€‹](#cÃ¡c-thay-Ä‘á»•i-bá»•-sung-cho-cáº¥u-trÃºc-chuáº©n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ÄÆ°á»£c Ä‘á» xuáº¥t sá»­ dá»¥ng segment `ipc` má»›i, nÆ¡i diá»…n ra tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c process. CÃ¡c layer `pages` vÃ  `widgets`, dá»±a trÃªn tÃªn gá»i cá»§a chÃºng, khÃ´ng nÃªn cÃ³ máº·t trong `src/main`. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng `features`, `entities` vÃ  `shared`. Layer `app` trong `src` chá»©a cÃ¡c Ä‘iá»ƒm Ä‘áº§u vÃ o cho `main` vÃ  `renderer`, cÅ©ng nhÆ° IPC. KhÃ´ng mong muá»‘n cÃ¡c segment trong layer `app` cÃ³ Ä‘iá»ƒm giao nhau

## VÃ­ dá»¥ vá» tÆ°Æ¡ng tÃ¡c[â€‹](#vÃ­-dá»¥-vá»-tÆ°Æ¡ng-tÃ¡c "Link trá»±c tiáº¿p Ä‘áº¿n heading")

src/shared/ipc/channels.ts

```
export const CHANNELS = {
    GET_USER_DATA: 'GET_USER_DATA',
    SAVE_USER: 'SAVE_USER',
} as const;

export type TChannelKeys = keyof typeof CHANNELS;
```

src/shared/ipc/events.ts

```
import { CHANNELS } from './channels';

export interface IEvents {
    [CHANNELS.GET_USER_DATA]: {
        args: void,
        response?: { name: string; email: string; };
    };
    [CHANNELS.SAVE_USER]: {
        args: { name: string; };
        response: void;
    };
}
```

src/shared/ipc/preload.ts

```
import { CHANNELS } from './channels';
import type { IEvents } from './events';

type TOptionalArgs<T> = T extends void ? [] : [args: T];

export type TElectronAPI = {
    [K in keyof typeof CHANNELS]: (...args: TOptionalArgs<IEvents[typeof CHANNELS[K]]['args']>) => IEvents[typeof CHANNELS[K]]['response'];
};
```

src/app/preload/index.ts

```
import { contextBridge, ipcRenderer } from 'electron';
import { CHANNELS, type TElectronAPI } from 'shared/ipc';

const API: TElectronAPI = {
    [CHANNELS.GET_USER_DATA]: () => ipcRenderer.sendSync(CHANNELS.GET_USER_DATA),
    [CHANNELS.SAVE_USER]: args => ipcRenderer.invoke(CHANNELS.SAVE_USER, args),
} as const;

contextBridge.exposeInMainWorld('electron', API);
```

src/main/features/user/ipc/send-user.ts

```
import { ipcMain } from 'electron';
import { CHANNELS } from 'shared/ipc';

export const sendUser = () => {
    ipcMain.on(CHANNELS.GET_USER_DATA, ev => {
        ev.returnValue = {
            name: 'John Doe',
            email: 'john.doe@example.com',
        };
    });
};
```

src/renderer/pages/user-settings/ipc/get-user.ts

```
import { CHANNELS } from 'shared/ipc';

export const getUser = () => {
    const user = window.electron[CHANNELS.GET_USER_DATA]();

    return user ?? { name: 'John Donte', email: 'john.donte@example.com' };
};
```

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Process Model Documentation](https://www.electronjs.org/docs/latest/tutorial/process-model)
* [Context Isolation Documentation](https://www.electronjs.org/docs/latest/tutorial/context-isolation)
* [Inter-Process Communication Documentation](https://www.electronjs.org/docs/latest/tutorial/ipc)
* [Example](https://github.com/feature-sliced/examples/tree/master/examples/electron)


---

# Sá»­ dá»¥ng vá»›i Next.js

FSD tÆ°Æ¡ng thÃ­ch vá»›i Next.js trong cáº£ phiÃªn báº£n App Router vÃ  Pages Router náº¿u báº¡n giáº£i quyáº¿t Ä‘Æ°á»£c xung Ä‘á»™t chÃ­nh â€” thÆ° má»¥c `app` vÃ  `pages`.

## App Router[â€‹](#app-router "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Xung Ä‘á»™t giá»¯a FSD vÃ  Next.js trong layer `app`[â€‹](#conflict-between-fsd-and-nextjs-in-the-app-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Next.js Ä‘á» xuáº¥t sá»­ dá»¥ng thÆ° má»¥c `app` Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c route cá»§a á»©ng dá»¥ng. NÃ³ mong Ä‘á»£i cÃ¡c file trong thÆ° má»¥c `app` tÆ°Æ¡ng á»©ng vá»›i cÃ¡c pathname. CÆ¡ cháº¿ routing nÃ y **khÃ´ng phÃ¹ há»£p** vá»›i khÃ¡i niá»‡m FSD, vÃ¬ khÃ´ng thá»ƒ duy trÃ¬ cáº¥u trÃºc slice pháº³ng.

Giáº£i phÃ¡p lÃ  di chuyá»ƒn thÆ° má»¥c `app` cá»§a Next.js vÃ o thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n vÃ  import cÃ¡c pages FSD tá»« `src`, nÆ¡i chá»©a cÃ¡c layer FSD, vÃ o thÆ° má»¥c `app` cá»§a Next.js.

Báº¡n cÅ©ng cáº§n thÃªm thÆ° má»¥c `pages` vÃ o thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n, náº¿u khÃ´ng Next.js sáº½ cá»‘ gáº¯ng sá»­ dá»¥ng `src/pages` nhÆ° Pages Router ngay cáº£ khi báº¡n sá»­ dá»¥ng App Router, Ä‘iá»u nÃ y sáº½ lÃ m há»ng quÃ¡ trÃ¬nh build. CÅ©ng nÃªn Ä‘áº·t file `README.md` bÃªn trong thÆ° má»¥c `pages` gá»‘c nÃ y Ä‘á»ƒ mÃ´ táº£ táº¡i sao nÃ³ cáº§n thiáº¿t, máº·c dÃ¹ nÃ³ trá»‘ng.

```
â”œâ”€â”€ app                              # App folder (Next.js)
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â””â”€â”€ get-example
â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â””â”€â”€ example
â”‚       â””â”€â”€ page.tsx
â”œâ”€â”€ pages                            # Empty pages folder (Next.js)
â”‚   â””â”€â”€ README.md
â””â”€â”€ src
    â”œâ”€â”€ app
    â”‚   â””â”€â”€ api-routes               # API routes
    â”œâ”€â”€ pages
    â”‚   â””â”€â”€ example
    â”‚       â”œâ”€â”€ index.ts
    â”‚       â””â”€â”€ ui
    â”‚           â””â”€â”€ example.tsx
    â”œâ”€â”€ widgets
    â”œâ”€â”€ features
    â”œâ”€â”€ entities
    â””â”€â”€ shared
```

VÃ­ dá»¥ vá» viá»‡c re-export má»™t page tá»« `src/pages` trong `app` cá»§a Next.js:

app/example/page.tsx

```
export { ExamplePage as default, metadata } from '@/pages/example';
```

### Middleware[â€‹](#middleware "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u báº¡n sá»­ dá»¥ng middleware trong dá»± Ã¡n, nÃ³ pháº£i Ä‘Æ°á»£c Ä‘áº·t á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n cÃ¹ng vá»›i thÆ° má»¥c `app` vÃ  `pages` cá»§a Next.js.

### Instrumentation[â€‹](#instrumentation "Link trá»±c tiáº¿p Ä‘áº¿n heading")

File `instrumentation.js` cho phÃ©p báº¡n giÃ¡m sÃ¡t hiá»‡u suáº¥t vÃ  hÃ nh vi cá»§a á»©ng dá»¥ng. Náº¿u báº¡n sá»­ dá»¥ng nÃ³, nÃ³ pháº£i Ä‘Æ°á»£c Ä‘áº·t á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n, tÆ°Æ¡ng tá»± nhÆ° `middleware.js`.

## Pages Router[â€‹](#pages-router "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Xung Ä‘á»™t giá»¯a FSD vÃ  Next.js trong layer `pages`[â€‹](#conflict-between-fsd-and-nextjs-in-the-pages-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c route nÃªn Ä‘Æ°á»£c Ä‘áº·t trong thÆ° má»¥c `pages` á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n, tÆ°Æ¡ng tá»± nhÆ° thÆ° má»¥c `app` cho App Router. Cáº¥u trÃºc bÃªn trong `src` nÆ¡i cÃ¡c thÆ° má»¥c layer Ä‘Æ°á»£c Ä‘áº·t váº«n khÃ´ng thay Ä‘á»•i.

```
â”œâ”€â”€ pages                            # Pages folder (Next.js)
â”‚   â”œâ”€â”€ _app.tsx
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â””â”€â”€ example.ts               # API route re-export
â”‚   â””â”€â”€ example
â”‚       â””â”€â”€ index.tsx
â””â”€â”€ src
    â”œâ”€â”€ app
    â”‚   â”œâ”€â”€ custom-app
    â”‚   â”‚   â””â”€â”€ custom-app.tsx       # Custom App component
    â”‚   â””â”€â”€ api-routes
    â”‚       â””â”€â”€ get-example-data.ts  # API route
    â”œâ”€â”€ pages
    â”‚   â””â”€â”€ example
    â”‚       â”œâ”€â”€ index.ts
    â”‚       â””â”€â”€ ui
    â”‚           â””â”€â”€ example.tsx
    â”œâ”€â”€ widgets
    â”œâ”€â”€ features
    â”œâ”€â”€ entities
    â””â”€â”€ shared
```

VÃ­ dá»¥ vá» viá»‡c re-export má»™t page tá»« `src/pages` trong `pages` cá»§a Next.js:

pages/example/index.tsx

```
export { Example as default } from '@/pages/example';
```

### Custom `_app` component[â€‹](#custom-_app-component "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Báº¡n cÃ³ thá»ƒ Ä‘áº·t Custom App component cá»§a mÃ¬nh trong `src/app/_app` hoáº·c `src/app/custom-app`:

src/app/custom-app/custom-app.tsx

```
import type { AppProps } from 'next/app';

export const MyApp = ({ Component, pageProps }: AppProps) => {
    return (
        <>
            <p>My Custom App component</p>
            <Component { ...pageProps } />
        </>
    );
};
```

pages/\_app.tsx

```
export { App as default } from '@/app/custom-app';
```

## Route Handlers (API routes)[â€‹](#route-handlers-api-routes "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Sá»­ dá»¥ng segment `api-routes` trong layer `app` Ä‘á»ƒ lÃ m viá»‡c vá»›i Route Handlers.

HÃ£y chÃº Ã½ khi viáº¿t code backend trong cáº¥u trÃºc FSD â€” FSD chá»§ yáº¿u dÃ nh cho frontend, nghÄ©a lÃ  Ä‘Ã³ lÃ  Ä‘iá»u mÃ  má»i ngÆ°á»i sáº½ mong Ä‘á»£i tÃ¬m tháº¥y. Náº¿u báº¡n cáº§n nhiá»u endpoint, hÃ£y cÃ¢n nháº¯c tÃ¡ch chÃºng thÃ nh má»™t package khÃ¡c trong má»™t monorepo.

* App Router
* Pages Router

src/app/api-routes/get-example-data.ts

```
import { getExamplesList } from '@/shared/db';

export const getExampleData = () => {
    try {
        const examplesList = getExamplesList();

        return Response.json({ examplesList });
    } catch {
        return Response.json(null, {
            status: 500,
            statusText: 'Ouch, something went wrong',
        });
    }
};
```

app/api/example/route.ts

```
export { getExampleData as GET } from '@/app/api-routes';
```

src/app/api-routes/get-example-data.ts

```
import type { NextApiRequest, NextApiResponse } from 'next';

const config = {
    api: {
        bodyParser: {
            sizeLimit: '1mb',
        },
    },
    maxDuration: 5,
};

const handler = (req: NextApiRequest, res: NextApiResponse<ResponseData>) => {
    res.status(200).json({ message: 'Hello from FSD' });
};

export const getExampleData = { config, handler } as const;
```

src/app/api-routes/index.ts

```
export { getExampleData } from './get-example-data';
```

app/api/example.ts

```
import { getExampleData } from '@/app/api-routes';

export const config = getExampleData.config;
export default getExampleData.handler;
```

## CÃ¡c Ä‘á» xuáº¥t bá»• sung[â€‹](#additional-recommendations "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* Sá»­ dá»¥ng segment `db` trong layer `shared` Ä‘á»ƒ mÃ´ táº£ cÃ¡c database query vÃ  viá»‡c sá»­ dá»¥ng chÃºng á»Ÿ cÃ¡c layer cao hÆ¡n.
* Logic caching vÃ  revalidating queries tá»‘t nháº¥t nÃªn Ä‘Æ°á»£c giá»¯ cÃ¹ng chá»— vá»›i cÃ¡c query.

## Xem thÃªm[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Next.js Project Structure](https://nextjs.org/docs/app/getting-started/project-structure)
* [Next.js Page Layouts](https://nextjs.org/docs/app/getting-started/layouts-and-pages)


---

# Sá»­ dá»¥ng vá»›i NuxtJS

CÃ³ thá»ƒ triá»ƒn khai FSD trong dá»± Ã¡n NuxtJS, nhÆ°ng xáº£y ra xung Ä‘á»™t do sá»± khÃ¡c biá»‡t giá»¯a yÃªu cáº§u cáº¥u trÃºc dá»± Ã¡n cá»§a NuxtJS vÃ  cÃ¡c nguyÃªn táº¯c FSD:

* Ban Ä‘áº§u, NuxtJS cung cáº¥p cáº¥u trÃºc file dá»± Ã¡n khÃ´ng cÃ³ thÆ° má»¥c `src`, tá»©c lÃ  á»Ÿ thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n.
* File routing náº±m trong thÆ° má»¥c `pages`, trong khi á»Ÿ FSD thÆ° má»¥c nÃ y Ä‘Æ°á»£c dÃ nh riÃªng cho cáº¥u trÃºc slice pháº³ng.

## ThÃªm alias cho thÆ° má»¥c `src`[â€‹](#thÃªm-alias-cho-thÆ°-má»¥c-src "Link trá»±c tiáº¿p Ä‘áº¿n heading")

ThÃªm Ä‘á»‘i tÆ°á»£ng `alias` vÃ o config cá»§a báº¡n:

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not FSD related, enabled at project startup
  alias: {
    "@": '../src'
  },
})
```

## Chá»n cÃ¡ch cáº¥u hÃ¬nh router[â€‹](#chá»n-cÃ¡ch-cáº¥u-hÃ¬nh-router "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong NuxtJS, cÃ³ hai cÃ¡ch Ä‘á»ƒ tÃ¹y chá»‰nh routing - sá»­ dá»¥ng config vÃ  sá»­ dá»¥ng cáº¥u trÃºc file. Trong trÆ°á»ng há»£p file-based routing, báº¡n sáº½ táº¡o cÃ¡c file index.vue trong cÃ¡c thÆ° má»¥c bÃªn trong thÆ° má»¥c app/routes, vÃ  trong trÆ°á»ng há»£p configure, báº¡n sáº½ cáº¥u hÃ¬nh cÃ¡c router trong file `router.options.ts`.

### Routing sá»­ dá»¥ng config[â€‹](#routing-sá»­-dá»¥ng-config "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong layer `app`, táº¡o file `router.options.ts` vÃ  export má»™t config object tá»« nÃ³:

app/router.options.ts

```
import type { RouterConfig } from '@nuxt/schema';

export default <RouterConfig> {
  routes: (_routes) => [],
};
```

Äá»ƒ thÃªm page `Home` vÃ o dá»± Ã¡n cá»§a báº¡n, báº¡n cáº§n thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:

* ThÃªm má»™t page slice bÃªn trong layer `pages`
* ThÃªm route phÃ¹ há»£p vÃ o config `app/router.config.ts`

Äá»ƒ táº¡o má»™t page slice, hÃ£y sá»­ dá»¥ng [CLI](https://github.com/feature-sliced/cli):

```
fsd pages home
```

Táº¡o file `home-page.vue` bÃªn trong segment ui, truy cáº­p nÃ³ báº±ng Public API

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page';
```

Váº­y, cáº¥u trÃºc file sáº½ trÃ´ng nhÆ° tháº¿ nÃ y:

```
|â”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ router.config.ts
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

Cuá»‘i cÃ¹ng, hÃ£y thÃªm má»™t route vÃ o config:

app/router.config.ts

```
import type { RouterConfig } from '@nuxt/schema'

export default <RouterConfig> {
  routes: (_routes) => [
    {
      name: 'home',
      path: '/',
      component: () => import('@/pages/home.vue').then(r => r.default || r)
    }
  ],
}
```

### File Routing[â€‹](#file-routing "Link trá»±c tiáº¿p Ä‘áº¿n heading")

TrÆ°á»›c tiÃªn, táº¡o thÆ° má»¥c `src` trong thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n cá»§a báº¡n, vÃ  táº¡o cÃ¡c layer app vÃ  pages bÃªn trong thÆ° má»¥c nÃ y cÃ¹ng vá»›i thÆ° má»¥c routes bÃªn trong layer app. Váº­y, cáº¥u trÃºc file cá»§a báº¡n nÃªn trÃ´ng nhÆ° tháº¿ nÃ y:

```
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”œâ”€â”€ pages                         # Pages folder, related to FSD
```

Äá»ƒ NuxtJS sá»­ dá»¥ng thÆ° má»¥c routes bÃªn trong layer `app` cho file routing, báº¡n cáº§n sá»­a Ä‘á»•i `nuxt.config.ts` nhÆ° sau:

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not FSD related, enabled at project startup
  alias: {
    "@": '../src'
  },
  dir: {
    pages: './src/app/routes'
  }
})
```

BÃ¢y giá», báº¡n cÃ³ thá»ƒ táº¡o cÃ¡c route cho pages trong `app` vÃ  káº¿t ná»‘i cÃ¡c page tá»« `pages` vá»›i chÃºng.

VÃ­ dá»¥, Ä‘á»ƒ thÃªm page `Home` vÃ o dá»± Ã¡n cá»§a báº¡n, báº¡n cáº§n thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:

* ThÃªm má»™t page slice bÃªn trong layer `pages`
* ThÃªm route tÆ°Æ¡ng á»©ng bÃªn trong layer `app`
* Káº¿t ná»‘i page tá»« slice vá»›i route

Äá»ƒ táº¡o má»™t page slice, hÃ£y sá»­ dá»¥ng [CLI](https://github.com/feature-sliced/cli):

```
fsd pages home
```

Táº¡o file `home-page.vue` bÃªn trong segment ui, truy cáº­p nÃ³ báº±ng Public API

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page';
```

Táº¡o má»™t route cho page nÃ y bÃªn trong layer `app`:

```

â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

ThÃªm page component cá»§a báº¡n vÃ o bÃªn trong file `index.vue`:

src/app/routes/index.vue

```
<script setup>
  import { HomePage } from '@/pages/home';
</script>

<template>
  <HomePage/>
</template>
```

## LÃ m gÃ¬ vá»›i `layouts`?[â€‹](#lÃ m-gÃ¬-vá»›i-layouts "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Báº¡n cÃ³ thá»ƒ Ä‘áº·t layouts bÃªn trong layer `app`, Ä‘á»ƒ lÃ m Ä‘iá»u nÃ y báº¡n cáº§n sá»­a Ä‘á»•i config nhÆ° sau:

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not related to FSD, enabled at project startup
  alias: {
    "@": '../src'
  },
  dir: {
    pages: './src/app/routes',
    layouts: './src/app/layouts'
  }
})
```

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Documentation on changing directory config in NuxtJS](https://nuxt.com/docs/api/nuxt-config#dir)
* [Documentation on changing router config in NuxtJS](https://nuxt.com/docs/guide/recipes/custom-routing#router-config)
* [Documentation on changing aliases in NuxtJS](https://nuxt.com/docs/api/nuxt-config#alias)


---

# Sá»­ dá»¥ng vá»›i React Query

## Váº¥n Ä‘á» "nÃªn Ä‘áº·t cÃ¡c key á»Ÿ Ä‘Ã¢u"[â€‹](#váº¥n-Ä‘á»-nÃªn-Ä‘áº·t-cÃ¡c-key-á»Ÿ-Ä‘Ã¢u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Giáº£i phÃ¡p â€” phÃ¢n chia theo entities[â€‹](#giáº£i-phÃ¡p--phÃ¢n-chia-theo-entities "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Náº¿u dá»± Ã¡n Ä‘Ã£ cÃ³ sá»± phÃ¢n chia thÃ nh cÃ¡c entity, vÃ  má»—i request tÆ°Æ¡ng á»©ng vá»›i má»™t entity duy nháº¥t, cÃ¡ch phÃ¢n chia thuáº§n khiáº¿t nháº¥t sáº½ lÃ  theo entity. Trong trÆ°á»ng há»£p nÃ y, chÃºng tÃ´i Ä‘á» xuáº¥t sá»­ dá»¥ng cáº¥u trÃºc sau:

```
â””â”€â”€ src/                                        #
    â”œâ”€â”€ app/                                    #
    |   ...                                     #
    â”œâ”€â”€ pages/                                  #
    |   ...                                     #
    â”œâ”€â”€ entities/                               #
    |     â”œâ”€â”€ {entity}/                         #
    |    ...     â””â”€â”€ api/                       #
    |                 â”œâ”€â”€ `{entity}.query`      # Query-factory nÆ¡i chá»©a cÃ¡c key vÃ  function
    |                 â”œâ”€â”€ `get-{entity}`        # Function láº¥y entity
    |                 â”œâ”€â”€ `create-{entity}`     # Function táº¡o entity
    |                 â”œâ”€â”€ `update-{entity}`     # Function cáº­p nháº­t entity
    |                 â”œâ”€â”€ `delete-{entity}`     # Function xÃ³a entity
    |                ...                        #
    |                                           #
    â”œâ”€â”€ features/                               #
    |   ...                                     #
    â”œâ”€â”€ widgets/                                #
    |   ...                                     #
    â””â”€â”€ shared/                                 #
        ...                                     #
```

Náº¿u cÃ³ káº¿t ná»‘i giá»¯a cÃ¡c entity (vÃ­ dá»¥, entity Country cÃ³ field-list cá»§a cÃ¡c entity City), thÃ¬ báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng [public API for cross-imports](/documentation/vi/docs/reference/public-api.md#public-api-for-cross-imports) hoáº·c cÃ¢n nháº¯c giáº£i phÃ¡p thay tháº¿ bÃªn dÆ°á»›i.

### Giáº£i phÃ¡p thay tháº¿ â€” giá»¯ trong shared[â€‹](#giáº£i-phÃ¡p-thay-tháº¿--giá»¯-trong-shared "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong cÃ¡c trÆ°á»ng há»£p mÃ  viá»‡c tÃ¡ch biá»‡t entity khÃ´ng phÃ¹ há»£p, cÃ³ thá»ƒ cÃ¢n nháº¯c cáº¥u trÃºc sau:

```
â””â”€â”€ src/                                        #
   ...                                          #
    â””â”€â”€ shared/                                 #
          â”œâ”€â”€ api/                              #
         ...   â”œâ”€â”€ `queries`                    # Query-factories
               |      â”œâ”€â”€ `document.ts`         #
               |      â”œâ”€â”€ `background-jobs.ts`  #
               |     ...                        #
               â””â”€â”€  index.ts                    #
```

Sau Ä‘Ã³ trong `@/shared/api/index.ts`:

@/shared/api/index.ts

```
export { documentQueries } from "./queries/document";
```

## Váº¥n Ä‘á» "Äáº·t mutations á»Ÿ Ä‘Ã¢u?"[â€‹](#váº¥n-Ä‘á»-Ä‘áº·t-mutations-á»Ÿ-Ä‘Ã¢u "Link trá»±c tiáº¿p Ä‘áº¿n heading")

KhÃ´ng nÃªn trá»™n láº«n mutations vá»›i queries. CÃ³ hai lá»±a chá»n:

### 1. Äá»‹nh nghÄ©a má»™t custom hook trong segment `api` gáº§n nÆ¡i sá»­ dá»¥ng[â€‹](#1-Ä‘á»‹nh-nghÄ©a-má»™t-custom-hook-trong-segment-api-gáº§n-nÆ¡i-sá»­-dá»¥ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

@/features/update-post/api/use-update-title.ts

```
export const useUpdateTitle = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: ({ id, newTitle }) =>
      apiClient
        .patch(`/posts/${id}`, { title: newTitle })
        .then((data) => console.log(data)),

    onSuccess: (newPost) => {
      queryClient.setQueryData(postsQueries.ids(id), newPost);
    },
  });
};
```

### 2. Äá»‹nh nghÄ©a má»™t mutation function á»Ÿ nÆ¡i khÃ¡c (Shared hoáº·c Entities) vÃ  sá»­ dá»¥ng `useMutation` trá»±c tiáº¿p trong component[â€‹](#2-Ä‘á»‹nh-nghÄ©a-má»™t-mutation-function-á»Ÿ-nÆ¡i-khÃ¡c-shared-hoáº·c-entities-vÃ -sá»­-dá»¥ng-usemutation-trá»±c-tiáº¿p-trong-component "Link trá»±c tiáº¿p Ä‘áº¿n heading")

```
const { mutateAsync, isPending } = useMutation({
  mutationFn: postApi.createPost,
});
```

@/pages/post-create/ui/post-create-page.tsx

```
export const CreatePost = () => {
  const { classes } = useStyles();
  const [title, setTitle] = useState("");

  const { mutate, isPending } = useMutation({
    mutationFn: postApi.createPost,
  });

  const handleChange = (e: ChangeEvent<HTMLInputElement>) =>
    setTitle(e.target.value);
  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    mutate({ title, userId: DEFAULT_USER_ID });
  };

  return (
    <form className={classes.create_form} onSubmit={handleSubmit}>
      <TextField onChange={handleChange} value={title} />
      <LoadingButton type="submit" variant="contained" loading={isPending}>
        Create
      </LoadingButton>
    </form>
  );
};
```

## Tá»• chá»©c cÃ¡c request[â€‹](#tá»•-chá»©c-cÃ¡c-request "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### Query factory[â€‹](#query-factory "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»™t query factory lÃ  má»™t object mÃ  cÃ¡c giÃ¡ trá»‹ key lÃ  cÃ¡c function tráº£ vá» má»™t danh sÃ¡ch cÃ¡c query key. ÄÃ¢y lÃ  cÃ¡ch sá»­ dá»¥ng nÃ³:

```
const keyFactory = {
  all: () => ["entity"],
  lists: () => [...postQueries.all(), "list"],
};
```

thÃ´ng tin

`queryOptions` lÃ  má»™t utility tÃ­ch há»£p sáºµn trong react-query\@v5 (tÃ¹y chá»n)

```
queryOptions({
  queryKey,
  ...options,
});
```

Äá»ƒ cÃ³ type safety tá»‘t hÆ¡n, tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c phiÃªn báº£n tÆ°Æ¡ng lai cá»§a react-query, vÃ  dá»… dÃ ng truy cáº­p cÃ¡c function vÃ  query key, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng function queryOptions tÃ­ch há»£p sáºµn tá»« "@tanstack/react-query" [(Chi tiáº¿t thÃªm táº¡i Ä‘Ã¢y)](https://tkdodo.eu/blog/the-query-options-api#queryoptions).

### 1. Táº¡o má»™t Query Factory[â€‹](#1-táº¡o-má»™t-query-factory "Link trá»±c tiáº¿p Ä‘áº¿n heading")

@/entities/post/api/post.queries.ts

```
import { keepPreviousData, queryOptions } from "@tanstack/react-query";
import { getPosts } from "./get-posts";
import { getDetailPost } from "./get-detail-post";
import { PostDetailQuery } from "./query/post.query";

export const postQueries = {
  all: () => ["posts"],

  lists: () => [...postQueries.all(), "list"],
  list: (page: number, limit: number) =>
    queryOptions({
      queryKey: [...postQueries.lists(), page, limit],
      queryFn: () => getPosts(page, limit),
      placeholderData: keepPreviousData,
    }),

  details: () => [...postQueries.all(), "detail"],
  detail: (query?: PostDetailQuery) =>
    queryOptions({
      queryKey: [...postQueries.details(), query?.id],
      queryFn: () => getDetailPost({ id: query?.id }),
      staleTime: 5000,
    }),
};
```

### 2. Sá»­ dá»¥ng Query Factory trong code á»©ng dá»¥ng[â€‹](#2-sá»­-dá»¥ng-query-factory-trong-code-á»©ng-dá»¥ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

```
import { useParams } from "react-router-dom";
import { postApi } from "@/entities/post";
import { useQuery } from "@tanstack/react-query";

type Params = {
  postId: string;
};

export const PostPage = () => {
  const { postId } = useParams<Params>();
  const id = parseInt(postId || "");
  const {
    data: post,
    error,
    isLoading,
    isError,
  } = useQuery(postApi.postQueries.detail({ id }));

  if (isLoading) {
    return <div>Loading...</div>;
  }

  if (isError || !post) {
    return <>{error?.message}</>;
  }

  return (
    <div>
      <p>Post id: {post.id}</p>
      <div>
        <h1>{post.title}</h1>
        <div>
          <p>{post.body}</p>
        </div>
      </div>
      <div>Owner: {post.userId}</div>
    </div>
  );
};
```

### Lá»£i Ã­ch cá»§a viá»‡c sá»­ dá»¥ng Query Factory[â€‹](#lá»£i-Ã­ch-cá»§a-viá»‡c-sá»­-dá»¥ng-query-factory "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* **Cáº¥u trÃºc hÃ³a request:** Factory cho phÃ©p báº¡n tá»• chá»©c táº¥t cáº£ API request táº¡i má»™t nÆ¡i, giÃºp code dá»… Ä‘á»c vÃ  báº£o trÃ¬ hÆ¡n.
* **Truy cáº­p thuáº­n tiá»‡n vÃ o query vÃ  key:** Factory cung cáº¥p cÃ¡c method thuáº­n tiá»‡n Ä‘á»ƒ truy cáº­p cÃ¡c loáº¡i query khÃ¡c nhau vÃ  key cá»§a chÃºng.
* **Kháº£ nÄƒng refetch query:** Factory cho phÃ©p refetch dá»… dÃ ng mÃ  khÃ´ng cáº§n thay Ä‘á»•i query key á»Ÿ cÃ¡c pháº§n khÃ¡c nhau cá»§a á»©ng dá»¥ng.

## PhÃ¢n trang[â€‹](#phÃ¢n-trang "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong pháº§n nÃ y, chÃºng ta sáº½ xem xÃ©t vÃ­ dá»¥ vá» function `getPosts`, thá»±c hiá»‡n API request Ä‘á»ƒ láº¥y cÃ¡c post entity sá»­ dá»¥ng phÃ¢n trang.

### 1. Táº¡o function `getPosts`[â€‹](#1-táº¡o-function-getposts "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Function getPosts náº±m trong file `get-posts.ts`, Ä‘Æ°á»£c Ä‘áº·t trong segment `api`

@/pages/post-feed/api/get-posts.ts

```
import { apiClient } from "@/shared/api/base";

import { PostWithPaginationDto } from "./dto/post-with-pagination.dto";
import { PostQuery } from "./query/post.query";
import { mapPost } from "./mapper/map-post";
import { PostWithPagination } from "../model/post-with-pagination";

const calculatePostPage = (totalCount: number, limit: number) =>
  Math.floor(totalCount / limit);

export const getPosts = async (
  page: number,
  limit: number,
): Promise<PostWithPagination> => {
  const skip = page * limit;
  const query: PostQuery = { skip, limit };
  const result = await apiClient.get<PostWithPaginationDto>("/posts", query);

  return {
    posts: result.posts.map((post) => mapPost(post)),
    limit: result.limit,
    skip: result.skip,
    total: result.total,
    totalPages: calculatePostPage(result.total, limit),
  };
};
```

### 2. Query factory cho phÃ¢n trang[â€‹](#2-query-factory-cho-phÃ¢n-trang "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Query factory `postQueries` Ä‘á»‹nh nghÄ©a cÃ¡c query option khÃ¡c nhau Ä‘á»ƒ lÃ m viá»‡c vá»›i post, bao gá»“m request danh sÃ¡ch post vá»›i page vÃ  limit cá»¥ thá»ƒ.

```
import { keepPreviousData, queryOptions } from "@tanstack/react-query";
import { getPosts } from "./get-posts";

export const postQueries = {
  all: () => ["posts"],
  lists: () => [...postQueries.all(), "list"],
  list: (page: number, limit: number) =>
    queryOptions({
      queryKey: [...postQueries.lists(), page, limit],
      queryFn: () => getPosts(page, limit),
      placeholderData: keepPreviousData,
    }),
};
```

### 3. Sá»­ dá»¥ng trong code á»©ng dá»¥ng[â€‹](#3-sá»­-dá»¥ng-trong-code-á»©ng-dá»¥ng "Link trá»±c tiáº¿p Ä‘áº¿n heading")

@/pages/home/ui/index.tsx

```
export const HomePage = () => {
  const itemsOnScreen = DEFAULT_ITEMS_ON_SCREEN;
  const [page, setPage] = usePageParam(DEFAULT_PAGE);
  const { data, isFetching, isLoading } = useQuery(
    postApi.postQueries.list(page, itemsOnScreen),
  );
  return (
    <>
      <Pagination
        onChange={(_, page) => setPage(page)}
        page={page}
        count={data?.totalPages}
        variant="outlined"
        color="primary"
      />
      <Posts posts={data?.posts} />
    </>
  );
};
```

ghi chÃº

VÃ­ dá»¥ Ä‘Ã£ Ä‘Æ°á»£c Ä‘Æ¡n giáº£n hÃ³a, phiÃªn báº£n Ä‘áº§y Ä‘á»§ cÃ³ sáºµn trÃªn [GitHub](https://github.com/ruslan4432013/fsd-react-query-example)

## `QueryProvider` Ä‘á»ƒ quáº£n lÃ½ queries[â€‹](#queryprovider-Ä‘á»ƒ-quáº£n-lÃ½-queries "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Trong hÆ°á»›ng dáº«n nÃ y, chÃºng ta sáº½ xem cÃ¡ch tá»• chá»©c má»™t `QueryProvider`.

### 1. Táº¡o má»™t `QueryProvider`[â€‹](#1-táº¡o-má»™t-queryprovider "Link trá»±c tiáº¿p Ä‘áº¿n heading")

File `query-provider.tsx` náº±m táº¡i Ä‘Æ°á»ng dáº«n `@/app/providers/query-provider.tsx`.

@/app/providers/query-provider.tsx

```
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ReactQueryDevtools } from "@tanstack/react-query-devtools";
import { ReactNode } from "react";

type Props = {
  children: ReactNode;
  client: QueryClient;
};

export const QueryProvider = ({ client, children }: Props) => {
  return (
    <QueryClientProvider client={client}>
      {children}
      <ReactQueryDevtools />
    </QueryClientProvider>
  );
};
```

### 2. Táº¡o má»™t `QueryClient`[â€‹](#2-táº¡o-má»™t-queryclient "Link trá»±c tiáº¿p Ä‘áº¿n heading")

`QueryClient` lÃ  má»™t instance Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ quáº£n lÃ½ cÃ¡c API request. File `query-client.ts` náº±m táº¡i `@/shared/api/query-client.ts`. `QueryClient` Ä‘Æ°á»£c táº¡o vá»›i cÃ¡c cÃ i Ä‘áº·t nháº¥t Ä‘á»‹nh cho viá»‡c cache query.

@/shared/api/query-client.ts

```
import { QueryClient } from "@tanstack/react-query";

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,
      gcTime: 5 * 60 * 1000,
    },
  },
});
```

## Tá»± Ä‘á»™ng sinh code[â€‹](#tá»±-Ä‘á»™ng-sinh-code "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ³ cÃ¡c cÃ´ng cá»¥ cÃ³ thá»ƒ tá»± Ä‘á»™ng sinh API code cho báº¡n, nhÆ°ng chÃºng kÃ©m linh hoáº¡t hÆ¡n so vá»›i cÃ¡ch tiáº¿p cáº­n thá»§ cÃ´ng Ä‘Æ°á»£c mÃ´ táº£ á»Ÿ trÃªn. Náº¿u file Swagger cá»§a báº¡n cÃ³ cáº¥u trÃºc tá»‘t, vÃ  báº¡n Ä‘ang sá»­ dá»¥ng má»™t trong nhá»¯ng cÃ´ng cá»¥ nÃ y, viá»‡c sinh táº¥t cáº£ code trong thÆ° má»¥c `@/shared/api` cÃ³ thá»ƒ há»£p lÃ½.

## Lá»i khuyÃªn bá»• sung cho viá»‡c tá»• chá»©c RQ[â€‹](#lá»i-khuyÃªn-bá»•-sung-cho-viá»‡c-tá»•-chá»©c-rq "Link trá»±c tiáº¿p Ä‘áº¿n heading")

### API Client[â€‹](#api-client "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Sá»­ dá»¥ng má»™t class API client tÃ¹y chá»‰nh trong layer shared, báº¡n cÃ³ thá»ƒ chuáº©n hÃ³a cáº¥u hÃ¬nh vÃ  lÃ m viá»‡c vá»›i API trong dá»± Ã¡n. Äiá»u nÃ y cho phÃ©p báº¡n quáº£n lÃ½ logging, header vÃ  Ä‘á»‹nh dáº¡ng trao Ä‘á»•i dá»¯ liá»‡u (nhÆ° JSON hoáº·c XML) tá»« má»™t nÆ¡i. CÃ¡ch tiáº¿p cáº­n nÃ y giÃºp dá»… dÃ ng báº£o trÃ¬ vÃ  phÃ¡t triá»ƒn dá»± Ã¡n vÃ¬ nÃ³ Ä‘Æ¡n giáº£n hÃ³a cÃ¡c thay Ä‘á»•i vÃ  cáº­p nháº­t tÆ°Æ¡ng tÃ¡c vá»›i API.

@/shared/api/api-client.ts

```
import { API_URL } from "@/shared/config";

export class ApiClient {
  private baseUrl: string;

  constructor(url: string) {
    this.baseUrl = url;
  }

  async handleResponse<TResult>(response: Response): Promise<TResult> {
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    try {
      return await response.json();
    } catch (error) {
      throw new Error("Error parsing JSON response");
    }
  }

  public async get<TResult = unknown>(
    endpoint: string,
    queryParams?: Record<string, string | number>,
  ): Promise<TResult> {
    const url = new URL(endpoint, this.baseUrl);

    if (queryParams) {
      Object.entries(queryParams).forEach(([key, value]) => {
        url.searchParams.append(key, value.toString());
      });
    }
    const response = await fetch(url.toString(), {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    });

    return this.handleResponse<TResult>(response);
  }

  public async post<TResult = unknown, TData = Record<string, unknown>>(
    endpoint: string,
    body: TData,
  ): Promise<TResult> {
    const response = await fetch(`${this.baseUrl}${endpoint}`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(body),
    });

    return this.handleResponse<TResult>(response);
  }
}

export const apiClient = new ApiClient(API_URL);
```

## Xem thÃªm[â€‹](#see-also "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [(GitHub) Project máº«u](https://github.com/ruslan4432013/fsd-react-query-example)
* [(CodeSandbox) Project máº«u](https://codesandbox.io/p/github/ruslan4432013/fsd-react-query-example/main)
* [Vá» query factory](https://tkdodo.eu/blog/the-query-options-api)


---

# Sá»­ dá»¥ng vá»›i SvelteKit

CÃ³ thá»ƒ triá»ƒn khai FSD trong dá»± Ã¡n SvelteKit, nhÆ°ng xáº£y ra xung Ä‘á»™t do sá»± khÃ¡c biá»‡t giá»¯a yÃªu cáº§u cáº¥u trÃºc cá»§a dá»± Ã¡n SvelteKit vÃ  cÃ¡c nguyÃªn táº¯c cá»§a FSD:

* Ban Ä‘áº§u, SvelteKit cung cáº¥p cáº¥u trÃºc file bÃªn trong thÆ° má»¥c `src/routes`, trong khi á»Ÿ FSD thÃ¬ routing pháº£i lÃ  má»™t pháº§n cá»§a layer `app`.
* SvelteKit Ä‘á» xuáº¥t Ä‘áº·t má»i thá»© khÃ´ng liÃªn quan Ä‘áº¿n routing trong thÆ° má»¥c `src/lib`.

## HÃ£y thiáº¿t láº­p config[â€‹](#hÃ£y-thiáº¿t-láº­p-config "Link trá»±c tiáº¿p Ä‘áº¿n heading")

svelte.config.ts

```
import adapter from '@sveltejs/adapter-auto';
import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';

/** @type {import('@sveltejs/kit').Config}*/
const config = {
  preprocess: [vitePreprocess()],
  kit: {
    adapter: adapter(),
    files: {
      routes: 'src/app/routes',             // move routing inside the app layer
      lib: 'src',
      appTemplate: 'src/app/index.html',    // Move the application entry point inside the app layer
      assets: 'public'
    },
    alias: {
      '@/*': 'src/*'                        // Create an alias for the src directory
    }
  }
};
export default config;
```

## Di chuyá»ƒn file routing vÃ o `src/app`.[â€‹](#di-chuyá»ƒn-file-routing-vÃ o-srcapp "Link trá»±c tiáº¿p Ä‘áº¿n heading")

HÃ£y táº¡o má»™t layer app, di chuyá»ƒn Ä‘iá»ƒm Ä‘áº§u vÃ o `index.html` cá»§a app vÃ o Ä‘Ã³, vÃ  táº¡o má»™t thÆ° má»¥c routes. Váº­y, cáº¥u trÃºc file cá»§a báº¡n nÃªn trÃ´ng nhÆ° tháº¿ nÃ y:

```
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”œâ”€â”€ pages                               # FSD Pages folder
```

BÃ¢y giá», báº¡n cÃ³ thá»ƒ táº¡o cÃ¡c route cho pages trong `app` vÃ  káº¿t ná»‘i cÃ¡c page tá»« `pages` vá»›i chÃºng.

VÃ­ dá»¥, Ä‘á»ƒ thÃªm má»™t home page vÃ o dá»± Ã¡n cá»§a báº¡n, báº¡n cáº§n thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:

* ThÃªm má»™t page slice bÃªn trong layer `pages`
* ThÃªm route tÆ°Æ¡ng á»©ng vÃ o thÆ° má»¥c `routes` tá»« layer `app`
* Canh chá»‰nh page tá»« slice vá»›i route

Äá»ƒ táº¡o má»™t page slice, hÃ£y sá»­ dá»¥ng [CLI](https://github.com/feature-sliced/cli):

```
fsd pages home
```

Táº¡o file `home-page.svelte` bÃªn trong segment ui, truy cáº­p nÃ³ báº±ng Public API

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page.svelte';
```

Táº¡o má»™t route cho page nÃ y bÃªn trong layer `app`:

```

â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

ThÃªm page component cá»§a báº¡n vÃ o bÃªn trong file `+page.svelte`:

src/app/routes/+page.svelte

```
<script>
  import { HomePage } from '@/pages/home';
</script>


<HomePage/>
```

## Xem thÃªm[â€‹](#xem-thÃªm "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [Documentation on changing directory config in SvelteKit](https://kit.svelte.dev/docs/configuration#files)


---

# TÃ i liá»‡u cho LLMs

Trang nÃ y cung cáº¥p cÃ¡c liÃªn káº¿t vÃ  hÆ°á»›ng dáº«n cho cÃ¡c LLM crawler.

* Spec: <https://llmstxt.org/>

### Files[â€‹](#files "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* [llms.txt](/documentation/vi/llms.txt)
* [llms-full.txt](/documentation/vi/llms-full.txt)

### Ghi chÃº[â€‹](#ghi-chÃº "Link trá»±c tiáº¿p Ä‘áº¿n heading")

* CÃ¡c file Ä‘Æ°á»£c phá»¥c vá»¥ tá»« root cá»§a site, báº¥t ká»ƒ Ä‘Æ°á»ng dáº«n trang hiá»‡n táº¡i.
* Trong cÃ¡c triá»ƒn khai cÃ³ base URL khÃ´ng pháº£i root (vÃ­ dá»¥ `/documentation/`), cÃ¡c liÃªn káº¿t phÃ­a trÃªn sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng thÃªm prefix.


---

# Layer

Layer lÃ  cáº¥p Ä‘á»™ Ä‘áº§u tiÃªn cá»§a há»‡ thá»‘ng phÃ¢n cáº¥p tá»• chá»©c trong Feature-Sliced Design. Má»¥c Ä‘Ã­ch cá»§a chÃºng lÃ  phÃ¢n tÃ¡ch code dá»±a trÃªn má»©c Ä‘á»™ trÃ¡ch nhiá»‡m cáº§n thiáº¿t vÃ  sá»‘ lÆ°á»£ng module khÃ¡c trong app mÃ  nÃ³ phá»¥ thuá»™c vÃ o. Má»—i layer mang Ã½ nghÄ©a ngá»¯ nghÄ©a Ä‘áº·c biá»‡t Ä‘á»ƒ giÃºp báº¡n xÃ¡c Ä‘á»‹nh má»©c Ä‘á»™ trÃ¡ch nhiá»‡m mÃ  báº¡n nÃªn phÃ¢n bá»• cho code cá»§a mÃ¬nh.

CÃ³ tá»•ng cá»™ng **7 layer**, Ä‘Æ°á»£c sáº¯p xáº¿p tá»« nhiá»u trÃ¡ch nhiá»‡m vÃ Â dependency nháº¥t Ä‘áº¿n Ã­t nháº¥t:

![A file system tree, with a single root folder called src and then seven subfolders: app, processes, pages, widgets, features, entities, shared. The processes folder is slightly faded out.](/documentation/vi/img/layers/folders-graphic-light.svg#light-mode-only) ![A file system tree, with a single root folder called src and then seven subfolders: app, processes, pages, widgets, features, entities, shared. The processes folder is slightly faded out.](/documentation/vi/img/layers/folders-graphic-dark.svg#dark-mode-only)

1. App
2. Processes (deprecated)
3. Pages
4. Widgets
5. Features
6. Entities
7. Shared

Báº¡n khÃ´ng cáº§n pháº£i sá»­ dá»¥ng má»i layer trong dá»± Ã¡n cá»§a mÃ¬nh â€” chá»‰ thÃªm chÃºng náº¿u báº¡n nghÄ© nÃ³ mang láº¡i giÃ¡ trá»‹ cho dá»± Ã¡n cá»§a báº¡n. ThÃ´ng thÆ°á»ng, háº§u háº¿t cÃ¡c dá»± Ã¡n frontend sáº½ cÃ³ Ã­t nháº¥t cÃ¡c layer Shared, Pages vÃ  App.

Trong thá»±c táº¿, layer lÃ  cÃ¡c folder vá»›i tÃªn viáº¿t thÆ°á»ng (vÃ­ dá»¥: `ğŸ“ shared`, `ğŸ“ pages`, `ğŸ“ app`). Viá»‡c thÃªm layer má»›i *khÃ´ng Ä‘Æ°á»£c khuyáº¿n nghá»‹* vÃ¬ ngá»¯ nghÄ©a cá»§a chÃºng Ä‘Ã£ Ä‘Æ°á»£c chuáº©n hÃ³a.

## Import rule trÃªn layer[â€‹](#import-rule-trÃªn-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layer Ä‘Æ°á»£c táº¡o thÃ nh tá»« cÃ¡c *slice* â€” cÃ¡c nhÃ³m module cÃ³ tÃ­nh gáº¯n káº¿t cao. Dependency giá»¯a cÃ¡c slice Ä‘Æ°á»£c Ä‘iá»u chá»‰nh bá»Ÿi **import rule trÃªn layer**:

> *Má»™t module (file) trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slice khÃ¡c khi chÃºng náº±m trÃªn cÃ¡c layer tháº¥p hÆ¡n má»™t cÃ¡ch nghiÃªm ngáº·t.*

VÃ­ dá»¥, folder `ğŸ“ ~/features/aaa` lÃ  má»™t slice vá»›i tÃªn "aaa". Má»™t file bÃªn trong nÃ³, `~/features/aaa/api/request.ts`, khÃ´ng thá»ƒ import code tá»« báº¥t ká»³ file nÃ o trong `ğŸ“ ~/features/bbb`, nhÆ°ng cÃ³ thá»ƒ import code tá»« `ğŸ“ ~/entities` vÃ  `ğŸ“ ~/shared`, cÅ©ng nhÆ° báº¥t ká»³ code anh em nÃ o tá»« `ğŸ“ ~/features/aaa`, vÃ­ dá»¥ `~/features/aaa/lib/cache.ts`.

Layer App vÃ  Shared lÃ  **ngoáº¡i lá»‡** cá»§a quy táº¯c nÃ y â€” chÃºng vá»«a lÃ  layer vá»«a lÃ  slice cÃ¹ng má»™t lÃºc. Slice phÃ¢n chia code theo business domain, vÃ  hai layer nÃ y lÃ  ngoáº¡i lá»‡ vÃ¬ Shared khÃ´ng cÃ³ business domain, vÃ  App káº¿t há»£p táº¥t cáº£ business domain.

Trong thá»±c táº¿, Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  layer App vÃ  Shared Ä‘Æ°á»£c táº¡o thÃ nh tá»« cÃ¡c segment, vÃ  cÃ¡c segment cÃ³ thá»ƒ import láº«n nhau má»™t cÃ¡ch tá»± do.

## Äá»‹nh nghÄ©a layer[â€‹](#Ä‘á»‹nh-nghÄ©a-layer "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Pháº§n nÃ y mÃ´ táº£ Ã½ nghÄ©a ngá»¯ nghÄ©a cá»§a tá»«ng layer Ä‘á»ƒ táº¡o ra trá»±c giÃ¡c vá» loáº¡i code nÃ o thuá»™c vá» Ä‘Ã³.

### Shared[â€‹](#shared "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layer nÃ y táº¡o thÃ nh ná»n táº£ng cho pháº§n cÃ²n láº¡i cá»§a app. ÄÃ¢y lÃ  nÆ¡i táº¡o káº¿t ná»‘i vá»›i tháº¿ giá»›i bÃªn ngoÃ i, vÃ­ dá»¥: backend, third-party library, environment. ÄÃ¢y cÅ©ng lÃ  nÆ¡i Ä‘á»‹nh nghÄ©a cÃ¡c library cÃ³ tÃ­nh chá»©a Ä‘á»±ng cao cá»§a riÃªng báº¡n.

Layer nÃ y, giá»‘ng nhÆ° layer App, *khÃ´ng chá»©a slice*. Slice Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ chia layer thÃ nh cÃ¡c business domain, nhÆ°ng business domain khÃ´ng tá»“n táº¡i trong Shared. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  táº¥t cáº£ file trong Shared cÃ³ thá»ƒ tham chiáº¿u vÃ  import láº«n nhau.

DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡c segment mÃ  báº¡n thÆ°á»ng cÃ³ thá»ƒ tÃ¬m tháº¥y trong layer nÃ y:

* `ğŸ“ api` â€” API client vÃ  cÃ³ thá»ƒ cáº£ cÃ¡c function Ä‘á»ƒ thá»±c hiá»‡n request Ä‘áº¿n cÃ¡c endpoint backend cá»¥ thá»ƒ.
* `ğŸ“ ui` â€” bá»™ UI kit cá»§a á»©ng dá»¥ng.
  <br />
  <!-- -->
  CÃ¡c component trÃªn layer nÃ y khÃ´ng nÃªn chá»©a business logic, nhÆ°ng cÃ³ thá»ƒ cÃ³ chá»§ Ä‘á» business. VÃ­ dá»¥, báº¡n cÃ³ thá»ƒ Ä‘áº·t logo cÃ´ng ty vÃ  layout trang á»Ÿ Ä‘Ã¢y. CÃ¡c component cÃ³ UI logic cÅ©ng Ä‘Æ°á»£c cho phÃ©p (vÃ­ dá»¥: autocomplete hoáº·c search bar).
* `ğŸ“ lib` â€” táº­p há»£p cÃ¡c internal library.
  <br />
  <!-- -->
  Folder nÃ y khÃ´ng nÃªn Ä‘Æ°á»£c coi nhÆ° helper hoáº·c utility ([Ä‘á»c á»Ÿ Ä‘Ã¢y táº¡i sao nhá»¯ng folder nÃ y thÆ°á»ng trá»Ÿ thÃ nh bÃ£i rÃ¡c](https://dev.to/sergeysova/why-utils-helpers-is-a-dump-45fo)). Thay vÃ o Ä‘Ã³, má»—i library trong folder nÃ y nÃªn cÃ³ má»™t lÄ©nh vá»±c táº­p trung, vÃ­ dá»¥: date, color, text manipulation, v.v. LÄ©nh vá»±c táº­p trung Ä‘Ã³ nÃªn Ä‘Æ°á»£c ghi láº¡i trong file README. CÃ¡c developer trong team cá»§a báº¡n nÃªn biáº¿t cÃ³ thá»ƒ thÃªm gÃ¬ vÃ  khÃ´ng thá»ƒ thÃªm gÃ¬ vÃ o nhá»¯ng library nÃ y.
* `ğŸ“ config` â€” environment variable, global feature flag vÃ  cÃ¡c cáº¥u hÃ¬nh global khÃ¡c cho app cá»§a báº¡n.
* `ğŸ“ routes` â€” route constant hoáº·c pattern Ä‘á»ƒ matching route.
* `ğŸ“ i18n` â€” setup code cho translation, global translation string.

Báº¡n Ä‘Æ°á»£c tá»± do thÃªm nhiá»u segment hÆ¡n, nhÆ°ng hÃ£y Ä‘áº£m báº£o ráº±ng tÃªn cá»§a nhá»¯ng segment nÃ y mÃ´ táº£ má»¥c Ä‘Ã­ch cá»§a ná»™i dung, khÃ´ng pháº£i báº£n cháº¥t cá»§a nÃ³. VÃ­ dá»¥, `components`, `hooks`, vÃ  `types` lÃ  nhá»¯ng tÃªn segment tá»‡ vÃ¬ chÃºng khÃ´ng há»¯u Ã­ch khi báº¡n Ä‘ang tÃ¬m kiáº¿m code.

### Entities[â€‹](#entities "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c slice trÃªn layer nÃ y Ä‘áº¡i diá»‡n cho cÃ¡c khÃ¡i niá»‡m tá»« tháº¿ giá»›i thá»±c mÃ  dá»± Ã¡n Ä‘ang lÃ m viá»‡c. ThÃ´ng thÆ°á»ng, chÃºng lÃ  cÃ¡c thuáº­t ngá»¯ mÃ  business sá»­ dá»¥ng Ä‘á»ƒ mÃ´ táº£ sáº£n pháº©m. VÃ­ dá»¥, má»™t máº¡ng xÃ£ há»™i cÃ³ thá»ƒ lÃ m viá»‡c vá»›i cÃ¡c business entity nhÆ° User, Post vÃ  Group.

Má»™t entity slice cÃ³ thá»ƒ chá»©a data storage (`ğŸ“ model`), data validation schema (`ğŸ“ model`), cÃ¡c function API request liÃªn quan Ä‘áº¿n entity (`ğŸ“ api`), cÅ©ng nhÆ° visual representation cá»§a entity nÃ y trong interface (`ğŸ“ ui`). Visual representation khÃ´ng cáº§n pháº£i táº¡o ra má»™t UI block hoÃ n chá»‰nh â€” nÃ³ chá»§ yáº¿u nháº±m tÃ¡i sá»­ dá»¥ng cÃ¹ng má»™t appearance trÃªn nhiá»u page trong app, vÃ  cÃ¡c business logic khÃ¡c nhau cÃ³ thá»ƒ Ä‘Æ°á»£c gáº¯n vÃ o nÃ³ thÃ´ng qua props hoáº·c slot.

#### Má»‘i quan há»‡ entity[â€‹](#má»‘i-quan-há»‡-entity "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Entity trong FSD lÃ  cÃ¡c slice, vÃ  máº·c Ä‘á»‹nh, cÃ¡c slice khÃ´ng thá»ƒ biáº¿t vá» nhau. Tuy nhiÃªn, trong Ä‘á»i thá»±c, cÃ¡c entity thÆ°á»ng tÆ°Æ¡ng tÃ¡c vá»›i nhau, vÃ  Ä‘Ã´i khi má»™t entity sá»Ÿ há»¯u hoáº·c chá»©a cÃ¡c entity khÃ¡c. VÃ¬ váº­y, business logic cá»§a nhá»¯ng tÆ°Æ¡ng tÃ¡c nÃ y tá»‘t nháº¥t nÃªn Ä‘Æ°á»£c giá»¯ á»Ÿ cÃ¡c layer cao hÆ¡n, nhÆ° Features hoáº·c Pages.

Khi data object cá»§a má»™t entity chá»©a cÃ¡c data object khÃ¡c, thÆ°á»ng lÃ  Ã½ tÆ°á»Ÿng tá»‘t Ä‘á»ƒ lÃ m cho káº¿t ná»‘i giá»¯a cÃ¡c entity trá»Ÿ nÃªn rÃµ rÃ ng vÃ  bá» qua slice isolation báº±ng cÃ¡ch táº¡o cross-reference API vá»›i kÃ½ hiá»‡u `@x`. LÃ½ do lÃ  cÃ¡c entity Ä‘Æ°á»£c káº¿t ná»‘i cáº§n Ä‘Æ°á»£c refactor cÃ¹ng nhau, vÃ¬ váº­y tá»‘t nháº¥t lÃ  lÃ m cho káº¿t ná»‘i khÃ´ng thá»ƒ bá» sÃ³t.

For example:

entities/artist/model/artist.ts

```
import type { Song } from "entities/song/@x/artist";

export interface Artist {
  name: string;
  songs: Array<Song>;
}
```

entities/song/@x/artist.ts

```
export type { Song } from "../model/song.ts";
```

TÃ¬m hiá»ƒu thÃªm vá» kÃ½ hiá»‡u `@x` trong pháº§n [Public API cho cross-import](/documentation/vi/docs/reference/public-api.md#public-api-for-cross-imports).

### Features[â€‹](#features "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layer nÃ y dÃ nh cho cÃ¡c tÆ°Æ¡ng tÃ¡c chÃ­nh trong app cá»§a báº¡n, nhá»¯ng thá»© mÃ  ngÆ°á»i dÃ¹ng quan tÃ¢m Ä‘á»ƒ lÃ m. CÃ¡c tÆ°Æ¡ng tÃ¡c nÃ y thÆ°á»ng liÃªn quan Ä‘áº¿n cÃ¡c business entity, vÃ¬ Ä‘Ã³ lÃ  ná»™i dung cá»§a app.

Má»™t nguyÃªn táº¯c quan trá»ng Ä‘á»ƒ sá»­ dá»¥ng layer Features hiá»‡u quáº£ lÃ : **khÃ´ng pháº£i má»i thá»© Ä‘á»u cáº§n lÃ  feature**. Má»™t chá»‰ bÃ¡o tá»‘t Ä‘á»ƒ biáº¿t thá»© gÃ¬ cáº§n lÃ  feature lÃ  nÃ³ Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng trÃªn nhiá»u page.

VÃ­ dá»¥, náº¿u app cÃ³ nhiá»u editor, vÃ  táº¥t cáº£ chÃºng Ä‘á»u cÃ³ comment, thÃ¬ comment lÃ  má»™t feature Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng. HÃ£y nhá»› ráº±ng slice lÃ  cÆ¡ cháº¿ Ä‘á»ƒ tÃ¬m code nhanh chÃ³ng, vÃ  náº¿u cÃ³ quÃ¡ nhiá»u feature, nhá»¯ng cÃ¡i quan trá»ng sáº½ bá»‹ chÃ¬m nghá»‰m.

LÃ½ tÆ°á»Ÿng, khi báº¡n Ä‘áº¿n má»™t dá»± Ã¡n má»›i, báº¡n sáº½ khÃ¡m phÃ¡ tÃ­nh nÄƒng cá»§a nÃ³ báº±ng cÃ¡ch xem qua cÃ¡c page vÃ  feature. Khi quyáº¿t Ä‘á»‹nh thá»© gÃ¬ nÃªn lÃ  feature, hÃ£y tá»‘i Æ°u hÃ³a cho tráº£i nghiá»‡m cá»§a ngÆ°á»i má»›i vÃ o dá»± Ã¡n Ä‘á»ƒ nhanh chÃ³ng khÃ¡m phÃ¡ cÃ¡c khu vá»±c code lá»›n quan trá»ng.

Má»™t feature slice cÃ³ thá»ƒ chá»©a UI Ä‘á»ƒ thá»±c hiá»‡n tÆ°Æ¡ng tÃ¡c nhÆ° form (`ğŸ“ ui`), cÃ¡c API call cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n action (`ğŸ“ api`), validation vÃ  internal state (`ğŸ“ model`), feature flag (`ğŸ“ config`).

### Widgets[â€‹](#widgets "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Layer Widgets Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c UI block lá»›n tá»± Ä‘á»§. Widget há»¯u Ã­ch nháº¥t khi chÃºng Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng trÃªn nhiá»u page, hoáº·c khi page mÃ  chÃºng thuá»™c vá» cÃ³ nhiá»u block Ä‘á»™c láº­p lá»›n, vÃ  Ä‘Ã¢y lÃ  má»™t trong sá»‘ chÃºng.

Náº¿u má»™t UI block táº¡o nÃªn pháº§n lá»›n ná»™i dung thÃº vá»‹ trÃªn page, vÃ  khÃ´ng bao giá» Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, nÃ³ **khÃ´ng nÃªn lÃ  widget**, vÃ  thay vÃ o Ä‘Ã³ nÃªn Ä‘Æ°á»£c Ä‘áº·t trá»±c tiáº¿p bÃªn trong page Ä‘Ã³.

máº¹o

Náº¿u báº¡n Ä‘ang sá»­ dá»¥ng nested routing system (nhÆ° router cá»§a [Remix](https://remix.run)), cÃ³ thá»ƒ há»¯u Ã­ch khi sá»­ dá»¥ng layer Widgets giá»‘ng nhÆ° cÃ¡ch mÃ  flat routing system sáº½ sá»­ dá»¥ng layer Pages â€” Ä‘á»ƒ táº¡o cÃ¡c router block Ä‘áº§y Ä‘á»§, hoÃ n chá»‰nh vá»›i data fetching liÃªn quan, loading state, vÃ  error boundary.

TÆ°Æ¡ng tá»±, báº¡n cÃ³ thá»ƒ lÆ°u page layout trÃªn layer nÃ y.

### Pages[â€‹](#pages "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Page lÃ  thá»© táº¡o nÃªn cÃ¡c website vÃ  application (cÅ©ng Ä‘Æ°á»£c biáº¿t Ä‘áº¿n lÃ  screen hoáº·c activity). Má»™t page thÆ°á»ng tÆ°Æ¡ng á»©ng vá»›i má»™t slice, tuy nhiÃªn, náº¿u cÃ³ nhiá»u page ráº¥t giá»‘ng nhau, chÃºng cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ³m vÃ o má»™t slice, vÃ­ dá»¥ registration vÃ  login form.

KhÃ´ng cÃ³ giá»›i háº¡n vá» lÆ°á»£ng code báº¡n cÃ³ thá»ƒ Ä‘áº·t trong page slice miá»…n lÃ  team cá»§a báº¡n váº«n tháº¥y dá»… navigate. Náº¿u má»™t UI block trÃªn page khÃ´ng Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng, hoÃ n toÃ n á»•n khi giá»¯ nÃ³ bÃªn trong page slice.

Trong page slice báº¡n thÆ°á»ng cÃ³ thá»ƒ tÃ¬m tháº¥y UI cá»§a page cÅ©ng nhÆ° loading state vÃ  error boundary (`ğŸ“ ui`) vÃ  cÃ¡c data fetching vÃ  mutating request (`ğŸ“ api`). KhÃ´ng phá»• biáº¿n Ä‘á» page cÃ³ data model riÃªng biá»‡t, vÃ  cÃ¡c bit state nhá» cÃ³ thá»ƒ Ä‘Æ°á»£c giá»¯ trong chÃ­nh cÃ¡c component.

### Processes[â€‹](#processes "Link trá»±c tiáº¿p Ä‘áº¿n heading")

cáº©n tháº­n

Layer nÃ y Ä‘Ã£ bá»‹ deprecated. PhiÃªn báº£n hiá»‡n táº¡i cá»§a spec khuyÃªn trÃ¡nh nÃ³ vÃ  chuyá»ƒn ná»™i dung cá»§a nÃ³ sang `features` vÃ  `app` thay vÃ o Ä‘Ã³.

Process lÃ  escape hatch cho cÃ¡c tÆ°Æ¡ng tÃ¡c nhiá»u page.

Layer nÃ y cá»‘ tÃ¬nh Ä‘Æ°á»£c Ä‘á»ƒ khÃ´ng Ä‘á»‹nh nghÄ©a. Háº§u háº¿t cÃ¡c á»©ng dá»¥ng khÃ´ng nÃªn sá»­ dá»¥ng layer nÃ y, vÃ  giá»¯ logic cáº¥p router vÃ  cáº¥p server trÃªn layer App. Chá»‰ cÃ¢n nháº¯c sá»­ dá»¥ng layer nÃ y khi layer App phÃ¡t triá»ƒn Ä‘á»§ lá»›n Ä‘á»ƒ trá»Ÿ nÃªn khÃ´ng thá»ƒ báº£o trÃ¬ vÃ  cáº§n giáº£m táº£i.

### App[â€‹](#app "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»i loáº¡i váº¥n Ä‘á» app-wide, cáº£ trong nghÄ©a ká»¹ thuáº­t (vÃ­ dá»¥: context provider) vÃ  trong nghÄ©a business (vÃ­ dá»¥: analytics).

Layer nÃ y thÆ°á»ng khÃ´ng chá»©a slice, cÅ©ng giá»‘ng nhÆ° Shared, thay vÃ o Ä‘Ã³ cÃ³ cÃ¡c segment trá»±c tiáº¿p.

DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡c segment mÃ  báº¡n thÆ°á»ng cÃ³ thá»ƒ tÃ¬m tháº¥y trong layer nÃ y:

* `ğŸ“ routes` â€” router configuration
* `ğŸ“ store` â€” global store configuration
* `ğŸ“ styles` â€” global style
* `ğŸ“ entrypoint` â€” entrypoint Ä‘áº¿n application code, framework-specific


---

# Public API

Public API lÃ  má»™t *há»£p Ä‘á»“ng* giá»¯a má»™t nhÃ³m module, nhÆ° má»™t slice, vÃ  code sá»­ dá»¥ng nÃ³. NÃ³ cÅ©ng hoáº¡t Ä‘á»™ng nhÆ° má»™t cá»•ng kiá»ƒm soÃ¡t, chá»‰ cho phÃ©p truy cáº­p Ä‘áº¿n cÃ¡c Ä‘á»‘i tÆ°á»£ng nháº¥t Ä‘á»‹nh vÃ  chá»‰ thÃ´ng qua public API Ä‘Ã³.

Trong thá»±c táº¿, nÃ³ thÆ°á»ng Ä‘Æ°á»£c triá»ƒn khai dÆ°á»›i dáº¡ng file index vá»›i cÃ¡c re-export:

pages/auth/index.js

```
export { LoginPage } from "./ui/LoginPage";
export { RegisterPage } from "./ui/RegisterPage";
```

## Äiá»u gÃ¬ táº¡o nÃªn má»™t public API tá»‘t?[â€‹](#Ä‘iá»u-gÃ¬-táº¡o-nÃªn-má»™t-public-api-tá»‘t "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»™t public API tá»‘t lÃ m cho viá»‡c sá»­ dá»¥ng vÃ  tÃ­ch há»£p slice vÃ o code khÃ¡c trá»Ÿ nÃªn thuáº­n tiá»‡n vÃ  Ä‘Ã¡ng tin cáº­y. Äiá»u nÃ y cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c báº±ng cÃ¡ch thiáº¿t láº­p ba má»¥c tiÃªu sau:

1. Pháº§n cÃ²n láº¡i cá»§a á»©ng dá»¥ng pháº£i Ä‘Æ°á»£c báº£o vá»‡ khá»i cÃ¡c thay Ä‘á»•i cáº¥u trÃºc cá»§a slice, nhÆ° refactoring
2. Nhá»¯ng thay Ä‘á»•i Ä‘Ã¡ng ká»ƒ trong hÃ nh vi cá»§a slice mÃ  phÃ¡ vá»¡ cÃ¡c ká»³ vá»ng trÆ°á»›c Ä‘Ã³ pháº£i gÃ¢y ra thay Ä‘á»•i trong public API
3. Chá»‰ nhá»¯ng pháº§n cáº§n thiáº¿t cá»§a slice má»›i nÃªn Ä‘Æ°á»£c expose

Má»¥c tiÃªu cuá»‘i cÃ¹ng cÃ³ má»™t sá»‘ hÃ m Ã½ thá»±c táº¿ quan trá»ng. CÃ³ thá»ƒ ráº¥t háº¥p dáº«n khi táº¡o wildcard re-export cho má»i thá»©, Ä‘áº·c biá»‡t trong giai Ä‘oáº¡n phÃ¡t triá»ƒn Ä‘áº§u cá»§a slice, vÃ¬ báº¥t ká»³ Ä‘á»‘i tÆ°á»£ng má»›i nÃ o báº¡n export tá»« cÃ¡c file cÅ©ng sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c export tá»« slice:

Bad practice, features/comments/index.js

```
// âŒ BAD CODE BELOW, DON'T DO THIS
export * from "./ui/Comment";  // ğŸ‘ don't try this at home
export * from "./model/comments";  // ğŸ’© this is bad practice
```

Äiá»u nÃ y lÃ m tá»•n háº¡i kháº£ nÄƒng khÃ¡m phÃ¡ cá»§a slice vÃ¬ báº¡n khÃ´ng thá»ƒ dá»… dÃ ng biáº¿t Ä‘Æ°á»£c interface cá»§a slice nÃ y lÃ  gÃ¬. KhÃ´ng biáº¿t interface cÃ³ nghÄ©a lÃ  báº¡n pháº£i Ä‘Ã o sÃ¢u vÃ o code cá»§a slice Ä‘á»ƒ hiá»ƒu cÃ¡ch tÃ­ch há»£p nÃ³. Má»™t váº¥n Ä‘á» khÃ¡c lÃ  báº¡n cÃ³ thá»ƒ vÃ´ tÃ¬nh expose cÃ¡c module internal, Ä‘iá»u nÃ y sáº½ khiáº¿n refactoring trá»Ÿ nÃªn khÃ³ khÄƒn náº¿u ai Ä‘Ã³ báº¯t Ä‘áº§u phá»¥ thuá»™c vÃ o chÃºng.

## Public API cho cross-imports[â€‹](#public-api-for-cross-imports "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Cross-import lÃ  tÃ¬nh huá»‘ng khi má»™t slice import tá»« slice khÃ¡c trÃªn cÃ¹ng layer. ThÃ´ng thÆ°á»ng Ä‘iá»u nÃ y bá»‹ cáº¥m bá»Ÿi [import rule on layers](/documentation/vi/docs/reference/layers.md#import-rule-on-layers), nhÆ°ng thÆ°á»ng cÃ³ nhá»¯ng lÃ½ do chÃ­nh Ä‘Ã¡ng Ä‘á»ƒ cross-import. VÃ­ dá»¥, cÃ¡c business entity thÆ°á»ng tham chiáº¿u láº«n nhau trong tháº¿ giá»›i thá»±c, vÃ  tá»‘t nháº¥t lÃ  pháº£n Ã¡nh nhá»¯ng má»‘i quan há»‡ nÃ y trong code thay vÃ¬ trÃ¡nh chÃºng.

Cho má»¥c Ä‘Ã­ch nÃ y, cÃ³ má»™t loáº¡i public API Ä‘áº·c biá»‡t, cÃ²n Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i tÃªn gá»i `@x`-notation. Náº¿u báº¡n cÃ³ entity A vÃ  B, vÃ  entity B cáº§n import tá»« entity A, thÃ¬ entity A cÃ³ thá»ƒ khai bÃ¡o má»™t public API riÃªng chá»‰ dÃ nh cho entity B.

* `ğŸ“‚ entities`

  * `ğŸ“‚ A`

    * `ğŸ“‚ @x`
      * `ğŸ“„ B.ts` â€” má»™t public API Ä‘áº·c biá»‡t chá»‰ dÃ nh cho code bÃªn trong `entities/B/`
    * `ğŸ“„ index.ts` â€” public API thÃ´ng thÆ°á»ng

Sau Ä‘Ã³ code bÃªn trong `entities/B/` cÃ³ thá»ƒ import tá»« `entities/A/@x/B`:

```
import type { EntityA } from "entities/A/@x/B";
```

KÃ½ hiá»‡u `A/@x/B` cÃ³ nghÄ©a lÃ  "A crossed with B".

ghi chÃº

HÃ£y cá»‘ gáº¯ng giá»¯ cross-import á»Ÿ má»©c tá»‘i thiá»ƒu, vÃ  **chá»‰ sá»­ dá»¥ng kÃ½ hiá»‡u nÃ y trÃªn layer Entities**, nÆ¡i mÃ  viá»‡c loáº¡i bá» cross-import thÆ°á»ng lÃ  khÃ´ng há»£p lÃ½.

## Váº¥n Ä‘á» vá»›i index file[â€‹](#váº¥n-Ä‘á»-vá»›i-index-file "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c index file nhÆ° `index.js`, cÃ²n Ä‘Æ°á»£c gá»i lÃ  barrel file, lÃ  cÃ¡ch phá»• biáº¿n nháº¥t Ä‘á»ƒ Ä‘á»‹nh nghÄ©a public API. ChÃºng dá»… táº¡o, nhÆ°ng Ä‘Æ°á»£c biáº¿t Ä‘áº¿n lÃ  gÃ¢y ra váº¥n Ä‘á» vá»›i má»™t sá»‘ bundler vÃ  framework nháº¥t Ä‘á»‹nh.

### Circular import[â€‹](#circular-import "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Circular import lÃ  khi hai hoáº·c nhiá»u file import láº«n nhau theo vÃ²ng trÃ²n.

![Three files importing each other in a circle](/documentation/vi/img/circular-import-light.svg#light-mode-only)![Three files importing each other in a circle](/documentation/vi/img/circular-import-dark.svg#dark-mode-only)

Minh há»a á»Ÿ trÃªn: ba file, `fileA.js`, `fileB.js`, vÃ  `fileC.js`, import láº«n nhau theo vÃ²ng trÃ²n.

Nhá»¯ng tÃ¬nh huá»‘ng nÃ y thÆ°á»ng khÃ³ khÄƒn Ä‘á»ƒ bundler xá»­ lÃ½, vÃ  trong má»™t sá»‘ trÆ°á»ng há»£p chÃºng tháº­m chÃ­ cÃ³ thá»ƒ dáº«n Ä‘áº¿n runtime error khÃ³ debug.

Circular import cÃ³ thá»ƒ xáº£y ra mÃ  khÃ´ng cáº§n index file, nhÆ°ng viá»‡c cÃ³ index file táº¡o ra cÆ¡ há»™i rÃµ rÃ ng Ä‘á»ƒ vÃ´ tÃ¬nh táº¡o circular import. Äiá»u nÃ y thÆ°á»ng xáº£y ra khi báº¡n cÃ³ hai object Ä‘Æ°á»£c expose trong public API cá»§a slice, vÃ­ dá»¥ `HomePage` vÃ  `loadUserStatistics`, vÃ  `HomePage` cáº§n truy cáº­p `loadUserStatistics`, nhÆ°ng nÃ³ lÃ m nhÆ° tháº¿ nÃ y:

pages/home/ui/HomePage.jsx

```
import { loadUserStatistics } from "../"; // importing from pages/home/index.js

export function HomePage() { /* â€¦ */ }
```

pages/home/index.js

```
export { HomePage } from "./ui/HomePage";
export { loadUserStatistics } from "./api/loadUserStatistics";
```

TÃ¬nh huá»‘ng nÃ y táº¡o ra circular import, vÃ¬ `index.js` import `ui/HomePage.jsx`, nhÆ°ng `ui/HomePage.jsx` import `index.js`.

Äá»ƒ ngÄƒn cháº·n váº¥n Ä‘á» nÃ y, hÃ£y xem xÃ©t hai nguyÃªn táº¯c sau. Náº¿u báº¡n cÃ³ hai file, vÃ  má»™t file import tá»« file kia:

* Khi chÃºng á»Ÿ trong cÃ¹ng slice, luÃ´n sá»­ dá»¥ng import *relative* vÃ  viáº¿t Ä‘áº§y Ä‘á»§ Ä‘Æ°á»ng dáº«n import
* Khi chÃºng á»Ÿ trong cÃ¡c slice khÃ¡c nhau, luÃ´n sá»­ dá»¥ng import *absolute*, vÃ­ dá»¥ vá»›i alias

### Bundle lá»›n vÃ  tree-shaking bá»‹ há»ng trong Shared[â€‹](#large-bundles "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Má»™t sá»‘ bundler cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn trong viá»‡c tree-shake (loáº¡i bá» code khÃ´ng Ä‘Æ°á»£c import) khi báº¡n cÃ³ index file re-export má»i thá»©.

ThÃ´ng thÆ°á»ng Ä‘Ã¢y khÃ´ng pháº£i lÃ  váº¥n Ä‘á» cho public API, vÃ¬ ná»™i dung cá»§a má»™t module thÆ°á»ng cÃ³ liÃªn quan cháº·t cháº½ vá»›i nhau, nÃªn báº¡n hiáº¿m khi cáº§n import má»™t thá»© vÃ  tree-shake Ä‘i thá»© khÃ¡c. Tuy nhiÃªn, cÃ³ hai trÆ°á»ng há»£p ráº¥t phá»• biáº¿n khi cÃ¡c quy táº¯c thÃ´ng thÆ°á»ng cá»§a public API trong FSD cÃ³ thá»ƒ dáº«n Ä‘áº¿n váº¥n Ä‘á» â€” `shared/ui` vÃ  `shared/lib`.

Hai folder nÃ y Ä‘á»u lÃ  táº­p há»£p cÃ¡c thá»© khÃ´ng liÃªn quan mÃ  thÆ°á»ng khÃ´ng cáº§n thiáº¿t táº¥t cáº£ á»Ÿ má»™t nÆ¡i. VÃ­ dá»¥, `shared/ui` cÃ³ thá»ƒ cÃ³ module cho má»—i component trong UI library:

* `ğŸ“‚ shared/ui/`

  * `ğŸ“ button`
  * `ğŸ“ text-field`
  * `ğŸ“ carousel`
  * `ğŸ“ accordion`

Váº¥n Ä‘á» nÃ y trá»Ÿ nÃªn tá»“i tá»‡ hÆ¡n khi má»™t trong nhá»¯ng module nÃ y cÃ³ dependency náº·ng, nhÆ° syntax highlighter hoáº·c drag'n'drop library. Báº¡n khÃ´ng muá»‘n kÃ©o chÃºng vÃ o má»i page sá»­ dá»¥ng thá»© gÃ¬ Ä‘Ã³ tá»« `shared/ui`, vÃ­ dá»¥ nhÆ° má»™t button.

Náº¿u bundle cá»§a báº¡n phÃ¡t triá»ƒn khÃ´ng mong muá»‘n do má»™t public API duy nháº¥t trong `shared/ui` hoáº·c `shared/lib`, Ä‘Æ°á»£c khuyáº¿n nghá»‹ thay vÃ o Ä‘Ã³ hÃ£y cÃ³ má»™t index file riÃªng cho má»—i component hoáº·c library:

* `ğŸ“‚ shared/ui/`

  * `ğŸ“‚ button`
    * `ğŸ“„ index.js`
  * `ğŸ“‚ text-field`
    * `ğŸ“„ index.js`

Sau Ä‘Ã³ cÃ¡c consumer cá»§a nhá»¯ng component nÃ y cÃ³ thá»ƒ import chÃºng trá»±c tiáº¿p nhÆ° tháº¿ nÃ y:

pages/sign-in/ui/SignInPage.jsx

```
import { Button } from '@/shared/ui/button';
import { TextField } from '@/shared/ui/text-field';
```

### KhÃ´ng cÃ³ báº£o vá»‡ thá»±c sá»± chá»‘ng láº¡i viá»‡c bá» qua public API[â€‹](#khÃ´ng-cÃ³-báº£o-vá»‡-thá»±c-sá»±-chá»‘ng-láº¡i-viá»‡c-bá»-qua-public-api "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Khi báº¡n táº¡o index file cho slice, báº¡n khÃ´ng thá»±c sá»± cáº¥m ai Ä‘Ã³ khÃ´ng sá»­ dá»¥ng nÃ³ vÃ  import trá»±c tiáº¿p. Äiá»u nÃ y Ä‘áº·c biá»‡t lÃ  váº¥n Ä‘á» vá»›i auto-import, vÃ¬ cÃ³ nhiá»u nÆ¡i mÃ  má»™t object cÃ³ thá»ƒ Ä‘Æ°á»£c import, nÃªn IDE pháº£i quyáº¿t Ä‘á»‹nh cho báº¡n. ÄÃ´i khi nÃ³ cÃ³ thá»ƒ chá»n import trá»±c tiáº¿p, phÃ¡ vá»¡ quy táº¯c public API trÃªn slice.

Äá»ƒ tá»± Ä‘á»™ng phÃ¡t hiá»‡n nhá»¯ng váº¥n Ä‘á» nÃ y, chÃºng tÃ´i khuyÃªn sá»­ dá»¥ng [Steiger](https://github.com/feature-sliced/steiger), má»™t architectural linter vá»›i ruleset cho Feature-Sliced Design.

### Hiá»‡u suáº¥t bundler kÃ©m hÆ¡n trÃªn cÃ¡c dá»± Ã¡n lá»›n[â€‹](#hiá»‡u-suáº¥t-bundler-kÃ©m-hÆ¡n-trÃªn-cÃ¡c-dá»±-Ã¡n-lá»›n "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Viá»‡c cÃ³ má»™t lÆ°á»£ng lá»›n index file trong dá»± Ã¡n cÃ³ thá»ƒ lÃ m cháº­m development server, nhÆ° TkDodo Ä‘Ã£ lÆ°u Ã½ trong [bÃ i viáº¿t "Please Stop Using Barrel Files"](https://tkdodo.eu/blog/please-stop-using-barrel-files) cá»§a anh áº¥y.

CÃ³ má»™t sá»‘ Ä‘iá»u báº¡n cÃ³ thá»ƒ lÃ m Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y:

1. Lá»i khuyÃªn giá»‘ng nhÆ° trong váº¥n Ä‘á» ["Bundle lá»›n vÃ  tree-shaking bá»‹ há»ng trong Shared"](#large-bundles) â€” cÃ³ index file riÃªng cho tá»«ng component/library trong `shared/ui` vÃ  `shared/lib` thay vÃ¬ má»™t file lá»›n

2. TrÃ¡nh cÃ³ index file trong segment trÃªn cÃ¡c layer cÃ³ slice.<br /><!-- -->VÃ­ dá»¥, náº¿u báº¡n cÃ³ index cho feature "comments", `ğŸ“„ features/comments/index.js`, thÃ¬ khÃ´ng cÃ³ lÃ½ do gÃ¬ Ä‘á»ƒ cÃ³ thÃªm index cho segment `ui` cá»§a feature Ä‘Ã³, `ğŸ“„ features/comments/ui/index.js`.

3. Náº¿u báº¡n cÃ³ má»™t dá»± Ã¡n ráº¥t lá»›n, cÃ³ kháº£ nÄƒng cao lÃ  á»©ng dá»¥ng cá»§a báº¡n cÃ³ thá»ƒ Ä‘Æ°á»£c chia thÃ nh nhiá»u chunk lá»›n.<br /><!-- -->VÃ­ dá»¥, Google Docs cÃ³ trÃ¡ch nhiá»‡m ráº¥t khÃ¡c nhau cho document editor vÃ  file browser. Báº¡n cÃ³ thá»ƒ táº¡o monorepo setup nÆ¡i má»—i package lÃ  má»™t FSD root riÃªng biá»‡t, vá»›i bá»™ layer riÃªng. Má»™t sá»‘ package chá»‰ cÃ³ thá»ƒ cÃ³ layer Shared vÃ  Entities, nhá»¯ng package khÃ¡c cÃ³ thá»ƒ chá»‰ cÃ³ Pages vÃ  App, nhá»¯ng package khÃ¡c ná»¯a cÃ³ thá»ƒ bao gá»“m Shared nhá» cá»§a riÃªng mÃ¬nh, nhÆ°ng váº«n sá»­ dá»¥ng cÃ¡i lá»›n tá»« package khÃ¡c.


---

# Slice vÃ  segment

## Slice[â€‹](#slice "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Slice lÃ  cáº¥p Ä‘á»™ thá»© hai trong há»‡ thá»‘ng phÃ¢n cáº¥p tá»• chá»©c cá»§a Feature-Sliced Design. Má»¥c Ä‘Ã­ch chÃ­nh cá»§a chÃºng lÃ  nhÃ³m code theo Ã½ nghÄ©a cá»§a nÃ³ Ä‘á»‘i vá»›i sáº£n pháº©m, business, hoáº·c chá»‰ Ä‘Æ¡n giáº£n lÃ  application.

TÃªn cá»§a cÃ¡c slice khÃ´ng Ä‘Æ°á»£c chuáº©n hÃ³a vÃ¬ chÃºng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trá»±c tiáº¿p bá»Ÿi business domain cá»§a á»©ng dá»¥ng cá»§a báº¡n. VÃ­ dá»¥, má»™t photo gallery cÃ³ thá»ƒ cÃ³ cÃ¡c slice `photo`, `effects`, `gallery-page`. Má»™t máº¡ng xÃ£ há»™i sáº½ yÃªu cáº§u cÃ¡c slice khÃ¡c nhau, vÃ­ dá»¥ `post`, `comments`, `news-feed`.

CÃ¡c layer Shared vÃ  App khÃ´ng chá»©a slice. ÄÃ³ lÃ  vÃ¬ Shared khÃ´ng nÃªn chá»©a business logic nÃ o cáº£, do Ä‘Ã³ khÃ´ng cÃ³ Ã½ nghÄ©a gÃ¬ Ä‘á»‘i vá»›i sáº£n pháº©m, vÃ  App chá»‰ nÃªn chá»©a code liÃªn quan Ä‘áº¿n toÃ n bá»™ á»©ng dá»¥ng, vÃ¬ váº­y khÃ´ng cáº§n pháº£i chia tÃ¡ch.

### Zero coupling vÃ  high cohesion[â€‹](#zero-coupling-high-cohesion "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Slice Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ lÃ  cÃ¡c nhÃ³m file code Ä‘á»™c láº­p vÃ  cÃ³ tÃ­nh gáº¯n káº¿t cao. HÃ¬nh minh há»a dÆ°á»›i Ä‘Ã¢y cÃ³ thá»ƒ giÃºp hÃ¬nh dung cÃ¡c khÃ¡i niá»‡m khÃ³ hiá»ƒu vá» *cohesion* vÃ  *coupling*:

![](/documentation/vi/img/coupling-cohesion-light.svg#light-mode-only)![](/documentation/vi/img/coupling-cohesion-dark.svg#dark-mode-only)

Image inspired by <https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/>

Má»™t slice lÃ½ tÆ°á»Ÿng lÃ  Ä‘á»™c láº­p vá»›i cÃ¡c slice khÃ¡c trÃªn layer cá»§a nÃ³ (zero coupling) vÃ  chá»©a háº§u háº¿t code liÃªn quan Ä‘áº¿n má»¥c tiÃªu chÃ­nh cá»§a nÃ³ (high cohesion).

TÃ­nh Ä‘á»™c láº­p cá»§a cÃ¡c slice Ä‘Æ°á»£c thá»±c thi bá»Ÿi [import rule trÃªn layer](/documentation/vi/docs/reference/layers.md#import-rule-on-layers):

> *Má»™t module (file) trong slice chá»‰ cÃ³ thá»ƒ import cÃ¡c slice khÃ¡c khi chÃºng Ä‘Æ°á»£c Ä‘áº·t trÃªn cÃ¡c layer tháº¥p hÆ¡n má»™t cÃ¡ch nghiÃªm ngáº·t.*

### Public API rule trÃªn slice[â€‹](#public-api-rule-trÃªn-slice "Link trá»±c tiáº¿p Ä‘áº¿n heading")

BÃªn trong slice, code cÃ³ thá»ƒ Ä‘Æ°á»£c tá»• chá»©c theo báº¥t ká»³ cÃ¡ch nÃ o mÃ  báº¡n muá»‘n. Äiá»u Ä‘Ã³ khÃ´ng gÃ¢y ra váº¥n Ä‘á» gÃ¬ miá»…n lÃ  slice cung cáº¥p public API tá»‘t cho cÃ¡c slice khÃ¡c sá»­ dá»¥ng nÃ³. Äiá»u nÃ y Ä‘Æ°á»£c thá»±c thi vá»›i **public API rule trÃªn slice**:

> *Má»—i slice (vÃ  segment trÃªn cÃ¡c layer khÃ´ng cÃ³ slice) pháº£i chá»©a má»™t Ä‘á»‹nh nghÄ©a public API.*
>
> *CÃ¡c module bÃªn ngoÃ i slice/segment nÃ y chá»‰ cÃ³ thá»ƒ tham chiáº¿u public API, khÃ´ng pháº£i cáº¥u trÃºc file ná»™i bá»™ cá»§a slice/segment.*

Äá»c thÃªm vá» lÃ½ láº½ cá»§a public API vÃ  best practice Ä‘á»ƒ táº¡o má»™t cÃ¡i trong [Public API reference](/documentation/vi/docs/reference/public-api.md).

### NhÃ³m slice[â€‹](#nhÃ³m-slice "Link trá»±c tiáº¿p Ä‘áº¿n heading")

CÃ¡c slice liÃªn quan cháº·t cháº½ cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ³m vá» máº·t cáº¥u trÃºc trong má»™t folder, nhÆ°ng chÃºng nÃªn thá»±c hiá»‡n cÃ¡c quy táº¯c cÃ´ láº­p giá»‘ng nhÆ° cÃ¡c slice khÃ¡c â€” khÃ´ng nÃªn cÃ³ **code sharing** trong folder Ä‘Ã³.

![Features \&quot;compose\&quot;, \&quot;like\&quot; and \&quot;delete\&quot; grouped in a folder \&quot;post\&quot;. In that folder there is also a file \&quot;some-shared-code.ts\&quot; that is crossed out to imply that it\&#39;s not allowed.](/documentation/vi/assets/images/graphic-nested-slices-b9c44e6cc55ecdbf3e50bf40a61e5a27.svg)

## Segment[â€‹](#segment "Link trá»±c tiáº¿p Ä‘áº¿n heading")

Segment lÃ  cáº¥p Ä‘á»™ thá»© ba vÃ  cuá»‘i cÃ¹ng trong há»‡ thá»‘ng phÃ¢n cáº¥p tá»• chá»©c, vÃ  má»¥c Ä‘Ã­ch cá»§a chÃºng lÃ  nhÃ³m code theo báº£n cháº¥t ká»¹ thuáº­t cá»§a nÃ³.

CÃ³ má»™t sá»‘ tÃªn segment Ä‘Æ°á»£c chuáº©n hÃ³a:

* `ui` â€” má»i thá»© liÃªn quan Ä‘áº¿n hiá»ƒn thá»‹ UI: UI component, date formatter, style, v.v.
* `api` â€” tÆ°Æ¡ng tÃ¡c backend: request function, data type, mapper, v.v.
* `model` â€” data model: schema, interface, store, vÃ  business logic.
* `lib` â€” library code mÃ  cÃ¡c module khÃ¡c trÃªn slice nÃ y cáº§n.
* `config` â€” configuration file vÃ  feature flag.

Xem [trang Layer](/documentation/vi/docs/reference/layers.md#layer-definitions) Ä‘á»ƒ biáº¿t vÃ­ dá»¥ vá» cÃ¡ch sá»­ dá»¥ng tá»«ng segment nÃ y trÃªn cÃ¡c layer khÃ¡c nhau.

Báº¡n cÅ©ng cÃ³ thá»ƒ táº¡o custom segment. Nhá»¯ng nÆ¡i phá»• biáº¿n nháº¥t cho custom segment lÃ  layer App vÃ  layer Shared, nÆ¡i mÃ  slice khÃ´ng cÃ³ Ã½ nghÄ©a.

HÃ£y Ä‘áº£m báº£o ráº±ng tÃªn cá»§a nhá»¯ng segment nÃ y mÃ´ táº£ má»¥c Ä‘Ã­ch cá»§a ná»™i dung, khÃ´ng pháº£i báº£n cháº¥t cá»§a nÃ³. VÃ­ dá»¥, `components`, `hooks`, vÃ  `types` lÃ  nhá»¯ng tÃªn segment tá»‡ vÃ¬ chÃºng khÃ´ng há»¯u Ã­ch khi báº¡n Ä‘ang tÃ¬m kiáº¿m code.


---

### Business logic rÃµ rÃ ng

Kiáº¿n trÃºc dá»… khÃ¡m phÃ¡ nhá» phÃ¢n chia theo domain scopes


---

