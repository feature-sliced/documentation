# Feature-Sliced Design


## documentation

- [ç¤ºä¾‹](/examples.md): ä½¿ç”¨ Feature-Sliced Design æ„å»ºçš„ç½‘ç«™åˆ—è¡¨
- [ğŸ§­ å¯¼èˆª](/nav.md): Feature-Sliced Design Navigation help page
- [åœ¨æ–‡æ¡£ä¸­æœç´¢](/search.md)
- [Feature-Sliced Design ç‰ˆæœ¬](/versions.md): Feature-Sliced Design Versions page listing all documented site versions
- [ğŸ’« Community](/community.md): Community resources, additional materials
- [Team](/community/team.md): Core-team
- [æ›¿ä»£æ–¹æ¡ˆ](/docs/about/alternatives.md): æ¶æ„æ–¹æ³•çš„å†å²
- [ä½¿å‘½](/docs/about/mission.md): åœ¨è¿™é‡Œæˆ‘ä»¬æè¿°æ–¹æ³•è®ºé€‚ç”¨æ€§çš„ç›®æ ‡å’Œé™åˆ¶â€”â€”è¿™æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¯¥æ–¹æ³•è®ºæ—¶æ‰€éµå¾ªçš„æŒ‡å¯¼åŸåˆ™
- [åŠ¨æœº](/docs/about/motivation.md): Feature-Sliced Designï¼ˆç‰¹æ€§åˆ†å±‚è®¾è®¡ï¼‰çš„ä¸»è¦ç†å¿µæ˜¯åŸºäºç»“åˆç ”ç©¶æˆæœï¼Œè®¨è®ºå„ç§ç±»å‹å¼€å‘è€…çš„å¹¿æ³›ç»éªŒï¼Œæ¥ä¿ƒè¿›å’Œé™ä½å¤æ‚é¡¹ç›®å¼€å‘çš„æˆæœ¬ã€‚
- [åœ¨å…¬å¸ä¸­æ¨å¹¿](/docs/about/promote/for-company.md): é¡¹ç›®å’Œå…¬å¸éœ€è¦æ–¹æ³•è®ºå—ï¼Ÿ
- [åœ¨å›¢é˜Ÿä¸­æ¨å¹¿](/docs/about/promote/for-team.md): - å…¥èŒæ–°æˆå‘˜
- [é›†æˆæ–¹é¢](/docs/about/promote/integration.md): æ€»ç»“
- [éƒ¨åˆ†åº”ç”¨](/docs/about/promote/partial-application.md): å¦‚ä½•éƒ¨åˆ†åº”ç”¨æ–¹æ³•è®ºï¼Ÿè¿™æ ·åšæœ‰æ„ä¹‰å—ï¼Ÿå¦‚æœæˆ‘å¿½ç•¥å®ƒä¼šæ€æ ·ï¼Ÿ
- [æŠ½è±¡](/docs/about/understanding/abstractions.md): æŠ½è±¡æ³„æ¼å®šå¾‹
- [å…³äºæ¶æ„](/docs/about/understanding/architecture.md): é—®é¢˜
- [é¡¹ç›®ä¸­çš„çŸ¥è¯†ç±»å‹](/docs/about/understanding/knowledge-types.md): åœ¨ä»»ä½•é¡¹ç›®ä¸­éƒ½å¯ä»¥åŒºåˆ†ä»¥ä¸‹"çŸ¥è¯†ç±»å‹"ï¼š
- [å‘½å](/docs/about/understanding/naming.md): ä¸åŒçš„å¼€å‘è€…æœ‰ä¸åŒçš„ç»éªŒå’Œä¸Šä¸‹æ–‡ï¼Œå½“ç›¸åŒçš„å®ä½“è¢«ä¸åŒåœ°å‘½åæ—¶ï¼Œè¿™å¯èƒ½å¯¼è‡´å›¢é˜Ÿä¸­çš„è¯¯è§£ã€‚ä¾‹å¦‚ï¼š
- [éœ€æ±‚é©±åŠ¨](/docs/about/understanding/needs-driven.md): â€” æ— æ³•æ˜ç¡®è¡¨è¿°æ–°åŠŸèƒ½è¦è§£å†³çš„ç›®æ ‡ï¼Ÿæˆ–è€…é—®é¢˜åœ¨äºä»»åŠ¡æœ¬èº«æ²¡æœ‰è¢«æ˜ç¡®è¡¨è¿°ï¼Ÿ**é‡ç‚¹æ˜¯æ–¹æ³•è®ºæœ‰åŠ©äºæ­ç¤ºä»»åŠ¡å’Œç›®æ ‡å®šä¹‰ä¸­çš„é—®é¢˜**
- [æ¶æ„ä¿¡å·](/docs/about/understanding/signals.md): å¦‚æœæ¶æ„æ–¹é¢å­˜åœ¨é™åˆ¶ï¼Œé‚£ä¹ˆè¿™æ˜¯æœ‰æ˜æ˜¾åŸå› çš„ï¼Œå¦‚æœå¿½ç•¥è¿™äº›é™åˆ¶å°±ä¼šäº§ç”Ÿåæœ
- [å“ç‰ŒæŒ‡å—](/docs/branding.md): FSD çš„è§†è§‰èº«ä»½åŸºäºå…¶æ ¸å¿ƒæ¦‚å¿µï¼šåˆ†å±‚ã€åˆ‡ç‰‡å¼è‡ªåŒ…å«éƒ¨åˆ†ã€éƒ¨åˆ†å’Œç»„åˆã€åˆ†æ®µã€‚
- [åˆ†è§£é€ŸæŸ¥è¡¨](/docs/get-started/cheatsheet.md): åœ¨æ‚¨å†³å®šå¦‚ä½•åˆ†è§£ UI æ—¶ï¼Œå°†æ­¤ä½œä¸ºå¿«é€Ÿå‚è€ƒã€‚ä¸‹é¢è¿˜æä¾›äº† PDF ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥æ‰“å°å‡ºæ¥æ”¾åœ¨æ•å¤´ä¸‹ã€‚
- [å¸¸è§é—®é¢˜](/docs/get-started/faq.md): æ‚¨å¯ä»¥åœ¨æˆ‘ä»¬çš„ Telegram èŠå¤©ã€Discord ç¤¾åŒº å’Œ GitHub Discussions ä¸­æé—®ã€‚
- [æ¦‚è§ˆ](/docs/get-started/overview.md): Feature-Sliced Designï¼ˆFSDï¼‰æ˜¯ä¸€ç§ç”¨äºæ„å»ºå‰ç«¯åº”ç”¨ç¨‹åºçš„æ¶æ„æ–¹æ³•è®ºã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ç»„ç»‡ä»£ç çš„è§„åˆ™å’Œçº¦å®šçš„æ±‡ç¼–ã€‚è¯¥æ–¹æ³•è®ºçš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡éœ€æ±‚é¢å‰ï¼Œä½¿é¡¹ç›®æ›´åŠ æ˜“äºç†è§£å’Œç¨³å®šã€‚
- [æ•™ç¨‹](/docs/get-started/tutorial.md): ç¬¬ä¸€éƒ¨åˆ†ã€‚ç†è®ºä¸Š
- [å¤„ç† API è¯·æ±‚](/docs/guides/examples/api-requests.md): handling-api-requests}
- [èº«ä»½éªŒè¯](/docs/guides/examples/auth.md): å¹¿ä¹‰ä¸Šï¼Œèº«ä»½éªŒè¯åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š
- [è‡ªåŠ¨å®Œæˆ](/docs/guides/examples/autocompleted.md): å…³äºæŒ‰å±‚åˆ†è§£
- [æµè§ˆå™¨ API](/docs/guides/examples/browser-api.md): å…³äºä½¿ç”¨æµè§ˆå™¨ APIï¼šlocalStorageã€éŸ³é¢‘ APIã€è“ç‰™ API ç­‰ã€‚
- [CMS](/docs/guides/examples/cms.md): åŠŸèƒ½å¯èƒ½ä¸åŒ
- [åé¦ˆ](/docs/guides/examples/feedback.md): é”™è¯¯ã€è­¦å‘Šã€é€šçŸ¥â€¦â€¦
- [å›½é™…åŒ–](/docs/guides/examples/i18n.md): åœ¨å“ªé‡Œæ”¾ç½®å®ƒï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ
- [æŒ‡æ ‡](/docs/guides/examples/metric.md): å…³äºåœ¨åº”ç”¨ç¨‹åºä¸­åˆå§‹åŒ–æŒ‡æ ‡çš„æ–¹æ³•
- [å•ä½“ä»“åº“](/docs/guides/examples/monorepo.md): å…³äºå•ä½“ä»“åº“çš„é€‚ç”¨æ€§ï¼Œå…³äº bffï¼Œå…³äºå¾®åº”ç”¨
- [é¡µé¢å¸ƒå±€](/docs/guides/examples/page-layout.md): æœ¬æŒ‡å—æ¢è®¨äº†é¡µé¢å¸ƒå±€çš„æŠ½è±¡ â€” å½“å¤šä¸ªé¡µé¢å…±äº«ç›¸åŒçš„æ•´ä½“ç»“æ„ï¼Œä»…åœ¨ä¸»è¦å†…å®¹ä¸Šæœ‰æ‰€ä¸åŒæ—¶ã€‚
- [æ¡Œé¢/è§¦æ‘¸å¹³å°](/docs/guides/examples/platforms.md): å…³äºæ–¹æ³•è®ºåœ¨æ¡Œé¢/è§¦æ‘¸å¹³å°ä¸Šçš„åº”ç”¨
- [SSR](/docs/guides/examples/ssr.md): å…³äºä½¿ç”¨æ–¹æ³•è®ºå®ç° SSR
- [ä¸»é¢˜](/docs/guides/examples/theme.md): æˆ‘åº”è¯¥æŠŠä¸»é¢˜å’Œè°ƒè‰²æ¿çš„å·¥ä½œæ”¾åœ¨å“ªé‡Œï¼Ÿ
- [ç±»å‹](/docs/guides/examples/types.md): æœ¬æŒ‡å—æ¶‰åŠæ¥è‡ªç±»å‹åŒ–è¯­è¨€ï¼ˆå¦‚ TypeScriptï¼‰çš„æ•°æ®ç±»å‹ï¼Œå¹¶æè¿°å®ƒä»¬åœ¨ FSD ä¸­çš„é€‚ç”¨ä½ç½®ã€‚
- [ç™½æ ‡](/docs/guides/examples/white-labels.md): Figmaã€å“ç‰Œ uikitã€æ¨¡æ¿ã€å“ç‰Œé€‚åº”æ€§
- [äº¤å‰å¯¼å…¥](/docs/guides/issues/cross-imports.md): å½“å±‚æˆ–æŠ½è±¡å¼€å§‹æ‰¿æ‹…è¶…å‡ºå…¶åº”æœ‰è´£ä»»æ—¶ï¼Œå°±ä¼šå‡ºç°äº¤å‰å¯¼å…¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ–¹æ³•è®ºè¯†åˆ«å‡ºæ–°çš„å±‚ï¼Œå…è®¸æ‚¨è§£è€¦è¿™äº›äº¤å‰å¯¼å…¥
- [å»åˆ†æ®µåŒ–](/docs/guides/issues/desegmented.md): æƒ…å†µ
- [è·¯ç”±](/docs/guides/issues/routes.md): æƒ…å†µ
- [ä»è‡ªå®šä¹‰æ¶æ„è¿ç§»](/docs/guides/migration/from-custom.md): æœ¬æŒ‡å—æè¿°äº†ä¸€ç§åœ¨ä»è‡ªå®šä¹‰è‡ªåˆ¶æ¶æ„è¿ç§»åˆ° Feature-Sliced Design æ—¶å¯èƒ½æœ‰ç”¨çš„æ–¹æ³•ã€‚
- [ä» v1 åˆ° v2 çš„è¿ç§»](/docs/guides/migration/from-v1.md): ä¸ºä»€ä¹ˆæ˜¯ v2ï¼Ÿ
- [ä»v2.0åˆ°v2.1çš„è¿ç§»](/docs/guides/migration/from-v2-0.md): v2.1çš„ä¸»è¦å˜åŒ–æ˜¯åˆ†è§£ç•Œé¢çš„æ–°æ€ç»´æ¨¡å‹â€”â€”é¡µé¢ä¼˜å…ˆã€‚
- [ä¸ Electron ä¸€èµ·ä½¿ç”¨](/docs/guides/tech/with-electron.md): Electron åº”ç”¨ç¨‹åºå…·æœ‰ç‰¹æ®Šçš„æ¶æ„ï¼Œç”±å…·æœ‰ä¸åŒèŒè´£çš„å¤šä¸ªè¿›ç¨‹ç»„æˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹åº”ç”¨ FSD éœ€è¦å°†ç»“æ„é€‚åº” Electron çš„ç‰¹æ€§ã€‚
- [ä¸ Next.js ä¸€èµ·ä½¿ç”¨](/docs/guides/tech/with-nextjs.md): å¦‚æœæ‚¨è§£å†³äº†ä¸»è¦å†²çªâ€”â€”app å’Œ pages æ–‡ä»¶å¤¹ï¼ŒFSD ä¸ Next.js çš„ App Router ç‰ˆæœ¬å’Œ Pages Router ç‰ˆæœ¬éƒ½å…¼å®¹ã€‚
- [ä¸ NuxtJS ä¸€èµ·ä½¿ç”¨](/docs/guides/tech/with-nuxtjs.md): å¯ä»¥åœ¨ NuxtJS é¡¹ç›®ä¸­å®ç° FSDï¼Œä½†ç”±äº NuxtJS é¡¹ç›®ç»“æ„è¦æ±‚ä¸ FSD åŸåˆ™ä¹‹é—´çš„å·®å¼‚ï¼Œä¼šäº§ç”Ÿå†²çªï¼š
- [ä¸ React Query ä¸€èµ·ä½¿ç”¨](/docs/guides/tech/with-react-query.md): "é”®æ”¾åœ¨å“ªé‡Œ"çš„é—®é¢˜
- [ä¸ SvelteKit ä¸€èµ·ä½¿ç”¨](/docs/guides/tech/with-sveltekit.md): å¯ä»¥åœ¨ SvelteKit é¡¹ç›®ä¸­å®ç° FSDï¼Œä½†ç”±äº SvelteKit é¡¹ç›®çš„ç»“æ„è¦æ±‚ä¸ FSD åŸåˆ™ä¹‹é—´çš„å·®å¼‚ï¼Œä¼šäº§ç”Ÿå†²çªï¼š
- [å¤§è¯­è¨€æ¨¡å‹æ–‡æ¡£](/docs/llms.md): æœ¬é¡µé¢ä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çˆ¬è™«æä¾›é“¾æ¥å’ŒæŒ‡å¯¼ã€‚
- [å±‚](/docs/reference/layers.md): å±‚æ˜¯ Feature-Sliced Design ä¸­ç»„ç»‡å±‚æ¬¡ç»“æ„çš„ç¬¬ä¸€çº§ã€‚å®ƒä»¬çš„ç›®çš„æ˜¯æ ¹æ®ä»£ç éœ€è¦çš„è´£ä»»ç¨‹åº¦ä»¥åŠå®ƒä¾èµ–åº”ç”¨ç¨‹åºä¸­å…¶ä»–æ¨¡å—çš„ç¨‹åº¦æ¥åˆ†ç¦»ä»£ç ã€‚æ¯ä¸€å±‚éƒ½æ‰¿è½½ç€ç‰¹æ®Šçš„è¯­ä¹‰æ„ä¹‰ï¼Œå¸®åŠ©æ‚¨ç¡®å®šåº”è¯¥ä¸ºæ‚¨çš„ä»£ç åˆ†é…å¤šå°‘è´£ä»»ã€‚
- [Public API](/docs/reference/public-api.md): Public API æ˜¯ä¸€ç»„æ¨¡å—ï¼ˆå¦‚ sliceï¼‰ä¸ä½¿ç”¨å®ƒçš„ä»£ç ä¹‹é—´çš„å¥‘çº¦ã€‚å®ƒä¹Ÿå……å½“ç½‘å…³ï¼Œåªå…è®¸è®¿é—®æŸäº›å¯¹è±¡ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡è¯¥ public API è®¿é—®ã€‚
- [Slices å’Œ segments](/docs/reference/slices-segments.md): Slices
- [Feature-Sliced Design](/index.md): Architectural methodology for frontend projects


---

# Full Documentation Content

v2

![](/documentation/zh/assets/ideal-img/tiny-bunny.dd60f55.640.png)

Tiny Bunny Mini Game

Mini-game "21 points" in the universe of the visual novel "Tiny Bunny".

reactredux-toolkittypescript

[Website](https://sanua356.github.io/tiny-bunny/)[Source](https://github.com/sanua356/tiny-bunny)


---

# ğŸ§­ å¯¼èˆª

## æ—§ç‰ˆè·¯ç”±

åœ¨æ–‡æ¡£é‡æ„åï¼Œä¸€äº›è·¯ç”±å·²ç»æ›´æ”¹ã€‚ä¸‹é¢æ‚¨å¯ä»¥æ‰¾åˆ°å¯èƒ½æ­£åœ¨å¯»æ‰¾çš„é¡µé¢ã€‚

ä½†ä¸ºäº†å…¼å®¹æ€§ï¼Œæ—§é“¾æ¥ä¼šæœ‰é‡å®šå‘

### ğŸš€ Get Started

âš¡ï¸ <!-- -->Simplified and merged

[Tutorial](/documentation/zh/docs/get-started/tutorial.md)

[**old**:](/documentation/zh/docs/get-started/tutorial.md)

<!-- -->

<!-- -->

[/docs/get-started/quick-start](/documentation/zh/docs/get-started/tutorial.md)

[**new**: ](/documentation/zh/docs/get-started/tutorial.md)

<!-- -->

[/docs/get-started/tutorial](/documentation/zh/docs/get-started/tutorial.md)

[Basics](/documentation/zh/docs/get-started/overview.md)

[**old**:](/documentation/zh/docs/get-started/overview.md)

<!-- -->

<!-- -->

[/docs/get-started/basics](/documentation/zh/docs/get-started/overview.md)

[**new**: ](/documentation/zh/docs/get-started/overview.md)

<!-- -->

[/docs/get-started/overview](/documentation/zh/docs/get-started/overview.md)

[Decompose Cheatsheet](/documentation/zh/docs/get-started/cheatsheet.md)

[**old**:](/documentation/zh/docs/get-started/cheatsheet.md)

<!-- -->

<!-- -->

[/docs/get-started/tutorial/decompose; /docs/get-started/tutorial/design-mockup; /docs/get-started/onboard/cheatsheet](/documentation/zh/docs/get-started/cheatsheet.md)

[**new**: ](/documentation/zh/docs/get-started/cheatsheet.md)

<!-- -->

[/docs/get-started/cheatsheet](/documentation/zh/docs/get-started/cheatsheet.md)

### ğŸ° Alternatives

âš¡ï¸ <!-- -->Moved and merged to /about/alternatives as advanced materials

[Architecture approaches alternatives](/documentation/zh/docs/about/alternatives.md)

[**old**:](/documentation/zh/docs/about/alternatives.md)

<!-- -->

<!-- -->

[/docs/about/alternatives/big-ball-of-mud; /docs/about/alternatives/design-principles; /docs/about/alternatives/ddd; /docs/about/alternatives/clean-architecture; /docs/about/alternatives/frameworks; /docs/about/alternatives/atomic-design; /docs/about/alternatives/smart-dumb-components; /docs/about/alternatives/feature-driven](/documentation/zh/docs/about/alternatives.md)

[**new**: ](/documentation/zh/docs/about/alternatives.md)

<!-- -->

[/docs/about/alternatives](/documentation/zh/docs/about/alternatives.md)

### ğŸ° Promote & Understanding

âš¡ï¸ <!-- -->Moved to /about as advanced materials

[Knowledge types](/documentation/zh/docs/about/understanding/knowledge-types.md)

[**old**:](/documentation/zh/docs/about/understanding/knowledge-types.md)

<!-- -->

<!-- -->

[/docs/reference/knowledge-types](/documentation/zh/docs/about/understanding/knowledge-types.md)

[**new**: ](/documentation/zh/docs/about/understanding/knowledge-types.md)

<!-- -->

[/docs/about/understanding/knowledge-types](/documentation/zh/docs/about/understanding/knowledge-types.md)

[Needs driven](/documentation/zh/docs/about/understanding/needs-driven.md)

[**old**:](/documentation/zh/docs/about/understanding/needs-driven.md)

<!-- -->

<!-- -->

[/docs/concepts/needs-driven](/documentation/zh/docs/about/understanding/needs-driven.md)

[**new**: ](/documentation/zh/docs/about/understanding/needs-driven.md)

<!-- -->

[/docs/about/understanding/needs-driven](/documentation/zh/docs/about/understanding/needs-driven.md)

[About architecture](/documentation/zh/docs/about/understanding/architecture.md)

[**old**:](/documentation/zh/docs/about/understanding/architecture.md)

<!-- -->

<!-- -->

[/docs/concepts/architecture](/documentation/zh/docs/about/understanding/architecture.md)

[**new**: ](/documentation/zh/docs/about/understanding/architecture.md)

<!-- -->

[/docs/about/understanding/architecture](/documentation/zh/docs/about/understanding/architecture.md)

[Naming adaptability](/documentation/zh/docs/about/understanding/naming.md)

[**old**:](/documentation/zh/docs/about/understanding/naming.md)

<!-- -->

<!-- -->

[/docs/concepts/naming-adaptability](/documentation/zh/docs/about/understanding/naming.md)

[**new**: ](/documentation/zh/docs/about/understanding/naming.md)

<!-- -->

[/docs/about/understanding/naming](/documentation/zh/docs/about/understanding/naming.md)

[Signals of architecture](/documentation/zh/docs/about/understanding/signals.md)

[**old**:](/documentation/zh/docs/about/understanding/signals.md)

<!-- -->

<!-- -->

[/docs/concepts/signals](/documentation/zh/docs/about/understanding/signals.md)

[**new**: ](/documentation/zh/docs/about/understanding/signals.md)

<!-- -->

[/docs/about/understanding/signals](/documentation/zh/docs/about/understanding/signals.md)

[Abstractions of architecture](/documentation/zh/docs/about/understanding/abstractions.md)

[**old**:](/documentation/zh/docs/about/understanding/abstractions.md)

<!-- -->

<!-- -->

[/docs/concepts/abstractions](/documentation/zh/docs/about/understanding/abstractions.md)

[**new**: ](/documentation/zh/docs/about/understanding/abstractions.md)

<!-- -->

[/docs/about/understanding/abstractions](/documentation/zh/docs/about/understanding/abstractions.md)

### ğŸ“š Reference guidelines (isolation & units)

âš¡ï¸ <!-- -->Moved to /reference as theoretical materials (old concepts)

[Decouple of entities](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/concepts/decouple-entities](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[Low Coupling & High Cohesion](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[**old**:](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

<!-- -->

<!-- -->

[/docs/concepts/low-coupling](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[**new**: ](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

<!-- -->

[/docs/reference/slices-segments#zero-coupling-high-cohesion](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)

[Cross-communication](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/concepts/cross-communication](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[App splitting](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/concepts/app-splitting](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Decomposition](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/decomposition](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Units](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Layers](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Layer overview](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/layers/overview](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[App layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/app](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Processes layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/processes](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Pages layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/pages](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Widgets layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/widgets](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Widgets layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/layers/widgets](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Features layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/features](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Entities layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/entities](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Shared layer](/documentation/zh/docs/reference/layers.md)

[**old**:](/documentation/zh/docs/reference/layers.md)

<!-- -->

<!-- -->

[/docs/reference/units/layers/shared](/documentation/zh/docs/reference/layers.md)

[**new**: ](/documentation/zh/docs/reference/layers.md)

<!-- -->

[/docs/reference/layers](/documentation/zh/docs/reference/layers.md)

[Segments](/documentation/zh/docs/reference/slices-segments.md)

[**old**:](/documentation/zh/docs/reference/slices-segments.md)

<!-- -->

<!-- -->

[/docs/reference/units/segments](/documentation/zh/docs/reference/slices-segments.md)

[**new**: ](/documentation/zh/docs/reference/slices-segments.md)

<!-- -->

[/docs/reference/slices-segments](/documentation/zh/docs/reference/slices-segments.md)

### ğŸ¯ Bad Practices handbook

âš¡ï¸ <!-- -->Moved to /guides as practice materials

[Cross-imports](/documentation/zh/docs/guides/issues/cross-imports.md)

[**old**:](/documentation/zh/docs/guides/issues/cross-imports.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/cross-imports](/documentation/zh/docs/guides/issues/cross-imports.md)

[**new**: ](/documentation/zh/docs/guides/issues/cross-imports.md)

<!-- -->

[/docs/guides/issues/cross-imports](/documentation/zh/docs/guides/issues/cross-imports.md)

[Desegmented](/documentation/zh/docs/guides/issues/desegmented.md)

[**old**:](/documentation/zh/docs/guides/issues/desegmented.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/desegmented](/documentation/zh/docs/guides/issues/desegmented.md)

[**new**: ](/documentation/zh/docs/guides/issues/desegmented.md)

<!-- -->

[/docs/guides/issues/desegmented](/documentation/zh/docs/guides/issues/desegmented.md)

[Routes](/documentation/zh/docs/guides/issues/routes.md)

[**old**:](/documentation/zh/docs/guides/issues/routes.md)

<!-- -->

<!-- -->

[/docs/concepts/issues/routes](/documentation/zh/docs/guides/issues/routes.md)

[**new**: ](/documentation/zh/docs/guides/issues/routes.md)

<!-- -->

[/docs/guides/issues/routes](/documentation/zh/docs/guides/issues/routes.md)

### ğŸ¯ Examples

âš¡ï¸ <!-- -->Grouped and simplified into /guides/examples as practical examples

[Viewer logic](/documentation/zh/docs/guides/examples/auth.md)

[**old**:](/documentation/zh/docs/guides/examples/auth.md)

<!-- -->

<!-- -->

[/docs/guides/examples/viewer](/documentation/zh/docs/guides/examples/auth.md)

[**new**: ](/documentation/zh/docs/guides/examples/auth.md)

<!-- -->

[/docs/guides/examples/auth](/documentation/zh/docs/guides/examples/auth.md)

[Monorepo](/documentation/zh/docs/guides/examples/monorepo.md)

[**old**:](/documentation/zh/docs/guides/examples/monorepo.md)

<!-- -->

<!-- -->

[/docs/guides/monorepo](/documentation/zh/docs/guides/examples/monorepo.md)

[**new**: ](/documentation/zh/docs/guides/examples/monorepo.md)

<!-- -->

[/docs/guides/examples/monorepo](/documentation/zh/docs/guides/examples/monorepo.md)

[White Labels](/documentation/zh/docs/guides/examples/white-labels.md)

[**old**:](/documentation/zh/docs/guides/examples/white-labels.md)

<!-- -->

<!-- -->

[/docs/guides/white-labels](/documentation/zh/docs/guides/examples/white-labels.md)

[**new**: ](/documentation/zh/docs/guides/examples/white-labels.md)

<!-- -->

[/docs/guides/examples/white-labels](/documentation/zh/docs/guides/examples/white-labels.md)

### ğŸ¯ Migration

âš¡ï¸ <!-- -->Grouped and simplified into /guides/migration as migration guidelines

[Migration from V1](/documentation/zh/docs/guides/migration/from-v1.md)

[**old**:](/documentation/zh/docs/guides/migration/from-v1.md)

<!-- -->

<!-- -->

[/docs/guides/migration-from-v1](/documentation/zh/docs/guides/migration/from-v1.md)

[**new**: ](/documentation/zh/docs/guides/migration/from-v1.md)

<!-- -->

[/docs/guides/migration/from-v1](/documentation/zh/docs/guides/migration/from-v1.md)

[Migration from Legacy](/documentation/zh/docs/guides/migration/from-custom.md)

[**old**:](/documentation/zh/docs/guides/migration/from-custom.md)

<!-- -->

<!-- -->

[/docs/guides/migration-from-legacy](/documentation/zh/docs/guides/migration/from-custom.md)

[**new**: ](/documentation/zh/docs/guides/migration/from-custom.md)

<!-- -->

[/docs/guides/migration/from-custom](/documentation/zh/docs/guides/migration/from-custom.md)

### ğŸ¯ Tech

âš¡ï¸ <!-- -->Grouped into /guides/tech as tech-specific usage guidelines

[Usage with NextJS](/documentation/zh/docs/guides/tech/with-nextjs.md)

[**old**:](/documentation/zh/docs/guides/tech/with-nextjs.md)

<!-- -->

<!-- -->

[/docs/guides/usage-with-nextjs](/documentation/zh/docs/guides/tech/with-nextjs.md)

[**new**: ](/documentation/zh/docs/guides/tech/with-nextjs.md)

<!-- -->

[/docs/guides/tech/with-nextjs](/documentation/zh/docs/guides/tech/with-nextjs.md)

### Rename 'legacy' to 'custom'

âš¡ï¸ <!-- -->'Legacy' is derogatory, we don't get to call people's projects legacy

[Rename 'legacy' to custom](/documentation/zh/docs/guides/migration/from-custom.md)

[**old**:](/documentation/zh/docs/guides/migration/from-custom.md)

<!-- -->

<!-- -->

[/docs/guides/migration/from-legacy](/documentation/zh/docs/guides/migration/from-custom.md)

[**new**: ](/documentation/zh/docs/guides/migration/from-custom.md)

<!-- -->

[/docs/guides/migration/from-custom](/documentation/zh/docs/guides/migration/from-custom.md)

### Deduplication of Reference

âš¡ï¸ <!-- -->Cleaned up the Reference section and deduplicated the material

[Isolation of modules](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**old**:](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

<!-- -->

[/docs/reference/isolation](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

[**new**: ](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)

<!-- -->

[/docs/reference/layers#import-rule-on-layers](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)


---

[è·³è½¬åˆ°ä¸»è¦å†…å®¹](#__docusaurus_skipToContent_fallback)

[![logo](/documentation/zh/img/brand/logo-primary.png)![logo](/documentation/zh/img/brand/logo-primary.png)](/documentation/zh/.md)

[****](/documentation/zh/.md)[ğŸ“– æ–‡æ¡£](/documentation/zh/docs/get-started/overview.md)[ğŸ’« ç¤¾åŒº](/documentation/zh/community.md)[ğŸ“ åšå®¢](/documentation/zh/blog)[ğŸ›  ç¤ºä¾‹](/documentation/zh/examples.md)

[v2.1](/documentation/zh/docs/get-started/overview.md)

* [v2.1](/documentation/zh/docs/get-started/overview.md)
* [v1.0](https://feature-sliced.github.io/featureslices.dev/v1.0.html)
* [v0.1](https://feature-sliced.github.io/featureslices.dev/v0.1.html)
* [feature-driven](https://github.com/feature-sliced/documentation/tree/rc/feature-driven)
* [All versions](/documentation/zh/versions.md)

[ä¸­æ–‡](#)

* [Ğ ÑƒÑÑĞºĞ¸Ğ¹](/documentation/ru/search)
* [English](/documentation/search)
* [O'zbekcha](/documentation/uz/search)
* [í•œêµ­ì–´](/documentation/kr/search)
* [æ—¥æœ¬èª](/documentation/ja/search)
* [Tiáº¿ng Viá»‡t](/documentation/vi/search)
* [ä¸­æ–‡](/documentation/zh/search.md)
* [Help Us Translate](https://github.com/feature-sliced/documentation/issues/244)

[](https://discord.gg/S8MzWTUsmp)[](https://github.com/feature-sliced/documentation)

æœç´¢

# åœ¨æ–‡æ¡£ä¸­æœç´¢

åœ¨æ­¤è¾“å…¥æœç´¢è¯

ç”± Algolia æä¾›[](https://www.algolia.com/)

è§„èŒƒ

* [æ–‡æ¡£](/documentation/zh/docs/get-started/overview.md)
* [ç¤¾åŒº](/documentation/zh/community.md)
* [å¸®åŠ©](/documentation/zh/nav.md)
* [è®¨è®º](https://github.com/feature-sliced/documentation/discussions)

ç¤¾åŒº

* [Discord](https://discord.gg/S8MzWTUsmp)
* [Telegram (RU)](https://t.me/feature_sliced)
* [Twitter](https://twitter.com/feature_sliced)
* [Open Collective](https://opencollective.com/feature-sliced)
* [YouTube](https://www.youtube.com/c/FeatureSlicedDesign)

æ›´å¤š

* [GitHub](https://github.com/feature-sliced)
* [Contribution Guide](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)
* [è®¸å¯è¯](https://github.com/feature-sliced/documentation/blob/master/LICENSE)
* [Docs for LLMs](/documentation/zh/docs/llms.md)

[![Feature-Sliced Design - Architectural methodology for frontend projects](/documentation/zh/img/brand/logo-primary.png)![Feature-Sliced Design - Architectural methodology for frontend projects](/documentation/zh/img/brand/logo-primary.png)](https://github.com/feature-sliced)

ç‰ˆæƒæ‰€æœ‰ Â© 2018-2025 Feature-Sliced Design


---

# Feature-Sliced Design ç‰ˆæœ¬

### Feature-Sliced Design v2.1 (Current)

å½“å‰å·²å‘å¸ƒç‰ˆæœ¬çš„æ–‡æ¡£å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°

| v2.1 | [Release Notes](https://github.com/feature-sliced/documentation/releases/tag/v2.1) | [Documentation](/documentation/zh/docs/get-started/overview.md) | [Migration from v1](/documentation/zh/docs/guides/migration/from-v1.md) | [Migration from v2.0](/documentation/zh/docs/guides/migration/from-v1.md) |
| ---- | ---------------------------------------------------------------------------------- | --------------------------------------------------------------- | ----------------------------------------------------------------------- | ------------------------------------------------------------------------- |

### Feature Slices v1 (Legacy)

feature-slices æ—§ç‰ˆæœ¬çš„æ–‡æ¡£å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°

| v1.0 | [Documentation](https://feature-sliced.github.io/featureslices.dev/v1.0.html) |
| ---- | ----------------------------------------------------------------------------- |
| v0.1 | [Documentation](https://feature-sliced.github.io/featureslices.dev/v0.1.html) |

### Feature Driven (Legacy)

feature-driven æ—§ç‰ˆæœ¬çš„æ–‡æ¡£å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°

| v0.1          | [Documentation](https://github.com/feature-sliced/documentation/tree/rc/feature-driven) |
| ------------- | --------------------------------------------------------------------------------------- |
| Example (kof) | [Github](https://github.com/kof/feature-driven-architecture)                            |


---

# ğŸ’« Community

Community resources, additional materials

## Main[â€‹](#main "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

<!-- -->

[Awesome Resources](https://github.com/feature-sliced/awesome)

[A curated list of awesome FSD videos, articles, packages](https://github.com/feature-sliced/awesome)

[Team](/documentation/zh/community/team.md)

[Core-team, Champions, Contributors, Companies](/documentation/zh/community/team.md)

[Brandbook](/documentation/zh/docs/branding.md)

[Recommendations for FSD's branding usage](/documentation/zh/docs/branding.md)

[Contributing](#)

[HowTo, Workflow, Support](#)


---

# Team

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/192)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## Core-team[â€‹](#core-team "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### Champions[â€‹](#champions "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

## Contributors[â€‹](#contributors "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

## Companies[â€‹](#companies "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")


---

# æ›¿ä»£æ–¹æ¡ˆ

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/62)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

æ¶æ„æ–¹æ³•çš„å†å²

## å¤§æ³¥çƒï¼ˆBig Ball of Mudï¼‰[â€‹](#å¤§æ³¥çƒbig-ball-of-mud "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/258)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> ä»€ä¹ˆæ˜¯å¤§æ³¥çƒï¼›ä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤å¸¸è§ï¼›ä½•æ—¶å¼€å§‹å¸¦æ¥é—®é¢˜ï¼›è¯¥æ€ä¹ˆåšä»¥åŠFSDå¦‚ä½•åœ¨è¿™æ–¹é¢æä¾›å¸®åŠ©

* [(æ–‡ç« ) Oleg Isonen - åœ¨AIæ¥ç®¡ä¹‹å‰å…³äºUIæ¶æ„çš„æœ€åè¯è¯­](https://oleg008.medium.com/last-words-on-ui-architecture-before-an-ai-takes-over-468c78f18f0d)
* [(æŠ¥å‘Š) Julia Nikolaeva, iSpring - å¤§æ³¥çƒå’Œå•ä½“çš„å…¶ä»–é—®é¢˜ï¼Œæˆ‘ä»¬å·²ç»å¤„ç†è¿‡](http://youtu.be/gna4Ynz1YNI)
* [(æ–‡ç« ) DD - å¤§æ³¥çƒ](https://thedomaindrivendesign.io/big-ball-of-mud/)

## æ™ºèƒ½å’Œæ„šè ¢ç»„ä»¶ï¼ˆSmart & Dumb componentsï¼‰[â€‹](#æ™ºèƒ½å’Œæ„šè ¢ç»„ä»¶smart--dumb-components "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/214)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºè¿™ç§æ–¹æ³•ï¼›å…³äºåœ¨å‰ç«¯çš„é€‚ç”¨æ€§ï¼›æ–¹æ³•è®ºç«‹åœº

å…³äºè¿‡æ—¶æ€§ï¼Œå…³äºæ–¹æ³•è®ºçš„æ–°è§‚ç‚¹

ä¸ºä»€ä¹ˆå®¹å™¨ç»„ä»¶æ–¹æ³•æ˜¯æœ‰å®³çš„ï¼Ÿ

* [(æ–‡ç« ) Dan Abramov - å±•ç¤ºå‹å’Œå®¹å™¨å‹ç»„ä»¶ï¼ˆTLDRï¼šå·²å¼ƒç”¨ï¼‰](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0)

## è®¾è®¡åŸåˆ™[â€‹](#è®¾è®¡åŸåˆ™ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/59)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> æˆ‘ä»¬åœ¨è°ˆè®ºä»€ä¹ˆï¼›FSDç«‹åœº

SOLIDã€GRASPã€KISSã€YAGNIç­‰ - ä»¥åŠä¸ºä»€ä¹ˆå®ƒä»¬åœ¨å®è·µä¸­ä¸èƒ½å¾ˆå¥½åœ°ååŒå·¥ä½œ

ä»¥åŠå®ƒå¦‚ä½•èšåˆè¿™äº›å®è·µ

* [(æ¼”è®²) Ilya Azin - Feature-Sliced Designï¼ˆå…³äºè®¾è®¡åŸåˆ™çš„ç‰‡æ®µï¼‰](https://youtu.be/SnzPAr_FJ7w?t=380)

## DDD[â€‹](#ddd "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/1)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºè¿™ç§æ–¹æ³•ï¼›ä¸ºä»€ä¹ˆå®ƒåœ¨å®è·µä¸­æ•ˆæœä¸ä½³

æœ‰ä»€ä¹ˆä¸åŒï¼Œå¦‚ä½•æ”¹å–„é€‚ç”¨æ€§ï¼Œåœ¨å“ªé‡Œé‡‡ç”¨å®è·µ

* [(æ–‡ç« ) DDDã€å…­è¾¹å½¢ã€æ´‹è‘±ã€æ¸…æ´ã€CQRSç­‰...æˆ‘å¦‚ä½•å°†å®ƒä»¬æ•´åˆåœ¨ä¸€èµ·](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)
* [(æ¼”è®²) Ilya Azin - Feature-Sliced Designï¼ˆå…³äºæ•´æ´æ¶æ„ã€DDDçš„ç‰‡æ®µï¼‰](https://youtu.be/SnzPAr_FJ7w?t=528)

## æ•´æ´æ¶æ„ï¼ˆClean Architectureï¼‰[â€‹](#æ•´æ´æ¶æ„clean-architecture "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/165)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºè¿™ç§æ–¹æ³•ï¼›å…³äºåœ¨å‰ç«¯çš„é€‚ç”¨æ€§ï¼›FSDç«‹åœº

å®ƒä»¬å¦‚ä½•ç›¸ä¼¼ï¼ˆå¯¹è®¸å¤šäººæ¥è¯´ï¼‰ï¼Œå®ƒä»¬å¦‚ä½•ä¸åŒ

* [(è®¨è®ºä¸²) å…³äºæ–¹æ³•è®ºä¸­çš„ç”¨ä¾‹/äº¤äº’å™¨](https://t.me/feature_sliced/3897)
* [(è®¨è®ºä¸²) å…³äºæ–¹æ³•è®ºä¸­çš„ä¾èµ–æ³¨å…¥](https://t.me/feature_sliced/4592)
* [(æ–‡ç« ) Alex Bespoyasov - å‰ç«¯çš„æ•´æ´æ¶æ„](https://bespoyasov.me/blog/clean-architecture-on-frontend/)
* [(æ–‡ç« ) DDDã€å…­è¾¹å½¢ã€æ´‹è‘±ã€æ¸…æ´ã€CQRSç­‰...æˆ‘å¦‚ä½•å°†å®ƒä»¬æ•´åˆåœ¨ä¸€èµ·](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)
* [(æ¼”è®²) Ilya Azin - Feature-Sliced Designï¼ˆå…³äºæ•´æ´æ¶æ„ã€DDDçš„ç‰‡æ®µï¼‰](https://youtu.be/SnzPAr_FJ7w?t=528)
* [(æ–‡ç« ) æ•´æ´æ¶æ„çš„è¯¯è§£](http://habr.com/ru/company/mobileup/blog/335382/)

## æ¡†æ¶[â€‹](#æ¡†æ¶ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/58)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºåœ¨å‰ç«¯çš„é€‚ç”¨æ€§ï¼›ä¸ºä»€ä¹ˆæ¡†æ¶ä¸èƒ½è§£å†³é—®é¢˜ï¼›ä¸ºä»€ä¹ˆæ²¡æœ‰å•ä¸€æ–¹æ³•ï¼›FSDç«‹åœº

æ¡†æ¶æ— å…³ï¼Œçº¦å®šæ–¹æ³•

* [(æ–‡ç« ) å…³äºåˆ›å»ºæ–¹æ³•è®ºçš„åŸå› ï¼ˆå…³äºæ¡†æ¶çš„ç‰‡æ®µï¼‰](/documentation/zh/docs/about/motivation.md)
* [(è®¨è®ºä¸²) å…³äºæ–¹æ³•è®ºå¯¹ä¸åŒæ¡†æ¶çš„é€‚ç”¨æ€§](https://t.me/feature_sliced/3867)

## åŸå­è®¾è®¡ï¼ˆAtomic Designï¼‰[â€‹](#åŸå­è®¾è®¡atomic-design "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### ä»€ä¹ˆæ˜¯åŸå­è®¾è®¡ï¼Ÿ[â€‹](#ä»€ä¹ˆæ˜¯åŸå­è®¾è®¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨åŸå­è®¾è®¡ä¸­ï¼ŒèŒè´£èŒƒå›´è¢«åˆ’åˆ†ä¸ºæ ‡å‡†åŒ–çš„å±‚çº§ã€‚

åŸå­è®¾è®¡åˆ†ä¸º**5ä¸ªå±‚çº§**ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰ï¼š

1. `pages`ï¼ˆé¡µé¢ï¼‰- åŠŸèƒ½ç±»ä¼¼äºFSDä¸­çš„`pages`å±‚ã€‚
2. `templates`ï¼ˆæ¨¡æ¿ï¼‰- å®šä¹‰é¡µé¢ç»“æ„è€Œä¸ç»‘å®šåˆ°ç‰¹å®šå†…å®¹çš„ç»„ä»¶ã€‚
3. `organisms`ï¼ˆæœ‰æœºä½“ï¼‰- ç”±åˆ†å­ç»„æˆå¹¶å…·æœ‰ä¸šåŠ¡é€»è¾‘çš„æ¨¡å—ã€‚
4. `molecules`ï¼ˆåˆ†å­ï¼‰- é€šå¸¸ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘çš„æ›´å¤æ‚ç»„ä»¶ã€‚
5. `atoms`ï¼ˆåŸå­ï¼‰- æ²¡æœ‰ä¸šåŠ¡é€»è¾‘çš„UIç»„ä»¶ã€‚

ä¸€ä¸ªå±‚çº§çš„æ¨¡å—åªä¸ä¸‹é¢å±‚çº§çš„æ¨¡å—äº¤äº’ï¼Œç±»ä¼¼äºFSDã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†å­ç”±åŸå­æ„å»ºï¼Œæœ‰æœºä½“ç”±åˆ†å­æ„å»ºï¼Œæ¨¡æ¿ç”±æœ‰æœºä½“æ„å»ºï¼Œé¡µé¢ç”±æ¨¡æ¿æ„å»ºã€‚ åŸå­è®¾è®¡è¿˜æ„å‘³ç€åœ¨æ¨¡å—å†…ä½¿ç”¨å…¬å…±APIæ¥å®ç°éš”ç¦»ã€‚

### å¯¹å‰ç«¯çš„é€‚ç”¨æ€§[â€‹](#å¯¹å‰ç«¯çš„é€‚ç”¨æ€§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åŸå­è®¾è®¡åœ¨é¡¹ç›®ä¸­ç›¸å¯¹å¸¸è§ã€‚åŸå­è®¾è®¡åœ¨ç½‘é¡µè®¾è®¡å¸ˆä¸­æ¯”åœ¨å¼€å‘ä¸­æ›´å—æ¬¢è¿ã€‚ ç½‘é¡µè®¾è®¡å¸ˆç»å¸¸ä½¿ç”¨åŸå­è®¾è®¡æ¥åˆ›å»ºå¯æ‰©å±•ä¸”æ˜“äºç»´æŠ¤çš„è®¾è®¡ã€‚ åœ¨å¼€å‘ä¸­ï¼ŒåŸå­è®¾è®¡ç»å¸¸ä¸å…¶ä»–æ¶æ„æ–¹æ³•è®ºæ··åˆä½¿ç”¨ã€‚

ç„¶è€Œï¼Œç”±äºåŸå­è®¾è®¡ä¸“æ³¨äºUIç»„ä»¶åŠå…¶ç»„åˆï¼Œåœ¨æ¶æ„å†…å®ç°ä¸šåŠ¡é€»è¾‘æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚

é—®é¢˜åœ¨äºåŸå­è®¾è®¡æ²¡æœ‰ä¸ºä¸šåŠ¡é€»è¾‘æä¾›æ˜ç¡®çš„èŒè´£çº§åˆ«ï¼Œ å¯¼è‡´ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨å„ç§ç»„ä»¶å’Œçº§åˆ«ä¸­ï¼Œä½¿ç»´æŠ¤å’Œæµ‹è¯•å˜å¾—å¤æ‚ã€‚ ä¸šåŠ¡é€»è¾‘å˜å¾—æ¨¡ç³Šï¼Œä½¿å¾—éš¾ä»¥æ¸…æ¥šåœ°åˆ†ç¦»èŒè´£ï¼Œå¹¶ä½¿ä»£ç å˜å¾—ä¸å¤Ÿæ¨¡å—åŒ–å’Œå¯é‡ç”¨ã€‚

### å®ƒä¸FSDçš„å…³ç³»å¦‚ä½•ï¼Ÿ[â€‹](#å®ƒä¸fsdçš„å…³ç³»å¦‚ä½• "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨FSDçš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒåŸå­è®¾è®¡çš„ä¸€äº›å…ƒç´ å¯ä»¥åº”ç”¨äºåˆ›å»ºçµæ´»ä¸”å¯æ‰©å±•çš„UIç»„ä»¶ã€‚ `atoms`å’Œ`molecules`å±‚å¯ä»¥åœ¨FSDçš„`shared/ui`ä¸­å®ç°ï¼Œç®€åŒ–åŸºæœ¬UIå…ƒç´ çš„é‡ç”¨å’Œç»´æŠ¤ã€‚

```
â”œâ”€â”€ shared
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ atoms
â”‚   â”‚   â”œâ”€â”€ molecules
â”‚   ...
```

FSDå’ŒåŸå­è®¾è®¡çš„æ¯”è¾ƒæ˜¾ç¤ºï¼Œä¸¤ç§æ–¹æ³•è®ºéƒ½è¿½æ±‚æ¨¡å—åŒ–å’Œå¯é‡ç”¨æ€§ï¼Œ ä½†ä¸“æ³¨äºä¸åŒçš„æ–¹é¢ã€‚åŸå­è®¾è®¡é¢å‘è§†è§‰ç»„ä»¶åŠå…¶ç»„åˆã€‚ FSDä¸“æ³¨äºå°†åº”ç”¨ç¨‹åºåŠŸèƒ½åˆ’åˆ†ä¸ºç‹¬ç«‹æ¨¡å—åŠå…¶ç›¸äº’è¿æ¥ã€‚

* [åŸå­è®¾è®¡æ–¹æ³•è®º](https://atomicdesign.bradfrost.com/table-of-contents/)
* [(è®¨è®ºä¸²) å…³äºåœ¨shared/uiä¸­çš„é€‚ç”¨æ€§](https://t.me/feature_sliced/1653)
* [(è§†é¢‘) åŸå­è®¾è®¡ç®€ä»‹](https://youtu.be/Yi-A20x2dcA)
* [(æ¼”è®²) Ilya Azin - Feature-Sliced Designï¼ˆå…³äºåŸå­è®¾è®¡çš„ç‰‡æ®µï¼‰](https://youtu.be/SnzPAr_FJ7w?t=587)

## åŠŸèƒ½é©±åŠ¨ï¼ˆFeature Drivenï¼‰[â€‹](#åŠŸèƒ½é©±åŠ¨feature-driven "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/219)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºè¿™ç§æ–¹æ³•ï¼›å…³äºåœ¨å‰ç«¯çš„é€‚ç”¨æ€§ï¼›FSDç«‹åœº

å…³äºå…¼å®¹æ€§ã€å†å²å‘å±•å’Œæ¯”è¾ƒ

* [(æ¼”è®²) Oleg Isonen - åŠŸèƒ½é©±åŠ¨æ¶æ„](https://youtu.be/BWAeYuWFHhs)
* [åŠŸèƒ½é©±åŠ¨ç®€çŸ­è§„èŒƒï¼ˆä»FSDçš„è§’åº¦ï¼‰](https://github.com/feature-sliced/documentation/tree/rc/feature-driven)


---

# ä½¿å‘½

åœ¨è¿™é‡Œæˆ‘ä»¬æè¿°æ–¹æ³•è®ºé€‚ç”¨æ€§çš„ç›®æ ‡å’Œé™åˆ¶â€”â€”è¿™æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¯¥æ–¹æ³•è®ºæ—¶æ‰€éµå¾ªçš„æŒ‡å¯¼åŸåˆ™

* æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ç†å¿µå’Œç®€å•æ€§ä¹‹é—´å–å¾—å¹³è¡¡
* æˆ‘ä»¬æ— æ³•åˆ¶é€ ä¸€ä¸ªé€‚åˆæ‰€æœ‰äººçš„é“¶å¼¹

**å°½ç®¡å¦‚æ­¤ï¼Œè¯¥æ–¹æ³•è®ºåº”è¯¥å¯¹ç›¸å½“å¹¿æ³›çš„å¼€å‘è€…ç¾¤ä½“æ¥è¯´æ˜¯äº²è¿‘ä¸”å¯è®¿é—®çš„**

## ç›®æ ‡[â€‹](#ç›®æ ‡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### å¯¹å¹¿æ³›å¼€å‘è€…çš„ç›´è§‚æ¸…æ™°åº¦[â€‹](#å¯¹å¹¿æ³›å¼€å‘è€…çš„ç›´è§‚æ¸…æ™°åº¦ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºåº”è¯¥æ˜¯å¯è®¿é—®çš„ - å¯¹äºé¡¹ç›®ä¸­çš„å¤§éƒ¨åˆ†å›¢é˜Ÿæˆå‘˜

*å› ä¸ºå³ä½¿æœ‰äº†æ‰€æœ‰æœªæ¥çš„å·¥å…·ï¼Œå¦‚æœåªæœ‰ç»éªŒä¸°å¯Œçš„é«˜çº§å¼€å‘è€…/é¢†å¯¼è€…æ‰èƒ½ç†è§£è¯¥æ–¹æ³•è®ºï¼Œé‚£ä¹Ÿæ˜¯ä¸å¤Ÿçš„*

### è§£å†³æ—¥å¸¸é—®é¢˜[â€‹](#è§£å†³æ—¥å¸¸é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºåº”è¯¥é˜è¿°æˆ‘ä»¬åœ¨å¼€å‘é¡¹ç›®æ—¶é‡åˆ°çš„æ—¥å¸¸é—®é¢˜çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ

**å¹¶ä¸”è¿˜è¦ä¸ºæ‰€æœ‰è¿™äº›æä¾›å·¥å…·ï¼ˆcliã€lintersï¼‰**

è®©å¼€å‘è€…å¯ä»¥ä½¿ç”¨ä¸€ç§*ç»è¿‡å®æˆ˜æ£€éªŒ*çš„æ–¹æ³•ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿç»•è¿‡æ¶æ„å’Œå¼€å‘ä¸­çš„é•¿æœŸé—®é¢˜

> *@sergeysova: æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªå¼€å‘è€…åœ¨è¯¥æ–¹æ³•è®ºçš„æ¡†æ¶å†…ç¼–å†™ä»£ç ï¼Œä»–é‡åˆ°é—®é¢˜çš„é¢‘ç‡å‡å°‘äº†10å€ï¼Œä»…ä»…å› ä¸ºå…¶ä»–äººå·²ç»è€ƒè™‘å¹¶è§£å†³äº†è®¸å¤šé—®é¢˜ã€‚*

## é™åˆ¶[â€‹](#é™åˆ¶ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬ä¸æƒ³*å¼ºåŠ æˆ‘ä»¬çš„è§‚ç‚¹*ï¼ŒåŒæ—¶æˆ‘ä»¬ç†è§£*ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬çš„è®¸å¤šä¹ æƒ¯æ¯å¤©éƒ½åœ¨å¹²æ‰°æˆ‘ä»¬*

æ¯ä¸ªäººåœ¨è®¾è®¡å’Œå¼€å‘ç³»ç»Ÿæ–¹é¢éƒ½æœ‰è‡ªå·±çš„ç»éªŒæ°´å¹³ï¼Œ**å› æ­¤ï¼Œå€¼å¾—ç†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š**

* **ä¸ä¼šèµ·ä½œç”¨**ï¼šéå¸¸ç®€å•ã€éå¸¸æ¸…æ™°ã€é€‚ç”¨äºæ‰€æœ‰äºº

  > *@sergeysova: æŸäº›æ¦‚å¿µåœ¨ä½ é‡åˆ°é—®é¢˜å¹¶èŠ±è´¹å¤šå¹´æ—¶é—´è§£å†³å®ƒä»¬ä¹‹å‰ï¼Œæ˜¯æ— æ³•ç›´è§‚ç†è§£çš„ã€‚*
  >
  > * *åœ¨æ•°å­¦ä¸–ç•Œä¸­ï¼šæ˜¯å›¾è®ºã€‚*
  > * *åœ¨ç‰©ç†å­¦ä¸­ï¼šé‡å­åŠ›å­¦ã€‚*
  > * *åœ¨ç¼–ç¨‹ä¸­ï¼šåº”ç”¨ç¨‹åºæ¶æ„ã€‚*

* **å¯èƒ½ä¸”æœŸæœ›çš„**ï¼šç®€å•æ€§ã€å¯æ‰©å±•æ€§

## å‚è§[â€‹](#å‚è§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [æ¶æ„é—®é¢˜](/documentation/zh/docs/about/understanding/architecture.md#problems)


---

# åŠ¨æœº

**Feature-Sliced Design**ï¼ˆç‰¹æ€§åˆ†å±‚è®¾è®¡ï¼‰çš„ä¸»è¦ç†å¿µæ˜¯åŸºäº[ç»“åˆç ”ç©¶æˆæœï¼Œè®¨è®ºå„ç§ç±»å‹å¼€å‘è€…çš„å¹¿æ³›ç»éªŒ](https://github.com/feature-sliced/documentation/discussions)ï¼Œæ¥ä¿ƒè¿›å’Œé™ä½å¤æ‚é¡¹ç›®å¼€å‘çš„æˆæœ¬ã€‚

æ˜¾ç„¶ï¼Œè¿™ä¸ä¼šæ˜¯ä¸‡èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶ï¼Œè¯¥æ–¹æ³•è®ºä¹Ÿä¼šæœ‰è‡ªå·±çš„[é€‚ç”¨é™åˆ¶](/documentation/zh/docs/about/mission.md)ã€‚

å°½ç®¡å¦‚æ­¤ï¼Œå…³äº*è¿™ç§æ–¹æ³•è®ºæ•´ä½“å¯è¡Œæ€§*ä»ç„¶å­˜åœ¨åˆç†çš„è´¨ç–‘ã€‚

å¤‡æ³¨

æ›´å¤šè¯¦æƒ…[åœ¨è®¨è®ºä¸­è¿›è¡Œäº†æ¢è®¨](https://github.com/feature-sliced/documentation/discussions/27)

## ä¸ºä»€ä¹ˆç°æœ‰è§£å†³æ–¹æ¡ˆè¿˜ä¸å¤Ÿï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆç°æœ‰è§£å†³æ–¹æ¡ˆè¿˜ä¸å¤Ÿ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> é€šå¸¸ä¼šæœ‰è¿™äº›è®ºç‚¹ï¼š
>
> * *"ä¸ºä»€ä¹ˆéœ€è¦ä¸€äº›æ–°çš„æ–¹æ³•è®ºï¼Œå¦‚æœä½ å·²ç»æœ‰äº†é•¿æœŸå»ºç«‹çš„è®¾è®¡æ–¹æ³•å’ŒåŸåˆ™ï¼Œå¦‚ `SOLID`ã€`KISS`ã€`YAGNI`ã€`DDD`ã€`GRASP`ã€`DRY` ç­‰ã€‚"*
> * *"æ‰€æœ‰é—®é¢˜éƒ½å¯ä»¥é€šè¿‡è‰¯å¥½çš„é¡¹ç›®æ–‡æ¡£ã€æµ‹è¯•å’Œç»“æ„åŒ–æµç¨‹æ¥è§£å†³"*
> * *"å¦‚æœæ‰€æœ‰å¼€å‘è€…éƒ½éµå¾ªä¸Šè¿°æ‰€æœ‰åŸåˆ™ï¼Œé—®é¢˜å°±ä¸ä¼šå‘ç”Ÿ"*
> * *"ä¸€åˆ‡éƒ½åœ¨ä½ ä¹‹å‰å°±è¢«å‘æ˜äº†ï¼Œä½ åªæ˜¯ä¸ä¼šä½¿ç”¨å®ƒ"*
> * *"é‡‡ç”¨ {æ¡†æ¶åç§°} - é‚£é‡Œå·²ç»ä¸ºä½ å†³å®šäº†ä¸€åˆ‡"*

### ä»…æœ‰åŸåˆ™æ˜¯ä¸å¤Ÿçš„[â€‹](#ä»…æœ‰åŸåˆ™æ˜¯ä¸å¤Ÿçš„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**ä»…ä»…å­˜åœ¨åŸåˆ™å¹¶ä¸è¶³ä»¥è®¾è®¡å‡ºè‰¯å¥½çš„æ¶æ„**

ä¸æ˜¯æ¯ä¸ªäººéƒ½å®Œå…¨äº†è§£è¿™äº›åŸåˆ™ï¼Œæ›´å°‘çš„äººèƒ½å¤Ÿæ­£ç¡®ç†è§£å’Œåº”ç”¨å®ƒä»¬ã€‚

*è®¾è®¡åŸåˆ™è¿‡äºå®½æ³›ï¼Œæ²¡æœ‰ç»™å‡ºå…·ä½“é—®é¢˜çš„æ˜ç¡®ç­”æ¡ˆï¼š"å¦‚ä½•è®¾è®¡å¯æ‰©å±•å’Œçµæ´»åº”ç”¨ç¨‹åºçš„ç»“æ„å’Œæ¶æ„ï¼Ÿ"*

### æµç¨‹å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆ[â€‹](#æµç¨‹å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

*æ–‡æ¡£/æµ‹è¯•/æµç¨‹*å½“ç„¶æ˜¯å¥½çš„ï¼Œä½†é—æ†¾çš„æ˜¯ï¼Œå³ä½¿åœ¨å®ƒä»¬ä¸Šé¢æŠ•å…¥é«˜æˆæœ¬ - **å®ƒä»¬ä¹Ÿä¸æ€»èƒ½è§£å†³æ¶æ„æå‡ºçš„é—®é¢˜å’Œæ–°äººåŠ å…¥é¡¹ç›®çš„é—®é¢˜**

* æ¯ä¸ªå¼€å‘è€…è¿›å…¥é¡¹ç›®çš„æ—¶é—´å¹¶æ²¡æœ‰å¤§å¹…å‡å°‘ï¼Œå› ä¸ºæ–‡æ¡£å¾€å¾€ä¼šå˜å¾—åºå¤§/è¿‡æ—¶
* æŒç»­ç¡®ä¿æ¯ä¸ªäººéƒ½ä»¥ç›¸åŒæ–¹å¼ç†è§£æ¶æ„ - è¿™ä¹Ÿéœ€è¦å¤§é‡èµ„æº
* ä¸è¦å¿˜è®°æ€»çº¿å› å­ï¼ˆbus-factorï¼‰

### ç°æœ‰æ¡†æ¶ä¸èƒ½åœ¨æ‰€æœ‰åœ°æ–¹åº”ç”¨[â€‹](#ç°æœ‰æ¡†æ¶ä¸èƒ½åœ¨æ‰€æœ‰åœ°æ–¹åº”ç”¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* ç°æœ‰è§£å†³æ–¹æ¡ˆé€šå¸¸æœ‰å¾ˆé«˜çš„å…¥é—¨é—¨æ§›ï¼Œè¿™ä½¿å¾—å¯»æ‰¾æ–°å¼€å‘è€…å˜å¾—å›°éš¾
* æ­¤å¤–ï¼ŒæŠ€æœ¯é€‰æ‹©é€šå¸¸åœ¨é¡¹ç›®å‡ºç°ä¸¥é‡é—®é¢˜ä¹‹å‰å°±å·²ç»ç¡®å®šï¼Œå› æ­¤ä½ éœ€è¦èƒ½å¤Ÿ"ä½¿ç”¨ç°æœ‰çš„" - **è€Œä¸è¢«æŠ€æœ¯ç»‘å®š**

> é—®ï¼š*"åœ¨æˆ‘çš„é¡¹ç›® `React/Vue/Redux/Effector/Mobx/{ä½ çš„æŠ€æœ¯}` ä¸­ - æˆ‘å¦‚ä½•æ›´å¥½åœ°æ„å»ºå®ä½“ç»“æ„å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Ÿ"*

### ç»“æœ[â€‹](#ç»“æœ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬å¾—åˆ°äº†\*"åƒé›ªèŠ±ä¸€æ ·ç‹¬ç‰¹"\*çš„é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦å‘˜å·¥é•¿æ—¶é—´çš„æ²‰æµ¸ï¼Œè€Œè¿™äº›çŸ¥è¯†ä¸å¤ªå¯èƒ½é€‚ç”¨äºå¦ä¸€ä¸ªé¡¹ç›®ã€‚

> @sergeysova: *"è¿™æ­£æ˜¯æˆ‘ä»¬å‰ç«¯å¼€å‘é¢†åŸŸç›®å‰å­˜åœ¨çš„æƒ…å†µï¼šæ¯ä¸ªæŠ€æœ¯è´Ÿè´£äººéƒ½ä¼šå‘æ˜ä¸åŒçš„æ¶æ„å’Œé¡¹ç›®ç»“æ„ï¼Œè™½ç„¶è¿™äº›ç»“æ„ä¸ä¸€å®šèƒ½ç»å—æ—¶é—´çš„è€ƒéªŒï¼Œç»“æœæ˜¯é™¤äº†ä»–ä¹‹å¤–æœ€å¤šåªæœ‰ä¸¤ä¸ªäººå¯ä»¥å¼€å‘é¡¹ç›®ï¼Œæ¯ä¸ªæ–°å¼€å‘è€…éƒ½éœ€è¦é‡æ–°æ²‰æµ¸å…¶ä¸­ã€‚"*

## ä¸ºä»€ä¹ˆå¼€å‘è€…éœ€è¦è¿™ä¸ªæ–¹æ³•è®ºï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆå¼€å‘è€…éœ€è¦è¿™ä¸ªæ–¹æ³•è®º "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### ä¸“æ³¨äºä¸šåŠ¡åŠŸèƒ½ï¼Œè€Œä¸æ˜¯æ¶æ„é—®é¢˜[â€‹](#ä¸“æ³¨äºä¸šåŠ¡åŠŸèƒ½è€Œä¸æ˜¯æ¶æ„é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºå…è®¸ä½ èŠ‚çœè®¾è®¡å¯æ‰©å±•å’Œçµæ´»æ¶æ„çš„èµ„æºï¼Œè€Œæ˜¯å°†å¼€å‘è€…çš„æ³¨æ„åŠ›å¼•å¯¼åˆ°ä¸»è¦åŠŸèƒ½çš„å¼€å‘ä¸Šã€‚åŒæ—¶ï¼Œæ¶æ„è§£å†³æ–¹æ¡ˆæœ¬èº«åœ¨é¡¹ç›®ä¹‹é—´æ˜¯æ ‡å‡†åŒ–çš„ã€‚

*ä¸€ä¸ªå•ç‹¬çš„é—®é¢˜æ˜¯ï¼Œè¯¥æ–¹æ³•è®ºåº”è¯¥èµ¢å¾—ç¤¾åŒºçš„ä¿¡ä»»ï¼Œè¿™æ ·å…¶ä»–å¼€å‘è€…å¯ä»¥ç†Ÿæ‚‰å®ƒï¼Œå¹¶åœ¨ä»–å¯ç”¨çš„æ—¶é—´å†…ä¾é å®ƒæ¥è§£å†³ä»–é¡¹ç›®çš„é—®é¢˜*

### ç»è¿‡ç»éªŒéªŒè¯çš„è§£å†³æ–¹æ¡ˆ[â€‹](#ç»è¿‡ç»éªŒéªŒè¯çš„è§£å†³æ–¹æ¡ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºæ˜¯ä¸ºé‚£äº›è‡´åŠ›äº*è®¾è®¡å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ç»è¿‡éªŒè¯è§£å†³æ–¹æ¡ˆ*çš„å¼€å‘è€…è€Œè®¾è®¡çš„ã€‚

*ç„¶è€Œï¼Œå¾ˆæ˜æ˜¾ï¼Œè¯¥æ–¹æ³•è®ºé€šå¸¸æ˜¯å…³äºä¸€å¥—æœ€ä½³å®è·µã€æ–‡ç« ï¼Œè¿™äº›æ–‡ç« è§£å†³å¼€å‘è¿‡ç¨‹ä¸­çš„æŸäº›é—®é¢˜å’Œæ¡ˆä¾‹ã€‚å› æ­¤ï¼Œè¯¥æ–¹æ³•è®ºå¯¹å…¶ä»–å¼€å‘è€…ä¹Ÿä¼šæœ‰ç”¨ - é‚£äº›åœ¨å¼€å‘å’Œè®¾è®¡è¿‡ç¨‹ä¸­ä»¥æŸç§æ–¹å¼é¢ä¸´é—®é¢˜çš„äºº*

### é¡¹ç›®å¥åº·[â€‹](#é¡¹ç›®å¥åº· "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºå°†å…è®¸*æå‰è§£å†³å’Œè·Ÿè¸ªé¡¹ç›®é—®é¢˜ï¼Œè€Œä¸éœ€è¦å¤§é‡èµ„æº*

**æŠ€æœ¯å€ºåŠ¡å¾€å¾€ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œç§¯ç´¯ï¼Œè§£å†³å®ƒçš„è´£ä»»æ—¢åœ¨æŠ€æœ¯è´Ÿè´£äººèº«ä¸Šï¼Œä¹Ÿåœ¨å›¢é˜Ÿèº«ä¸Š**

è¯¥æ–¹æ³•è®ºå°†å…è®¸ä½ æå‰*è­¦å‘Š*é¡¹ç›®æ‰©å±•å’Œå¼€å‘ä¸­çš„å¯èƒ½é—®é¢˜ã€‚

## ä¸ºä»€ä¹ˆä¼ä¸šéœ€è¦æ–¹æ³•è®ºï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆä¼ä¸šéœ€è¦æ–¹æ³•è®º "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### å¿«é€Ÿå…¥èŒ[â€‹](#å¿«é€Ÿå…¥èŒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰äº†æ–¹æ³•è®ºï¼Œä½ å¯ä»¥é›‡ä½£ä¸€ä¸ª**å·²ç»ç†Ÿæ‚‰è¿™ç§æ–¹æ³•çš„äººåˆ°é¡¹ç›®ä¸­ï¼Œè€Œä¸éœ€è¦é‡æ–°åŸ¹è®­**

*äººä»¬å¼€å§‹æ›´å¿«åœ°ç†è§£å’Œä¸ºé¡¹ç›®å¸¦æ¥ä»·å€¼ï¼Œå¹¶ä¸”æœ‰é¢å¤–çš„ä¿è¯ä¸ºé¡¹ç›®çš„ä¸‹ä¸€æ¬¡è¿­ä»£æ‰¾åˆ°äººå‘˜*

### ç»è¿‡ç»éªŒéªŒè¯çš„è§£å†³æ–¹æ¡ˆ[â€‹](#ç»è¿‡ç»éªŒéªŒè¯çš„è§£å†³æ–¹æ¡ˆ-1 "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰äº†æ–¹æ³•è®ºï¼Œä¼ä¸šå°†è·å¾—*ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­å‡ºç°çš„å¤§å¤šæ•°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ*

å› ä¸ºä¼ä¸šæœ€å¸¸æƒ³è¦è·å¾—ä¸€ä¸ªæ¡†æ¶/è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿè§£å†³é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­çš„å¤§éƒ¨åˆ†é—®é¢˜ã€‚

### å¯¹é¡¹ç›®ä¸åŒé˜¶æ®µçš„é€‚ç”¨æ€§[â€‹](#å¯¹é¡¹ç›®ä¸åŒé˜¶æ®µçš„é€‚ç”¨æ€§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºå¯ä»¥åœ¨*é¡¹ç›®æ”¯æŒå’Œå¼€å‘é˜¶æ®µä»¥åŠMVPé˜¶æ®µ*ä¸ºé¡¹ç›®å¸¦æ¥å¥½å¤„

æ˜¯çš„ï¼Œå¯¹äºMVPæ¥è¯´æœ€é‡è¦çš„æ˜¯\*"åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸ºæœªæ¥å¥ å®šçš„æ¶æ„"*ã€‚ä½†å³ä½¿åœ¨æœ‰é™çš„æˆªæ­¢æ—¥æœŸæ¡ä»¶ä¸‹ï¼Œäº†è§£æ–¹æ³•è®ºä¸­çš„æœ€ä½³å®è·µï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è®¾è®¡ç³»ç»Ÿçš„MVPç‰ˆæœ¬æ—¶*"ç”¨å¾ˆå°‘çš„ä»£ä»·"\*æ‰¾åˆ°åˆç†çš„å¦¥å ï¼ˆè€Œä¸æ˜¯"éšæœº"å»ºæ¨¡åŠŸèƒ½ï¼‰

*æµ‹è¯•ä¹Ÿæ˜¯å¦‚æ­¤*

## ä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çš„æ–¹æ³•è®ºä¸éœ€è¦ï¼Ÿ[â€‹](#ä»€ä¹ˆæ—¶å€™æˆ‘ä»¬çš„æ–¹æ³•è®ºä¸éœ€è¦ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* å¦‚æœé¡¹ç›®åªä¼šå­˜åœ¨å¾ˆçŸ­æ—¶é—´
* å¦‚æœé¡¹ç›®ä¸éœ€è¦æ”¯æŒçš„æ¶æ„
* å¦‚æœä¼ä¸šä¸è®¤ä¸ºä»£ç åº“å’ŒåŠŸèƒ½äº¤ä»˜é€Ÿåº¦ä¹‹é—´å­˜åœ¨è”ç³»
* å¦‚æœå¯¹ä¼ä¸šæ¥è¯´æ›´é‡è¦çš„æ˜¯å°½å¿«å®Œæˆè®¢å•ï¼Œè€Œä¸éœ€è¦è¿›ä¸€æ­¥æ”¯æŒ

### ä¼ä¸šè§„æ¨¡[â€‹](#ä¼ä¸šè§„æ¨¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* **å°ä¼ä¸š** - æœ€å¸¸éœ€è¦ç°æˆçš„å’Œéå¸¸å¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆã€‚åªæœ‰å½“ä¼ä¸šå¢é•¿ï¼ˆè‡³å°‘åˆ°æ¥è¿‘å¹³å‡æ°´å¹³ï¼‰æ—¶ï¼Œä»–æ‰æ˜ç™½ä¸ºäº†è®©å®¢æˆ·ç»§ç»­ä½¿ç”¨ï¼Œé™¤å…¶ä»–å¤–ï¼Œæœ‰å¿…è¦å°†æ—¶é—´æŠ•å…¥åˆ°æ­£åœ¨å¼€å‘çš„è§£å†³æ–¹æ¡ˆçš„è´¨é‡å’Œç¨³å®šæ€§ä¸Š
* **ä¸­å‹ä¼ä¸š** - é€šå¸¸ç†è§£å¼€å‘çš„æ‰€æœ‰é—®é¢˜ï¼Œå³ä½¿æœ‰å¿…è¦\*"å®‰æ’åŠŸèƒ½ç«èµ›"\*ï¼Œä»–ä»ç„¶ä¼šèŠ±æ—¶é—´è¿›è¡Œè´¨é‡æ”¹è¿›ã€é‡æ„å’Œæµ‹è¯•ï¼ˆå½“ç„¶ - è¿˜æœ‰å¯æ‰©å±•çš„æ¶æ„ï¼‰
* **å¤§ä¼ä¸š** - é€šå¸¸å·²ç»æœ‰å¹¿æ³›çš„å—ä¼—ã€å‘˜å·¥å’Œæ›´å¹¿æ³›çš„å®è·µé›†åˆï¼Œç”šè‡³å¯èƒ½æœ‰è‡ªå·±çš„æ¶æ„æ–¹æ³•ï¼Œæ‰€ä»¥é‡‡ç”¨åˆ«äººçš„æƒ³æ³•å¯¹ä»–ä»¬æ¥è¯´å¹¶ä¸å¸¸è§

## è®¡åˆ’[â€‹](#è®¡åˆ’ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç›®æ ‡çš„ä¸»è¦éƒ¨åˆ†[åœ¨è¿™é‡Œé˜è¿°](/documentation/zh/docs/about/mission.md#goals)ï¼Œä½†æ­¤å¤–ï¼Œå€¼å¾—è°ˆè®ºæˆ‘ä»¬å¯¹æœªæ¥æ–¹æ³•è®ºçš„æœŸæœ›ã€‚

### ç»“åˆç»éªŒ[â€‹](#ç»“åˆç»éªŒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨æˆ‘ä»¬æ­£åœ¨å°è¯•ç»“åˆ`æ ¸å¿ƒå›¢é˜Ÿ`çš„æ‰€æœ‰å¤šæ ·åŒ–ç»éªŒï¼Œå¹¶å› æ­¤è·å¾—ä¸€ä¸ªç»è¿‡å®è·µé”¤ç‚¼çš„æ–¹æ³•è®ºã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬å¯èƒ½æœ€ç»ˆå¾—åˆ°Angular 3.0ï¼Œä½†è¿™é‡Œæ›´é‡è¦çš„æ˜¯**è°ƒæŸ¥è®¾è®¡å¤æ‚ç³»ç»Ÿæ¶æ„çš„æ ¹æœ¬é—®é¢˜**

*æ˜¯çš„ - æˆ‘ä»¬å¯¹å½“å‰ç‰ˆæœ¬çš„æ–¹æ³•è®ºæœ‰æŠ±æ€¨ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å…±åŒåŠªåŠ›è¾¾æˆä¸€ä¸ªå•ä¸€å’Œæœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼ˆè€ƒè™‘åˆ°ç¤¾åŒºçš„ç»éªŒç­‰ï¼‰*

### è§„èŒƒä¹‹å¤–çš„ç”Ÿæ´»[â€‹](#è§„èŒƒä¹‹å¤–çš„ç”Ÿæ´» "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œé‚£ä¹ˆæ–¹æ³•è®ºå°†ä¸ä»…é™äºè§„èŒƒå’Œå·¥å…·åŒ…

* ä¹Ÿè®¸ä¼šæœ‰æŠ¥å‘Šã€æ–‡ç« 
* å¯èƒ½ä¼šæœ‰ç”¨äºå°†æ ¹æ®æ–¹æ³•è®ºç¼–å†™çš„é¡¹ç›®è¿ç§»åˆ°å…¶ä»–æŠ€æœ¯çš„`CODE_MOD`
* å¯èƒ½æœ€ç»ˆæˆ‘ä»¬èƒ½å¤Ÿæ¥è§¦åˆ°å¤§å‹æŠ€æœ¯è§£å†³æ–¹æ¡ˆçš„ç»´æŠ¤è€…
  <!-- -->
  * *ç‰¹åˆ«æ˜¯å¯¹äºReactï¼Œä¸å…¶ä»–æ¡†æ¶ç›¸æ¯” - è¿™æ˜¯ä¸»è¦é—®é¢˜ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¯´æ˜å¦‚ä½•è§£å†³æŸäº›é—®é¢˜*

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [ï¼ˆè®¨è®ºï¼‰ä¸éœ€è¦æ–¹æ³•è®ºï¼Ÿ](https://github.com/feature-sliced/documentation/discussions/27)
* [å…³äºæ–¹æ³•è®ºçš„ä½¿å‘½ï¼šç›®æ ‡å’Œé™åˆ¶](/documentation/zh/docs/about/mission.md)
* [é¡¹ç›®ä¸­çš„çŸ¥è¯†ç±»å‹](/documentation/zh/docs/about/understanding/knowledge-types.md)


---

# åœ¨å…¬å¸ä¸­æ¨å¹¿

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/206)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## é¡¹ç›®å’Œå…¬å¸éœ€è¦æ–¹æ³•è®ºå—ï¼Ÿ[â€‹](#é¡¹ç›®å’Œå…¬å¸éœ€è¦æ–¹æ³•è®ºå— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> å…³äºåº”ç”¨çš„åˆç†æ€§ï¼ŒèŒè´£æ‰€åœ¨

## å¦‚ä½•å‘ä¸šåŠ¡éƒ¨é—¨æäº¤æ–¹æ³•è®ºï¼Ÿ[â€‹](#å¦‚ä½•å‘ä¸šåŠ¡éƒ¨é—¨æäº¤æ–¹æ³•è®º "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

## å¦‚ä½•å‡†å¤‡å’Œè¯æ˜è¿ç§»åˆ°æ–¹æ³•è®ºçš„è®¡åˆ’ï¼Ÿ[â€‹](#å¦‚ä½•å‡†å¤‡å’Œè¯æ˜è¿ç§»åˆ°æ–¹æ³•è®ºçš„è®¡åˆ’ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")


---

# åœ¨å›¢é˜Ÿä¸­æ¨å¹¿

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/182)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

* å…¥èŒæ–°æˆå‘˜
* å¼€å‘æŒ‡å—ï¼ˆ"åœ¨å“ªé‡Œæœç´¢ N æ¨¡å—"ç­‰...ï¼‰
* ä»»åŠ¡çš„æ–°æ–¹æ³•

## å‚è§[â€‹](#å‚è§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(çº¿ç¨‹) æ—§æ–¹æ³•çš„ç®€å•æ€§å’Œæ­£å¿µçš„é‡è¦æ€§](https://t.me/feature_sliced/3360)
* [(çº¿ç¨‹) å…³äºæŒ‰ layers æœç´¢çš„ä¾¿åˆ©æ€§](https://t.me/feature_sliced/1918)


---

# é›†æˆæ–¹é¢

## æ€»ç»“[â€‹](#æ€»ç»“ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å‰ 5 åˆ†é’Ÿï¼ˆä¿„è¯­ï¼‰ï¼š

[YouTube video player](https://www.youtube.com/embed/TFA6zRO_Cl0?start=2110)

## å¦å¤–[â€‹](#å¦å¤– "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**ä¼˜åŠ¿ï¼š**

* [æ¦‚è§ˆ](/documentation/zh/docs/get-started/overview.md)
* ä»£ç å®¡æŸ¥
* å…¥èŒ

**ç¼ºç‚¹ï¼š**

* å¿ƒç†å¤æ‚æ€§
* é«˜å‡†å…¥é—¨æ§›
* "Layers åœ°ç‹±"
* åŸºäº feature æ–¹æ³•çš„å…¸å‹é—®é¢˜


---

# éƒ¨åˆ†åº”ç”¨

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/199)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å¦‚ä½•éƒ¨åˆ†åº”ç”¨æ–¹æ³•è®ºï¼Ÿè¿™æ ·åšæœ‰æ„ä¹‰å—ï¼Ÿå¦‚æœæˆ‘å¿½ç•¥å®ƒä¼šæ€æ ·ï¼Ÿ


---

# æŠ½è±¡

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/186)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## æŠ½è±¡æ³„æ¼å®šå¾‹[â€‹](#æŠ½è±¡æ³„æ¼å®šå¾‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

## ä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šæŠ½è±¡[â€‹](#ä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šæŠ½è±¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> æŠ½è±¡æœ‰åŠ©äºåº”å¯¹é¡¹ç›®çš„å¤æ‚æ€§ã€‚é—®é¢˜æ˜¯â€”â€”è¿™äº›æŠ½è±¡æ˜¯å¦åªé’ˆå¯¹è¿™ä¸ªé¡¹ç›®ï¼Œè¿˜æ˜¯æˆ‘ä»¬ä¼šå°è¯•åŸºäºå‰ç«¯çš„ç‰¹æ€§æ¨å¯¼å‡ºé€šç”¨æŠ½è±¡

> æ¶æ„å’Œåº”ç”¨ç¨‹åºæœ¬è´¨ä¸Šéƒ½æ˜¯å¤æ‚çš„ï¼Œå”¯ä¸€çš„é—®é¢˜æ˜¯å¦‚ä½•æ›´å¥½åœ°åˆ†é…å’Œæè¿°è¿™ç§å¤æ‚æ€§

## å…³äºè´£ä»»èŒƒå›´[â€‹](#å…³äºè´£ä»»èŒƒå›´ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> å…³äºå¯é€‰æŠ½è±¡

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [å…³äºæ–°å±‚çš„éœ€æ±‚](https://t.me/feature_sliced/2801)
* [å…³äºç†è§£æ–¹æ³•è®ºå’Œå±‚çš„å›°éš¾](https://t.me/feature_sliced/2619)


---

# å…³äºæ¶æ„

## é—®é¢˜[â€‹](#é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é€šå¸¸ï¼Œå½“ç”±äºé¡¹ç›®ä¸­çš„æŸäº›é—®é¢˜å¯¼è‡´å¼€å‘åœæ­¢æ—¶ï¼Œå°±ä¼šæå‡ºå…³äºæ¶æ„çš„è®¨è®ºã€‚

### Bus-factor å’Œå…¥èŒ[â€‹](#bus-factor-å’Œå…¥èŒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åªæœ‰æœ‰é™çš„äººæ•°ç†è§£é¡¹ç›®åŠå…¶æ¶æ„

**ç¤ºä¾‹ï¼š**

* *"å¾ˆéš¾å°†ä¸€ä¸ªäººåŠ å…¥å¼€å‘ä¸­"*
* *"å¯¹äºæ¯ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§£å†³æ–¹æ¡ˆæ„è§"ï¼ˆè®©æˆ‘ä»¬å«Œå¦’ angularï¼‰*
* *"æˆ‘ä¸ç†è§£è¿™ä¸ªå¤§å‹å•ä½“å—ä¸­å‘ç”Ÿäº†ä»€ä¹ˆ"*

### éšå¼å’Œä¸å¯æ§åˆ¶çš„åæœ[â€‹](#éšå¼å’Œä¸å¯æ§åˆ¶çš„åæœ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¼€å‘/é‡æ„è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤šéšå¼çš„å‰¯ä½œç”¨ *ï¼ˆ"ä¸€åˆ‡éƒ½ä¾èµ–äºä¸€åˆ‡"ï¼‰*

**ç¤ºä¾‹ï¼š**

* *"feature å¯¼å…¥ feature"*
* *"æˆ‘æ›´æ–°äº†ä¸€ä¸ªé¡µé¢çš„ storeï¼Œå¦ä¸€ä¸ªé¡µé¢çš„åŠŸèƒ½å°±å¤±æ•ˆäº†"*
* *"é€»è¾‘æ•£å¸ƒåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæ— æ³•è¿½è¸ªå“ªé‡Œæ˜¯å¼€å§‹ï¼Œå“ªé‡Œæ˜¯ç»“æŸ"*

### ä¸å¯æ§åˆ¶çš„é€»è¾‘é‡ç”¨[â€‹](#ä¸å¯æ§åˆ¶çš„é€»è¾‘é‡ç”¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¾ˆéš¾é‡ç”¨/ä¿®æ”¹ç°æœ‰é€»è¾‘

åŒæ—¶ï¼Œé€šå¸¸å­˜åœ¨[ä¸¤ä¸ªæç«¯](https://github.com/feature-sliced/documentation/discussions/14)ï¼š

* è¦ä¹ˆä¸ºæ¯ä¸ªæ¨¡å—å®Œå…¨ä»å¤´å¼€å§‹ç¼–å†™é€»è¾‘ *ï¼ˆåœ¨ç°æœ‰ä»£ç åº“ä¸­å¯èƒ½å­˜åœ¨é‡å¤ï¼‰*
* è¦ä¹ˆå€¾å‘äºå°†æ‰€æœ‰å®ç°çš„æ¨¡å—è½¬ç§»åˆ° `shared` æ–‡ä»¶å¤¹ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªå¤§å‹çš„æ¨¡å—è½¬å‚¨åœº *ï¼ˆå…¶ä¸­å¤§å¤šæ•°åªåœ¨ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨ï¼‰*

**ç¤ºä¾‹ï¼š**

* *"æˆ‘çš„é¡¹ç›®ä¸­æœ‰ **N** ä¸ªç›¸åŒä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œæˆ‘ä»ç„¶åœ¨ä¸ºæ­¤ä»˜å‡ºä»£ä»·"*
* *"é¡¹ç›®ä¸­æœ‰ 6 ä¸ªä¸åŒçš„æŒ‰é’®/å¼¹çª—/... ç»„ä»¶"*
* *"helpers çš„è½¬å‚¨åœº"*

## éœ€æ±‚[â€‹](#éœ€æ±‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å› æ­¤ï¼Œæå‡º*ç†æƒ³æ¶æ„çš„æœŸæœ›éœ€æ±‚*ä¼¼ä¹æ˜¯åˆä¹é€»è¾‘çš„ï¼š

å¤‡æ³¨

æ— è®ºä½•å¤„æåˆ°"å®¹æ˜“"ï¼Œéƒ½æ„å‘³ç€"å¯¹å¹¿æ³›çš„å¼€å‘è€…æ¥è¯´ç›¸å¯¹å®¹æ˜“"ï¼Œå› ä¸ºå¾ˆæ˜æ˜¾[ä¸å¯èƒ½ä¸ºç»å¯¹æ‰€æœ‰äººåˆ¶ä½œç†æƒ³çš„è§£å†³æ–¹æ¡ˆ](/documentation/zh/docs/about/mission.md#limitations)

### æ˜ç¡®æ€§[â€‹](#æ˜ç¡®æ€§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* åº”è¯¥**æ˜“äºæŒæ¡å’Œè§£é‡Š**é¡¹ç›®åŠå…¶æ¶æ„ç»™å›¢é˜Ÿ
* ç»“æ„åº”è¯¥åæ˜ é¡¹ç›®çš„çœŸå®**ä¸šåŠ¡ä»·å€¼**
* æŠ½è±¡ä¹‹é—´å¿…é¡»æœ‰æ˜ç¡®çš„**å‰¯ä½œç”¨å’Œè¿æ¥**
* åº”è¯¥**æ˜“äºæ£€æµ‹é‡å¤é€»è¾‘**è€Œä¸å¹²æ‰°ç‹¬ç‰¹å®ç°
* é¡¹ç›®ä¸­ä¸åº”è¯¥æœ‰**é€»è¾‘åˆ†æ•£**
* å¯¹äºè‰¯å¥½çš„æ¶æ„ï¼Œä¸åº”è¯¥æœ‰**å¤ªå¤šå¼‚æ„æŠ½è±¡å’Œè§„åˆ™**

### æ§åˆ¶[â€‹](#æ§åˆ¶ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* è‰¯å¥½çš„æ¶æ„åº”è¯¥**åŠ é€Ÿä»»åŠ¡è§£å†³å’ŒåŠŸèƒ½å¼•å…¥**

* åº”è¯¥èƒ½å¤Ÿæ§åˆ¶é¡¹ç›®çš„å¼€å‘

* åº”è¯¥æ˜“äº**æ‰©å±•ã€ä¿®æ”¹ã€åˆ é™¤ä»£ç **

* å¿…é¡»éµå®ˆåŠŸèƒ½çš„**åˆ†è§£å’Œéš”ç¦»**

* ç³»ç»Ÿçš„æ¯ä¸ªç»„ä»¶éƒ½å¿…é¡»**æ˜“äºæ›¿æ¢å’Œç§»é™¤**

  * *[æ— éœ€ä¸ºå˜æ›´ä¼˜åŒ–](https://youtu.be/BWAeYuWFHhs?t=1631) - æˆ‘ä»¬æ— æ³•é¢„æµ‹æœªæ¥*
  * *[æ›´å¥½åœ°ä¸ºåˆ é™¤ä¼˜åŒ–](https://youtu.be/BWAeYuWFHhs?t=1666) - åŸºäºå·²å­˜åœ¨çš„ä¸Šä¸‹æ–‡*

### é€‚åº”æ€§[â€‹](#é€‚åº”æ€§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* è‰¯å¥½çš„æ¶æ„åº”è¯¥é€‚ç”¨äº**å¤§å¤šæ•°é¡¹ç›®**

  * *å…·æœ‰ç°æœ‰åŸºç¡€è®¾æ–½è§£å†³æ–¹æ¡ˆ*
  * *åœ¨å¼€å‘çš„ä»»ä½•é˜¶æ®µ*

* ä¸åº”è¯¥ä¾èµ–äºæ¡†æ¶å’Œå¹³å°

* åº”è¯¥èƒ½å¤Ÿ**è½»æ¾æ‰©å±•é¡¹ç›®å’Œå›¢é˜Ÿ**ï¼Œå…·æœ‰å¼€å‘å¹¶è¡ŒåŒ–çš„å¯èƒ½æ€§

* åº”è¯¥æ˜“äº**é€‚åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚å’Œç¯å¢ƒ**

## å‚è§[â€‹](#å‚è§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(React Berlin Talk) Oleg Isonen - Feature Driven Architecture](https://youtu.be/BWAeYuWFHhs)
* [(React SPB Meetup #1) Sergey Sova - Feature Slices](https://t.me/feature_slices)
* [(æ–‡ç« ) å…³äºé¡¹ç›®æ¨¡å—åŒ–](https://alexmngn.medium.com/why-react-developers-should-modularize-their-applications-d26d381854c1)
* [(æ–‡ç« ) å…³äºå…³æ³¨ç‚¹åˆ†ç¦»å’ŒæŒ‰åŠŸèƒ½æ„å»º](https://ryanlanciaux.com/blog/2017/08/20/a-feature-based-approach-to-react-development/)


---

# é¡¹ç›®ä¸­çš„çŸ¥è¯†ç±»å‹

åœ¨ä»»ä½•é¡¹ç›®ä¸­éƒ½å¯ä»¥åŒºåˆ†ä»¥ä¸‹"çŸ¥è¯†ç±»å‹"ï¼š

* **åŸºç¡€çŸ¥è¯†**<br /><!-- -->éšæ—¶é—´å˜åŒ–ä¸å¤§çš„çŸ¥è¯†ï¼Œå¦‚ç®—æ³•ã€è®¡ç®—æœºç§‘å­¦ã€ç¼–ç¨‹è¯­è¨€æœºåˆ¶åŠå…¶ APIã€‚

* **æŠ€æœ¯æ ˆ**<br /><!-- -->å¯¹é¡¹ç›®ä¸­ä½¿ç”¨çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆé›†åˆçš„äº†è§£ï¼ŒåŒ…æ‹¬ç¼–ç¨‹è¯­è¨€ã€æ¡†æ¶å’Œåº“ã€‚

* **é¡¹ç›®çŸ¥è¯†**<br /><!-- -->ç‰¹å®šäºå½“å‰é¡¹ç›®ä¸”åœ¨é¡¹ç›®å¤–æ²¡æœ‰ä»·å€¼çš„çŸ¥è¯†ã€‚è¿™ç§çŸ¥è¯†å¯¹äºæ–°å…¥èŒçš„å¼€å‘äººå‘˜èƒ½å¤Ÿæœ‰æ•ˆè´¡çŒ®è‡³å…³é‡è¦ã€‚

å¤‡æ³¨

**Feature-Sliced Design** æ—¨åœ¨å‡å°‘å¯¹"é¡¹ç›®çŸ¥è¯†"çš„ä¾èµ–ï¼Œæ‰¿æ‹…æ›´å¤šè´£ä»»ï¼Œå¹¶è®©æ–°å›¢é˜Ÿæˆå‘˜æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚

## å¦è¯·å‚é˜…[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [ï¼ˆè§†é¢‘ ğŸ‡·ğŸ‡ºï¼‰Ilya Klimov - å…³äºçŸ¥è¯†ç±»å‹](https://youtu.be/4xyb_tA-uw0?t=249)


---

# å‘½å

ä¸åŒçš„å¼€å‘è€…æœ‰ä¸åŒçš„ç»éªŒå’Œä¸Šä¸‹æ–‡ï¼Œå½“ç›¸åŒçš„å®ä½“è¢«ä¸åŒåœ°å‘½åæ—¶ï¼Œè¿™å¯èƒ½å¯¼è‡´å›¢é˜Ÿä¸­çš„è¯¯è§£ã€‚ä¾‹å¦‚ï¼š

* ç”¨äºæ˜¾ç¤ºçš„ç»„ä»¶å¯ä»¥è¢«ç§°ä¸º "ui"ã€"components"ã€"ui-kit"ã€"views"â€¦
* åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­é‡ç”¨çš„ä»£ç å¯ä»¥è¢«ç§°ä¸º "core"ã€"shared"ã€"app"â€¦
* ä¸šåŠ¡é€»è¾‘ä»£ç å¯ä»¥è¢«ç§°ä¸º "store"ã€"model"ã€"state"â€¦

## Feature-Sliced Design ä¸­çš„å‘½å[â€‹](#naming-in-fsd "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºä½¿ç”¨ç‰¹å®šçš„æœ¯è¯­ï¼Œä¾‹å¦‚ï¼š

* "app"ã€"process"ã€"page"ã€"feature"ã€"entity"ã€"shared" ä½œä¸º layer åç§°ï¼Œ
* "ui"ã€"model"ã€"lib"ã€"api"ã€"config" ä½œä¸º segment åç§°ã€‚

åšæŒä½¿ç”¨è¿™äº›æœ¯è¯­éå¸¸é‡è¦ï¼Œä»¥é˜²æ­¢å›¢é˜Ÿæˆå‘˜å’ŒåŠ å…¥é¡¹ç›®çš„æ–°å¼€å‘è€…ä¹‹é—´çš„æ··æ·†ã€‚ä½¿ç”¨æ ‡å‡†åç§°ä¹Ÿæœ‰åŠ©äºå‘ç¤¾åŒºå¯»æ±‚å¸®åŠ©ã€‚

## å‘½åå†²çª[â€‹](#when-can-naming-interfere "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“ FSD æ–¹æ³•è®ºä¸­ä½¿ç”¨çš„æœ¯è¯­ä¸ä¸šåŠ¡ä¸­ä½¿ç”¨çš„æœ¯è¯­é‡å æ—¶ï¼Œå¯èƒ½å‘ç”Ÿå‘½åå†²çªï¼š

* `FSD#process` vs åº”ç”¨ç¨‹åºä¸­çš„æ¨¡æ‹Ÿè¿›ç¨‹ï¼Œ
* `FSD#page` vs æ—¥å¿—é¡µé¢ï¼Œ
* `FSD#model` vs æ±½è½¦å‹å·ã€‚

ä¾‹å¦‚ï¼Œå¼€å‘è€…åœ¨ä»£ç ä¸­çœ‹åˆ° "process" è¿™ä¸ªè¯æ—¶ï¼Œä¼šèŠ±è´¹é¢å¤–çš„æ—¶é—´è¯•å›¾å¼„æ¸…æ¥šæŒ‡çš„æ˜¯å“ªä¸ªè¿›ç¨‹ã€‚è¿™æ ·çš„**å†²çªå¯èƒ½ä¼šç ´åå¼€å‘è¿‡ç¨‹**ã€‚

å½“é¡¹ç›®æœ¯è¯­è¡¨åŒ…å« FSD ç‰¹æœ‰çš„æœ¯è¯­æ—¶ï¼Œåœ¨ä¸å›¢é˜Ÿå’ŒæŠ€æœ¯ä¸ç›¸å…³çš„å„æ–¹è®¨è®ºè¿™äº›æœ¯è¯­æ—¶è¦æ ¼å¤–å°å¿ƒã€‚

ä¸ºäº†ä¸å›¢é˜Ÿæœ‰æ•ˆæ²Ÿé€šï¼Œå»ºè®®ä½¿ç”¨ç¼©å†™ "FSD" ä½œä¸ºæ–¹æ³•è®ºæœ¯è¯­çš„å‰ç¼€ã€‚ä¾‹å¦‚ï¼Œåœ¨è°ˆè®ºè¿›ç¨‹æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šè¯´ï¼š"æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿›ç¨‹æ”¾åœ¨ FSD features layer ä¸Šã€‚"

ç›¸åï¼Œåœ¨ä¸éæŠ€æœ¯åˆ©ç›Šç›¸å…³è€…æ²Ÿé€šæ—¶ï¼Œæœ€å¥½é™åˆ¶ä½¿ç”¨ FSD æœ¯è¯­ï¼Œå¹¶é¿å…æåŠä»£ç åº“çš„å†…éƒ¨ç»“æ„ã€‚

## å‚è§[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(è®¨è®º) å‘½åçš„é€‚åº”æ€§](https://github.com/feature-sliced/documentation/discussions/16)
* [(è®¨è®º) Entity å‘½åè°ƒæŸ¥](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-464894)
* [(è®¨è®º) "processes" vs "flows" vs ...](https://github.com/feature-sliced/documentation/discussions/20)
* [(è®¨è®º) "model" vs "store" vs ...](https://github.com/feature-sliced/documentation/discussions/68)


---

# éœ€æ±‚é©±åŠ¨

TL;DR

â€” *æ— æ³•æ˜ç¡®è¡¨è¿°æ–°åŠŸèƒ½è¦è§£å†³çš„ç›®æ ‡ï¼Ÿæˆ–è€…é—®é¢˜åœ¨äºä»»åŠ¡æœ¬èº«æ²¡æœ‰è¢«æ˜ç¡®è¡¨è¿°ï¼Ÿ**é‡ç‚¹æ˜¯æ–¹æ³•è®ºæœ‰åŠ©äºæ­ç¤ºä»»åŠ¡å’Œç›®æ ‡å®šä¹‰ä¸­çš„é—®é¢˜***

â€” *é¡¹ç›®ä¸æ˜¯é™æ€çš„ - éœ€æ±‚å’ŒåŠŸèƒ½åœ¨ä¸æ–­å˜åŒ–ã€‚éšç€æ—¶é—´æ¨ç§»ï¼Œä»£ç å˜æˆä¸€å›¢ç³Ÿï¼Œå› ä¸ºåœ¨å¼€å§‹æ—¶é¡¹ç›®åªæ˜¯ä¸ºäº†åˆå§‹çš„éœ€æ±‚å°è±¡è€Œè®¾è®¡çš„ã€‚**å¥½æ¶æ„çš„ä»»åŠ¡ä¹Ÿæ˜¯è¦ä¸ºä¸æ–­å˜åŒ–çš„å¼€å‘æ¡ä»¶åšå¥½å‡†å¤‡ã€‚***

## ä¸ºä»€ä¹ˆï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¦ä¸ºå®ä½“é€‰æ‹©ä¸€ä¸ªæ¸…æ™°çš„åç§°å¹¶ç†è§£å…¶ç»„ä»¶ï¼Œ**ä½ éœ€è¦æ¸…æ¥šåœ°ç†è§£æ‰€æœ‰è¿™äº›ä»£ç è¦è§£å†³ä»€ä¹ˆä»»åŠ¡ã€‚**

> *@sergeysova: åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾ç»™æ¯ä¸ªå®ä½“æˆ–å‡½æ•°ä¸€ä¸ªæ¸…æ¥šåæ˜ ä»£ç æ‰§è¡Œæ„å›¾å’Œå«ä¹‰çš„åç§°ã€‚*

*æ¯•ç«Ÿï¼Œå¦‚æœä¸ç†è§£ä»»åŠ¡ï¼Œå°±ä¸å¯èƒ½ç¼–å†™è¦†ç›–æœ€é‡è¦æƒ…å†µçš„æ­£ç¡®æµ‹è¯•ï¼Œåœ¨æ­£ç¡®çš„åœ°æ–¹æ”¾ç½®å¸®åŠ©ç”¨æˆ·çš„é”™è¯¯æç¤ºï¼Œç”šè‡³ä¸èƒ½é¿å…å› ä¸ºå¯ä¿®å¤çš„éå…³é”®é”™è¯¯è€Œä¸­æ–­ç”¨æˆ·æµç¨‹ã€‚*

## æˆ‘ä»¬åœ¨è°ˆè®ºä»€ä¹ˆä»»åŠ¡ï¼Ÿ[â€‹](#æˆ‘ä»¬åœ¨è°ˆè®ºä»€ä¹ˆä»»åŠ¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å‰ç«¯å¼€å‘ä¸ºæœ€ç»ˆç”¨æˆ·å¼€å‘åº”ç”¨ç¨‹åºå’Œç•Œé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è§£å†³è¿™äº›æ¶ˆè´¹è€…çš„ä»»åŠ¡ã€‚

å½“ä¸€ä¸ªäººæ¥åˆ°æˆ‘ä»¬è¿™é‡Œæ—¶ï¼Œ**ä»–æƒ³è¦è§£å†³è‡ªå·±çš„æŸä¸ªç—›ç‚¹æˆ–æ»¡è¶³æŸä¸ªéœ€æ±‚ã€‚**

*ç®¡ç†è€…å’Œåˆ†æå¸ˆçš„ä»»åŠ¡æ˜¯æ˜ç¡®è¡¨è¿°è¿™ä¸ªéœ€æ±‚ï¼Œå¼€å‘è€…åœ¨è€ƒè™‘Webå¼€å‘ç‰¹æ€§ï¼ˆé€šä¿¡ä¸¢å¤±ã€åç«¯é”™è¯¯ã€æ‹¼å†™é”™è¯¯ã€é¼ æ ‡æˆ–æ‰‹æŒ‡æ“ä½œå¤±è¯¯ï¼‰çš„æƒ…å†µä¸‹å®ç°å®ƒã€‚*

**ç”¨æˆ·å¸¦ç€çš„è¿™ä¸ªç›®æ ‡ï¼Œå°±æ˜¯å¼€å‘è€…çš„ä»»åŠ¡ã€‚**

> *ä¸€ä¸ªå°çš„å·²è§£å†³é—®é¢˜å°±æ˜¯Feature-Sliced Designæ–¹æ³•è®ºä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼ˆfeatureï¼‰â€” ä½ éœ€è¦å°†é¡¹ç›®ä»»åŠ¡çš„æ•´ä¸ªèŒƒå›´åˆ‡åˆ†ä¸ºå°ç›®æ ‡ã€‚*

## è¿™å¦‚ä½•å½±å“å¼€å‘ï¼Ÿ[â€‹](#è¿™å¦‚ä½•å½±å“å¼€å‘ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### ä»»åŠ¡åˆ†è§£[â€‹](#ä»»åŠ¡åˆ†è§£ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“å¼€å‘è€…å¼€å§‹å®ç°ä»»åŠ¡æ—¶ï¼Œä¸ºäº†ç®€åŒ–ä»£ç çš„ç†è§£å’Œæ”¯æŒï¼Œä»–åœ¨å¿ƒç†ä¸Š**å°†å…¶åˆ‡åˆ†ä¸ºé˜¶æ®µ**ï¼š

* é¦–å…ˆ\_åˆ†è§£ä¸ºé¡¶çº§å®ä½“\_å¹¶\_å®ç°å®ƒä»¬\_ï¼Œ
* ç„¶åå°†è¿™äº›å®ä½“\_åˆ†è§£ä¸ºæ›´å°çš„å®ä½“\_
* ä»¥æ­¤ç±»æ¨

*åœ¨åˆ†è§£ä¸ºå®ä½“çš„è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…è¢«è¿«ç»™å®ƒä»¬èµ·ä¸€ä¸ªèƒ½æ¸…æ¥šåæ˜ ä»–çš„æƒ³æ³•çš„åç§°ï¼Œå¹¶åœ¨é˜…è¯»ä»£ç æ¸…å•æ—¶å¸®åŠ©ç†è§£ä»£ç è§£å†³ä»€ä¹ˆä»»åŠ¡* *åŒæ—¶ï¼Œæˆ‘ä»¬ä¸è¦å¿˜è®°æˆ‘ä»¬æ­£åœ¨åŠªåŠ›å¸®åŠ©ç”¨æˆ·å‡å°‘ç—›ç‚¹æˆ–å®ç°éœ€æ±‚*

### ç†è§£ä»»åŠ¡çš„æœ¬è´¨[â€‹](#ç†è§£ä»»åŠ¡çš„æœ¬è´¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä½†è¦ç»™å®ä½“èµ·ä¸€ä¸ªæ¸…æ™°çš„åç§°ï¼Œ**å¼€å‘è€…å¿…é¡»å……åˆ†äº†è§£å…¶ç›®çš„**

* ä»–å°†å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå®ä½“ï¼Œ
* å®ƒå®ç°ç”¨æˆ·ä»»åŠ¡çš„å“ªä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªå®ä½“è¿˜èƒ½åœ¨å“ªé‡Œåº”ç”¨ï¼Œ
* å®ƒè¿˜èƒ½å‚ä¸å“ªäº›å…¶ä»–ä»»åŠ¡ï¼Œ
* ç­‰ç­‰

ä¸éš¾å¾—å‡ºç»“è®ºï¼š**å½“å¼€å‘è€…åœ¨æ–¹æ³•è®ºæ¡†æ¶å†…æ€è€ƒå®ä½“åç§°æ—¶ï¼Œä»–ç”šè‡³èƒ½åœ¨ç¼–å†™ä»£ç ä¹‹å‰å°±å‘ç°è¡¨è¿°ä¸æ¸…çš„ä»»åŠ¡ã€‚**

> å¦‚æœä½ ä¸èƒ½å¾ˆå¥½åœ°ç†è§£ä¸€ä¸ªå®ä½“èƒ½è§£å†³ä»€ä¹ˆä»»åŠ¡ï¼Œå¦‚ä½•ç»™å®ƒèµ·åï¼Ÿå¦‚æœä½ ä¸èƒ½å¾ˆå¥½åœ°ç†è§£ä¸€ä¸ªä»»åŠ¡ï¼Œåˆå¦‚ä½•å°†ä»»åŠ¡åˆ†è§£ä¸ºå®ä½“ï¼Ÿ

## å¦‚ä½•è¡¨è¿°ï¼Ÿ[â€‹](#å¦‚ä½•è¡¨è¿° "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**è¦è¡¨è¿°åŠŸèƒ½ï¼ˆfeaturesï¼‰è§£å†³çš„ä»»åŠ¡ï¼Œä½ éœ€è¦ç†è§£ä»»åŠ¡æœ¬èº«**ï¼Œè¿™å·²ç»æ˜¯é¡¹ç›®ç»ç†å’Œåˆ†æå¸ˆçš„è´£ä»»ã€‚

*æ–¹æ³•è®ºåªèƒ½å‘Šè¯‰å¼€å‘è€…äº§å“ç»ç†åº”è¯¥å¯†åˆ‡å…³æ³¨å“ªäº›ä»»åŠ¡ã€‚*

> *@sergeysova: æ•´ä¸ªå‰ç«¯ä¸»è¦æ˜¯ä¿¡æ¯æ˜¾ç¤ºï¼Œä»»ä½•ç»„ä»¶é¦–å…ˆæ˜¯æ˜¾ç¤ºï¼Œç„¶å"å‘ç”¨æˆ·æ˜¾ç¤ºæŸäº›ä¸œè¥¿"çš„ä»»åŠ¡æ²¡æœ‰å®é™…ä»·å€¼ã€‚*
>
> *å³ä½¿ä¸è€ƒè™‘å‰ç«¯çš„ç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥é—®"ä¸ºä»€ä¹ˆæˆ‘å¿…é¡»å‘ä½ æ˜¾ç¤º"ï¼Œè¿™æ ·ä½ å¯ä»¥ç»§ç»­é—®ä¸‹å»ï¼Œç›´åˆ°æ‰¾åˆ°æ¶ˆè´¹è€…çš„ç—›ç‚¹æˆ–éœ€æ±‚ã€‚*

ä¸€æ—¦æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°åŸºæœ¬éœ€æ±‚æˆ–ç—›ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å›è¿‡å¤´æ¥å¼„æ¸…æ¥š**ä½ çš„äº§å“æˆ–æœåŠ¡å¦‚ä½•å¸®åŠ©ç”¨æˆ·å®ç°ä»–çš„ç›®æ ‡**

ä½ è·Ÿè¸ªå™¨ä¸­çš„ä»»ä½•æ–°ä»»åŠ¡éƒ½æ—¨åœ¨è§£å†³ä¸šåŠ¡é—®é¢˜ï¼Œè€Œä¸šåŠ¡è¯•å›¾åœ¨è§£å†³ç”¨æˆ·ä»»åŠ¡çš„åŒæ—¶ä»ä¸­èµšé’±ã€‚è¿™æ„å‘³ç€æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ç‰¹å®šçš„ç›®æ ‡ï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰åœ¨æè¿°æ–‡æœ¬ä¸­æ˜ç¡®è¯´æ˜ã€‚

***å¼€å‘è€…å¿…é¡»æ¸…æ¥šåœ°ç†è§£è¿™ä¸ªæˆ–é‚£ä¸ªä»»åŠ¡è¿½æ±‚ä»€ä¹ˆç›®æ ‡**ï¼Œä½†ä¸æ˜¯æ¯ä¸ªå…¬å¸éƒ½èƒ½å®Œç¾åœ°æ„å»ºæµç¨‹ï¼Œè™½ç„¶è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜ï¼Œä½†å¼€å‘è€…å®Œå…¨å¯ä»¥è‡ªå·±"ping"åˆé€‚çš„ç®¡ç†è€…æ¥äº†è§£è¿™ä¸€ç‚¹ï¼Œå¹¶æœ‰æ•ˆåœ°å®Œæˆè‡ªå·±çš„å·¥ä½œéƒ¨åˆ†ã€‚*

## æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ[â€‹](#æœ‰ä»€ä¹ˆå¥½å¤„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨è®©æˆ‘ä»¬ä»å¤´åˆ°å°¾çœ‹æ•´ä¸ªè¿‡ç¨‹ã€‚

### 1. ç†è§£ç”¨æˆ·ä»»åŠ¡[â€‹](#1-ç†è§£ç”¨æˆ·ä»»åŠ¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“å¼€å‘è€…ç†è§£ç”¨æˆ·çš„ç—›ç‚¹ä»¥åŠä¸šåŠ¡å¦‚ä½•è§£å†³å®ƒä»¬æ—¶ï¼Œä»–å¯ä»¥æä¾›ç”±äºWebå¼€å‘ç‰¹æ€§è€Œå¯¹ä¸šåŠ¡ä¸å¯è§çš„è§£å†³æ–¹æ¡ˆã€‚

> ä½†å½“ç„¶ï¼Œæ‰€æœ‰è¿™äº›åªæœ‰åœ¨å¼€å‘è€…å¯¹è‡ªå·±åœ¨åšä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆåšä¸æ¼ ä¸å…³å¿ƒçš„æƒ…å†µä¸‹æ‰èƒ½èµ·ä½œç”¨ï¼Œå¦åˆ™\_ä¸ºä»€ä¹ˆè¿˜éœ€è¦æ–¹æ³•è®ºå’ŒæŸäº›æ–¹æ³•ï¼Ÿ\_

### 2. ç»“æ„åŒ–å’Œæ’åº[â€‹](#2-ç»“æ„åŒ–å’Œæ’åº "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

éšç€å¯¹ä»»åŠ¡çš„ç†è§£ï¼Œ**åœ¨å¤´è„‘ä¸­å’Œä»»åŠ¡ä»¥åŠä»£ç ä¸­éƒ½æœ‰äº†æ¸…æ™°çš„ç»“æ„**

### 3. ç†è§£åŠŸèƒ½åŠå…¶ç»„ä»¶[â€‹](#3-ç†è§£åŠŸèƒ½åŠå…¶ç»„ä»¶ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯ä¸ºç”¨æˆ·æä¾›çš„ä¸€ä¸ªæœ‰ç”¨åŠŸèƒ½**

* å½“åœ¨ä¸€ä¸ªåŠŸèƒ½ä¸­å®ç°å¤šä¸ªåŠŸèƒ½æ—¶ï¼Œè¿™æ˜¯**è¾¹ç•Œè¿å**
* åŠŸèƒ½å¯ä»¥æ˜¯ä¸å¯åˆ†å‰²çš„å’Œä¸æ–­å¢é•¿çš„ - **è¿™å¹¶ä¸å**
* **åçš„** - æ˜¯å½“åŠŸèƒ½ä¸èƒ½å›ç­”\_"å¯¹ç”¨æˆ·çš„ä¸šåŠ¡ä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ"\_è¿™ä¸ªé—®é¢˜æ—¶
* ä¸èƒ½æœ‰"åœ°å›¾-åŠå…¬å®¤"åŠŸèƒ½
  <!-- -->
  * ä½†`åœ¨åœ°å›¾ä¸Šé¢„è®¢ä¼šè®®`ã€`æœç´¢å‘˜å·¥`ã€`æ›´æ¢å·¥ä½œåœºæ‰€` - **å¯ä»¥**

> *@sergeysova: é‡ç‚¹æ˜¯åŠŸèƒ½åªåŒ…å«å®ç°åŠŸèƒ½æœ¬èº«çš„ä»£ç *ï¼Œæ²¡æœ‰ä¸å¿…è¦çš„ç»†èŠ‚å’Œå†…éƒ¨è§£å†³æ–¹æ¡ˆï¼ˆç†æƒ³æƒ…å†µä¸‹ï¼‰\*
>
> *æ‰“å¼€åŠŸèƒ½ä»£ç **åªçœ‹åˆ°ä¸ä»»åŠ¡ç›¸å…³çš„å†…å®¹** - ä¸å¤šä¸å°‘*

### 4. æ”¶ç›Š[â€‹](#4-æ”¶ç›Š "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸šåŠ¡å¾ˆå°‘ä¼šå½»åº•æ”¹å˜å…¶æ–¹å‘ï¼Œè¿™æ„å‘³ç€**åœ¨å‰ç«¯åº”ç”¨ç¨‹åºä»£ç ä¸­åæ˜ ä¸šåŠ¡ä»»åŠ¡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ”¶ç›Šã€‚**

*ç„¶åä½ ä¸å¿…å‘æ¯ä¸ªæ–°å›¢é˜Ÿæˆå‘˜è§£é‡Šè¿™æ®µæˆ–é‚£æ®µä»£ç åšä»€ä¹ˆï¼Œä»¥åŠä¸ºä»€ä¹ˆæ·»åŠ å®ƒ - **ä¸€åˆ‡éƒ½å°†é€šè¿‡å·²ç»åæ˜ åœ¨ä»£ç ä¸­çš„ä¸šåŠ¡ä»»åŠ¡æ¥è§£é‡Šã€‚***

> è¿™å°±æ˜¯[é¢†åŸŸé©±åŠ¨å¼€å‘ä¸­æ‰€è°“çš„"ä¸šåŠ¡è¯­è¨€"](https://thedomaindrivendesign.io/developing-the-ubiquitous-language)

***

## å›åˆ°ç°å®[â€‹](#å›åˆ°ç°å® "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœåœ¨è®¾è®¡é˜¶æ®µç†è§£äº†ä¸šåŠ¡æµç¨‹å¹¶ç»™å‡ºäº†å¥½çš„åç§° - *é‚£ä¹ˆå°†è¿™ç§ç†è§£å’Œé€»è¾‘è½¬ç§»åˆ°ä»£ç ä¸­å°±ä¸æ˜¯ç‰¹åˆ«æœ‰é—®é¢˜çš„ã€‚*

**ç„¶è€Œï¼Œåœ¨å®è·µä¸­**ï¼Œä»»åŠ¡å’ŒåŠŸèƒ½é€šå¸¸æ˜¯"è¿‡åº¦"è¿­ä»£å¼€å‘çš„ï¼Œå’Œ/æˆ–æ²¡æœ‰æ—¶é—´æ€è€ƒè®¾è®¡ã€‚

**ç»“æœï¼ŒåŠŸèƒ½åœ¨ä»Šå¤©æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªæœˆåæ‰©å±•è¿™ä¸ªåŠŸèƒ½ï¼Œä½ å¯èƒ½éœ€è¦é‡å†™é¡¹ç›®çš„ä¸€åŠã€‚**

> *\[[æ¥è‡ªè®¨è®º](https://t.me/sergeysova/318)]ï¼šå¼€å‘è€…è¯•å›¾æå‰æ€è€ƒ2-3æ­¥ï¼Œè€ƒè™‘æœªæ¥çš„éœ€æ±‚ï¼Œä½†åœ¨è¿™é‡Œä»–ä¾èµ–äºè‡ªå·±çš„ç»éªŒ*
>
> *æœ‰ç»éªŒçš„å·¥ç¨‹å¸ˆé€šå¸¸ç«‹å³çœ‹åˆ°10æ­¥ä¹‹å‰ï¼Œå¹¶ç†è§£åœ¨å“ªé‡Œåˆ†å‰²ä¸€ä¸ªåŠŸèƒ½å¹¶ä¸å¦ä¸€ä¸ªåŠŸèƒ½ç»“åˆ*
>
> *ä½†æœ‰æ—¶ä¼šé‡åˆ°å¿…é¡»é¢å¯¹ç»éªŒçš„ä»»åŠ¡ï¼Œè€Œæ— å¤„è·å¾—å¦‚ä½•æ­£ç¡®åˆ†è§£çš„ç†è§£ï¼Œä»¥ä¾¿åœ¨æœªæ¥äº§ç”Ÿæœ€å°‘çš„ä¸å¹¸åæœ*

## æ–¹æ³•è®ºçš„ä½œç”¨[â€‹](#æ–¹æ³•è®ºçš„ä½œç”¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**æ–¹æ³•è®ºå¸®åŠ©è§£å†³å¼€å‘è€…çš„é—®é¢˜ï¼Œä»¥ä¾¿æ›´å®¹æ˜“è§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚**

æ²¡æœ‰ä»…ä»…ä¸ºäº†å¼€å‘è€…è€Œè§£å†³å¼€å‘è€…é—®é¢˜çš„æ–¹æ¡ˆ

ä½†ä¸ºäº†è®©å¼€å‘è€…è§£å†³ä»–çš„ä»»åŠ¡ï¼Œ**éœ€è¦ç†è§£ç”¨æˆ·çš„ä»»åŠ¡** - åä¹‹åˆ™ä¸è¡Œ

### æ–¹æ³•è®ºè¦æ±‚[â€‹](#æ–¹æ³•è®ºè¦æ±‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¾ˆæ˜æ˜¾ï¼Œéœ€è¦ä¸º**Feature-Sliced Design**ç¡®å®šè‡³å°‘ä¸¤ä¸ªè¦æ±‚ï¼š

1. æ–¹æ³•è®ºåº”è¯¥è¯´æ˜**å¦‚ä½•åˆ›å»ºåŠŸèƒ½ã€æµç¨‹å’Œå®ä½“**

   * è¿™æ„å‘³ç€å®ƒåº”è¯¥æ¸…æ¥šåœ°è§£é‡Š\_å¦‚ä½•åœ¨å®ƒä»¬ä¹‹é—´åˆ†é…ä»£ç \_ï¼Œè¿™æ„å‘³ç€è¿™äº›å®ä½“çš„å‘½åä¹Ÿåº”è¯¥åœ¨è§„èŒƒä¸­ç¡®å®šã€‚

2. æ–¹æ³•è®ºåº”è¯¥å¸®åŠ©æ¶æ„\*\*[è½»æ¾é€‚åº”é¡¹ç›®ä¸æ–­å˜åŒ–çš„éœ€æ±‚](/documentation/zh/docs/about/understanding/architecture.md#adaptability)\*\*

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(å¸–å­) æ¸…æ™°è¡¨è¿°ä»»åŠ¡çš„æ¿€åŠ±ï¼ˆ+ è®¨è®ºï¼‰](https://t.me/sergeysova/318)

  > ***å½“å‰æ–‡ç« **æ˜¯è¿™ä¸ªè®¨è®ºçš„æ”¹ç¼–ï¼Œä½ å¯ä»¥åœ¨é“¾æ¥ä¸­é˜…è¯»å®Œæ•´çš„æœªåˆ å‡ç‰ˆæœ¬*

* [(è®¨è®º) å¦‚ä½•åˆ†è§£åŠŸèƒ½ä»¥åŠå®ƒæ˜¯ä»€ä¹ˆ](https://t.me/atomicdesign/18972)

* [(æ–‡ç« ) "å¦‚ä½•æ›´å¥½åœ°ç»„ç»‡ä½ çš„åº”ç”¨ç¨‹åº"](https://alexmngn.medium.com/how-to-better-organize-your-react-applications-2fd3ea1920f1)


---

# æ¶æ„ä¿¡å·

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/194)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å¦‚æœæ¶æ„æ–¹é¢å­˜åœ¨é™åˆ¶ï¼Œé‚£ä¹ˆè¿™æ˜¯æœ‰æ˜æ˜¾åŸå› çš„ï¼Œå¦‚æœå¿½ç•¥è¿™äº›é™åˆ¶å°±ä¼šäº§ç”Ÿåæœ

> æ–¹æ³•è®ºå’Œæ¶æ„ä¼šå‘å‡ºä¿¡å·ï¼Œå¦‚ä½•å¤„ç†è¿™äº›ä¿¡å·å–å†³äºä½ æ„¿æ„æ‰¿æ‹…ä»€ä¹ˆé£é™©ä»¥åŠä»€ä¹ˆæœ€é€‚åˆä½ çš„å›¢é˜Ÿ

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [ï¼ˆè®¨è®ºä¸²ï¼‰å…³äºæ¶æ„å’Œæ•°æ®æµçš„ä¿¡å·](https://t.me/feature_sliced/2070)
* [ï¼ˆè®¨è®ºä¸²ï¼‰å…³äºæ¶æ„çš„åŸºæœ¬æ€§è´¨](https://t.me/feature_sliced/2492)
* [ï¼ˆè®¨è®ºä¸²ï¼‰å…³äºçªå‡ºè–„å¼±ç¯èŠ‚](https://t.me/feature_sliced/3979)
* [ï¼ˆè®¨è®ºä¸²ï¼‰å¦‚ä½•ç†è§£æ•°æ®æ¨¡å‹æ˜¯å¦è‡ƒè‚¿](https://t.me/feature_sliced/4228)


---

# å“ç‰ŒæŒ‡å—

FSD çš„è§†è§‰èº«ä»½åŸºäºå…¶æ ¸å¿ƒæ¦‚å¿µï¼š`åˆ†å±‚`ã€`åˆ‡ç‰‡å¼è‡ªåŒ…å«éƒ¨åˆ†`ã€`éƒ¨åˆ†å’Œç»„åˆ`ã€`åˆ†æ®µ`ã€‚ ä½†æˆ‘ä»¬ä¹Ÿå€¾å‘äºè®¾è®¡ç®€å•ã€ç¾ä¸½çš„èº«ä»½ï¼Œå®ƒåº”è¯¥ä¼ è¾¾ FSD çš„å“²å­¦å¹¶æ˜“äºè¯†åˆ«ã€‚

\*\*è¯·æŒ‰åŸæ ·ä½¿ç”¨ FSD çš„èº«ä»½ï¼Œä¸è¦æ›´æ”¹ï¼Œä½†å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„èµ„äº§ä»¥æ–¹ä¾¿æ‚¨ä½¿ç”¨ã€‚\*\*æ­¤å“ç‰ŒæŒ‡å—å°†å¸®åŠ©æ‚¨æ­£ç¡®ä½¿ç”¨ FSD çš„èº«ä»½ã€‚

å…¼å®¹æ€§

FSD ä»¥å‰æœ‰[å¦ä¸€ä¸ªé—ç•™èº«ä»½](https://drive.google.com/drive/folders/11Y-3qZ_C9jOFoW2UbSp11YasOhw4yBdl?usp=sharing)ã€‚æ—§è®¾è®¡ä¸èƒ½ä»£è¡¨æ–¹æ³•è®ºçš„æ ¸å¿ƒæ¦‚å¿µã€‚æ­¤å¤–ï¼Œå®ƒæ˜¯ä½œä¸ºçº¯ç²¹çš„è‰ç¨¿åˆ›å»ºçš„ï¼Œåº”è¯¥è¢«å®ç°ã€‚

ä¸ºäº†å…¼å®¹å’Œé•¿æœŸä½¿ç”¨å“ç‰Œï¼Œæˆ‘ä»¬åœ¨ä¸€å¹´å†…ï¼ˆ2021-2022ï¼‰è¿›è¡Œäº†è°¨æ…çš„é‡æ–°å“ç‰ŒåŒ–ã€‚**è¿™æ ·æ‚¨åœ¨ä½¿ç”¨ FSD èº«ä»½æ—¶å¯ä»¥æ”¾å¿ƒ ğŸ°**

*ä½†è¯·ä¼˜å…ˆä½¿ç”¨å®é™…èº«ä»½ï¼Œè€Œä¸æ˜¯æ—§çš„ï¼*

## æ ‡é¢˜[â€‹](#æ ‡é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* âœ… **æ­£ç¡®ï¼š** `Feature-Sliced Design`ã€`FSD`
* âŒ **é”™è¯¯ï¼š** `Feature-Sliced`ã€`Feature Sliced`ã€`FeatureSliced`ã€`feature-sliced`ã€`feature sliced`ã€`FS`

## Emoji[â€‹](#emoji "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è›‹ç³• ğŸ° å›¾åƒå¾ˆå¥½åœ°ä»£è¡¨äº† FSD çš„æ ¸å¿ƒæ¦‚å¿µï¼Œæ‰€ä»¥å®ƒè¢«é€‰ä¸ºæˆ‘ä»¬çš„æ ‡å¿—æ€§ emoji

> ç¤ºä¾‹ï¼š*"ğŸ° å‰ç«¯é¡¹ç›®çš„æ¶æ„è®¾è®¡æ–¹æ³•è®º"*

## Logo å’Œè°ƒè‰²æ¿[â€‹](#logo-å’Œè°ƒè‰²æ¿ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

FSD æœ‰å‡ ç§é€‚ç”¨äºä¸åŒä¸Šä¸‹æ–‡çš„ logo å˜ä½“ï¼Œä½†å»ºè®®ä¼˜å…ˆä½¿ç”¨ **primary**

|                                 |                                                                                                                        |                    |
| ------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | ------------------ |
| ä¸»é¢˜                            | Logo (Ctrl/Cmd + ç‚¹å‡»ä¸‹è½½)                                                                                             | ç”¨æ³•               |
| primary<br />(#29BEDC, #517AED) | [![logo-primary](/documentation/zh/img/brand/logo-primary.png)](/documentation/zh/img/brand/logo-primary.png)          | åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹é¦–é€‰ |
| flat<br />(#3193FF)             | [![logo-flat](/documentation/zh/img/brand/logo-flat.png)](/documentation/zh/img/brand/logo-flat.png)                   | ç”¨äºå•è‰²ä¸Šä¸‹æ–‡     |
| monochrome<br />(#FFF)          | [![logo-monocrhome](/documentation/zh/img/brand/logo-monochrome.png)](/documentation/zh/img/brand/logo-monochrome.png) | ç”¨äºç°åº¦ä¸Šä¸‹æ–‡     |
| square<br />(#3193FF)           | [![logo-square](/documentation/zh/img/brand/logo-square.png)](/documentation/zh/img/brand/logo-square.png)             | ç”¨äºæ–¹å½¢è¾¹ç•Œ       |

## æ¨ªå¹…å’Œæ–¹æ¡ˆ[â€‹](#æ¨ªå¹…å’Œæ–¹æ¡ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

[![banner-primary](/documentation/zh/img/brand/banner-primary.jpg)](/documentation/zh/img/brand/banner-primary.jpg) [![banner-monochrome](/documentation/zh/img/brand/banner-monochrome.jpg)](/documentation/zh/img/brand/banner-monochrome.jpg)

## ç¤¾äº¤é¢„è§ˆ[â€‹](#ç¤¾äº¤é¢„è§ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ­£åœ¨è¿›è¡Œä¸­...

## æ¼”ç¤ºæ¨¡æ¿[â€‹](#æ¼”ç¤ºæ¨¡æ¿ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ­£åœ¨è¿›è¡Œä¸­...

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [Discussion (github)](https://github.com/feature-sliced/documentation/discussions/399)
* [History of development with references (figma)](https://www.figma.com/file/RPphccpoeasVB0lMpZwPVR/FSD-Brand?node-id=0%3A1)


---

# åˆ†è§£é€ŸæŸ¥è¡¨

åœ¨æ‚¨å†³å®šå¦‚ä½•åˆ†è§£ UI æ—¶ï¼Œå°†æ­¤ä½œä¸ºå¿«é€Ÿå‚è€ƒã€‚ä¸‹é¢è¿˜æä¾›äº† PDF ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥æ‰“å°å‡ºæ¥æ”¾åœ¨æ•å¤´ä¸‹ã€‚

## é€‰æ‹©å±‚[â€‹](#é€‰æ‹©å±‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

[ä¸‹è½½ PDF](/documentation/zh/assets/files/choosing-a-layer-en-12fdf3265c8fc4f6b58687352b81fce7.pdf)

![æ‰€æœ‰å±‚çš„å®šä¹‰å’Œè‡ªæ£€é—®é¢˜](/documentation/zh/assets/images/choosing-a-layer-en-5b67f20bb921ba17d78a56c0dc7654a9.jpg)

## ç¤ºä¾‹[â€‹](#ç¤ºä¾‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### Tweet[â€‹](#tweet "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

![decomposed-tweet-bordered-bgLight](/documentation/zh/assets/images/decompose-twitter-7b9a50f879d763c49305b3bf0751ee35.png)

### GitHub[â€‹](#github "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

![decomposed-github-bordered](/documentation/zh/assets/images/decompose-github-a0eeb839a4b5ef5c480a73726a4451b0.jpg)

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Thread) features å’Œ entities çš„ä¸€èˆ¬é€»è¾‘](https://t.me/feature_sliced/4262)
* [(Thread) è‡ƒè‚¿é€»è¾‘çš„åˆ†è§£](https://t.me/feature_sliced/4210)
* [(Thread) å…³äºåœ¨åˆ†è§£è¿‡ç¨‹ä¸­ç†è§£è´£ä»»åŒºåŸŸ](https://t.me/feature_sliced/4088)
* [(Thread) Product List widget çš„åˆ†è§£](https://t.me/feature_sliced/3828)
* [(Article) é€»è¾‘åˆ†è§£çš„ä¸åŒæ–¹æ³•](https://www.pluralsight.com/guides/how-to-organize-your-react-+-redux-codebase)
* [(Thread) å…³äº features å’Œ entities ä¹‹é—´çš„åŒºåˆ«](https://t.me/feature_sliced/3776)
* [(Thread) å…³äºäº‹ç‰©å’Œå®ä½“ä¹‹é—´çš„åŒºåˆ« (2)](https://t.me/feature_sliced/3248)
* [(Thread) å…³äºåˆ†è§£æ ‡å‡†çš„åº”ç”¨](https://t.me/feature_sliced/3833)


---

# å¸¸è§é—®é¢˜

ä¿¡æ¯

æ‚¨å¯ä»¥åœ¨æˆ‘ä»¬çš„ [Telegram èŠå¤©](https://t.me/feature_sliced)ã€[Discord ç¤¾åŒº](https://discord.gg/S8MzWTUsmp) å’Œ [GitHub Discussions](https://github.com/feature-sliced/documentation/discussions) ä¸­æé—®ã€‚

### æœ‰å·¥å…·åŒ…æˆ–ä»£ç æ£€æŸ¥å™¨å—ï¼Ÿ[â€‹](#æœ‰å·¥å…·åŒ…æˆ–ä»£ç æ£€æŸ¥å™¨å— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰ï¼æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º [Steiger](https://github.com/feature-sliced/steiger) çš„ä»£ç æ£€æŸ¥å™¨æ¥æ£€æŸ¥æ‚¨é¡¹ç›®çš„æ¶æ„ï¼Œä»¥åŠé€šè¿‡ CLI æˆ– IDE çš„[æ–‡ä»¶å¤¹ç”Ÿæˆå™¨](https://github.com/feature-sliced/awesome?tab=readme-ov-file#tools)ã€‚

### åœ¨å“ªé‡Œå­˜å‚¨é¡µé¢çš„å¸ƒå±€/æ¨¡æ¿ï¼Ÿ[â€‹](#åœ¨å“ªé‡Œå­˜å‚¨é¡µé¢çš„å¸ƒå±€æ¨¡æ¿ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨éœ€è¦çº¯æ ‡è®°å¸ƒå±€ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ä¿å­˜åœ¨ `shared/ui` ä¸­ã€‚å¦‚æœæ‚¨éœ€è¦åœ¨å†…éƒ¨ä½¿ç”¨æ›´é«˜çš„ layersï¼Œæœ‰å‡ ä¸ªé€‰é¡¹ï¼š

* ä¹Ÿè®¸æ‚¨æ ¹æœ¬ä¸éœ€è¦å¸ƒå±€ï¼Ÿå¦‚æœå¸ƒå±€åªæœ‰å‡ è¡Œï¼Œåœ¨æ¯ä¸ªé¡µé¢ä¸­å¤åˆ¶ä»£ç è€Œä¸æ˜¯è¯•å›¾æŠ½è±¡å®ƒå¯èƒ½æ˜¯åˆç†çš„ã€‚
* å¦‚æœæ‚¨ç¡®å®éœ€è¦å¸ƒå±€ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ä½œä¸ºå•ç‹¬çš„ widgets æˆ– pagesï¼Œå¹¶åœ¨ App ä¸­çš„è·¯ç”±é…ç½®ä¸­ç»„åˆå®ƒä»¬ã€‚åµŒå¥—è·¯ç”±æ˜¯å¦ä¸€ä¸ªé€‰é¡¹ã€‚

### feature å’Œ entity ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ[â€‹](#feature-å’Œ-entity-ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ« "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

*entity* æ˜¯æ‚¨çš„åº”ç”¨ç¨‹åºæ­£åœ¨å¤„ç†çš„ç°å®ç”Ÿæ´»æ¦‚å¿µã€‚*feature* æ˜¯ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºç”¨æˆ·æä¾›ç°å®ç”Ÿæ´»ä»·å€¼çš„äº¤äº’ï¼Œæ˜¯äººä»¬æƒ³è¦å¯¹æ‚¨çš„ entities åšçš„äº‹æƒ…ã€‚

æœ‰å…³æ›´å¤šä¿¡æ¯å’Œç¤ºä¾‹ï¼Œè¯·å‚é˜… [slices](/documentation/zh/docs/reference/layers.md#entities) çš„å‚è€ƒé¡µé¢ã€‚

### æˆ‘å¯ä»¥å°† pages/features/entities åµŒå…¥å½¼æ­¤å—ï¼Ÿ[â€‹](#æˆ‘å¯ä»¥å°†-pagesfeaturesentities-åµŒå…¥å½¼æ­¤å— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¯ä»¥ï¼Œä½†è¿™ç§åµŒå…¥åº”è¯¥åœ¨æ›´é«˜çš„ layers ä¸­å‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œåœ¨ widget å†…éƒ¨ï¼Œæ‚¨å¯ä»¥å¯¼å…¥ä¸¤ä¸ª featuresï¼Œç„¶åå°†ä¸€ä¸ª feature ä½œä¸º props/children æ’å…¥åˆ°å¦ä¸€ä¸ª feature ä¸­ã€‚

æ‚¨ä¸èƒ½ä»ä¸€ä¸ª feature å¯¼å…¥å¦ä¸€ä¸ª featureï¼Œè¿™è¢« [**layers ä¸Šçš„å¯¼å…¥è§„åˆ™**](/documentation/zh/docs/reference/layers.md#import-rule-on-layers) ç¦æ­¢ã€‚

### Atomic Design æ€ä¹ˆåŠï¼Ÿ[â€‹](#atomic-design-æ€ä¹ˆåŠ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥æ–¹æ³•è®ºçš„å½“å‰ç‰ˆæœ¬ä¸è¦æ±‚ä¹Ÿä¸ç¦æ­¢å°† Atomic Design ä¸ Feature-Sliced Design ä¸€èµ·ä½¿ç”¨ã€‚

ä¾‹å¦‚ï¼ŒAtomic Design [å¯ä»¥å¾ˆå¥½åœ°åº”ç”¨](https://t.me/feature_sliced/1653)äºæ¨¡å—çš„ `ui` segmentã€‚

### æœ‰å…³äº FSD çš„æœ‰ç”¨èµ„æº/æ–‡ç« ç­‰å—ï¼Ÿ[â€‹](#æœ‰å…³äº-fsd-çš„æœ‰ç”¨èµ„æºæ–‡ç« ç­‰å— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰ï¼<https://github.com/feature-sliced/awesome>

### ä¸ºä»€ä¹ˆæˆ‘éœ€è¦ Feature-Sliced Designï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆæˆ‘éœ€è¦-feature-sliced-design "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å®ƒå¸®åŠ©æ‚¨å’Œæ‚¨çš„å›¢é˜Ÿåœ¨ä¸»è¦ä»·å€¼ç»„ä»¶æ–¹é¢å¿«é€Ÿæ¦‚è§ˆé¡¹ç›®ã€‚æ ‡å‡†åŒ–æ¶æ„æœ‰åŠ©äºåŠ å¿«å…¥èŒé€Ÿåº¦å¹¶è§£å†³å…³äºä»£ç ç»“æ„çš„äº‰è®®ã€‚è¯·å‚é˜…[åŠ¨æœº](/documentation/zh/docs/about/motivation.md)é¡µé¢äº†è§£æ›´å¤šå…³äºä¸ºä»€ä¹ˆåˆ›å»º FSD çš„ä¿¡æ¯ã€‚

### æ–°æ‰‹å¼€å‘è€…éœ€è¦æ¶æ„/æ–¹æ³•è®ºå—ï¼Ÿ[â€‹](#æ–°æ‰‹å¼€å‘è€…éœ€è¦æ¶æ„æ–¹æ³•è®ºå— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ›´å€¾å‘äºéœ€è¦

*é€šå¸¸ï¼Œå½“æ‚¨ç‹¬è‡ªè®¾è®¡å’Œå¼€å‘é¡¹ç›®æ—¶ï¼Œä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©ã€‚ä½†å¦‚æœå¼€å‘è¿‡ç¨‹ä¸­æœ‰æš‚åœï¼Œå›¢é˜Ÿä¸­æ·»åŠ äº†æ–°çš„å¼€å‘è€… - é‚£ä¹ˆé—®é¢˜å°±ä¼šå‡ºç°*

### å¦‚ä½•å¤„ç†æˆæƒä¸Šä¸‹æ–‡ï¼Ÿ[â€‹](#å¦‚ä½•å¤„ç†æˆæƒä¸Šä¸‹æ–‡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨[è¿™é‡Œ](/documentation/zh/docs/guides/examples/auth.md)æœ‰ç­”æ¡ˆ


---

# æ¦‚è§ˆ

**Feature-Sliced Design**ï¼ˆFSDï¼‰æ˜¯ä¸€ç§ç”¨äºæ„å»ºå‰ç«¯åº”ç”¨ç¨‹åºçš„æ¶æ„æ–¹æ³•è®ºã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ç»„ç»‡ä»£ç çš„è§„åˆ™å’Œçº¦å®šçš„æ±‡ç¼–ã€‚è¯¥æ–¹æ³•è®ºçš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡éœ€æ±‚é¢å‰ï¼Œä½¿é¡¹ç›®æ›´åŠ æ˜“äºç†è§£å’Œç¨³å®šã€‚

é™¤äº†ä¸€ç³»åˆ—çº¦å®šå¤–ï¼ŒFSD è¿˜æ˜¯ä¸€ä¸ªå·¥å…·é“¾ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ª [ä»£ç æ£€æŸ¥å™¨](https://github.com/feature-sliced/steiger) æ¥æ£€æŸ¥æ‚¨é¡¹ç›®çš„æ¶æ„ï¼Œé€šè¿‡ CLI æˆ– IDE çš„[æ–‡ä»¶å¤¹ç”Ÿæˆå™¨](https://github.com/feature-sliced/awesome?tab=readme-ov-file#tools)ï¼Œä»¥åŠä¸°å¯Œçš„[ç¤ºä¾‹](/documentation/zh/examples.md)åº“ã€‚

## å®ƒé€‚åˆæˆ‘å—ï¼Ÿ[â€‹](#is-it-right-for-me "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

FSD å¯ä»¥åœ¨ä»»ä½•è§„æ¨¡çš„é¡¹ç›®å’Œå›¢é˜Ÿä¸­å®æ–½ã€‚å¦‚æœæ‚¨çš„é¡¹ç›®ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±é€‚åˆæ‚¨ï¼š

* æ‚¨æ­£åœ¨åš**å‰ç«¯**å¼€å‘ï¼ˆç½‘é¡µã€ç§»åŠ¨ç«¯ã€æ¡Œé¢ç«¯ç­‰ UIï¼‰
* æ‚¨æ­£åœ¨æ„å»ºä¸€ä¸ª**åº”ç”¨ç¨‹åº**ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåº“

å°±æ˜¯è¿™æ ·ï¼å¯¹äºæ‚¨ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ã€UI æ¡†æ¶æˆ–çŠ¶æ€ç®¡ç†å™¨æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚æ‚¨ä¹Ÿå¯ä»¥é€æ­¥é‡‡ç”¨ FSDï¼Œåœ¨ monorepos ä¸­ä½¿ç”¨å®ƒï¼Œå¹¶é€šè¿‡å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºåŒ…å¹¶åœ¨å…¶ä¸­å•ç‹¬å®æ–½ FSD æ¥æ‰©å±•åˆ°å¾ˆå¤§çš„é•¿åº¦ã€‚

å¦‚æœæ‚¨å·²ç»æœ‰äº†ä¸€ä¸ªæ¶æ„å¹¶æ­£åœ¨è€ƒè™‘åˆ‡æ¢åˆ° FSDï¼Œè¯·ç¡®ä¿å½“å‰çš„æ¶æ„åœ¨æ‚¨çš„å›¢é˜Ÿä¸­**é€ æˆäº†éº»çƒ¦**ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„é¡¹ç›®å˜å¾—è¿‡äºåºå¤§å’Œç›¸äº’è¿æ¥ï¼Œæ— æ³•é«˜æ•ˆåœ°å®ç°æ–°åŠŸèƒ½ï¼Œæˆ–è€…å¦‚æœæ‚¨æœŸæœ›æœ‰å¾ˆå¤šæ–°æˆå‘˜åŠ å…¥å›¢é˜Ÿã€‚å¦‚æœå½“å‰çš„æ¶æ„è¿ä½œè‰¯å¥½ï¼Œä¹Ÿè®¸ä¸å€¼å¾—æ›´æ”¹ã€‚ä½†å¦‚æœæ‚¨ç¡®å®å†³å®šè¿ç§»ï¼Œè¯·å‚é˜…[è¿ç§»](/documentation/zh/docs/guides/migration/from-custom.md)éƒ¨åˆ†è·å–æŒ‡å¯¼ã€‚

## åŸºæœ¬ç¤ºä¾‹[â€‹](#basic-example "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™é‡Œæ˜¯ä¸€ä¸ªå®ç°äº† FSD çš„ç®€å•é¡¹ç›®ï¼š

* `ğŸ“ app`
* `ğŸ“ pages`
* `ğŸ“ shared`

è¿™äº›é¡¶çº§æ–‡ä»¶å¤¹è¢«ç§°ä¸º\_å±‚\_ã€‚è®©æˆ‘ä»¬æ›´æ·±å…¥åœ°çœ‹çœ‹ï¼š

* `ğŸ“‚ app`

  * `ğŸ“ routes`
  * `ğŸ“ analytics`

* `ğŸ“‚ pages`

  * `ğŸ“ home`

  * `ğŸ“‚ article-reader`

    * `ğŸ“ ui`
    * `ğŸ“ api`

  * `ğŸ“ settings`

* `ğŸ“‚ shared`

  * `ğŸ“ ui`
  * `ğŸ“ api`

`ğŸ“‚ pages` å†…çš„æ–‡ä»¶å¤¹è¢«ç§°ä¸º\_åˆ‡ç‰‡\_ã€‚å®ƒä»¬æŒ‰é¢†åŸŸåˆ†å‰²å±‚ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæŒ‰é¡µé¢åˆ†å‰²ï¼‰ã€‚

`ğŸ“‚ app`ã€`ğŸ“‚ shared` å’Œ `ğŸ“‚ pages/article-reader` å†…çš„æ–‡ä»¶å¤¹è¢«ç§°ä¸º\_æ®µ\_ï¼Œå®ƒä»¬æŒ‰æŠ€æœ¯ç›®çš„åˆ†å‰²åˆ‡ç‰‡ï¼ˆæˆ–å±‚ï¼‰ï¼Œå³ä»£ç çš„ç”¨é€”ã€‚

## æ¦‚å¿µ[â€‹](#concepts "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Layersã€slices å’Œ segments å½¢æˆè¿™æ ·çš„å±‚æ¬¡ç»“æ„ï¼š

![Hierarchy of FSD concepts, described below](/documentation/zh/assets/images/visual_schema-e826067f573946613dcdc76e3f585082.jpg)

ä¸Šå›¾æ˜¾ç¤ºï¼šä¸‰ä¸ªæ”¯æŸ±ï¼Œä»å·¦åˆ°å³åˆ†åˆ«æ ‡è®°ä¸º "Layers"ã€"Slices" å’Œ "Segments"ã€‚

"Layers" æ”¯æŸ±åŒ…å«ä¸ƒä¸ªä»ä¸Šåˆ°ä¸‹æ’åˆ—çš„éƒ¨åˆ†ï¼Œåˆ†åˆ«æ ‡è®°ä¸º "app"ã€"processes"ã€"pages"ã€"widgets"ã€"features"ã€"entities" å’Œ "shared"ã€‚"processes" éƒ¨åˆ†è¢«åˆ’æ‰äº†ã€‚"entities" éƒ¨åˆ†è¿æ¥åˆ°ç¬¬äºŒä¸ªæ”¯æŸ± "Slices"ï¼Œè¡¨ç¤ºç¬¬äºŒä¸ªæ”¯æŸ±æ˜¯ "entities" çš„å†…å®¹ã€‚

"Slices" æ”¯æŸ±åŒ…å«ä¸‰ä¸ªä»ä¸Šåˆ°ä¸‹æ’åˆ—çš„éƒ¨åˆ†ï¼Œåˆ†åˆ«æ ‡è®°ä¸º "user"ã€"post" å’Œ "comment"ã€‚"post" éƒ¨åˆ†ä»¥åŒæ ·çš„æ–¹å¼è¿æ¥åˆ°ç¬¬ä¸‰ä¸ªæ”¯æŸ± "Segments"ï¼Œè¡¨ç¤ºå®ƒæ˜¯ "post" çš„å†…å®¹ã€‚

"Segments" æ”¯æŸ±åŒ…å«ä¸‰ä¸ªä»ä¸Šåˆ°ä¸‹æ’åˆ—çš„éƒ¨åˆ†ï¼Œåˆ†åˆ«æ ‡è®°ä¸º "ui"ã€"model" å’Œ "api"ã€‚

### Layers[â€‹](#layers "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Layers åœ¨æ‰€æœ‰ FSD é¡¹ç›®ä¸­éƒ½æ˜¯æ ‡å‡†åŒ–çš„ã€‚æ‚¨ä¸å¿…ä½¿ç”¨æ‰€æœ‰çš„ layersï¼Œä½†å®ƒä»¬çš„åç§°å¾ˆé‡è¦ã€‚ç›®å‰æœ‰ä¸ƒä¸ªï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰ï¼š

1. **App** â€” ä½¿åº”ç”¨ç¨‹åºè¿è¡Œçš„ä¸€åˆ‡ â€” è·¯ç”±ã€å…¥å£ç‚¹ã€å…¨å±€æ ·å¼ã€providersã€‚
2. **Processes**ï¼ˆå·²åºŸå¼ƒï¼‰â€” å¤æ‚çš„è·¨é¡µé¢åœºæ™¯ã€‚
3. **Pages** â€” å®Œæ•´é¡µé¢æˆ–åµŒå¥—è·¯ç”±ä¸­é¡µé¢çš„å¤§éƒ¨åˆ†ã€‚
4. **Widgets** â€” å¤§å‹è‡ªåŒ…å«çš„åŠŸèƒ½æˆ– UI å—ï¼Œé€šå¸¸æä¾›æ•´ä¸ªç”¨ä¾‹ã€‚
5. **Features** â€” æ•´ä¸ªäº§å“åŠŸèƒ½çš„\_å¯é‡ç”¨\_å®ç°ï¼Œå³ä¸ºç”¨æˆ·å¸¦æ¥ä¸šåŠ¡ä»·å€¼çš„æ“ä½œã€‚
6. **Entities** â€” é¡¹ç›®å¤„ç†çš„ä¸šåŠ¡å®ä½“ï¼Œå¦‚ `user` æˆ– `product`ã€‚
7. **Shared** â€” å¯é‡ç”¨åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯å½“å®ƒä¸é¡¹ç›®/ä¸šåŠ¡çš„å…·ä½“ç»†èŠ‚åˆ†ç¦»æ—¶ï¼Œä½†ä¸ä¸€å®šå¦‚æ­¤ã€‚

æ³¨æ„

Layers **App** å’Œ **Shared** ä¸å…¶ä»– layers ä¸åŒï¼Œå®ƒä»¬æ²¡æœ‰ slicesï¼Œç›´æ¥åˆ†ä¸º segmentsã€‚

ç„¶è€Œï¼Œæ‰€æœ‰å…¶ä»– layers â€” **Entities**ã€**Features**ã€**Widgets** å’Œ **Pages**ï¼Œä¿æŒæ‚¨å¿…é¡»é¦–å…ˆåˆ›å»º slices çš„ç»“æ„ï¼Œåœ¨å…¶ä¸­åˆ›å»º segmentsã€‚

Layers çš„æŠ€å·§æ˜¯ä¸€ä¸ª layer ä¸Šçš„æ¨¡å—åªèƒ½äº†è§£å¹¶ä»ä¸¥æ ¼ä½äºä¸‹æ–¹çš„ layers çš„æ¨¡å—ä¸­å¯¼å…¥ã€‚

### Slices[â€‹](#slices "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ¥ä¸‹æ¥æ˜¯ slicesï¼Œå®ƒä»¬æŒ‰ä¸šåŠ¡é¢†åŸŸåˆ†å‰²ä»£ç ã€‚æ‚¨å¯ä»¥è‡ªç”±é€‰æ‹©å®ƒä»¬çš„åç§°ï¼Œå¹¶æ ¹æ®éœ€è¦åˆ›å»ºä»»æ„æ•°é‡ã€‚Slices é€šè¿‡å°†é€»è¾‘ç›¸å…³çš„æ¨¡å—ä¿æŒåœ¨ä¸€èµ·ï¼Œä½¿æ‚¨çš„ä»£ç åº“æ›´å®¹æ˜“å¯¼èˆªã€‚

Slices ä¸èƒ½ä½¿ç”¨åŒä¸€ layer ä¸Šçš„å…¶ä»– slicesï¼Œè¿™æœ‰åŠ©äºå®ç°é«˜èšåˆæ€§å’Œä½è€¦åˆæ€§ã€‚

### Segments[â€‹](#segments "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Slices ä»¥åŠ layers App å’Œ Shared ç”± segments ç»„æˆï¼Œsegments æŒ‰ä»£ç çš„ç›®çš„å¯¹ä»£ç è¿›è¡Œåˆ†ç»„ã€‚Segment åç§°ä¸å—æ ‡å‡†çº¦æŸï¼Œä½†æœ‰å‡ ä¸ªæœ€å¸¸è§ç›®çš„çš„ä¼ ç»Ÿåç§°ï¼š

* `ui` â€” ä¸ UI æ˜¾ç¤ºç›¸å…³çš„ä¸€åˆ‡ï¼šUI ç»„ä»¶ã€æ—¥æœŸæ ¼å¼åŒ–ç¨‹åºã€æ ·å¼ç­‰ã€‚
* `api` â€” åç«¯äº¤äº’ï¼šè¯·æ±‚å‡½æ•°ã€æ•°æ®ç±»å‹ã€mappers ç­‰ã€‚
* `model` â€” æ•°æ®æ¨¡å‹ï¼šschemasã€interfacesã€stores å’Œä¸šåŠ¡é€»è¾‘ã€‚
* `lib` â€” æ­¤ slice ä¸Šå…¶ä»–æ¨¡å—éœ€è¦çš„åº“ä»£ç ã€‚
* `config` â€” é…ç½®æ–‡ä»¶å’Œ feature flagsã€‚

é€šå¸¸è¿™äº› segments å¯¹äºå¤§å¤šæ•° layers æ¥è¯´å·²ç»è¶³å¤Ÿï¼Œæ‚¨åªä¼šåœ¨ Shared æˆ– App ä¸­åˆ›å»ºè‡ªå·±çš„ segmentsï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªè§„åˆ™ã€‚

## ä¼˜åŠ¿[â€‹](#advantages "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* **ç»Ÿä¸€æ€§**<br /><!-- -->ç”±äºç»“æ„æ˜¯æ ‡å‡†åŒ–çš„ï¼Œé¡¹ç›®å˜å¾—æ›´åŠ ç»Ÿä¸€ï¼Œè¿™ä½¿å¾—å›¢é˜Ÿæ–°æˆå‘˜çš„å…¥èŒæ›´åŠ å®¹æ˜“ã€‚

* **é¢å¯¹å˜åŒ–å’Œé‡æ„çš„ç¨³å®šæ€§**<br /><!-- -->ä¸€ä¸ª layer ä¸Šçš„æ¨¡å—ä¸èƒ½ä½¿ç”¨åŒä¸€ layer ä¸Šçš„å…¶ä»–æ¨¡å—ï¼Œæˆ–è€…ä¸Šå±‚çš„ layersã€‚<br /><!-- -->è¿™å…è®¸æ‚¨è¿›è¡Œç‹¬ç«‹çš„ä¿®æ”¹ï¼Œè€Œä¸ä¼šå¯¹åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†äº§ç”Ÿä¸å¯é¢„è§çš„åæœã€‚

* **å¯æ§çš„é€»è¾‘é‡ç”¨**<br /><!-- -->æ ¹æ® layerï¼Œæ‚¨å¯ä»¥ä½¿ä»£ç éå¸¸å¯é‡ç”¨æˆ–éå¸¸æœ¬åœ°åŒ–ã€‚<br /><!-- -->è¿™åœ¨éµå¾ª **DRY** åŸåˆ™å’Œå®ç”¨æ€§ä¹‹é—´ä¿æŒå¹³è¡¡ã€‚

* **é¢å‘ä¸šåŠ¡å’Œç”¨æˆ·éœ€æ±‚**<br /><!-- -->åº”ç”¨ç¨‹åºè¢«åˆ†å‰²ä¸ºä¸šåŠ¡é¢†åŸŸï¼Œå¹¶é¼“åŠ±åœ¨å‘½åä¸­ä½¿ç”¨ä¸šåŠ¡è¯­è¨€ï¼Œè¿™æ ·æ‚¨å¯ä»¥åœ¨ä¸å®Œå…¨ç†è§£é¡¹ç›®çš„æ‰€æœ‰å…¶ä»–ä¸ç›¸å…³éƒ¨åˆ†çš„æƒ…å†µä¸‹åšæœ‰ç”¨çš„äº§å“å·¥ä½œã€‚

## æ¸è¿›å¼é‡‡ç”¨[â€‹](#incremental-adoption "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨æœ‰ä¸€ä¸ªç°æœ‰çš„ä»£ç åº“æƒ³è¦è¿ç§»åˆ° FSDï¼Œæˆ‘ä»¬å»ºè®®ä»¥ä¸‹ç­–ç•¥ã€‚æˆ‘ä»¬åœ¨è‡ªå·±çš„è¿ç§»ç»éªŒä¸­å‘ç°å®ƒå¾ˆæœ‰ç”¨ã€‚

1. é¦–å…ˆé€æ¨¡å—åœ°æ…¢æ…¢å¡‘é€  App å’Œ Shared layers ä»¥åˆ›å»ºåŸºç¡€ã€‚

2. ä½¿ç”¨ç²—ç•¥çš„ç¬”è§¦å°†æ‰€æœ‰ç°æœ‰ UI åˆ†å¸ƒåœ¨ Widgets å’Œ Pages ä¸­ï¼Œå³ä½¿å®ƒä»¬æœ‰è¿å FSD è§„åˆ™çš„ä¾èµ–ã€‚

3. å¼€å§‹é€æ¸è§£å†³å¯¼å…¥è¿è§„ï¼Œå¹¶æå– Entitiesï¼Œç”šè‡³å¯èƒ½æå– Featuresã€‚

å»ºè®®åœ¨é‡æ„æ—¶é¿å…æ·»åŠ å¤§å‹æ–°å®ä½“ï¼Œæˆ–è€…åªé‡æ„é¡¹ç›®çš„æŸäº›éƒ¨åˆ†ã€‚

## ä¸‹ä¸€æ­¥[â€‹](#next-steps "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* \*\*æƒ³è¦å¥½å¥½æŒæ¡å¦‚ä½•ç”¨ FSD æ€ç»´ï¼Ÿ\*\*æŸ¥çœ‹[Tutorial](/documentation/zh/docs/get-started/tutorial.md)ã€‚
* \*\*å–œæ¬¢ä»ç¤ºä¾‹ä¸­å­¦ä¹ ï¼Ÿ\*\*æˆ‘ä»¬åœ¨ [Examples](/documentation/zh/examples.md) éƒ¨åˆ†æœ‰å¾ˆå¤šå†…å®¹ã€‚
* \*\*æœ‰é—®é¢˜ï¼Ÿ\*\*è®¿é—®æˆ‘ä»¬çš„ [Telegram èŠå¤©](https://t.me/feature_sliced) å¹¶ä»ç¤¾åŒºè·å¾—å¸®åŠ©ã€‚


---

# æ•™ç¨‹

## ç¬¬ä¸€éƒ¨åˆ†ã€‚ç†è®ºä¸Š[â€‹](#ç¬¬ä¸€éƒ¨åˆ†ç†è®ºä¸Š "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ¬æ•™ç¨‹å°†æ£€æŸ¥ Real World Appï¼Œä¹Ÿç§°ä¸º Conduitã€‚Conduit æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ [Medium](https://medium.com/) å…‹éš† â€” å®ƒè®©æ‚¨é˜…è¯»å’Œç¼–å†™æ–‡ç« ï¼Œä»¥åŠå¯¹ä»–äººçš„æ–‡ç« è¿›è¡Œè¯„è®ºã€‚

![Conduit home page](/documentation/zh/assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg)

è¿™æ˜¯ä¸€ä¸ªç›¸å½“å°çš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¿æŒç®€å•å¹¶é¿å…è¿‡åº¦åˆ†è§£ã€‚æ•´ä¸ªåº”ç”¨ç¨‹åºå¾ˆå¯èƒ½åªéœ€è¦ä¸‰ä¸ª layersï¼š**App**ã€**Pages** å’Œ **Shared**ã€‚å¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬å°†åœ¨è¿‡ç¨‹ä¸­å¼•å…¥é¢å¤–çš„ layersã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿ

### ä»åˆ—å‡ºé¡µé¢å¼€å§‹[â€‹](#ä»åˆ—å‡ºé¡µé¢å¼€å§‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæˆ‘ä»¬æŸ¥çœ‹ä¸Šé¢çš„æˆªå›¾ï¼Œæˆ‘ä»¬å¯ä»¥è‡³å°‘å‡è®¾ä»¥ä¸‹é¡µé¢ï¼š

* ä¸»é¡µï¼ˆæ–‡ç« æµï¼‰
* ç™»å½•å’Œæ³¨å†Œ
* æ–‡ç« é˜…è¯»å™¨
* æ–‡ç« ç¼–è¾‘å™¨
* ç”¨æˆ·èµ„æ–™æŸ¥çœ‹å™¨
* ç”¨æˆ·èµ„æ–™ç¼–è¾‘å™¨ï¼ˆç”¨æˆ·è®¾ç½®ï¼‰

è¿™äº›é¡µé¢ä¸­çš„æ¯ä¸€ä¸ªéƒ½å°†æˆä¸º Pages *layer* ä¸Šçš„è‡ªå·±çš„ *slice*ã€‚å›å¿†ä¸€ä¸‹æ¦‚è§ˆä¸­çš„å†…å®¹ï¼Œslices ç®€å•æ¥è¯´å°±æ˜¯ layers å†…éƒ¨çš„æ–‡ä»¶å¤¹ï¼Œè€Œ layers ç®€å•æ¥è¯´å°±æ˜¯å…·æœ‰é¢„å®šä¹‰åç§°çš„æ–‡ä»¶å¤¹ï¼Œå¦‚ `pages`ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬çš„ Pages æ–‡ä»¶å¤¹å°†å¦‚ä¸‹æ‰€ç¤ºï¼š

```
ğŸ“‚ pages/
  ğŸ“ feed/
  ğŸ“ sign-in/
  ğŸ“ article-read/
  ğŸ“ article-edit/
  ğŸ“ profile/
  ğŸ“ settings/
```

Feature-Sliced Design ä¸æ— è§„åˆ™ä»£ç ç»“æ„çš„å…³é”®åŒºåˆ«æ˜¯é¡µé¢ä¸èƒ½ç›¸äº’å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªé¡µé¢ä¸èƒ½ä»å¦ä¸€ä¸ªé¡µé¢å¯¼å…¥ä»£ç ã€‚è¿™æ˜¯ç”±äº **layers ä¸Šçš„å¯¼å…¥è§„åˆ™**ï¼š

*slice ä¸­çš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰åªèƒ½åœ¨å…¶ä»– slices ä½äºä¸¥æ ¼ä½äºå½“å‰çš„ layers æ—¶æ‰èƒ½å¯¼å…¥å®ƒä»¬ã€‚*

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¡µé¢æ˜¯ä¸€ä¸ª sliceï¼Œæ‰€ä»¥è¿™ä¸ªé¡µé¢å†…éƒ¨çš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰åªèƒ½å¼•ç”¨ä¸‹å±‚ layers çš„ä»£ç ï¼Œè€Œä¸èƒ½å¼•ç”¨åŒä¸€ layer Pages çš„ä»£ç ã€‚

### ä»”ç»†æŸ¥çœ‹ feed[â€‹](#ä»”ç»†æŸ¥çœ‹-feed "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

![Anonymous userâ€™s perspective](/documentation/zh/assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg)

*Anonymous userâ€™s perspective*

![Authenticated userâ€™s perspective](/documentation/zh/assets/images/realworld-feed-authenticated-15427d9ff7baae009b47b501bee6c059.jpg)

*Authenticated userâ€™s perspective*

feed é¡µé¢ä¸Šæœ‰ä¸‰ä¸ªåŠ¨æ€åŒºåŸŸï¼š

1. å¸¦æœ‰ç™»å½•çŠ¶æ€æŒ‡ç¤ºçš„ç™»å½•é“¾æ¥
2. è§¦å‘ feed ä¸­è¿‡æ»¤çš„æ ‡ç­¾åˆ—è¡¨
3. ä¸€ä¸ª/ä¸¤ä¸ªæ–‡ç«  feedsï¼Œæ¯ç¯‡æ–‡ç« éƒ½æœ‰ä¸€ä¸ªç‚¹èµæŒ‰é’®

ç™»å½•é“¾æ¥æ˜¯æ‰€æœ‰é¡µé¢é€šç”¨çš„å¤´éƒ¨çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å•ç‹¬é‡æ–°è®¿é—®å®ƒã€‚

#### æ ‡ç­¾åˆ—è¡¨[â€‹](#æ ‡ç­¾åˆ—è¡¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¦æ„å»ºæ ‡ç­¾åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦è·å–å¯ç”¨çš„æ ‡ç­¾ï¼Œå°†æ¯ä¸ªæ ‡ç­¾æ¸²æŸ“ä¸ºèŠ¯ç‰‡ï¼Œå¹¶å°†é€‰ä¸­çš„æ ‡ç­¾å­˜å‚¨åœ¨å®¢æˆ·ç«¯å­˜å‚¨ä¸­ã€‚è¿™äº›æ“ä½œåˆ†åˆ«å±äºâ€œAPI äº¤äº’â€ã€â€œç”¨æˆ·ç•Œé¢â€å’Œâ€œå­˜å‚¨â€ç±»åˆ«ã€‚åœ¨ Feature-Sliced Design ä¸­ï¼Œä»£ç ä½¿ç”¨ *segments* æŒ‰ç›®çš„åˆ†ç¦»ã€‚Segments æ˜¯ slices ä¸­çš„æ–‡ä»¶å¤¹ï¼Œå®ƒä»¬å¯ä»¥æœ‰æè¿°ç›®çš„çš„ä»»æ„åç§°ï¼Œä½†æŸäº›ç›®çš„éå¸¸å¸¸è§ï¼Œä»¥è‡³äºæŸäº› segment åç§°æœ‰çº¦å®šï¼š

* ğŸ“‚ `api/` ç”¨äºåç«¯äº¤äº’
* ğŸ“‚ `ui/` ç”¨äºå¤„ç†æ¸²æŸ“å’Œå¤–è§‚çš„ä»£ç 
* ğŸ“‚ `model/` ç”¨äºå­˜å‚¨å’Œä¸šåŠ¡é€»è¾‘
* ğŸ“‚ `config/` ç”¨äº feature flagsã€ç¯å¢ƒå˜é‡å’Œå…¶ä»–å½¢å¼çš„é…ç½®

æˆ‘ä»¬å°†è·å–æ ‡ç­¾çš„ä»£ç æ”¾å…¥ `api`ï¼Œæ ‡ç­¾ç»„ä»¶æ”¾å…¥ `ui`ï¼Œå­˜å‚¨äº¤äº’æ”¾å…¥ `model`ã€‚

#### æ–‡ç« [â€‹](#æ–‡ç«  "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä½¿ç”¨ç›¸åŒçš„åˆ†ç»„åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ç«  feed åˆ†è§£ä¸ºç›¸åŒçš„ä¸‰ä¸ª segmentsï¼š

* ğŸ“‚ `api/`: è·å–å¸¦æœ‰ç‚¹èµæ•°çš„åˆ†é¡µæ–‡ç« ï¼›ç‚¹èµæ–‡ç« 

* ğŸ“‚ `ui/`:

  <!-- -->

  * å¯ä»¥åœ¨é€‰ä¸­æ ‡ç­¾æ—¶æ¸²æŸ“é¢å¤–é€‰é¡¹å¡çš„é€‰é¡¹å¡åˆ—è¡¨
  * å•ä¸ªæ–‡ç« 
  * åŠŸèƒ½åˆ†é¡µ

* ğŸ“‚ `model/`: å½“å‰åŠ è½½çš„æ–‡ç« å’Œå½“å‰é¡µé¢çš„å®¢æˆ·ç«¯å­˜å‚¨ï¼ˆå¦‚æœéœ€è¦ï¼‰

### é‡ç”¨é€šç”¨ä»£ç [â€‹](#é‡ç”¨é€šç”¨ä»£ç  "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¤§å¤šæ•°é¡µé¢åœ¨æ„å›¾ä¸Šéå¸¸ä¸åŒï¼Œä½†æŸäº›ä¸œè¥¿åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä¿æŒä¸å˜ â€” ä¾‹å¦‚ï¼Œç¬¦åˆè®¾è®¡è¯­è¨€çš„ UI å¥—ä»¶ï¼Œæˆ–åç«¯ä¸Šä½¿ç”¨ç›¸åŒè®¤è¯æ–¹æ³•çš„ REST API æ¥å®Œæˆæ‰€æœ‰äº‹æƒ…çš„çº¦å®šã€‚ç”±äº slices æ—¨åœ¨è¢«éš”ç¦»ï¼Œä»£ç é‡ç”¨ç”±æ›´ä½çš„ layer **Shared** ä¿ƒè¿›ã€‚

Shared ä¸å…¶ä»– layers ä¸åŒï¼Œå®ƒåŒ…å« segments è€Œä¸æ˜¯ slicesã€‚è¿™æ ·ï¼ŒShared layer å¯ä»¥è¢«è®¤ä¸ºæ˜¯ layer å’Œ slice ä¹‹é—´çš„æ··åˆä½“ã€‚

é€šå¸¸ï¼ŒShared ä¸­çš„ä»£ç ä¸æ˜¯æå‰è®¡åˆ’çš„ï¼Œè€Œæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­æå–çš„ï¼Œå› ä¸ºåªæœ‰åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ‰èƒ½æ˜ç¡®å“ªäº›ä»£ç éƒ¨åˆ†å®é™…ä¸Šæ˜¯å…±äº«çš„ã€‚ç„¶è€Œï¼Œè®°ä½å“ªç§ä»£ç è‡ªç„¶å±äº Shared ä»ç„¶æ˜¯æœ‰å¸®åŠ©çš„ï¼š

* ğŸ“‚Â `ui/` â€” the UI kit, pure appearance, no business logic. For example, buttons, modal dialogs, form inputs.
* ğŸ“‚Â `api/` â€” convenience wrappers around request making primitives (like `fetch()` on the Web) and, optionally, functions for triggering particular requests according to the backend specification.
* ğŸ“‚Â `config/` â€” parsing environment variables
* ğŸ“‚Â `i18n/` â€” configuration of language support
* ğŸ“‚Â `router/` â€” routing primitives and route constants

è¿™äº›åªæ˜¯ Shared ä¸­ segment åç§°çš„å‡ ä¸ªç¤ºä¾‹ï¼Œä½†æ‚¨å¯ä»¥çœç•¥å…¶ä¸­ä»»ä½•ä¸€ä¸ªæˆ–åˆ›å»ºè‡ªå·±çš„ã€‚åˆ›å»ºæ–° segments æ—¶è¦è®°ä½çš„å”¯ä¸€é‡è¦äº‹æƒ…æ˜¯ï¼Œsegment åç§°åº”è¯¥æè¿°**ç›®çš„ï¼ˆä¸ºä»€ä¹ˆï¼‰ï¼Œè€Œä¸æ˜¯æœ¬è´¨ï¼ˆæ˜¯ä»€ä¹ˆï¼‰**ã€‚åƒ "components"ã€"hooks"ã€"modals" è¿™æ ·çš„åç§°*ä¸åº”è¯¥*ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬æè¿°äº†è¿™äº›æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œä½†ä¸èƒ½å¸®åŠ©åœ¨å†…éƒ¨å¯¼èˆªä»£ç ã€‚è¿™è¦æ±‚å›¢é˜Ÿä¸­çš„äººåœ¨è¿™æ ·çš„æ–‡ä»¶å¤¹ä¸­æŒ–æ˜æ¯ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”ä¹Ÿä¿æŒä¸ç›¸å…³çš„ä»£ç æ¥è¿‘ï¼Œè¿™å¯¼è‡´äº†é‡æ„å½±å“çš„ä»£ç åŒºåŸŸå¹¿æ³›ï¼Œä»è€Œä½¿ä»£ç å®¡æŸ¥å’Œæµ‹è¯•æ›´åŠ å›°éš¾ã€‚

### å®šä¹‰ä¸¥æ ¼çš„ public API[â€‹](#å®šä¹‰ä¸¥æ ¼çš„-public-api "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨ Feature-Sliced Design çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæœ¯è¯­ *public API* æŒ‡çš„æ˜¯ slice æˆ– segment å£°æ˜é¡¹ç›®ä¸­çš„å…¶ä»–æ¨¡å—å¯ä»¥ä»å®ƒå¯¼å…¥ä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œåœ¨ JavaScript ä¸­ï¼Œè¿™å¯ä»¥æ˜¯ä¸€ä¸ª `index.js` æ–‡ä»¶ï¼Œä» slice ä¸­çš„å…¶ä»–æ–‡ä»¶é‡æ–°å¯¼å‡ºå¯¹è±¡ã€‚è¿™ä½¿å¾—åœ¨ slice å†…éƒ¨é‡æ„ä»£ç çš„è‡ªç”±åº¦æˆä¸ºå¯èƒ½ï¼Œåªè¦ä¸å¤–éƒ¨ä¸–ç•Œçš„å¥‘çº¦ï¼ˆå³ public APIï¼‰ä¿æŒä¸å˜ã€‚

å¯¹äºæ²¡æœ‰ slices çš„ Shared layerï¼Œé€šå¸¸ä¸ºæ¯ä¸ª segment å®šä¹‰å•ç‹¬çš„ public API æ¯”å®šä¹‰ Shared ä¸­æ‰€æœ‰å†…å®¹çš„ä¸€ä¸ªå•ä¸€ç´¢å¼•æ›´æ–¹ä¾¿ã€‚è¿™ä½¿å¾—ä» Shared çš„å¯¼å…¥æŒ‰æ„å›¾è‡ªç„¶åœ°ç»„ç»‡ã€‚å¯¹äºå…·æœ‰ slices çš„å…¶ä»– layersï¼Œæƒ…å†µç›¸å â€” é€šå¸¸æ¯ä¸ª slice å®šä¹‰ä¸€ä¸ªç´¢å¼•å¹¶è®© slice å†³å®šå¤–éƒ¨ä¸–ç•ŒæœªçŸ¥çš„è‡ªå·±çš„ segments é›†åˆæ›´å®ç”¨ï¼Œå› ä¸ºå…¶ä»– layers é€šå¸¸æœ‰æ›´å°‘çš„å¯¼å‡ºã€‚

æˆ‘ä»¬çš„ slices/segments å°†ä»¥ä»¥ä¸‹æ–¹å¼ç›¸äº’å‡ºç°ï¼š

```
ğŸ“‚ pages/
  ğŸ“‚ feed/
    ğŸ“„ index
  ğŸ“‚ sign-in/
    ğŸ“„ index
  ğŸ“‚ article-read/
    ğŸ“„ index
  ğŸ“ â€¦
ğŸ“‚ shared/
  ğŸ“‚ ui/
    ğŸ“„ index
  ğŸ“‚ api/
    ğŸ“„ index
  ğŸ“ â€¦
```

åƒ `pages/feed` æˆ– `shared/ui` è¿™æ ·çš„æ–‡ä»¶å¤¹å†…éƒ¨çš„ä»»ä½•å†…å®¹åªæœ‰è¿™äº›æ–‡ä»¶å¤¹çŸ¥é“ï¼Œå…¶ä»–æ–‡ä»¶ä¸åº”è¯¥ä¾èµ–è¿™äº›æ–‡ä»¶å¤¹çš„å†…éƒ¨ç»“æ„ã€‚

### UI ä¸­çš„å¤§å‹é‡ç”¨å—[â€‹](#ui-ä¸­çš„å¤§å‹é‡ç”¨å— "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ—©äº›æ—¶å€™æˆ‘ä»¬è®°å½•äº†è¦é‡æ–°è®¿é—®å‡ºç°åœ¨æ¯ä¸ªé¡µé¢ä¸Šçš„å¤´éƒ¨ã€‚åœ¨æ¯ä¸ªé¡µé¢ä¸Šä»å¤´å¼€å§‹é‡å»ºå®ƒæ˜¯ä¸åˆ‡å®é™…çš„ï¼Œæ‰€ä»¥æƒ³è¦é‡ç”¨å®ƒæ˜¯å¾ˆè‡ªç„¶çš„ã€‚æˆ‘ä»¬å·²ç»æœ‰ Shared æ¥ä¿ƒè¿›ä»£ç é‡ç”¨ï¼Œç„¶è€Œï¼Œåœ¨ Shared ä¸­æ”¾ç½®å¤§å‹ UI å—æœ‰ä¸€ä¸ªè­¦å‘Š â€” Shared layer ä¸åº”è¯¥äº†è§£ä¸Šé¢çš„ä»»ä½• layersã€‚

åœ¨ Shared å’Œ Pages ä¹‹é—´æœ‰ä¸‰ä¸ªå…¶ä»– layersï¼šEntitiesã€Features å’Œ Widgetsã€‚æŸäº›é¡¹ç›®å¯èƒ½åœ¨è¿™äº› layers ä¸­æœ‰ä»–ä»¬åœ¨å¤§å‹å¯é‡ç”¨å—ä¸­éœ€è¦çš„ä¸œè¥¿ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½å°†è¯¥å¯é‡ç”¨å—æ”¾åœ¨ Shared ä¸­ï¼Œå¦åˆ™å®ƒå°†ä»ä¸Šå±‚ layers å¯¼å…¥ï¼Œè¿™æ˜¯è¢«ç¦æ­¢çš„ã€‚è¿™å°±æ˜¯ Widgets layer çš„ç”¨æ­¦ä¹‹åœ°ã€‚å®ƒä½äº Sharedã€Entities å’Œ Features ä¹‹ä¸Šï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨å®ƒä»¬æ‰€æœ‰ã€‚

åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œå¤´éƒ¨éå¸¸ç®€å• â€” å®ƒæ˜¯ä¸€ä¸ªé™æ€ logo å’Œé¡¶çº§å¯¼èˆªã€‚å¯¼èˆªéœ€è¦å‘ API å‘å‡ºè¯·æ±‚ä»¥ç¡®å®šç”¨æˆ·å½“å‰æ˜¯å¦å·²ç™»å½•ï¼Œä½†è¿™å¯ä»¥é€šè¿‡ä» `api` segment çš„ç®€å•å¯¼å…¥æ¥å¤„ç†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æŠŠæˆ‘ä»¬çš„å¤´éƒ¨ä¿ç•™åœ¨ Shared ä¸­ã€‚

### ä»”ç»†æŸ¥çœ‹å¸¦æœ‰è¡¨å•çš„é¡µé¢[â€‹](#ä»”ç»†æŸ¥çœ‹å¸¦æœ‰è¡¨å•çš„é¡µé¢ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è®©æˆ‘ä»¬ä¹Ÿæ£€æŸ¥ä¸€ä¸ªç”¨äºç¼–è¾‘è€Œä¸æ˜¯é˜…è¯»çš„é¡µé¢ã€‚ä¾‹å¦‚ï¼Œæ–‡ç« ç¼–å†™å™¨ï¼š

![Conduit post editor](/documentation/zh/assets/images/realworld-editor-authenticated-10de4d01479270886859e08592045b1e.jpg)

å®ƒçœ‹èµ·æ¥å¾®ä¸è¶³é“ï¼Œä½†åŒ…å«äº†æˆ‘ä»¬å°šæœªæ¢ç´¢çš„åº”ç”¨ç¨‹åºå¼€å‘çš„å‡ ä¸ªæ–¹é¢ â€” è¡¨å•éªŒè¯ã€é”™è¯¯çŠ¶æ€å’Œæ•°æ®æŒä¹…åŒ–ã€‚

å¦‚æœæˆ‘ä»¬è¦æ„å»ºè¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬ä¼šä» Shared ä¸­è·å–ä¸€äº›è¾“å…¥å’ŒæŒ‰é’®ï¼Œå¹¶åœ¨æ­¤é¡µé¢çš„ `ui` segment ä¸­ç»„åˆä¸€ä¸ªè¡¨å•ã€‚ç„¶åï¼Œåœ¨ `api` segment ä¸­ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå˜æ›´è¯·æ±‚ä»¥åœ¨åç«¯åˆ›å»ºæ–‡ç« ã€‚

ä¸ºäº†åœ¨å‘é€ä¹‹å‰éªŒè¯è¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªéªŒè¯æ¨¡å¼ï¼Œä¸€ä¸ªå¥½åœ°æ–¹æ˜¯ `model` segmentï¼Œå› ä¸ºå®ƒæ˜¯æ•°æ®æ¨¡å‹ã€‚åœ¨é‚£é‡Œæˆ‘ä»¬å°†äº§ç”Ÿé”™è¯¯æ¶ˆæ¯å¹¶ä½¿ç”¨ `ui` segment ä¸­çš„å¦ä¸€ä¸ªç»„ä»¶æ˜¾ç¤ºå®ƒä»¬ã€‚

ä¸ºäº†æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŒä¹…åŒ–è¾“å…¥ä»¥é˜²æ­¢æ„å¤–æ•°æ®ä¸¢å¤±ã€‚è¿™ä¹Ÿæ˜¯ `model` segment çš„å·¥ä½œã€‚

### æ€»ç»“[â€‹](#æ€»ç»“ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬å·²ç»æ£€æŸ¥äº†å‡ ä¸ªé¡µé¢å¹¶ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¦‚è¿°äº†åˆæ­¥ç»“æ„ï¼š

1. Shared layer

   <!-- -->

   1. `ui` å°†åŒ…å«æˆ‘ä»¬å¯é‡ç”¨çš„ UI å¥—ä»¶
   2. `api` å°†åŒ…å«æˆ‘ä»¬ä¸åç«¯çš„åŸå§‹äº¤äº’
   3. å…¶ä½™å°†æ ¹æ®éœ€è¦å®‰æ’

2. Pages layer â€” æ¯ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ slice

   <!-- -->

   1. `ui` å°†åŒ…å«é¡µé¢æœ¬èº«åŠå…¶æ‰€æœ‰éƒ¨åˆ†
   2. `api` å°†åŒ…å«æ›´ä¸“é—¨çš„æ•°æ®è·å–ï¼Œä½¿ç”¨ `shared/api`
   3. `model` å¯èƒ½åŒ…å«æˆ‘ä»¬å°†æ˜¾ç¤ºçš„æ•°æ®çš„å®¢æˆ·ç«¯å­˜å‚¨

è®©æˆ‘ä»¬å¼€å§‹æ„å»ºå§ï¼

## ç¬¬äºŒéƒ¨åˆ†ã€‚åœ¨ä»£ç ä¸­[â€‹](#ç¬¬äºŒéƒ¨åˆ†åœ¨ä»£ç ä¸­ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨æˆ‘ä»¬æœ‰äº†è®¡åˆ’ï¼Œè®©æˆ‘ä»¬ä»˜è¯¸å®è·µã€‚æˆ‘ä»¬å°†ä½¿ç”¨ React å’Œ [Remix](https://remix.run)ã€‚

æœ‰ä¸€ä¸ªä¸ºæ­¤é¡¹ç›®å‡†å¤‡çš„æ¨¡æ¿ï¼Œä» GitHub å…‹éš†å®ƒä»¥è·å¾—å…ˆæœºï¼š<https://github.com/feature-sliced/tutorial-conduit/tree/clean>ã€‚

ä½¿ç”¨ `npm install` å®‰è£…ä¾èµ–é¡¹å¹¶ä½¿ç”¨ `npm run dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚æ‰“å¼€ <http://localhost:3000>ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä¸€ä¸ªç©ºç™½åº”ç”¨ç¨‹åºã€‚

### å¸ƒå±€é¡µé¢[â€‹](#å¸ƒå±€é¡µé¢ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è®©æˆ‘ä»¬é¦–å…ˆä¸ºæ‰€æœ‰é¡µé¢åˆ›å»ºç©ºç™½ç»„ä»¶ã€‚åœ¨æ‚¨çš„é¡¹ç›®ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
npx fsd pages feed sign-in article-read article-edit profile settings --segments ui
```

è¿™å°†ä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºåƒ `pages/feed/ui/` è¿™æ ·çš„æ–‡ä»¶å¤¹å’Œä¸€ä¸ªç´¢å¼•æ–‡ä»¶ `pages/feed/index.ts`ã€‚

### è¿æ¥ feed é¡µé¢[â€‹](#è¿æ¥-feed-é¡µé¢ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è®©æˆ‘ä»¬å°†åº”ç”¨ç¨‹åºçš„æ ¹è·¯ç”±è¿æ¥åˆ° feed é¡µé¢ã€‚åœ¨ `pages/feed/ui` ä¸­åˆ›å»ºä¸€ä¸ªç»„ä»¶ `FeedPage.tsx` å¹¶å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥å…¶ä¸­ï¼š

pages/feed/ui/FeedPage.tsx

```
export function FeedPage() {
  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>
    </div>
  );
}
```

ç„¶ååœ¨ feed é¡µé¢çš„ public APIï¼Œ`pages/feed/index.ts` æ–‡ä»¶ä¸­é‡æ–°å¯¼å‡ºæ­¤ç»„ä»¶ï¼š

pages/feed/index.ts

```
export { FeedPage } from "./ui/FeedPage";
```

ç°åœ¨å°†å®ƒè¿æ¥åˆ°æ ¹è·¯ç”±ã€‚åœ¨ Remix ä¸­ï¼Œè·¯ç”±æ˜¯åŸºäºæ–‡ä»¶çš„ï¼Œè·¯ç”±æ–‡ä»¶ä½äº `app/routes` æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™ä¸ Feature-Sliced Design å¾ˆå¥½åœ°å¥‘åˆã€‚

åœ¨ `app/routes/_index.tsx` ä¸­ä½¿ç”¨ `FeedPage` ç»„ä»¶ï¼š

app/routes/\_index.tsx

```
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

ç„¶åï¼Œå¦‚æœæ‚¨è¿è¡Œå¼€å‘æœåŠ¡å™¨å¹¶æ‰“å¼€åº”ç”¨ç¨‹åºï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ° Conduit æ¨ªå¹…ï¼

![The banner of Conduit](/documentation/zh/assets/images/conduit-banner-a20e38edcd109ee21a8b1426d93a66b3.jpg)

### API å®¢æˆ·ç«¯[â€‹](#api-å®¢æˆ·ç«¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸ºäº†ä¸ RealWorld åç«¯é€šä¿¡ï¼Œè®©æˆ‘ä»¬åœ¨ Shared ä¸­åˆ›å»ºä¸€ä¸ªæ–¹ä¾¿çš„ API å®¢æˆ·ç«¯ã€‚åˆ›å»ºä¸¤ä¸ª segmentsï¼Œ`api` ç”¨äºå®¢æˆ·ç«¯ï¼Œ`config` ç”¨äºåƒåç«¯åŸºç¡€ URL è¿™æ ·çš„å˜é‡ï¼š

```
npx fsd shared --segments api config
```

ç„¶ååˆ›å»º `shared/config/backend.ts`ï¼š

shared/config/backend.ts

```
export { mockBackendUrl as backendBaseUrl } from "mocks/handlers";
```

shared/config/index.ts

```
export { backendBaseUrl } from "./backend";
```

ç”±äº RealWorld é¡¹ç›®æ–¹ä¾¿åœ°æä¾›äº† [OpenAPI è§„èŒƒ](https://github.com/gothinkster/realworld/blob/main/api/openapi.yml)ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸ºæˆ‘ä»¬çš„å®¢æˆ·ç«¯è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ [the `openapi-fetch` package](https://openapi-ts.pages.dev/openapi-fetch/)ï¼Œå®ƒé™„å¸¦ä¸€ä¸ªé¢å¤–çš„ç±»å‹ç”Ÿæˆå™¨ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæœ€æ–°çš„ API ç±»å‹ï¼š

```
npm run generate-api-types
```

è¿™å°†åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ `shared/api/v1.d.ts`ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æ­¤æ–‡ä»¶åœ¨ `shared/api/client.ts` ä¸­åˆ›å»ºä¸€ä¸ªç±»å‹åŒ–çš„ API å®¢æˆ·ç«¯ï¼š

shared/api/client.ts

```
import createClient from "openapi-fetch";

import { backendBaseUrl } from "shared/config";
import type { paths } from "./v1";

export const { GET, POST, PUT, DELETE } = createClient<paths>({ baseUrl: backendBaseUrl });
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";
```

### feed ä¸­çš„çœŸå®æ•°æ®[â€‹](#feed-ä¸­çš„çœŸå®æ•°æ® "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬ç°åœ¨å¯ä»¥ç»§ç»­å‘ feed æ·»åŠ ä»åç«¯è·å–çš„æ–‡ç« ã€‚è®©æˆ‘ä»¬é¦–å…ˆå®ç°ä¸€ä¸ªæ–‡ç« é¢„è§ˆç»„ä»¶ã€‚

ä½¿ç”¨ä»¥ä¸‹å†…å®¹åˆ›å»º `pages/feed/ui/ArticlePreview.tsx`ï¼š

pages/feed/ui/ArticlePreview\.tsx

```
export function ArticlePreview({ article }) { /* TODO */ }
```

ç”±äºæˆ‘ä»¬ç”¨ TypeScript ç¼–å†™ï¼Œæœ‰ä¸€ä¸ªç±»å‹åŒ–çš„ article å¯¹è±¡ä¼šå¾ˆå¥½ã€‚å¦‚æœæˆ‘ä»¬æ¢ç´¢ç”Ÿæˆçš„ `v1.d.ts`ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° article å¯¹è±¡å¯ä»¥é€šè¿‡ `components["schemas"]["Article"]` è·å¾—ã€‚æ‰€ä»¥è®©æˆ‘ä»¬åœ¨ Shared ä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«æˆ‘ä»¬æ•°æ®æ¨¡å‹çš„æ–‡ä»¶å¹¶å¯¼å‡ºæ¨¡å‹ï¼š

shared/api/models.ts

```
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥å›åˆ°æ–‡ç« é¢„è§ˆç»„ä»¶å¹¶ç”¨æ•°æ®å¡«å……æ ‡è®°ã€‚ä½¿ç”¨ä»¥ä¸‹å†…å®¹æ›´æ–°ç»„ä»¶ï¼š

pages/feed/ui/ArticlePreview\.tsx

```
import { Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <button className="btn btn-outline-primary btn-sm pull-xs-right">
          <i className="ion-heart"></i> {article.favoritesCount}
        </button>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

ç‚¹èµæŒ‰é’®ç›®å‰ä¸åšä»»ä½•äº‹æƒ…ï¼Œæˆ‘ä»¬å°†åœ¨åˆ°è¾¾æ–‡ç« é˜…è¯»å™¨é¡µé¢å¹¶å®ç°ç‚¹èµåŠŸèƒ½æ—¶ä¿®å¤å®ƒã€‚

ç°åœ¨æˆ‘ä»¬å¯ä»¥è·å–æ–‡ç« å¹¶æ¸²æŸ“å‡ºä¸€å †è¿™äº›å¡ç‰‡ã€‚åœ¨ Remix ä¸­è·å–æ•°æ®æ˜¯é€šè¿‡ *loaders* å®Œæˆçš„ â€” æœåŠ¡å™¨ç«¯å‡½æ•°ï¼Œè·å–é¡µé¢æ‰€éœ€çš„ç¡®åˆ‡å†…å®¹ã€‚Loaders ä»£è¡¨é¡µé¢ä¸ API äº¤äº’ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å®ƒä»¬æ”¾åœ¨é¡µé¢çš„ `api` segment ä¸­ï¼š

pages/feed/api/loader.ts

```
import { json } from "@remix-run/node";

import { GET } from "shared/api";

export const loader = async () => {
  const { data: articles, error, response } = await GET("/articles");

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return json({ articles });
};
```

è¦å°†å®ƒè¿æ¥åˆ°é¡µé¢ï¼Œæˆ‘ä»¬éœ€è¦ä»è·¯ç”±æ–‡ä»¶ä¸­ä»¥åç§° `loader` å¯¼å‡ºå®ƒï¼š

pages/feed/index.ts

```
export { FeedPage } from "./ui/FeedPage";
export { loader } from "./api/loader";
```

app/routes/\_index.tsx

```
import type { MetaFunction } from "@remix-run/node";
import { FeedPage } from "pages/feed";

export { loader } from "pages/feed";

export const meta: MetaFunction = () => {
  return [{ title: "Conduit" }];
};

export default FeedPage;
```

æœ€åä¸€æ­¥æ˜¯åœ¨ feed ä¸­æ¸²æŸ“è¿™äº›å¡ç‰‡ã€‚ä½¿ç”¨ä»¥ä¸‹ä»£ç æ›´æ–°æ‚¨çš„ `FeedPage`ï¼š

pages/feed/ui/FeedPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

### æŒ‰æ ‡ç­¾è¿‡æ»¤[â€‹](#æŒ‰æ ‡ç­¾è¿‡æ»¤ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å…³äºæ ‡ç­¾ï¼Œæˆ‘ä»¬çš„å·¥ä½œæ˜¯ä»åç«¯è·å–å®ƒä»¬å¹¶å­˜å‚¨å½“å‰é€‰ä¸­çš„æ ‡ç­¾ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•è¿›è¡Œè·å– â€” è¿™æ˜¯æ¥è‡ª loader çš„å¦ä¸€ä¸ªè¯·æ±‚ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æ¥è‡ªå·²å®‰è£…çš„ `remix-utils` åŒ…çš„ä¾¿åˆ©å‡½æ•° `promiseHash`ã€‚

ä½¿ç”¨ä»¥ä¸‹ä»£ç æ›´æ–° loader æ–‡ä»¶ `pages/feed/api/loader.ts`ï¼š

pages/feed/api/loader.ts

```
import { json } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async () => {
  return json(
    await promiseHash({
      articles: throwAnyErrors(GET("/articles")),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°æˆ‘ä»¬å°†é”™è¯¯å¤„ç†æå–åˆ°ä¸€ä¸ªé€šç”¨å‡½æ•° `throwAnyErrors` ä¸­ã€‚å®ƒçœ‹èµ·æ¥éå¸¸æœ‰ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½å¸Œæœ›ç¨åé‡ç”¨å®ƒï¼Œä½†ç°åœ¨è®©æˆ‘ä»¬å…ˆç•™æ„ä¸€ä¸‹ã€‚

ç°åœ¨ï¼Œåˆ°æ ‡ç­¾åˆ—è¡¨ã€‚å®ƒéœ€è¦æ˜¯äº¤äº’å¼çš„ â€” ç‚¹å‡»æ ‡ç­¾åº”è¯¥ä½¿è¯¥æ ‡ç­¾è¢«é€‰ä¸­ã€‚æŒ‰ç…§ Remix çº¦å®šï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ URL æœç´¢å‚æ•°ä½œä¸ºæˆ‘ä»¬é€‰ä¸­æ ‡ç­¾çš„å­˜å‚¨ã€‚è®©æµè§ˆå™¨å¤„ç†å­˜å‚¨ï¼Œè€Œæˆ‘ä»¬ä¸“æ³¨äºæ›´é‡è¦çš„äº‹æƒ…ã€‚

ä½¿ç”¨ä»¥ä¸‹ä»£ç æ›´æ–° `pages/feed/ui/FeedPage.tsx`ï¼š

pages/feed/ui/FeedPage.tsx

```
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const { articles, tags } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
} 
```

ç„¶åæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„ loader ä¸­ä½¿ç”¨ `tag` æœç´¢å‚æ•°ã€‚å°† `pages/feed/api/loader.ts` ä¸­çš„ `loader` å‡½æ•°æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", { params: { query: { tag: selectedTag } } }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

å°±æ˜¯è¿™æ ·ï¼Œä¸éœ€è¦ `model` segmentã€‚Remix éå¸¸æ•´æ´ã€‚

### åˆ†é¡µ[â€‹](#åˆ†é¡µ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°åˆ†é¡µã€‚éšæ„è‡ªå·±å°è¯•ä¸€ä¸‹æˆ–ç›´æ¥å¤åˆ¶ä¸‹é¢çš„ä»£ç ã€‚åæ­£æ²¡æœ‰äººä¼šåˆ¤æ–­æ‚¨ã€‚

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

pages/feed/ui/FeedPage.tsx

```
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";

export function FeedPage() {
  const [searchParams] = useSearchParams();
  const { articles, tags } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Form>
              <ExistingSearchParams exclude={["page"]} />
              <ul className="pagination">
                {Array(pageAmount)
                  .fill(null)
                  .map((_, index) =>
                    index + 1 === currentPage ? (
                      <li key={index} className="page-item active">
                        <span className="page-link">{index + 1}</span>
                      </li>
                    ) : (
                      <li key={index} className="page-item">
                        <button
                          className="page-link"
                          name="page"
                          value={index + 1}
                        >
                          {index + 1}
                        </button>
                      </li>
                    ),
                  )}
              </ul>
            </Form>
          </div>

          <div className="col-md-3">
            <div className="sidebar">
              <p>Popular Tags</p>

              <Form>
                <ExistingSearchParams exclude={["tag", "page"]} />
                <div className="tag-list">
                  {tags.tags.map((tag) => (
                    <button
                      key={tag}
                      name="tag"
                      value={tag}
                      className="tag-pill tag-default"
                    >
                      {tag}
                    </button>
                  ))}
                </div>
              </Form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

è¿™æ ·ä¹Ÿå®Œæˆäº†ã€‚è¿˜æœ‰é€‰é¡¹å¡åˆ—è¡¨å¯ä»¥ç±»ä¼¼åœ°å®ç°ï¼Œä½†è®©æˆ‘ä»¬ç­‰åˆ°å®ç°èº«ä»½éªŒè¯æ—¶å†å¤„ç†ã€‚è¯´åˆ°è¿™ä¸ªï¼

### èº«ä»½éªŒè¯[â€‹](#èº«ä»½éªŒè¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

èº«ä»½éªŒè¯æ¶‰åŠä¸¤ä¸ªé¡µé¢ â€” ä¸€ä¸ªç”¨äºç™»å½•ï¼Œå¦ä¸€ä¸ªç”¨äºæ³¨å†Œã€‚å®ƒä»¬å¤§éƒ¨åˆ†ç›¸åŒï¼Œæ‰€ä»¥å°†å®ƒä»¬ä¿æŒåœ¨åŒä¸€ä¸ª slice `sign-in` ä¸­æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éœ€è¦æ—¶é‡ç”¨ä»£ç ã€‚

åœ¨ `pages/sign-in` çš„ `ui` segment ä¸­åˆ›å»º `RegisterPage.tsx`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

pages/sign-in/ui/RegisterPage.tsx

```
import { Form, Link, useActionData } from "@remix-run/react";

import type { register } from "../api/register";

export function RegisterPage() {
  const registerData = useActionData<typeof register>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign up</h1>
            <p className="text-xs-center">
              <Link to="/login">Have an account?</Link>
            </p>

            {registerData?.error && (
              <ul className="error-messages">
                {registerData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="username"
                  placeholder="Username"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="text"
                  name="email"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  type="password"
                  name="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign up
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæŸåçš„å¯¼å…¥è¦ä¿®å¤ã€‚å®ƒæ¶‰åŠä¸€ä¸ªæ–°çš„ segmentï¼Œæ‰€ä»¥åˆ›å»ºå®ƒï¼š

```
npx fsd pages sign-in -s api
```

ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬å¯ä»¥å®ç°æ³¨å†Œçš„åç«¯éƒ¨åˆ†ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›ä¾› Remix å¤„ç†ä¼šè¯çš„åŸºç¡€è®¾æ–½ä»£ç ã€‚è¿™æ”¾åœ¨ Shared ä¸­ï¼Œä»¥é˜²å…¶ä»–é¡µé¢éœ€è¦å®ƒã€‚

å°†ä»¥ä¸‹ä»£ç æ”¾å…¥ `shared/api/auth.server.ts`ã€‚è¿™é«˜åº¦ç‰¹å®šäº Remixï¼Œæ‰€ä»¥ä¸è¦å¤ªæ‹…å¿ƒï¼Œåªéœ€å¤åˆ¶ç²˜è´´ï¼š

shared/api/auth.server.ts

```
import { createCookieSessionStorage, redirect } from "@remix-run/node";
import invariant from "tiny-invariant";

import type { User } from "./models";

invariant(
  process.env.SESSION_SECRET,
  "SESSION_SECRET must be set for authentication to work",
);

const sessionStorage = createCookieSessionStorage<{
  user: User;
}>({
  cookie: {
    name: "__session",
    httpOnly: true,
    path: "/",
    sameSite: "lax",
    secrets: [process.env.SESSION_SECRET],
    secure: process.env.NODE_ENV === "production",
  },
});

export async function createUserSession({
  request,
  user,
  redirectTo,
}: {
  request: Request;
  user: User;
  redirectTo: string;
}) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  session.set("user", user);

  return redirect(redirectTo, {
    headers: {
      "Set-Cookie": await sessionStorage.commitSession(session, {
        maxAge: 60 * 60 * 24 * 7, // 7 days
      }),
    },
  });
}

export async function getUserFromSession(request: Request) {
  const cookie = request.headers.get("Cookie");
  const session = await sessionStorage.getSession(cookie);

  return session.get("user") ?? null;
}

export async function requireUser(request: Request) {
  const user = await getUserFromSession(request);

  if (user === null) {
    throw redirect("/login");
  }

  return user;
}
```

åŒæ—¶ä»æ—è¾¹çš„ `models.ts` æ–‡ä»¶ä¸­å¯¼å‡º `User` æ¨¡å‹ï¼š

shared/api/models.ts

```
import type { components } from "./v1";

export type Article = components["schemas"]["Article"];
export type User = components["schemas"]["User"];
```

åœ¨æ­¤ä»£ç èƒ½å¤Ÿå·¥ä½œä¹‹å‰ï¼Œéœ€è¦è®¾ç½® `SESSION_SECRET` ç¯å¢ƒå˜é‡ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `.env` çš„æ–‡ä»¶ï¼Œå†™å…¥ `SESSION_SECRET=`ï¼Œç„¶ååœ¨é”®ç›˜ä¸Šéšæ„æ•²å‡»ä¸€äº›é”®æ¥åˆ›å»ºä¸€ä¸ªé•¿çš„éšæœºå­—ç¬¦ä¸²ã€‚æ‚¨åº”è¯¥å¾—åˆ°ç±»ä¼¼è¿™æ ·çš„ä¸œè¥¿ï¼š

.env

```
SESSION_SECRET=dontyoudarecopypastethis
```

æœ€åï¼Œå‘ public API æ·»åŠ ä¸€äº›å¯¼å‡ºä»¥ä½¿ç”¨æ­¤ä»£ç ï¼š

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸ RealWorld åç«¯é€šä¿¡ä»¥å®é™…è¿›è¡Œæ³¨å†Œçš„ä»£ç ã€‚æˆ‘ä»¬å°†å…¶ä¿å­˜åœ¨ `pages/sign-in/api` ä¸­ã€‚åˆ›å»ºä¸€ä¸ªåä¸º `register.ts` çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç æ”¾å…¥å…¶ä¸­ï¼š

pages/sign-in/api/register.ts

```
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const register = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const username = formData.get("username")?.toString() ?? "";
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users", {
    body: { user: { email, password, username } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

pages/sign-in/index.ts

```
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
```

å‡ ä¹å®Œæˆäº†ï¼åªéœ€è¦å°†é¡µé¢å’Œæ“ä½œè¿æ¥åˆ° `/register` è·¯ç”±ã€‚åœ¨ `app/routes` ä¸­åˆ›å»º `register.tsx`ï¼š

app/routes/register.tsx

```
import { RegisterPage, register } from "pages/sign-in";

export { register as action };

export default RegisterPage;
```

ç°åœ¨å¦‚æœæ‚¨è½¬åˆ° <http://localhost:3000/register>ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåˆ›å»ºç”¨æˆ·ï¼åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†è¿˜ä¸ä¼šå¯¹æ­¤åšå‡ºååº”ï¼Œæˆ‘ä»¬å°†ç«‹å³è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

ä»¥éå¸¸ç±»ä¼¼çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç™»å½•é¡µé¢ã€‚å°è¯•ä¸€ä¸‹æˆ–ç›´æ¥è·å–ä»£ç å¹¶ç»§ç»­ï¼š

pages/sign-in/api/sign-in.ts

```
import { json, type ActionFunctionArgs } from "@remix-run/node";

import { POST, createUserSession } from "shared/api";

export const signIn = async ({ request }: ActionFunctionArgs) => {
  const formData = await request.formData();
  const email = formData.get("email")?.toString() ?? "";
  const password = formData.get("password")?.toString() ?? "";

  const { data, error } = await POST("/users/login", {
    body: { user: { email, password } },
  });

  if (error) {
    return json({ error }, { status: 400 });
  } else {
    return createUserSession({
      request: request,
      user: data.user,
      redirectTo: "/",
    });
  }
};
```

pages/sign-in/ui/SignInPage.tsx

```
import { Form, Link, useActionData } from "@remix-run/react";

import type { signIn } from "../api/sign-in";

export function SignInPage() {
  const signInData = useActionData<typeof signIn>();

  return (
    <div className="auth-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-6 offset-md-3 col-xs-12">
            <h1 className="text-xs-center">Sign in</h1>
            <p className="text-xs-center">
              <Link to="/register">Need an account?</Link>
            </p>

            {signInData?.error && (
              <ul className="error-messages">
                {signInData.error.errors.body.map((error) => (
                  <li key={error}>{error}</li>
                ))}
              </ul>
            )}

            <Form method="post">
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="email"
                  type="text"
                  placeholder="Email"
                />
              </fieldset>
              <fieldset className="form-group">
                <input
                  className="form-control form-control-lg"
                  name="password"
                  type="password"
                  placeholder="Password"
                />
              </fieldset>
              <button className="btn btn-lg btn-primary pull-xs-right">
                Sign in
              </button>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

pages/sign-in/index.ts

```
export { RegisterPage } from './ui/RegisterPage';
export { register } from './api/register';
export { SignInPage } from './ui/SignInPage';
export { signIn } from './api/sign-in';
```

app/routes/login.tsx

```
import { SignInPage, signIn } from "pages/sign-in";

export { signIn as action };

export default SignInPage;
```

ç°åœ¨è®©æˆ‘ä»¬ç»™ç”¨æˆ·ä¸€ç§å®é™…è¾¾åˆ°è¿™äº›é¡µé¢çš„æ–¹æ³•ã€‚

### å¤´éƒ¨[â€‹](#å¤´éƒ¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­è®¨è®ºçš„ï¼Œåº”ç”¨ç¨‹åºå¤´éƒ¨é€šå¸¸æ”¾åœ¨ Widgets æˆ– Shared ä¸­ã€‚æˆ‘ä»¬å°†å…¶æ”¾åœ¨ Shared ä¸­ï¼Œå› ä¸ºå®ƒéå¸¸ç®€å•ï¼Œæ‰€æœ‰ä¸šåŠ¡é€»è¾‘éƒ½å¯ä»¥ä¿æŒåœ¨å®ƒä¹‹å¤–ã€‚è®©æˆ‘ä»¬ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªåœ°æ–¹ï¼š

```
npx fsd shared ui
```

ç°åœ¨åˆ›å»º `shared/ui/Header.tsx`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

shared/ui/Header.tsx

```
import { useContext } from "react";
import { Link, useLocation } from "@remix-run/react";

import { CurrentUser } from "../api/currentUser";

export function Header() {
  const currentUser = useContext(CurrentUser);
  const { pathname } = useLocation();

  return (
    <nav className="navbar navbar-light">
      <div className="container">
        <Link className="navbar-brand" to="/" prefetch="intent">
          conduit
        </Link>
        <ul className="nav navbar-nav pull-xs-right">
          <li className="nav-item">
            <Link
              prefetch="intent"
              className={`nav-link ${pathname == "/" ? "active" : ""}`}
              to="/"
            >
              Home
            </Link>
          </li>
          {currentUser == null ? (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/login" ? "active" : ""}`}
                  to="/login"
                >
                  Sign in
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/register" ? "active" : ""}`}
                  to="/register"
                >
                  Sign up
                </Link>
              </li>
            </>
          ) : (
            <>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/editor" ? "active" : ""}`}
                  to="/editor"
                >
                  <i className="ion-compose"></i>&nbsp;New Article{" "}
                </Link>
              </li>

              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname == "/settings" ? "active" : ""}`}
                  to="/settings"
                >
                  {" "}
                  <i className="ion-gear-a"></i>&nbsp;Settings{" "}
                </Link>
              </li>
              <li className="nav-item">
                <Link
                  prefetch="intent"
                  className={`nav-link ${pathname.includes("/profile") ? "active" : ""}`}
                  to={`/profile/${currentUser.username}`}
                >
                  {currentUser.image && (
                    <img
                      width={25}
                      height={25}
                      src={currentUser.image}
                      className="user-pic"
                      alt=""
                    />
                  )}
                  {currentUser.username}
                </Link>
              </li>
            </>
          )}
        </ul>
      </div>
    </nav>
  );
}
```

ä» `shared/ui` å¯¼å‡ºæ­¤ç»„ä»¶ï¼š

shared/ui/index.ts

```
export { Header } from "./Header";
```

åœ¨å¤´éƒ¨ä¸­ï¼Œæˆ‘ä»¬ä¾èµ–ä¿å­˜åœ¨ `shared/api` ä¸­çš„ä¸Šä¸‹æ–‡ã€‚ä¹Ÿåˆ›å»ºå®ƒï¼š

shared/api/currentUser.ts

```
import { createContext } from "react";

import type { User } from "./models";

export const CurrentUser = createContext<User | null>(null);
```

shared/api/index.ts

```
export { GET, POST, PUT, DELETE } from "./client";

export type { Article } from "./models";

export { createUserSession, getUserFromSession, requireUser } from "./auth.server";
export { CurrentUser } from "./currentUser";
```

ç°åœ¨è®©æˆ‘ä»¬å°†å¤´éƒ¨æ·»åŠ åˆ°é¡µé¢ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒå‡ºç°åœ¨æ¯ä¸€ä¸ªé¡µé¢ä¸Šï¼Œæ‰€ä»¥ç®€å•åœ°å°†å…¶æ·»åŠ åˆ°æ ¹è·¯ç”±å¹¶ç”¨ `CurrentUser` ä¸Šä¸‹æ–‡æä¾›è€…åŒ…è£… outletï¼ˆé¡µé¢å°†è¢«æ¸²æŸ“çš„åœ°æ–¹ï¼‰æ˜¯æœ‰æ„ä¹‰çš„ã€‚è¿™æ ·æˆ‘ä»¬çš„æ•´ä¸ªåº”ç”¨ç¨‹åºä»¥åŠå¤´éƒ¨éƒ½å¯ä»¥è®¿é—®å½“å‰ç”¨æˆ·å¯¹è±¡ã€‚æˆ‘ä»¬è¿˜å°†æ·»åŠ ä¸€ä¸ª loader æ¥å®é™…ä» cookies ä¸­è·å–å½“å‰ç”¨æˆ·å¯¹è±¡ã€‚å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥ `app/root.tsx`ï¼š

app/root.tsx

```
import { cssBundleHref } from "@remix-run/css-bundle";
import type { LinksFunction, LoaderFunctionArgs } from "@remix-run/node";
import {
  Links,
  LiveReload,
  Meta,
  Outlet,
  Scripts,
  ScrollRestoration,
  useLoaderData,
} from "@remix-run/react";

import { Header } from "shared/ui";
import { getUserFromSession, CurrentUser } from "shared/api";

export const links: LinksFunction = () => [
  ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),
];

export const loader = ({ request }: LoaderFunctionArgs) =>
  getUserFromSession(request);

export default function App() {
  const user = useLoaderData<typeof loader>();

  return (
    <html lang="en">
      <head>
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <Meta />
        <Links />
        <link
          href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
          rel="stylesheet"
          type="text/css"
        />
        <link
          href="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic"
          rel="stylesheet"
          type="text/css"
        />
        <link rel="stylesheet" href="//demo.productionready.io/main.css" />
        <style>{`
          button {
            border: 0;
          }
        `}</style>
      </head>
      <body>
        <CurrentUser.Provider value={user}>
          <Header />
          <Outlet />
        </CurrentUser.Provider>
        <ScrollRestoration />
        <Scripts />
        <LiveReload />
      </body>
    </html>
  );
}
```

åœ¨è¿™ä¸€ç‚¹ï¼Œæ‚¨åº”è¯¥åœ¨ä¸»é¡µä¸Šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š

![The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.](/documentation/zh/assets/images/realworld-feed-without-tabs-5da4c9072101ac20e82e2234bd3badbe.jpg)

The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.

### é€‰é¡¹å¡[â€‹](#é€‰é¡¹å¡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨æˆ‘ä»¬å¯ä»¥æ£€æµ‹èº«ä»½éªŒè¯çŠ¶æ€ï¼Œè®©æˆ‘ä»¬ä¹Ÿå¿«é€Ÿå®ç°é€‰é¡¹å¡å’Œå¸–å­ç‚¹èµæ¥å®Œæˆ feed é¡µé¢ã€‚æˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªè¡¨å•ï¼Œä½†è¿™ä¸ªé¡µé¢æ–‡ä»¶æ­£åœ¨å˜å¾—æœ‰ç‚¹å¤§ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å°†è¿™äº›è¡¨å•ç§»åŠ¨åˆ°ç›¸é‚»çš„æ–‡ä»¶ä¸­ã€‚æˆ‘ä»¬å°†åˆ›å»º `Tabs.tsx`ã€`PopularTags.tsx` å’Œ `Pagination.tsx`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

pages/feed/ui/Tabs.tsx

```
import { useContext } from "react";
import { Form, useSearchParams } from "@remix-run/react";

import { CurrentUser } from "shared/api";

export function Tabs() {
  const [searchParams] = useSearchParams();
  const currentUser = useContext(CurrentUser);

  return (
    <Form>
      <div className="feed-toggle">
        <ul className="nav nav-pills outline-active">
          {currentUser !== null && (
            <li className="nav-item">
              <button
                name="source"
                value="my-feed"
                className={`nav-link ${searchParams.get("source") === "my-feed" ? "active" : ""}`}
              >
                Your Feed
              </button>
            </li>
          )}
          <li className="nav-item">
            <button
              className={`nav-link ${searchParams.has("tag") || searchParams.has("source") ? "" : "active"}`}
            >
              Global Feed
            </button>
          </li>
          {searchParams.has("tag") && (
            <li className="nav-item">
              <span className="nav-link active">
                <i className="ion-pound"></i> {searchParams.get("tag")}
              </span>
            </li>
          )}
        </ul>
      </div>
    </Form>
  );
}
```

pages/feed/ui/PopularTags.tsx

```
import { Form, useLoaderData } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import type { loader } from "../api/loader";

export function PopularTags() {
  const { tags } = useLoaderData<typeof loader>();

  return (
    <div className="sidebar">
      <p>Popular Tags</p>

      <Form>
        <ExistingSearchParams exclude={["tag", "page", "source"]} />
        <div className="tag-list">
          {tags.tags.map((tag) => (
            <button
              key={tag}
              name="tag"
              value={tag}
              className="tag-pill tag-default"
            >
              {tag}
            </button>
          ))}
        </div>
      </Form>
    </div>
  );
}
```

pages/feed/ui/Pagination.tsx

```
import { Form, useLoaderData, useSearchParams } from "@remix-run/react";
import { ExistingSearchParams } from "remix-utils/existing-search-params";

import { LIMIT, type loader } from "../api/loader";

export function Pagination() {
  const [searchParams] = useSearchParams();
  const { articles } = useLoaderData<typeof loader>();
  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);
  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);

  return (
    <Form>
      <ExistingSearchParams exclude={["page"]} />
      <ul className="pagination">
        {Array(pageAmount)
          .fill(null)
          .map((_, index) =>
            index + 1 === currentPage ? (
              <li key={index} className="page-item active">
                <span className="page-link">{index + 1}</span>
              </li>
            ) : (
              <li key={index} className="page-item">
                <button className="page-link" name="page" value={index + 1}>
                  {index + 1}
                </button>
              </li>
            ),
          )}
      </ul>
    </Form>
  );
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥æ˜¾è‘—ç®€åŒ– feed é¡µé¢æœ¬èº«ï¼š

pages/feed/ui/FeedPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticlePreview } from "./ArticlePreview";
import { Tabs } from "./Tabs";
import { PopularTags } from "./PopularTags";
import { Pagination } from "./Pagination";

export function FeedPage() {
  const { articles } = useLoaderData<typeof loader>();

  return (
    <div className="home-page">
      <div className="banner">
        <div className="container">
          <h1 className="logo-font">conduit</h1>
          <p>A place to share your knowledge.</p>
        </div>
      </div>

      <div className="container page">
        <div className="row">
          <div className="col-md-9">
            <Tabs />

            {articles.articles.map((article) => (
              <ArticlePreview key={article.slug} article={article} />
            ))}

            <Pagination />
          </div>

          <div className="col-md-3">
            <PopularTags />
          </div>
        </div>
      </div>
    </div>
  );
}
```

æˆ‘ä»¬è¿˜éœ€è¦åœ¨ loader å‡½æ•°ä¸­è€ƒè™‘æ–°é€‰é¡¹å¡ï¼š

pages/feed/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  /* unchanged */
}

/** Amount of articles on one page. */
export const LIMIT = 20;

export const loader = async ({ request }: LoaderFunctionArgs) => {
  const url = new URL(request.url);
  const selectedTag = url.searchParams.get("tag") ?? undefined;
  const page = parseInt(url.searchParams.get("page") ?? "", 10);

  if (url.searchParams.get("source") === "my-feed") {
    const userSession = await requireUser(request);

    return json(
      await promiseHash({
        articles: throwAnyErrors(
          GET("/articles/feed", {
            params: {
              query: {
                limit: LIMIT,
                offset: !Number.isNaN(page) ? page * LIMIT : undefined,
              },
            },
            headers: { Authorization: `Token ${userSession.token}` },
          }),
        ),
        tags: throwAnyErrors(GET("/tags")),
      }),
    );
  }

  return json(
    await promiseHash({
      articles: throwAnyErrors(
        GET("/articles", {
          params: {
            query: {
              tag: selectedTag,
              limit: LIMIT,
              offset: !Number.isNaN(page) ? page * LIMIT : undefined,
            },
          },
        }),
      ),
      tags: throwAnyErrors(GET("/tags")),
    }),
  );
};
```

åœ¨æˆ‘ä»¬ç¦»å¼€ feed é¡µé¢ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€äº›å¤„ç†å¸–å­ç‚¹èµçš„ä»£ç ã€‚å°†æ‚¨çš„ `ArticlePreview.tsx` æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š

pages/feed/ui/ArticlePreview\.tsx

```
import { Form, Link } from "@remix-run/react";
import type { Article } from "shared/api";

interface ArticlePreviewProps {
  article: Article;
}

export function ArticlePreview({ article }: ArticlePreviewProps) {
  return (
    <div className="article-preview">
      <div className="article-meta">
        <Link to={`/profile/${article.author.username}`} prefetch="intent">
          <img src={article.author.image} alt="" />
        </Link>
        <div className="info">
          <Link
            to={`/profile/${article.author.username}`}
            className="author"
            prefetch="intent"
          >
            {article.author.username}
          </Link>
          <span className="date" suppressHydrationWarning>
            {new Date(article.createdAt).toLocaleDateString(undefined, {
              dateStyle: "long",
            })}
          </span>
        </div>
        <Form
          method="post"
          action={`/article/${article.slug}`}
          preventScrollReset
        >
          <button
            name="_action"
            value={article.favorited ? "unfavorite" : "favorite"}
            className={`btn ${article.favorited ? "btn-primary" : "btn-outline-primary"} btn-sm pull-xs-right`}
          >
            <i className="ion-heart"></i> {article.favoritesCount}
          </button>
        </Form>
      </div>
      <Link
        to={`/article/${article.slug}`}
        className="preview-link"
        prefetch="intent"
      >
        <h1>{article.title}</h1>
        <p>{article.description}</p>
        <span>Read more...</span>
        <ul className="tag-list">
          {article.tagList.map((tag) => (
            <li key={tag} className="tag-default tag-pill tag-outline">
              {tag}
            </li>
          ))}
        </ul>
      </Link>
    </div>
  );
}
```

æ­¤ä»£ç å°†å‘ `/article/:slug` å‘é€å¸¦æœ‰ `_action=favorite` çš„ POST è¯·æ±‚ä»¥å°†æ–‡ç« æ ‡è®°ä¸ºæ”¶è—ã€‚å®ƒè¿˜ä¸ä¼šå·¥ä½œï¼Œä½†å½“æˆ‘ä»¬å¼€å§‹å¤„ç†æ–‡ç« é˜…è¯»å™¨æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

è¿™æ ·æˆ‘ä»¬å°±æ­£å¼å®Œæˆäº† feedï¼å¤ªå¥½äº†ï¼

### æ–‡ç« é˜…è¯»å™¨[â€‹](#æ–‡ç« é˜…è¯»å™¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ•°æ®ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª loaderï¼š

```
npx fsd pages article-read -s api
```

pages/article-read/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import invariant from "tiny-invariant";
import type { FetchResponse } from "openapi-fetch";
import { promiseHash } from "remix-utils/promise";

import { GET, getUserFromSession } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ request, params }: LoaderFunctionArgs) => {
  invariant(params.slug, "Expected a slug parameter");
  const currentUser = await getUserFromSession(request);
  const authorization = currentUser
    ? { Authorization: `Token ${currentUser.token}` }
    : undefined;

  return json(
    await promiseHash({
      article: throwAnyErrors(
        GET("/articles/{slug}", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
      comments: throwAnyErrors(
        GET("/articles/{slug}/comments", {
          params: {
            path: { slug: params.slug },
          },
          headers: authorization,
        }),
      ),
    }),
  );
};
```

pages/article-read/index.ts

```
export { loader } from "./api/loader";
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªåä¸º `article.$slug.tsx` çš„è·¯ç”±æ–‡ä»¶å°†å…¶è¿æ¥åˆ°è·¯ç”± `/article/:slug`ï¼š

app/routes/article.$slug.tsx

```
export { loader } from "pages/article-read";
```

é¡µé¢æœ¬èº«ç”±ä¸‰ä¸ªä¸»è¦å—ç»„æˆ â€” å¸¦æœ‰æ“ä½œçš„æ–‡ç« å¤´éƒ¨ï¼ˆé‡å¤ä¸¤æ¬¡ï¼‰ã€æ–‡ç« ä¸»ä½“å’Œè¯„è®ºéƒ¨åˆ†ã€‚è¿™æ˜¯é¡µé¢çš„æ ‡è®°ï¼Œå®ƒå¹¶ä¸ç‰¹åˆ«æœ‰è¶£ï¼š

pages/article-read/ui/ArticleReadPage.tsx

```
import { useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { ArticleMeta } from "./ArticleMeta";
import { Comments } from "./Comments";

export function ArticleReadPage() {
  const { article } = useLoaderData<typeof loader>();

  return (
    <div className="article-page">
      <div className="banner">
        <div className="container">
          <h1>{article.article.title}</h1>

          <ArticleMeta />
        </div>
      </div>

      <div className="container page">
        <div className="row article-content">
          <div className="col-md-12">
            <p>{article.article.body}</p>
            <ul className="tag-list">
              {article.article.tagList.map((tag) => (
                <li className="tag-default tag-pill tag-outline" key={tag}>
                  {tag}
                </li>
              ))}
            </ul>
          </div>
        </div>

        <hr />

        <div className="article-actions">
          <ArticleMeta />
        </div>

        <div className="row">
          <Comments />
        </div>
      </div>
    </div>
  );
}
```

æ›´æœ‰è¶£çš„æ˜¯ `ArticleMeta` å’Œ `Comments`ã€‚å®ƒä»¬åŒ…å«å†™æ“ä½œï¼Œå¦‚ç‚¹èµæ–‡ç« ã€ç•™ä¸‹è¯„è®ºç­‰ã€‚è¦è®©å®ƒä»¬å·¥ä½œï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®ç°åç«¯éƒ¨åˆ†ã€‚åœ¨é¡µé¢çš„ `api` segment ä¸­åˆ›å»º `action.ts`ï¼š

pages/article-read/api/action.ts

```
import { redirect, type ActionFunctionArgs } from "@remix-run/node";
import { namedAction } from "remix-utils/named-action";
import { redirectBack } from "remix-utils/redirect-back";
import invariant from "tiny-invariant";

import { DELETE, POST, requireUser } from "shared/api";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  const currentUser = await requireUser(request);

  const authorization = { Authorization: `Token ${currentUser.token}` };

  const formData = await request.formData();

  return namedAction(formData, {
    async delete() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirect("/");
    },
    async favorite() {
      invariant(params.slug, "Expected a slug parameter");
      await POST("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfavorite() {
      invariant(params.slug, "Expected a slug parameter");
      await DELETE("/articles/{slug}/favorite", {
        params: { path: { slug: params.slug } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async createComment() {
      invariant(params.slug, "Expected a slug parameter");
      const comment = formData.get("comment");
      invariant(typeof comment === "string", "Expected a comment parameter");
      await POST("/articles/{slug}/comments", {
        params: { path: { slug: params.slug } },
        headers: { ...authorization, "Content-Type": "application/json" },
        body: { comment: { body: comment } },
      });
      return redirectBack(request, { fallback: "/" });
    },
    async deleteComment() {
      invariant(params.slug, "Expected a slug parameter");
      const commentId = formData.get("id");
      invariant(typeof commentId === "string", "Expected an id parameter");
      const commentIdNumeric = parseInt(commentId, 10);
      invariant(
        !Number.isNaN(commentIdNumeric),
        "Expected a numeric id parameter",
      );
      await DELETE("/articles/{slug}/comments/{id}", {
        params: { path: { slug: params.slug, id: commentIdNumeric } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async followAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await POST("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
    async unfollowAuthor() {
      const authorUsername = formData.get("username");
      invariant(
        typeof authorUsername === "string",
        "Expected a username parameter",
      );
      await DELETE("/profiles/{username}/follow", {
        params: { path: { username: authorUsername } },
        headers: authorization,
      });
      return redirectBack(request, { fallback: "/" });
    },
  });
};
```

ä» slice ä¸­å¯¼å‡ºå®ƒï¼Œç„¶åä»è·¯ç”±ä¸­å¯¼å‡ºã€‚è¶ç€è¿™ä¸ªæœºä¼šï¼Œè®©æˆ‘ä»¬ä¹Ÿè¿æ¥é¡µé¢æœ¬èº«ï¼š

pages/article-read/index.ts

```
export { ArticleReadPage } from "./ui/ArticleReadPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

app/routes/article.$slug.tsx

```
import { ArticleReadPage } from "pages/article-read";

export { loader, action } from "pages/article-read";

export default ArticleReadPage;
```

ç°åœ¨ï¼Œå°½ç®¡æˆ‘ä»¬è¿˜æ²¡æœ‰åœ¨é˜…è¯»å™¨é¡µé¢ä¸Šå®ç°ç‚¹èµæŒ‰é’®ï¼Œä½† feed ä¸­çš„ç‚¹èµæŒ‰é’®å°†å¼€å§‹å·¥ä½œï¼è¿™æ˜¯å› ä¸ºå®ƒä¸€ç›´åœ¨å‘è¿™ä¸ªè·¯ç”±å‘é€"ç‚¹èµ"è¯·æ±‚ã€‚è¯•è¯•çœ‹å§ã€‚

`ArticleMeta` å’Œ `Comments` åˆæ˜¯ä¸€å †è¡¨å•ã€‚æˆ‘ä»¬ä¹‹å‰å·²ç»åšè¿‡è¿™ä¸ªï¼Œè®©æˆ‘ä»¬è·å–å®ƒä»¬çš„ä»£ç å¹¶ç»§ç»­ï¼š

pages/article-read/ui/ArticleMeta.tsx

```
import { Form, Link, useLoaderData } from "@remix-run/react";
import { useContext } from "react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function ArticleMeta() {
  const currentUser = useContext(CurrentUser);
  const { article } = useLoaderData<typeof loader>();

  return (
    <Form method="post">
      <div className="article-meta">
        <Link
          prefetch="intent"
          to={`/profile/${article.article.author.username}`}
        >
          <img src={article.article.author.image} alt="" />
        </Link>

        <div className="info">
          <Link
            prefetch="intent"
            to={`/profile/${article.article.author.username}`}
            className="author"
          >
            {article.article.author.username}
          </Link>
          <span className="date">{article.article.createdAt}</span>
        </div>

        {article.article.author.username == currentUser?.username ? (
          <>
            <Link
              prefetch="intent"
              to={`/editor/${article.article.slug}`}
              className="btn btn-sm btn-outline-secondary"
            >
              <i className="ion-edit"></i> Edit Article
            </Link>
            &nbsp;&nbsp;
            <button
              name="_action"
              value="delete"
              className="btn btn-sm btn-outline-danger"
            >
              <i className="ion-trash-a"></i> Delete Article
            </button>
          </>
        ) : (
          <>
            <input
              name="username"
              value={article.article.author.username}
              type="hidden"
            />
            <button
              name="_action"
              value={
                article.article.author.following
                  ? "unfollowAuthor"
                  : "followAuthor"
              }
              className={`btn btn-sm ${article.article.author.following ? "btn-secondary" : "btn-outline-secondary"}`}
            >
              <i className="ion-plus-round"></i>
              &nbsp;{" "}
              {article.article.author.following
                ? "Unfollow"
                : "Follow"}{" "}
              {article.article.author.username}
            </button>
            &nbsp;&nbsp;
            <button
              name="_action"
              value={article.article.favorited ? "unfavorite" : "favorite"}
              className={`btn btn-sm ${article.article.favorited ? "btn-primary" : "btn-outline-primary"}`}
            >
              <i className="ion-heart"></i>
              &nbsp; {article.article.favorited
                ? "Unfavorite"
                : "Favorite"}{" "}
              Post{" "}
              <span className="counter">
                ({article.article.favoritesCount})
              </span>
            </button>
          </>
        )}
      </div>
    </Form>
  );
}
```

pages/article-read/ui/Comments.tsx

```
import { useContext } from "react";
import { Form, Link, useLoaderData } from "@remix-run/react";

import { CurrentUser } from "shared/api";
import type { loader } from "../api/loader";

export function Comments() {
  const { comments } = useLoaderData<typeof loader>();
  const currentUser = useContext(CurrentUser);

  return (
    <div className="col-xs-12 col-md-8 offset-md-2">
      {currentUser !== null ? (
        <Form
          preventScrollReset={true}
          method="post"
          className="card comment-form"
        >
          <div className="card-block">
            <textarea
              required
              className="form-control"
              name="comment"
              placeholder="Write a comment..."
              rows={3}
            ></textarea>
          </div>
          <div className="card-footer">
            <img
              src={currentUser.image}
              className="comment-author-img"
              alt=""
            />
            <button
              className="btn btn-sm btn-primary"
              name="_action"
              value="createComment"
            >
              Post Comment
            </button>
          </div>
        </Form>
      ) : (
        <div className="row">
          <div className="col-xs-12 col-md-8 offset-md-2">
            <p>
              <Link to="/login">Sign in</Link>
              &nbsp; or &nbsp;
              <Link to="/register">Sign up</Link>
              &nbsp; to add comments on this article.
            </p>
          </div>
        </div>
      )}

      {comments.comments.map((comment) => (
        <div className="card" key={comment.id}>
          <div className="card-block">
            <p className="card-text">{comment.body}</p>
          </div>

          <div className="card-footer">
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              <img
                src={comment.author.image}
                className="comment-author-img"
                alt=""
              />
            </Link>
            &nbsp;
            <Link
              to={`/profile/${comment.author.username}`}
              className="comment-author"
            >
              {comment.author.username}
            </Link>
            <span className="date-posted">{comment.createdAt}</span>
            {comment.author.username === currentUser?.username && (
              <span className="mod-options">
                <Form method="post" preventScrollReset={true}>
                  <input type="hidden" name="id" value={comment.id} />
                  <button
                    name="_action"
                    value="deleteComment"
                    style={{
                      border: "none",
                      outline: "none",
                      backgroundColor: "transparent",
                    }}
                  >
                    <i className="ion-trash-a"></i>
                  </button>
                </Form>
              </span>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}
```

è¿™æ ·æˆ‘ä»¬çš„æ–‡ç« é˜…è¯»å™¨ä¹Ÿå®Œæˆäº†ï¼å…³æ³¨ä½œè€…ã€ç‚¹èµå¸–å­å’Œç•™ä¸‹è¯„è®ºçš„æŒ‰é’®ç°åœ¨åº”è¯¥èƒ½æŒ‰é¢„æœŸå·¥ä½œã€‚

![Article reader with functioning buttons to like and follow](/documentation/zh/assets/images/realworld-article-reader-6a420e4f2afe139d2bdd54d62974f0b9.jpg)

Article reader with functioning buttons to like and follow

### æ–‡ç« ç¼–è¾‘å™¨[â€‹](#æ–‡ç« ç¼–è¾‘å™¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™æ˜¯æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­æ¶µç›–çš„æœ€åä¸€ä¸ªé¡µé¢ï¼Œè¿™é‡Œæœ€æœ‰è¶£çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬å°†å¦‚ä½•éªŒè¯è¡¨å•æ•°æ®ã€‚

é¡µé¢æœ¬èº«ï¼Œ`article-edit/ui/ArticleEditPage.tsx`ï¼Œå°†éå¸¸ç®€å•ï¼Œé¢å¤–çš„å¤æ‚æ€§è¢«å­˜å‚¨åˆ°å…¶ä»–ä¸¤ä¸ªç»„ä»¶ä¸­ï¼š

pages/article-edit/ui/ArticleEditPage.tsx

```
import { Form, useLoaderData } from "@remix-run/react";

import type { loader } from "../api/loader";
import { TagsInput } from "./TagsInput";
import { FormErrors } from "./FormErrors";

export function ArticleEditPage() {
  const article = useLoaderData<typeof loader>();

  return (
    <div className="editor-page">
      <div className="container page">
        <div className="row">
          <div className="col-md-10 offset-md-1 col-xs-12">
            <FormErrors />

            <Form method="post">
              <fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control form-control-lg"
                    name="title"
                    placeholder="Article Title"
                    defaultValue={article.article?.title}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <input
                    type="text"
                    className="form-control"
                    name="description"
                    placeholder="What's this article about?"
                    defaultValue={article.article?.description}
                  />
                </fieldset>
                <fieldset className="form-group">
                  <textarea
                    className="form-control"
                    name="body"
                    rows={8}
                    placeholder="Write your article (in markdown)"
                    defaultValue={article.article?.body}
                  ></textarea>
                </fieldset>
                <fieldset className="form-group">
                  <TagsInput
                    name="tags"
                    defaultValue={article.article?.tagList ?? []}
                  />
                </fieldset>

                <button className="btn btn-lg pull-xs-right btn-primary">
                  Publish Article
                </button>
              </fieldset>
            </Form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

æ­¤é¡µé¢è·å–å½“å‰æ–‡ç« ï¼ˆé™¤éæˆ‘ä»¬ä»å¤´å¼€å§‹ç¼–å†™ï¼‰å¹¶å¡«å†™ç›¸åº”çš„è¡¨å•å­—æ®µã€‚æˆ‘ä»¬ä¹‹å‰è§è¿‡è¿™ä¸ªã€‚æœ‰è¶£çš„éƒ¨åˆ†æ˜¯ `FormErrors`ï¼Œå› ä¸ºå®ƒå°†æ¥æ”¶éªŒè¯ç»“æœå¹¶å‘ç”¨æˆ·æ˜¾ç¤ºã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š

pages/article-edit/ui/FormErrors.tsx

```
import { useActionData } from "@remix-run/react";
import type { action } from "../api/action";

export function FormErrors() {
  const actionData = useActionData<typeof action>();

  return actionData?.errors != null ? (
    <ul className="error-messages">
      {actionData.errors.map((error) => (
        <li key={error}>{error}</li>
      ))}
    </ul>
  ) : null;
}
```

è¿™é‡Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬çš„ action å°†è¿”å› `errors` å­—æ®µï¼Œä¸€ä¸ªäººç±»å¯è¯»çš„é”™è¯¯æ¶ˆæ¯æ•°ç»„ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šè®²åˆ° actionã€‚

å¦ä¸€ä¸ªç»„ä»¶æ˜¯æ ‡ç­¾è¾“å…¥ã€‚å®ƒåªæ˜¯ä¸€ä¸ªæ™®é€šçš„è¾“å…¥å­—æ®µï¼Œé™„å¸¦æ‰€é€‰æ ‡ç­¾çš„é¢å¤–é¢„è§ˆã€‚è¿™é‡Œæ²¡ä»€ä¹ˆå¯çœ‹çš„ï¼š

pages/article-edit/ui/TagsInput.tsx

```
import { useEffect, useRef, useState } from "react";

export function TagsInput({
  name,
  defaultValue,
}: {
  name: string;
  defaultValue?: Array<string>;
}) {
  const [tagListState, setTagListState] = useState(defaultValue ?? []);

  function removeTag(tag: string): void {
    const newTagList = tagListState.filter((t) => t !== tag);
    setTagListState(newTagList);
  }

  const tagsInput = useRef<HTMLInputElement>(null);
  useEffect(() => {
    tagsInput.current && (tagsInput.current.value = tagListState.join(","));
  }, [tagListState]);

  return (
    <>
      <input
        type="text"
        className="form-control"
        id="tags"
        name={name}
        placeholder="Enter tags"
        defaultValue={tagListState.join(",")}
        onChange={(e) =>
          setTagListState(e.target.value.split(",").filter(Boolean))
        }
      />
      <div className="tag-list">
        {tagListState.map((tag) => (
          <span className="tag-default tag-pill" key={tag}>
            <i
              className="ion-close-round"
              role="button"
              tabIndex={0}
              onKeyDown={(e) =>
                [" ", "Enter"].includes(e.key) && removeTag(tag)
              }
              onClick={() => removeTag(tag)}
            ></i>{" "}
            {tag}
          </span>
        ))}
      </div>
    </>
  );
}
```

ç°åœ¨ï¼ŒAPI éƒ¨åˆ†ã€‚loader åº”è¯¥æŸ¥çœ‹ URLï¼Œå¦‚æœå®ƒåŒ…å«æ–‡ç«  slugï¼Œé‚£æ„å‘³ç€æˆ‘ä»¬æ­£åœ¨ç¼–è¾‘ç°æœ‰æ–‡ç« ï¼Œåº”è¯¥åŠ è½½å…¶æ•°æ®ã€‚å¦åˆ™ï¼Œè¿”å›ç©ºã€‚è®©æˆ‘ä»¬åˆ›å»ºè¯¥ loaderï¼š

pages/article-edit/api/loader.ts

```
import { json, type LoaderFunctionArgs } from "@remix-run/node";
import type { FetchResponse } from "openapi-fetch";

import { GET, requireUser } from "shared/api";

async function throwAnyErrors<T, O, Media extends `${string}/${string}`>(
  responsePromise: Promise<FetchResponse<T, O, Media>>,
) {
  const { data, error, response } = await responsePromise;

  if (error !== undefined) {
    throw json(error, { status: response.status });
  }

  return data as NonNullable<typeof data>;
}

export const loader = async ({ params, request }: LoaderFunctionArgs) => {
  const currentUser = await requireUser(request);

  if (!params.slug) {
    return { article: null };
  }

  return throwAnyErrors(
    GET("/articles/{slug}", {
      params: { path: { slug: params.slug } },
      headers: { Authorization: `Token ${currentUser.token}` },
    }),
  );
};
```

action å°†è·å–æ–°çš„å­—æ®µå€¼ï¼Œé€šè¿‡æˆ‘ä»¬çš„æ•°æ®æ¨¡å¼è¿è¡Œå®ƒä»¬ï¼Œå¦‚æœä¸€åˆ‡éƒ½æ­£ç¡®ï¼Œå°±å°†è¿™äº›æ›´æ”¹æäº¤åˆ°åç«¯ï¼Œé€šè¿‡æ›´æ–°ç°æœ‰æ–‡ç« æˆ–åˆ›å»ºæ–°æ–‡ç« ï¼š

pages/article-edit/api/action.ts

```
import { json, redirect, type ActionFunctionArgs } from "@remix-run/node";

import { POST, PUT, requireUser } from "shared/api";
import { parseAsArticle } from "../model/parseAsArticle";

export const action = async ({ request, params }: ActionFunctionArgs) => {
  try {
    const { body, description, title, tags } = parseAsArticle(
      await request.formData(),
    );
    const tagList = tags?.split(",") ?? [];

    const currentUser = await requireUser(request);
    const payload = {
      body: {
        article: {
          title,
          description,
          body,
          tagList,
        },
      },
      headers: { Authorization: `Token ${currentUser.token}` },
    };

    const { data, error } = await (params.slug
      ? PUT("/articles/{slug}", {
          params: { path: { slug: params.slug } },
          ...payload,
        })
      : POST("/articles", payload));

    if (error) {
      return json({ errors: error }, { status: 422 });
    }

    return redirect(`/article/${data.article.slug ?? ""}`);
  } catch (errors) {
    return json({ errors }, { status: 400 });
  }
};
```

æ¨¡å¼åŒæ—¶ä½œä¸º `FormData` çš„è§£æå‡½æ•°ï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·å–å¹²å‡€çš„å­—æ®µæˆ–åªæ˜¯æŠ›å‡ºé”™è¯¯åœ¨æœ«å°¾å¤„ç†ã€‚è¿™é‡Œæ˜¯è¯¥è§£æå‡½æ•°çš„æ ·å­ï¼š

pages/article-edit/model/parseAsArticle.ts

```
export function parseAsArticle(data: FormData) {
  const errors = [];

  const title = data.get("title");
  if (typeof title !== "string" || title === "") {
    errors.push("Give this article a title");
  }

  const description = data.get("description");
  if (typeof description !== "string" || description === "") {
    errors.push("Describe what this article is about");
  }

  const body = data.get("body");
  if (typeof body !== "string" || body === "") {
    errors.push("Write the article itself");
  }

  const tags = data.get("tags");
  if (typeof tags !== "string") {
    errors.push("The tags must be a string");
  }

  if (errors.length > 0) {
    throw errors;
  }

  return { title, description, body, tags: data.get("tags") ?? "" } as {
    title: string;
    description: string;
    body: string;
    tags: string;
  };
}
```

å¯ä»¥è¯´ï¼Œå®ƒæœ‰ç‚¹å‡—é•¿å’Œé‡å¤ï¼Œä½†è¿™æ˜¯æˆ‘ä»¬ä¸ºäººç±»å¯è¯»é”™è¯¯ä»˜å‡ºçš„ä»£ä»·ã€‚è¿™ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª Zod æ¨¡å¼ï¼Œä¾‹å¦‚ï¼Œä½†ç„¶åæˆ‘ä»¬å¿…é¡»åœ¨å‰ç«¯æ¸²æŸ“é”™è¯¯æ¶ˆæ¯ï¼Œè¿™ä¸ªè¡¨å•ä¸å€¼å¾—å¤æ‚åŒ–ã€‚

æœ€åä¸€æ­¥ â€” å°†é¡µé¢ã€loader å’Œ action è¿æ¥åˆ°è·¯ç”±ã€‚ç”±äºæˆ‘ä»¬å·§å¦™åœ°æ”¯æŒåˆ›å»ºå’Œç¼–è¾‘ï¼Œæˆ‘ä»¬å¯ä»¥ä» `editor._index.tsx` å’Œ `editor.$slug.tsx` ä¸¤è€…å¯¼å‡ºç›¸åŒçš„ä¸œè¥¿ï¼š

pages/article-edit/index.ts

```
export { ArticleEditPage } from "./ui/ArticleEditPage";
export { loader } from "./api/loader";
export { action } from "./api/action";
```

app/routes/editor.\_index.tsx, app/routes/editor.$slug.tsx (same content)

```
import { ArticleEditPage } from "pages/article-edit";

export { loader, action } from "pages/article-edit";

export default ArticleEditPage;
```

æˆ‘ä»¬ç°åœ¨å®Œæˆäº†ï¼ç™»å½•å¹¶å°è¯•åˆ›å»ºä¸€ç¯‡æ–°æ–‡ç« ã€‚æˆ–è€…â€œå¿˜è®°â€ç¼–å†™æ–‡ç« å¹¶çœ‹åˆ°éªŒè¯ç”Ÿæ•ˆã€‚

![The Conduit article editor, with the title field saying â€œNew articleâ€ and the rest of the fields empty. Above the form there are two errors: â€œDescribe what this article is aboutâ€ and â€œWrite the article itselfâ€.](/documentation/zh/assets/images/realworld-article-editor-bc3ee45c96ae905fdbb54d6463d12723.jpg)

The Conduit article editor, with the title field saying â€œNew articleâ€ and the rest of the fields empty. Above the form there are two errors: **â€œDescribe what this article is aboutâ€** and **â€œWrite the article itselfâ€**.

èµ„æ–™å’Œè®¾ç½®é¡µé¢ä¸æ–‡ç« é˜…è¯»å™¨å’Œç¼–è¾‘å™¨éå¸¸ç›¸ä¼¼ï¼Œå®ƒä»¬ç•™ä½œè¯»è€…çš„ç»ƒä¹ ï¼Œè¿™å°±æ˜¯æ‚¨ :)


---

# å¤„ç† API è¯·æ±‚

## å…±äº« API è¯·æ±‚[â€‹](#shared-api-requests "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é¦–å…ˆå°†é€šç”¨çš„ API è¯·æ±‚é€»è¾‘æ”¾åœ¨ `shared/api` ç›®å½•ä¸­ã€‚è¿™ä½¿å¾—åœ¨åº”ç”¨ç¨‹åºä¸­é‡ç”¨è¯·æ±‚å˜å¾—å®¹æ˜“ï¼Œå¹¶æœ‰åŠ©äºæ›´å¿«çš„åŸå‹å¼€å‘ã€‚å¯¹äºè®¸å¤šé¡¹ç›®æ¥è¯´ï¼Œè¿™å°±æ˜¯ API è°ƒç”¨æ‰€éœ€çš„å…¨éƒ¨å†…å®¹ã€‚

å…¸å‹çš„æ–‡ä»¶ç»“æ„æ˜¯ï¼š

* ğŸ“‚ shared

  <!-- -->

  * ğŸ“‚ api

    <!-- -->

    * ğŸ“„ client.ts
    * ğŸ“„ index.ts
    * ğŸ“‚ endpoints
      <!-- -->
      * ğŸ“„ login.ts

`client.ts` æ–‡ä»¶é›†ä¸­äº†æ‚¨çš„ HTTP è¯·æ±‚è®¾ç½®ã€‚å®ƒåŒ…è£…æ‚¨é€‰æ‹©çš„æ–¹æ³•ï¼ˆå¦‚ `fetch()` æˆ– `axios` å®ä¾‹ï¼‰å¹¶å¤„ç†å¸¸è§é…ç½®ï¼Œä¾‹å¦‚ï¼š

* åç«¯åŸºç¡€ URLã€‚
* é»˜è®¤å¤´éƒ¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºèº«ä»½éªŒè¯ï¼‰ã€‚
* æ•°æ®åºåˆ—åŒ–ã€‚

ä»¥ä¸‹æ˜¯ `axios` å’Œ `fetch` çš„ç¤ºä¾‹ï¼š

* Axios
* Fetch

shared/api/client.ts

```
// Example using axios
import axios from 'axios';

export const client = axios.create({
  baseURL: 'https://your-api-domain.com/api/',
  timeout: 5000,
  headers: { 'X-Custom-Header': 'my-custom-value' }
});
```

shared/api/client.ts

```
export const client = {
  async post(endpoint: string, body: any, options?: RequestInit) {
    const response = await fetch(`https://your-api-domain.com/api${endpoint}`, {
      method: 'POST',
      body: JSON.stringify(body),
      ...options,
      headers: {
        'Content-Type': 'application/json',
        'X-Custom-Header': 'my-custom-value',
        ...options?.headers,
      },
    });
    return response.json();
  }
  // ... other methods like put, delete, etc.
};
```

åœ¨ `shared/api/endpoints` ä¸­ç»„ç»‡æ‚¨çš„å•ä¸ª API è¯·æ±‚å‡½æ•°ï¼ŒæŒ‰ API ç«¯ç‚¹åˆ†ç»„ã€‚

å¤‡æ³¨

ä¸ºäº†ä¿æŒç¤ºä¾‹çš„é‡ç‚¹ï¼Œæˆ‘ä»¬çœç•¥äº†è¡¨å•äº¤äº’å’ŒéªŒè¯ã€‚æœ‰å…³ Zod æˆ– Valibot ç­‰åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[ç±»å‹éªŒè¯å’Œ Schemas](/documentation/zh/docs/guides/examples/types.md#type-validation-schemas-and-zod) æ–‡ç« ã€‚

shared/api/endpoints/login.ts

```
import { client } from '../client';

export interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

åœ¨ `shared/api` ä¸­ä½¿ç”¨ `index.ts` æ–‡ä»¶æ¥å¯¼å‡ºæ‚¨çš„è¯·æ±‚å‡½æ•°ã€‚

shared/api/index.ts

```
export { client } from './client'; // å¦‚æœæ‚¨æƒ³å¯¼å‡ºå®¢æˆ·ç«¯æœ¬èº«
export { login } from './endpoints/login';
export type { LoginCredentials } from './endpoints/login';
```

## ç‰¹å®š Slice çš„ API è¯·æ±‚[â€‹](#slice-specific-api-requests "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœ API è¯·æ±‚ä»…ç”±ç‰¹å®š sliceï¼ˆå¦‚å•ä¸ªé¡µé¢æˆ–åŠŸèƒ½ï¼‰ä½¿ç”¨ä¸”ä¸ä¼šè¢«é‡ç”¨ï¼Œè¯·å°†å…¶æ”¾åœ¨è¯¥ slice çš„ api segment ä¸­ã€‚è¿™æ ·å¯ä»¥ä¿æŒç‰¹å®š slice çš„é€»è¾‘æ•´é½åœ°åŒ…å«åœ¨å†…ã€‚

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ login

    <!-- -->

    * ğŸ“„ index.ts
    * ğŸ“‚ api
      <!-- -->
      * ğŸ“„ login.ts
    * ğŸ“‚ ui
      <!-- -->
      * ğŸ“„ LoginPage.tsx

pages/login/api/login.ts

```
import { client } from 'shared/api';

interface LoginCredentials {
  email: string;
  password: string;
}

export function login(credentials: LoginCredentials) {
  return client.post('/login', credentials);
}
```

æ‚¨ä¸éœ€è¦åœ¨é¡µé¢çš„å…¬å…± API ä¸­å¯¼å‡º `login()` å‡½æ•°ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–åœ°æ–¹ä¸å¤ªå¯èƒ½éœ€è¦è¿™ä¸ªè¯·æ±‚ã€‚

å¤‡æ³¨

é¿å…è¿‡æ—©åœ°å°† API è°ƒç”¨å’Œå“åº”ç±»å‹æ”¾åœ¨ `entities` å±‚ä¸­ã€‚åç«¯å“åº”å¯èƒ½ä¸æ‚¨çš„å‰ç«¯å®ä½“éœ€è¦çš„ä¸åŒã€‚`shared/api` æˆ– slice çš„ `api` segment ä¸­çš„ API é€»è¾‘å…è®¸æ‚¨é€‚å½“åœ°è½¬æ¢æ•°æ®ï¼Œä¿æŒå®ä½“ä¸“æ³¨äºå‰ç«¯å…³æ³¨ç‚¹ã€‚

## ä½¿ç”¨å®¢æˆ·ç«¯ç”Ÿæˆå™¨[â€‹](#client-generators "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨çš„åç«¯æœ‰ OpenAPI è§„èŒƒï¼Œåƒ [orval](https://orval.dev/) æˆ– [openapi-typescript](https://openapi-ts.dev/) è¿™æ ·çš„å·¥å…·å¯ä»¥ä¸ºæ‚¨ç”Ÿæˆ API ç±»å‹å’Œè¯·æ±‚å‡½æ•°ã€‚å°†ç”Ÿæˆçš„ä»£ç æ”¾åœ¨ï¼Œä¾‹å¦‚ `shared/api/openapi` ä¸­ã€‚ç¡®ä¿åŒ…å« `README.md` æ¥è®°å½•è¿™äº›ç±»å‹æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆå®ƒä»¬ã€‚

## ä¸æœåŠ¡å™¨çŠ¶æ€åº“é›†æˆ[â€‹](#server-state-libraries "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“ä½¿ç”¨åƒ [TanStack Query (React Query)](https://tanstack.com/query/latest) æˆ– [Pinia Colada](https://pinia-colada.esm.dev/) è¿™æ ·çš„æœåŠ¡å™¨çŠ¶æ€åº“æ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨ slices ä¹‹é—´å…±äº«ç±»å‹æˆ–ç¼“å­˜é”®ã€‚å°†ä»¥ä¸‹å†…å®¹ä½¿ç”¨ `shared` å±‚ï¼š

* API æ•°æ®ç±»å‹
* ç¼“å­˜é”®
* é€šç”¨æŸ¥è¯¢/å˜æ›´é€‰é¡¹

æœ‰å…³å¦‚ä½•ä½¿ç”¨æœåŠ¡å™¨çŠ¶æ€åº“çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [React Query æ–‡ç« ](/documentation/zh/docs/guides/tech/with-react-query.md)


---

# èº«ä»½éªŒè¯

å¹¿ä¹‰ä¸Šï¼Œèº«ä»½éªŒè¯åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š

1. ä»ç”¨æˆ·è·å–å‡­æ®
2. å°†å®ƒä»¬å‘é€åˆ°åç«¯
3. å­˜å‚¨ token ä»¥è¿›è¡Œç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚

## å¦‚ä½•ä»ç”¨æˆ·è·å–å‡­æ®[â€‹](#å¦‚ä½•ä»ç”¨æˆ·è·å–å‡­æ® "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æˆ‘ä»¬å‡è®¾æ‚¨çš„åº”ç”¨ç¨‹åºè´Ÿè´£è·å–å‡­æ®ã€‚å¦‚æœæ‚¨é€šè¿‡ OAuth è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°åˆ›å»ºä¸€ä¸ªç™»å½•é¡µé¢ï¼Œå…¶ä¸­åŒ…å«æŒ‡å‘ OAuth æä¾›å•†ç™»å½•é¡µé¢çš„é“¾æ¥ï¼Œç„¶åè·³è½¬åˆ°[æ­¥éª¤ 3](#how-to-store-the-token-for-authenticated-requests)ã€‚

### ä¸“ç”¨ç™»å½•é¡µé¢[â€‹](#ä¸“ç”¨ç™»å½•é¡µé¢ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é€šå¸¸ï¼Œç½‘ç«™æœ‰ä¸“ç”¨çš„ç™»å½•é¡µé¢ï¼Œæ‚¨åœ¨å…¶ä¸­è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚è¿™äº›é¡µé¢ç›¸å½“ç®€å•ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†è§£ã€‚ç™»å½•å’Œæ³¨å†Œè¡¨å•åœ¨å¤–è§‚ä¸Šç›¸å½“ç›¸ä¼¼ï¼Œæ‰€ä»¥å®ƒä»¬ç”šè‡³å¯ä»¥è¢«ç»„åˆåœ¨ä¸€ä¸ªé¡µé¢ä¸­ã€‚åœ¨ Pages layer ä¸Šä¸ºæ‚¨çš„ç™»å½•/æ³¨å†Œé¡µé¢åˆ›å»ºä¸€ä¸ª sliceï¼š

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ login

    <!-- -->

    * ğŸ“‚ ui

      <!-- -->

      * ğŸ“„ LoginPage.tsx (or your framework's component file format)
      * ğŸ“„ RegisterPage.tsx

    * ğŸ“„ index.ts

  * other pagesâ€¦

åœ¨è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç»„ä»¶å¹¶åœ¨ slice çš„ index æ–‡ä»¶ä¸­å¯¼å‡ºå®ƒä»¬ã€‚è¿™äº›ç»„ä»¶å°†åŒ…å«è¡¨å•ï¼Œè´Ÿè´£ä¸ºç”¨æˆ·æä¾›å¯ç†è§£çš„æ§ä»¶æ¥è·å–ä»–ä»¬çš„å‡­æ®ã€‚

### ç™»å½•å¯¹è¯æ¡†[â€‹](#ç™»å½•å¯¹è¯æ¡† "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªå¯ä»¥åœ¨ä»»ä½•é¡µé¢ä¸Šä½¿ç”¨çš„ç™»å½•å¯¹è¯æ¡†ï¼Œè¯·è€ƒè™‘å°†è¯¥å¯¹è¯æ¡†è®¾ä¸º widgetã€‚è¿™æ ·ï¼Œæ‚¨ä»ç„¶å¯ä»¥é¿å…è¿‡å¤šçš„åˆ†è§£ï¼Œä½†å¯ä»¥è‡ªç”±åœ°åœ¨ä»»ä½•é¡µé¢ä¸Šé‡ç”¨æ­¤å¯¹è¯æ¡†ã€‚

* ğŸ“‚ widgets

  <!-- -->

  * ğŸ“‚ login-dialog

    <!-- -->

    * ğŸ“‚ ui
      <!-- -->
      * ğŸ“„ LoginDialog.tsx
    * ğŸ“„ index.ts

  * other widgetsâ€¦

æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†æ˜¯ä¸ºä¸“ç”¨é¡µé¢æ–¹æ³•ç¼–å†™çš„ï¼Œä½†ç›¸åŒçš„åŸåˆ™ä¹Ÿé€‚ç”¨äºå¯¹è¯æ¡† widgetã€‚

### å®¢æˆ·ç«¯éªŒè¯[â€‹](#å®¢æˆ·ç«¯éªŒè¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰æ—¶ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ³¨å†Œï¼Œæ‰§è¡Œå®¢æˆ·ç«¯éªŒè¯æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥è®©ç”¨æˆ·å¿«é€ŸçŸ¥é“ä»–ä»¬çŠ¯äº†é”™è¯¯ã€‚éªŒè¯å¯ä»¥åœ¨ç™»å½•é¡µé¢çš„ `model` segment ä¸­è¿›è¡Œã€‚ä½¿ç”¨ schema éªŒè¯åº“ï¼Œä¾‹å¦‚ JS/TS çš„ [Zod](https://zod.dev)ï¼Œå¹¶å°†è¯¥ schema æš´éœ²ç»™ `ui` segmentï¼š

pages/login/model/registration-schema.ts

```
import { z } from "zod";

export const registrationData = z.object({
    email: z.string().email(),
    password: z.string().min(6),
    confirmPassword: z.string(),
}).refine((data) => data.password === data.confirmPassword, {
    message: "Passwords do not match",
    path: ["confirmPassword"],
});
```

ç„¶åï¼Œåœ¨ `ui` segment ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤ schema æ¥éªŒè¯ç”¨æˆ·è¾“å…¥ï¼š

pages/login/ui/RegisterPage.tsx

```
import { registrationData } from "../model/registration-schema";

function validate(formData: FormData) {
    const data = Object.fromEntries(formData.entries());
    try {
        registrationData.parse(data);
    } catch (error) {
        // TODO: Show error message to the user
    }
}

export function RegisterPage() {
    return (
        <form onSubmit={(e) => validate(new FormData(e.target))}>
            <label htmlFor="email">E-mail</label>
            <input id="email" name="email" required />

            <label htmlFor="password">Password (min. 6 characters)</label>
            <input id="password" name="password" type="password" required />

            <label htmlFor="confirmPassword">Confirm password</label>
            <input id="confirmPassword" name="confirmPassword" type="password" required />
        </form>
    )
}
```

## å¦‚ä½•å°†å‡­æ®å‘é€åˆ°åç«¯[â€‹](#å¦‚ä½•å°†å‡­æ®å‘é€åˆ°åç«¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åˆ›å»ºä¸€ä¸ªå‘åç«¯ç™»å½•ç«¯ç‚¹å‘å‡ºè¯·æ±‚çš„å‡½æ•°ã€‚æ­¤å‡½æ•°å¯ä»¥ä½¿ç”¨ mutation åº“ï¼ˆä¾‹å¦‚ TanStack Queryï¼‰ç›´æ¥åœ¨ç»„ä»¶ä»£ç ä¸­è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºçŠ¶æ€ç®¡ç†å™¨ä¸­çš„å‰¯ä½œç”¨è°ƒç”¨ã€‚å¦‚ [API è¯·æ±‚æŒ‡å—](/documentation/zh/docs/guides/examples/api-requests.md) ä¸­æ‰€è¿°ï¼Œæ‚¨å¯ä»¥å°†è¯·æ±‚æ”¾åœ¨ `shared/api` ä¸­æˆ–ç™»å½•é¡µé¢çš„ `api` segment ä¸­ã€‚

### åŒå› ç´ è®¤è¯[â€‹](#åŒå› ç´ è®¤è¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ”¯æŒåŒå› ç´ è®¤è¯ï¼ˆ2FAï¼‰ï¼Œæ‚¨å¯èƒ½éœ€è¦é‡å®šå‘åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­è¾“å…¥ä¸€æ¬¡æ€§å¯†ç ã€‚é€šå¸¸ï¼Œæ‚¨çš„ `POST /login` è¯·æ±‚ä¼šè¿”å›å¸¦æœ‰æ ‡å¿—çš„ç”¨æˆ·å¯¹è±¡ï¼ŒæŒ‡ç¤ºç”¨æˆ·å·²å¯ç”¨ 2FAã€‚å¦‚æœè®¾ç½®äº†è¯¥æ ‡å¿—ï¼Œè¯·å°†ç”¨æˆ·é‡å®šå‘åˆ° 2FA é¡µé¢ã€‚

ç”±äºæ­¤é¡µé¢ä¸ç™»å½•å¯†åˆ‡ç›¸å…³ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†å…¶ä¿ç•™åœ¨ Pages layer ä¸Šçš„åŒä¸€ä¸ª slice `login` ä¸­ã€‚

æ‚¨è¿˜éœ€è¦å¦ä¸€ä¸ªè¯·æ±‚å‡½æ•°ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢åˆ›å»ºçš„ `login()`ã€‚å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·ï¼Œè¦ä¹ˆåœ¨ Shared ä¸­ï¼Œè¦ä¹ˆåœ¨ `login` é¡µé¢çš„ `api` segment ä¸­ã€‚

## å¦‚ä½•å­˜å‚¨ token ä»¥è¿›è¡Œç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚[â€‹](#how-to-store-the-token-for-authenticated-requests "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ— è®ºæ‚¨ä½¿ç”¨å“ªç§èº«ä»½éªŒè¯æ–¹æ¡ˆï¼Œæ— è®ºæ˜¯ç®€å•çš„ç™»å½•å’Œå¯†ç ã€OAuth è¿˜æ˜¯åŒå› ç´ è®¤è¯ï¼Œæœ€ç»ˆæ‚¨éƒ½ä¼šæ”¶åˆ°ä¸€ä¸ª tokenã€‚åº”è¯¥å­˜å‚¨æ­¤ tokenï¼Œä»¥ä¾¿åç»­è¯·æ±‚å¯ä»¥è¯†åˆ«è‡ªå·±ã€‚

Web åº”ç”¨ç¨‹åºçš„ç†æƒ³ token å­˜å‚¨æ˜¯ **cookie** â€” å®ƒä¸éœ€è¦æ‰‹åŠ¨ token å­˜å‚¨æˆ–å¤„ç†ã€‚å› æ­¤ï¼Œcookie å­˜å‚¨å‡ ä¹ä¸éœ€è¦ä»å‰ç«¯æ¶æ„æ–¹é¢è€ƒè™‘ã€‚å¦‚æœæ‚¨çš„å‰ç«¯æ¡†æ¶æœ‰æœåŠ¡å™¨ç«¯ï¼ˆä¾‹å¦‚ [Remix](https://remix.run)ï¼‰ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥å°†æœåŠ¡å™¨ç«¯ cookie åŸºç¡€è®¾æ–½å­˜å‚¨åœ¨ `shared/api` ä¸­ã€‚åœ¨[æ•™ç¨‹çš„èº«ä»½éªŒè¯éƒ¨åˆ†](/documentation/zh/docs/get-started/tutorial.md#authentication)ä¸­æœ‰ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ Remix åšåˆ°è¿™ä¸€ç‚¹çš„ç¤ºä¾‹ã€‚

ä½†æ˜¯ï¼Œæœ‰æ—¶ cookie å­˜å‚¨ä¸æ˜¯ä¸€ä¸ªé€‰é¡¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†å¿…é¡»æ‰‹åŠ¨å­˜å‚¨ tokenã€‚é™¤äº†å­˜å‚¨ token ä¹‹å¤–ï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦è®¾ç½®åœ¨ token è¿‡æœŸæ—¶åˆ·æ–° token çš„é€»è¾‘ã€‚ä½¿ç”¨ FSDï¼Œæœ‰å‡ ä¸ªåœ°æ–¹å¯ä»¥å­˜å‚¨ tokenï¼Œä»¥åŠå‡ ç§æ–¹æ³•å¯ä»¥ä½¿å…¶å¯¹åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†å¯ç”¨ã€‚

### åœ¨ Shared ä¸­[â€‹](#åœ¨-shared-ä¸­ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™ç§æ–¹æ³•ä¸åœ¨ `shared/api` ä¸­å®šä¹‰çš„ API å®¢æˆ·ç«¯é…åˆå¾—å¾ˆå¥½ï¼Œå› ä¸º token å¯ä»¥è‡ªç”±åœ°ç”¨äºå…¶ä»–éœ€è¦èº«ä»½éªŒè¯æ‰èƒ½æˆåŠŸçš„è¯·æ±‚å‡½æ•°ã€‚æ‚¨å¯ä»¥è®© API å®¢æˆ·ç«¯ä¿æŒçŠ¶æ€ï¼Œæ— è®ºæ˜¯ä½¿ç”¨å“åº”å¼å­˜å‚¨è¿˜æ˜¯ç®€å•çš„æ¨¡å—çº§å˜é‡ï¼Œå¹¶åœ¨æ‚¨çš„ `login()`/`logout()` å‡½æ•°ä¸­æ›´æ–°è¯¥çŠ¶æ€ã€‚

è‡ªåŠ¨ token åˆ·æ–°å¯ä»¥ä½œä¸º API å®¢æˆ·ç«¯ä¸­çš„ä¸­é—´ä»¶å®ç° â€” æ¯æ¬¡æ‚¨å‘å‡ºä»»ä½•è¯·æ±‚æ—¶éƒ½å¯ä»¥æ‰§è¡Œçš„ä¸œè¥¿ã€‚å®ƒå¯ä»¥è¿™æ ·å·¥ä½œï¼š

* è®¤è¯å¹¶å­˜å‚¨è®¿é—® token ä»¥åŠåˆ·æ–° token
* å‘å‡ºä»»ä½•éœ€è¦èº«ä»½éªŒè¯çš„è¯·æ±‚
* å¦‚æœè¯·æ±‚å¤±è´¥å¹¶è¿”å›æŒ‡ç¤º token è¿‡æœŸçš„çŠ¶æ€ç ï¼Œå¹¶ä¸”å­˜å‚¨ä¸­æœ‰ tokenï¼Œåˆ™å‘å‡ºåˆ·æ–°è¯·æ±‚ï¼Œå­˜å‚¨æ–°çš„ tokenï¼Œå¹¶é‡è¯•åŸå§‹è¯·æ±‚

è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹ä¹‹ä¸€æ˜¯ç®¡ç†å’Œåˆ·æ–°tokençš„é€»è¾‘æ²¡æœ‰ä¸“é—¨çš„ä½ç½®ã€‚å¯¹äºæŸäº›åº”ç”¨ç¨‹åºæˆ–å›¢é˜Ÿæ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯å¯ä»¥æ¥å—çš„ï¼Œä½†å¦‚æœtokenç®¡ç†é€»è¾‘æ›´å¤æ‚ï¼Œæœ€å¥½å°†å‘å‡ºè¯·æ±‚å’Œç®¡ç†tokençš„èŒè´£åˆ†å¼€ã€‚ä½ å¯ä»¥é€šè¿‡å°†è¯·æ±‚å’ŒAPIå®¢æˆ·ç«¯ä¿ç•™åœ¨`shared/api`ä¸­ï¼Œä½†å°†tokenå­˜å‚¨å’Œç®¡ç†é€»è¾‘æ”¾åœ¨`shared/auth`ä¸­æ¥å®ç°è¿™ä¸€ç‚¹ã€‚

è¿™ç§æ–¹æ³•çš„å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¦‚æœä½ çš„åç«¯è¿”å›å½“å‰ç”¨æˆ·ä¿¡æ¯çš„å¯¹è±¡ä»¥åŠtokenï¼Œä½ å¿…é¡»å°†å…¶å­˜å‚¨åœ¨æŸå¤„æˆ–ä¸¢å¼ƒè¯¥ä¿¡æ¯ï¼Œå¹¶ä»è¯¸å¦‚`/me`æˆ–`/users/current`ä¹‹ç±»çš„ç«¯ç‚¹å†æ¬¡è¯·æ±‚å®ƒã€‚

### åœ¨ Entities ä¸­[â€‹](#åœ¨-entities-ä¸­ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

FSD é¡¹ç›®é€šå¸¸æœ‰ä¸€ä¸ªç”¨æˆ·å®ä½“å’Œ/æˆ–å½“å‰ç”¨æˆ·å®ä½“ã€‚ç”šè‡³å¯ä»¥æ˜¯åŒä¸€ä¸ªå®ä½“ã€‚

å¤‡æ³¨

**å½“å‰ç”¨æˆ·**æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸º"viewer"æˆ–"me"ã€‚è¿™æ˜¯ä¸ºäº†åŒºåˆ†å…·æœ‰æƒé™å’Œç§äººä¿¡æ¯çš„å•ä¸ªç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·ä¸å…·æœ‰å…¬å¼€å¯è®¿é—®ä¿¡æ¯çš„æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨ã€‚

è¦åœ¨ç”¨æˆ·å®ä½“ä¸­å­˜å‚¨tokenï¼Œè¯·åœ¨`model`æ®µä¸­åˆ›å»ºä¸€ä¸ªå“åº”å¼å­˜å‚¨ã€‚è¯¥å­˜å‚¨å¯ä»¥åŒæ—¶åŒ…å«tokenå’Œç”¨æˆ·å¯¹è±¡ã€‚

ç”±äºAPIå®¢æˆ·ç«¯é€šå¸¸åœ¨`shared/api`ä¸­å®šä¹‰æˆ–åˆ†å¸ƒåœ¨å„ä¸ªå®ä½“ä¸­ï¼Œè¿™ç§æ–¹æ³•çš„ä¸»è¦æŒ‘æˆ˜æ˜¯åœ¨ä¸è¿å[å±‚çº§å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)çš„æƒ…å†µä¸‹ä½¿tokenå¯¹éœ€è¦å®ƒçš„å…¶ä»–è¯·æ±‚å¯ç”¨ï¼š

> åˆ‡ç‰‡ä¸­çš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰åªèƒ½åœ¨å…¶ä»–åˆ‡ç‰‡ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚çº§æ—¶å¯¼å…¥å®ƒä»¬ã€‚

æœ‰å‡ ç§è§£å†³è¿™ä¸ªæŒ‘æˆ˜çš„æ–¹æ¡ˆï¼š

1. **æ¯æ¬¡å‘å‡ºè¯·æ±‚æ—¶æ‰‹åŠ¨ä¼ é€’token**
   <br />
   <!-- -->
   è¿™æ˜¯æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å¾ˆå¿«å°±ä¼šå˜å¾—ç¹çï¼Œå¦‚æœä½ æ²¡æœ‰ç±»å‹å®‰å…¨ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ã€‚å®ƒä¹Ÿä¸Sharedä¸­APIå®¢æˆ·ç«¯çš„ä¸­é—´ä»¶æ¨¡å¼ä¸å…¼å®¹ã€‚
2. **é€šè¿‡ä¸Šä¸‹æ–‡æˆ–åƒ`localStorage`è¿™æ ·çš„å…¨å±€å­˜å‚¨å°†tokenæš´éœ²ç»™æ•´ä¸ªåº”ç”¨ç¨‹åº**
   <br />
   <!-- -->
   æ£€ç´¢tokençš„é”®å°†ä¿å­˜åœ¨`shared/api`ä¸­ï¼Œä»¥ä¾¿APIå®¢æˆ·ç«¯å¯ä»¥è®¿é—®å®ƒã€‚tokençš„å“åº”å¼å­˜å‚¨å°†ä»ç”¨æˆ·å®ä½“å¯¼å‡ºï¼Œä¸Šä¸‹æ–‡æä¾›è€…ï¼ˆå¦‚æœéœ€è¦ï¼‰å°†åœ¨Appå±‚è®¾ç½®ã€‚è¿™ä¸ºè®¾è®¡APIå®¢æˆ·ç«¯æä¾›äº†æ›´å¤šè‡ªç”±ï¼Œä½†æ˜¯ï¼Œè¿™ä¼šå¯¹æ›´é«˜å±‚çº§æä¾›ä¸Šä¸‹æ–‡åˆ›å»ºéšå¼ä¾èµ–ã€‚éµå¾ªè¿™ç§æ–¹æ³•æ—¶ï¼Œå¦‚æœä¸Šä¸‹æ–‡æˆ–`localStorage`æ²¡æœ‰æ­£ç¡®è®¾ç½®ï¼Œè¯·è€ƒè™‘æä¾›æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚
3. **æ¯æ¬¡tokenæ›´æ”¹æ—¶å°†å…¶æ³¨å…¥APIå®¢æˆ·ç«¯**
   <br />
   <!-- -->
   å¦‚æœä½ çš„å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªè®¢é˜…ï¼Œæ¯æ¬¡å®ä½“ä¸­çš„å­˜å‚¨æ›´æ”¹æ—¶éƒ½ä¼šæ›´æ–°APIå®¢æˆ·ç«¯çš„tokenå­˜å‚¨ã€‚è¿™ä¸å‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆç±»ä¼¼ï¼Œå› ä¸ºå®ƒä»¬éƒ½å¯¹æ›´é«˜å±‚çº§åˆ›å»ºéšå¼ä¾èµ–ï¼Œä½†è¿™ä¸ªæ›´å…·å‘½ä»¤æ€§ï¼ˆ"æ¨é€"ï¼‰ï¼Œè€Œå‰ä¸€ä¸ªæ›´å…·å£°æ˜æ€§ï¼ˆ"æ‹‰å–"ï¼‰ã€‚

ä¸€æ—¦ä½ å…‹æœäº†æš´éœ²å­˜å‚¨åœ¨å®ä½“æ¨¡å‹ä¸­çš„tokençš„æŒ‘æˆ˜ï¼Œä½ å°±å¯ä»¥ç¼–ç æ›´å¤šä¸tokenç®¡ç†ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œ`model`æ®µå¯ä»¥åŒ…å«åœ¨ä¸€å®šæ—¶é—´åä½¿tokenå¤±æ•ˆçš„é€»è¾‘ï¼Œæˆ–åœ¨tokenè¿‡æœŸæ—¶åˆ·æ–°tokençš„é€»è¾‘ã€‚è¦å®é™…å‘åç«¯å‘å‡ºè¯·æ±‚ï¼Œè¯·ä½¿ç”¨ç”¨æˆ·å®ä½“çš„`api`æ®µæˆ–`shared/api`ã€‚

### åœ¨é¡µé¢/å°éƒ¨ä»¶ä¸­ï¼ˆä¸æ¨èï¼‰[â€‹](#åœ¨é¡µé¢å°éƒ¨ä»¶ä¸­ä¸æ¨è "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸å»ºè®®åœ¨é¡µé¢æˆ–å°éƒ¨ä»¶ä¸­å­˜å‚¨åƒè®¿é—®tokenè¿™æ ·çš„åº”ç”¨ç¨‹åºèŒƒå›´çŠ¶æ€ã€‚é¿å…å°†tokenå­˜å‚¨æ”¾åœ¨ç™»å½•é¡µé¢çš„`model`æ®µä¸­ï¼Œè€Œæ˜¯ä»å‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆä¸­é€‰æ‹©ï¼šSharedæˆ–Entitiesã€‚

## ç™»å‡ºå’Œ token å¤±æ•ˆ[â€‹](#ç™»å‡ºå’Œ-token-å¤±æ•ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºæ²¡æœ‰ä¸“é—¨çš„ç™»å‡ºé¡µé¢ï¼Œä½†ç™»å‡ºåŠŸèƒ½ä»ç„¶éå¸¸é‡è¦ã€‚å®ƒåŒ…æ‹¬å¯¹åç«¯çš„ç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚å’Œå¯¹ token å­˜å‚¨çš„æ›´æ–°ã€‚

å¦‚æœæ‚¨å°†æ‰€æœ‰è¯·æ±‚å­˜å‚¨åœ¨ `shared/api` ä¸­ï¼Œè¯·å°†ç™»å‡ºè¯·æ±‚å‡½æ•°ä¿ç•™åœ¨é‚£é‡Œï¼Œé è¿‘ç™»å½•å‡½æ•°ã€‚å¦åˆ™ï¼Œè¯·è€ƒè™‘å°†ç™»å‡ºè¯·æ±‚å‡½æ•°ä¿ç•™åœ¨è§¦å‘å®ƒçš„æŒ‰é’®æ—è¾¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªå‡ºç°åœ¨æ¯ä¸ªé¡µé¢ä¸Šå¹¶åŒ…å«ç™»å‡ºé“¾æ¥çš„å¤´éƒ¨ widgetï¼Œè¯·å°†è¯¥è¯·æ±‚æ”¾åœ¨è¯¥ widget çš„ `api` segment ä¸­ã€‚

token å­˜å‚¨çš„æ›´æ–°å¿…é¡»ä»ç™»å‡ºæŒ‰é’®çš„ä½ç½®è§¦å‘ï¼Œæ¯”å¦‚å¤´éƒ¨ widgetã€‚æ‚¨å¯ä»¥åœ¨è¯¥ widget çš„ `model` segment ä¸­ç»„åˆè¯·æ±‚å’Œå­˜å‚¨æ›´æ–°ã€‚

### è‡ªåŠ¨ç™»å‡º[â€‹](#è‡ªåŠ¨ç™»å‡º "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸è¦å¿˜è®°ä¸ºç™»å‡ºè¯·æ±‚å¤±è´¥æˆ–åˆ·æ–°ç™»å½• token è¯·æ±‚å¤±è´¥æ—¶æ„å»ºæ•…éšœä¿æŠ¤ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ‚¨éƒ½åº”è¯¥æ¸…é™¤ token å­˜å‚¨ã€‚å¦‚æœæ‚¨å°† token ä¿å­˜åœ¨ Entities ä¸­ï¼Œæ­¤ä»£ç å¯ä»¥æ”¾åœ¨ `model` segment ä¸­ï¼Œå› ä¸ºå®ƒæ˜¯çº¯ä¸šåŠ¡é€»è¾‘ã€‚å¦‚æœæ‚¨å°† token ä¿å­˜åœ¨ Shared ä¸­ï¼Œå°†æ­¤é€»è¾‘æ”¾åœ¨ `shared/api` ä¸­å¯èƒ½ä¼šä½¿ segment è†¨èƒ€å¹¶ç¨€é‡Šå…¶ç›®çš„ã€‚å¦‚æœæ‚¨æ³¨æ„åˆ°æ‚¨çš„ API segment åŒ…å«å‡ ä¸ªä¸ç›¸å…³çš„ä¸œè¥¿ï¼Œè¯·è€ƒè™‘å°† token ç®¡ç†é€»è¾‘æ‹†åˆ†åˆ°å¦ä¸€ä¸ª segment ä¸­ï¼Œä¾‹å¦‚ `shared/auth`ã€‚


---

# è‡ªåŠ¨å®Œæˆ

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/170)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºæŒ‰å±‚åˆ†è§£

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(è®¨è®º) å…³äºå°†æ–¹æ³•è®ºåº”ç”¨äºåŠ è½½å­—å…¸çš„é€‰æ‹©](https://github.com/feature-sliced/documentation/discussions/65#discussioncomment-480807)


---

# æµè§ˆå™¨ API

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/197)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºä½¿ç”¨æµè§ˆå™¨ APIï¼šlocalStorageã€éŸ³é¢‘ APIã€è“ç‰™ API ç­‰ã€‚
>
> æ‚¨å¯ä»¥å‘ [@alex\_novi](https://t.me/alex_novich) è¯¢é—®æ›´å¤šè¯¦ç»†ä¿¡æ¯


---

# CMS

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/172)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## åŠŸèƒ½å¯èƒ½ä¸åŒ[â€‹](#åŠŸèƒ½å¯èƒ½ä¸åŒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨ä¸€äº›é¡¹ç›®ä¸­ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é›†ä¸­åœ¨æ¥è‡ªæœåŠ¡å™¨çš„æ•°æ®ä¸­

> <https://github.com/feature-sliced/documentation/discussions/65#discussioncomment-480785>

## å¦‚ä½•æ›´æ­£ç¡®åœ°ä½¿ç”¨ CMS æ ‡è®°[â€‹](#å¦‚ä½•æ›´æ­£ç¡®åœ°ä½¿ç”¨-cms-æ ‡è®° "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> <https://t.me/feature_sliced/1557>

> <https://t.me/feature_sliced/1553>


---

# åé¦ˆ

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/187)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> é”™è¯¯ã€è­¦å‘Šã€é€šçŸ¥â€¦â€¦


---

# å›½é™…åŒ–

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/171)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## åœ¨å“ªé‡Œæ”¾ç½®å®ƒï¼Ÿå¦‚ä½•ä½¿ç”¨å®ƒï¼Ÿ[â€‹](#åœ¨å“ªé‡Œæ”¾ç½®å®ƒå¦‚ä½•ä½¿ç”¨å®ƒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* <https://t.me/feature_sliced/4425>
* <https://t.me/feature_sliced/2325>
* <https://t.me/feature_sliced/1867>


---

# æŒ‡æ ‡

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/181)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºåœ¨åº”ç”¨ç¨‹åºä¸­åˆå§‹åŒ–æŒ‡æ ‡çš„æ–¹æ³•


---

# å•ä½“ä»“åº“

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/221)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºå•ä½“ä»“åº“çš„é€‚ç”¨æ€§ï¼Œå…³äº bffï¼Œå…³äºå¾®åº”ç”¨

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(è®¨è®º) å…³äºå•ä½“ä»“åº“å’Œæ’ä»¶åŒ…](https://github.com/feature-sliced/documentation/discussions/50)
* [(Thread) å…³äºå•ä½“ä»“åº“çš„åº”ç”¨](https://t.me/feature_sliced/2412)


---

# é¡µé¢å¸ƒå±€

æœ¬æŒ‡å—æ¢è®¨äº†\_é¡µé¢å¸ƒå±€\_çš„æŠ½è±¡ â€” å½“å¤šä¸ªé¡µé¢å…±äº«ç›¸åŒçš„æ•´ä½“ç»“æ„ï¼Œä»…åœ¨ä¸»è¦å†…å®¹ä¸Šæœ‰æ‰€ä¸åŒæ—¶ã€‚

ä¿¡æ¯

æœ¬æŒ‡å—æ²¡æœ‰æ¶µç›–æ‚¨çš„é—®é¢˜ï¼Ÿè¯·é€šè¿‡åœ¨æœ¬æ–‡ä¸Šç•™ä¸‹åé¦ˆï¼ˆå³ä¾§çš„è“è‰²æŒ‰é’®ï¼‰æ¥å‘å¸ƒæ‚¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†è€ƒè™‘æ‰©å±•æœ¬æŒ‡å—ï¼

## ç®€å•å¸ƒå±€[â€‹](#ç®€å•å¸ƒå±€ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ€ç®€å•çš„å¸ƒå±€å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šçœ‹åˆ°ã€‚å®ƒæœ‰ä¸€ä¸ªå¸¦æœ‰ç«™ç‚¹å¯¼èˆªçš„å¤´éƒ¨ã€ä¸¤ä¸ªä¾§è¾¹æ å’Œä¸€ä¸ªå¸¦æœ‰å¤–éƒ¨é“¾æ¥çš„é¡µè„šã€‚æ²¡æœ‰å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå”¯ä¸€çš„åŠ¨æ€éƒ¨åˆ†æ˜¯ä¾§è¾¹æ å’Œå¤´éƒ¨å³ä¾§çš„åˆ‡æ¢å™¨ã€‚è¿™æ ·çš„å¸ƒå±€å¯ä»¥å®Œå…¨æ”¾ç½®åœ¨ `shared/ui` æˆ– `app/layouts` ä¸­ï¼Œé€šè¿‡ props å¡«å……ä¾§è¾¹æ çš„å†…å®¹ï¼š

shared/ui/layout/Layout.tsx

```
import { Link, Outlet } from "react-router-dom";
import { useThemeSwitcher } from "./useThemeSwitcher";

export function Layout({ siblingPages, headings }) {
  const [theme, toggleTheme] = useThemeSwitcher();

  return (
    <div>
      <header>
        <nav>
          <ul>
            <li> <Link to="/">Home</Link> </li>
            <li> <Link to="/docs">Docs</Link> </li>
            <li> <Link to="/blog">Blog</Link> </li>
          </ul>
        </nav>
        <button onClick={toggleTheme}>{theme}</button>
      </header>
      <main>
        <SiblingPageSidebar siblingPages={siblingPages} />
        <Outlet /> {/* è¿™é‡Œæ˜¯ä¸»è¦å†…å®¹çš„ä½ç½® */}
        <HeadingsSidebar headings={headings} />
      </main>
      <footer>
        <ul>
          <li>GitHub</li>
          <li>Twitter</li>
        </ul>
      </footer>
    </div>
  );
}
```

shared/ui/layout/useThemeSwitcher.ts

```
export function useThemeSwitcher() {
  const [theme, setTheme] = useState("light");

  function toggleTheme() {
    setTheme(theme === "light" ? "dark" : "light");
  }

  useEffect(() => {
    document.body.classList.remove("light", "dark");
    document.body.classList.add(theme);
  }, [theme]);

  return [theme, toggleTheme] as const;
}
```

ä¾§è¾¹æ çš„ä»£ç ç•™ç»™è¯»è€…ä½œä¸ºç»ƒä¹  ğŸ˜‰ã€‚

## åœ¨å¸ƒå±€ä¸­ä½¿ç”¨ widgets[â€‹](#åœ¨å¸ƒå±€ä¸­ä½¿ç”¨-widgets "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰æ—¶æ‚¨å¸Œæœ›åœ¨å¸ƒå±€ä¸­åŒ…å«æŸäº›ä¸šåŠ¡é€»è¾‘ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨ä½¿ç”¨åƒ [React Router](https://reactrouter.com/) è¿™æ ·çš„è·¯ç”±å™¨çš„æ·±åº¦åµŒå¥—è·¯ç”±ã€‚ç„¶åç”±äº[å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)ï¼Œæ‚¨æ— æ³•å°†å¸ƒå±€å­˜å‚¨åœ¨ Shared æˆ– Widgets ä¸­ï¼š

> slice ä¸­çš„æ¨¡å—åªèƒ½åœ¨å…¶ä»– slices ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚æ—¶å¯¼å…¥å®ƒä»¬ã€‚

åœ¨æˆ‘ä»¬è®¨è®ºè§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¨è®ºè¿™æ˜¯å¦é¦–å…ˆæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚æ‚¨\_çœŸçš„éœ€è¦\_é‚£ä¸ªå¸ƒå±€å—ï¼Ÿå¦‚æœéœ€è¦ï¼Œå®ƒ\_çœŸçš„éœ€è¦\_æˆä¸ºä¸€ä¸ª Widget å—ï¼Ÿå¦‚æœæ‰€è®¨è®ºçš„ä¸šåŠ¡é€»è¾‘å—åœ¨ 2-3 ä¸ªé¡µé¢ä¸Šé‡ç”¨ï¼Œè€Œå¸ƒå±€åªæ˜¯è¯¥ widget çš„ä¸€ä¸ªå°åŒ…è£…å™¨ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªé€‰é¡¹ä¹‹ä¸€ï¼š

1. **åœ¨ App å±‚å†…è”ç¼–å†™å¸ƒå±€ï¼Œåœ¨é‚£é‡Œé…ç½®è·¯ç”±**<br /><!-- -->è¿™å¯¹äºæ”¯æŒåµŒå¥—çš„è·¯ç”±å™¨æ¥è¯´å¾ˆæ£’ï¼Œå› ä¸ºæ‚¨å¯ä»¥å°†æŸäº›è·¯ç”±åˆ†ç»„å¹¶ä»…å¯¹å®ƒä»¬åº”ç”¨å¸ƒå±€ã€‚

2. **ç›´æ¥å¤åˆ¶ç²˜è´´**<br /><!-- -->æŠ½è±¡ä»£ç çš„å†²åŠ¨å¾€å¾€è¢«è¿‡åº¦é«˜ä¼°ã€‚å¯¹äºå¾ˆå°‘æ›´æ”¹çš„å¸ƒå±€æ¥è¯´å°¤å…¶å¦‚æ­¤ã€‚åœ¨æŸä¸ªæ—¶å€™ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªé¡µé¢éœ€è¦æ›´æ”¹ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°è¿›è¡Œæ›´æ”¹ï¼Œè€Œä¸ä¼šä¸å¿…è¦åœ°å½±å“å…¶ä»–é¡µé¢ã€‚å¦‚æœæ‚¨æ‹…å¿ƒæœ‰äººå¯èƒ½å¿˜è®°æ›´æ–°å…¶ä»–é¡µé¢ï¼Œæ‚¨æ€»æ˜¯å¯ä»¥ç•™ä¸‹æè¿°é¡µé¢ä¹‹é—´å…³ç³»çš„æ³¨é‡Šã€‚

å¦‚æœä¸Šè¿°éƒ½ä¸é€‚ç”¨ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆå¯ä»¥åœ¨å¸ƒå±€ä¸­åŒ…å« widgetï¼š

1. **ä½¿ç”¨ render props æˆ– slots**
   <br />
   <!-- -->
   å¤§å¤šæ•°æ¡†æ¶å…è®¸æ‚¨ä»å¤–éƒ¨ä¼ é€’ä¸€æ®µ UIã€‚åœ¨ React ä¸­ï¼Œè¿™è¢«ç§°ä¸º [render props](https://www.patterns.dev/react/render-props-pattern/)ï¼Œåœ¨ Vue ä¸­è¢«ç§°ä¸º [slots](https://vuejs.org/guide/components/slots)ã€‚
2. **å°†å¸ƒå±€ç§»åŠ¨åˆ° App å±‚**
   <br />
   <!-- -->
   æ‚¨ä¹Ÿå¯ä»¥å°†å¸ƒå±€å­˜å‚¨åœ¨ App å±‚ï¼Œä¾‹å¦‚åœ¨ `app/layouts` ä¸­ï¼Œå¹¶ç»„åˆæ‚¨æƒ³è¦çš„ä»»ä½• widgetsã€‚

## å»¶ä¼¸é˜…è¯»[â€‹](#å»¶ä¼¸é˜…è¯» "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* åœ¨[æ•™ç¨‹](/documentation/zh/docs/get-started/tutorial.md)ä¸­æœ‰ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ React å’Œ Remixï¼ˆç›¸å½“äº React Routerï¼‰æ„å»ºå¸¦æœ‰èº«ä»½éªŒè¯çš„å¸ƒå±€çš„ç¤ºä¾‹ã€‚


---

# æ¡Œé¢/è§¦æ‘¸å¹³å°

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/198)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºæ–¹æ³•è®ºåœ¨æ¡Œé¢/è§¦æ‘¸å¹³å°ä¸Šçš„åº”ç”¨


---

# SSR

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/173)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å…³äºä½¿ç”¨æ–¹æ³•è®ºå®ç° SSR


---

# ä¸»é¢˜

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/207)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## æˆ‘åº”è¯¥æŠŠä¸»é¢˜å’Œè°ƒè‰²æ¿çš„å·¥ä½œæ”¾åœ¨å“ªé‡Œï¼Ÿ[â€‹](#æˆ‘åº”è¯¥æŠŠä¸»é¢˜å’Œè°ƒè‰²æ¿çš„å·¥ä½œæ”¾åœ¨å“ªé‡Œ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> <https://t.me/feature_sliced/4410>

## å…³äºä¸»é¢˜ã€i18n é€»è¾‘ä½ç½®çš„è®¨è®º[â€‹](#å…³äºä¸»é¢˜i18n-é€»è¾‘ä½ç½®çš„è®¨è®º "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> <https://youtu.be/b_nBvHWqxP8?t=133>


---

# ç±»å‹

æœ¬æŒ‡å—æ¶‰åŠæ¥è‡ªç±»å‹åŒ–è¯­è¨€ï¼ˆå¦‚ TypeScriptï¼‰çš„æ•°æ®ç±»å‹ï¼Œå¹¶æè¿°å®ƒä»¬åœ¨ FSD ä¸­çš„é€‚ç”¨ä½ç½®ã€‚

ä¿¡æ¯

æœ¬æŒ‡å—æ²¡æœ‰æ¶µç›–æ‚¨çš„é—®é¢˜ï¼Ÿè¯·é€šè¿‡åœ¨æœ¬æ–‡ä¸Šç•™ä¸‹åé¦ˆï¼ˆå³ä¾§çš„è“è‰²æŒ‰é’®ï¼‰æ¥å‘å¸ƒæ‚¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†è€ƒè™‘æ‰©å±•æœ¬æŒ‡å—ï¼

## å®ç”¨ç±»å‹[â€‹](#å®ç”¨ç±»å‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å®ç”¨ç±»å‹æ˜¯æœ¬èº«æ²¡æœ‰å¤ªå¤šæ„ä¹‰çš„ç±»å‹ï¼Œé€šå¸¸ä¸å…¶ä»–ç±»å‹ä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š

```
type ArrayValues<T extends readonly unknown[]> = T[number];
```

Source: <https://github.com/sindresorhus/type-fest/blob/main/source/array-values.d.ts>

è¦ä½¿å®ç”¨ç±»å‹åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯ç”¨ï¼Œå¯ä»¥å®‰è£…åƒ [`type-fest`](https://github.com/sindresorhus/type-fest) è¿™æ ·çš„åº“ï¼Œæˆ–è€…åœ¨ `shared/lib` ä¸­åˆ›å»ºæ‚¨è‡ªå·±çš„åº“ã€‚ç¡®ä¿æ¸…æ¥šåœ°æŒ‡å‡ºå“ªäº›æ–°ç±»å‹\_åº”è¯¥\_æ·»åŠ åˆ°æ­¤åº“ä¸­ï¼Œå“ªäº›ç±»å‹\_ä¸å±äº\_é‚£é‡Œã€‚ä¾‹å¦‚ï¼Œå°†å…¶å‘½åä¸º `shared/lib/utility-types` å¹¶åœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ª READMEï¼Œæè¿°æ‚¨å›¢é˜Ÿä¸­ä»€ä¹ˆæ˜¯å®ç”¨ç±»å‹ã€‚

ä¸è¦é«˜ä¼°å®ç”¨ç±»å‹çš„æ½œåœ¨å¯é‡ç”¨æ€§ã€‚ä»…ä»…å› ä¸ºå®ƒå¯ä»¥è¢«é‡ç”¨ï¼Œå¹¶ä¸æ„å‘³ç€å®ƒä¼šè¢«é‡ç”¨ï¼Œå› æ­¤ï¼Œå¹¶éæ¯ä¸ªå®ç”¨ç±»å‹éƒ½éœ€è¦åœ¨ Shared ä¸­ã€‚ä¸€äº›å®ç”¨ç±»å‹æ”¾åœ¨éœ€è¦å®ƒä»¬çš„åœ°æ–¹å°±å¾ˆå¥½ï¼š

* ğŸ“‚ pages

  <!-- -->

  * ğŸ“‚ home

    <!-- -->

    * ğŸ“‚ api

      <!-- -->

      * ğŸ“„ ArrayValues.ts (utility type)
      * ğŸ“„ getMemoryUsageMetrics.ts (the code that uses the utility type)

æ³¨æ„

æŠµåˆ¶åˆ›å»º `shared/types` æ–‡ä»¶å¤¹æˆ–å‘æ‚¨çš„ slices æ·»åŠ  `types` segment çš„è¯±æƒ‘ã€‚"types"ç±»åˆ«ç±»ä¼¼äº"components"æˆ–"hooks"ç±»åˆ«ï¼Œå®ƒæè¿°çš„æ˜¯å†…å®¹æ˜¯ä»€ä¹ˆï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„ç”¨é€”ã€‚Segments åº”è¯¥æè¿°ä»£ç çš„ç›®çš„ï¼Œè€Œä¸æ˜¯æœ¬è´¨ã€‚

## ä¸šåŠ¡å®ä½“åŠå…¶äº¤å‰å¼•ç”¨[â€‹](#ä¸šåŠ¡å®ä½“åŠå…¶äº¤å‰å¼•ç”¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åº”ç”¨ç¨‹åºä¸­æœ€é‡è¦çš„ç±»å‹ä¹‹ä¸€æ˜¯ä¸šåŠ¡å®ä½“çš„ç±»å‹ï¼Œå³æ‚¨çš„åº”ç”¨ç¨‹åºå¤„ç†çš„ç°å®ä¸–ç•Œçš„äº‹ç‰©ã€‚ä¾‹å¦‚ï¼Œåœ¨éŸ³ä¹æµåª’ä½“åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å¯èƒ½æœ‰ä¸šåŠ¡å®ä½“ *Song*ã€*Album* ç­‰ã€‚

ä¸šåŠ¡å®ä½“é€šå¸¸æ¥è‡ªåç«¯ï¼Œå› æ­¤ç¬¬ä¸€æ­¥æ˜¯ä¸ºåç«¯å“åº”æ·»åŠ ç±»å‹ã€‚ä¸ºæ¯ä¸ªç«¯ç‚¹åˆ›å»ºä¸€ä¸ªè¯·æ±‚å‡½æ•°ï¼Œå¹¶ä¸ºæ­¤å‡½æ•°çš„å“åº”æ·»åŠ ç±»å‹æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚ä¸ºäº†é¢å¤–çš„ç±»å‹å®‰å…¨ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é€šè¿‡åƒ [Zod](https://zod.dev) è¿™æ ·çš„ schema éªŒè¯åº“æ¥è¿è¡Œå“åº”ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†æ‰€æœ‰è¯·æ±‚ä¿å­˜åœ¨ Shared ä¸­ï¼Œæ‚¨å¯ä»¥è¿™æ ·åšï¼š

shared/api/songs.ts

```
import type { Artist } from "./artists";

interface Song {
  id: number;
  title: string;
  artists: Array<Artist>;
}

export function listSongs() {
  return fetch('/api/songs').then((res) => res.json() as Promise<Array<Song>>);
}
```

æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ° `Song` ç±»å‹å¼•ç”¨äº†ä¸åŒçš„å®ä½“ `Artist`ã€‚è¿™æ˜¯å°†è¯·æ±‚å­˜å‚¨åœ¨ Shared ä¸­çš„å¥½å¤„ â€” ç°å®ä¸–ç•Œçš„ç±»å‹é€šå¸¸æ˜¯ç›¸äº’äº¤ç»‡çš„ã€‚å¦‚æœæˆ‘ä»¬å°†æ­¤å‡½æ•°ä¿å­˜åœ¨ `entities/song/api` ä¸­ï¼Œæˆ‘ä»¬å°†æ— æ³•ç®€å•åœ°ä» `entities/artist` å¯¼å…¥ `Artist`ï¼Œå› ä¸º FSD é€šè¿‡[å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)é™åˆ¶ slices ä¹‹é—´çš„äº¤å‰å¯¼å…¥ï¼š

> slice ä¸­çš„æ¨¡å—åªèƒ½åœ¨å…¶ä»– slices ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚æ—¶å¯¼å…¥å®ƒä»¬ã€‚

æœ‰ä¸¤ç§æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼š

1. **å‚æ•°åŒ–æ‚¨çš„ç±»å‹**<br /><!-- -->æ‚¨å¯ä»¥è®©æ‚¨çš„ç±»å‹æ¥å—ç±»å‹å‚æ•°ä½œä¸ºä¸å…¶ä»–å®ä½“è¿æ¥çš„æ’æ§½ï¼Œç”šè‡³å¯ä»¥å¯¹è¿™äº›æ’æ§½æ–½åŠ çº¦æŸã€‚ä¾‹å¦‚ï¼š

   entities/song/model/song.ts

   ```
   interface Song<ArtistType extends { id: string }> {
     id: number;
     title: string;
     artists: Array<ArtistType>;
   }
   ```

   è¿™å¯¹æŸäº›ç±»å‹æ¯”å…¶ä»–ç±»å‹æ•ˆæœæ›´å¥½ã€‚åƒ `Cart = { items: Array<Product> }` è¿™æ ·çš„ç®€å•ç±»å‹å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸ä»»ä½•ç±»å‹çš„äº§å“ä¸€èµ·å·¥ä½œã€‚æ›´è¿æ¥çš„ç±»å‹ï¼Œå¦‚ `Country` å’Œ `City`ï¼Œå¯èƒ½ä¸é‚£ä¹ˆå®¹æ˜“åˆ†ç¦»ã€‚

2. **äº¤å‰å¯¼å…¥ï¼ˆä½†è¦æ­£ç¡®åœ°åšï¼‰**<br /><!-- -->è¦åœ¨ FSD ä¸­çš„å®ä½“ä¹‹é—´è¿›è¡Œäº¤å‰å¯¼å…¥ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªå°†è¦äº¤å‰å¯¼å…¥çš„ slice ä½¿ç”¨ç‰¹æ®Šçš„å…¬å…± APIã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å®ä½“ `song`ã€`artist` å’Œ `playlist`ï¼Œåä¸¤è€…éœ€è¦å¼•ç”¨ `song`ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `song` å®ä½“ä¸­ä½¿ç”¨ `@x` ç¬¦å·ä¸ºå®ƒä»¬åˆ›å»ºä¸¤ä¸ªç‰¹æ®Šçš„å…¬å…± APIï¼š

   * ğŸ“‚ entities

     <!-- -->

     * ğŸ“‚ song

       <!-- -->

       * ğŸ“‚ @x

         <!-- -->

         * ğŸ“„ artist.ts (ä¾› `artist` å®ä½“å¯¼å…¥çš„å…¬å…± API)
         * ğŸ“„ playlist.ts (ä¾› `playlist` å®ä½“å¯¼å…¥çš„å…¬å…± API)

       * ğŸ“„ index.ts (å¸¸è§„å…¬å…± API)

   æ–‡ä»¶ `ğŸ“„ entities/song/@x/artist.ts` çš„å†…å®¹ç±»ä¼¼äº `ğŸ“„ entities/song/index.ts`ï¼š

   entities/song/@x/artist.ts

   ```
   export type { Song } from "../model/song.ts";
   ```

   ç„¶å `ğŸ“„ entities/artist/model/artist.ts` å¯ä»¥åƒè¿™æ ·å¯¼å…¥ `Song`ï¼š

   entities/artist/model/artist.ts

   ```
   import type { Song } from "entities/song/@x/artist";

   export interface Artist {
     name: string;
     songs: Array<Song>;
   }
   ```

   é€šè¿‡åœ¨å®ä½“ä¹‹é—´å»ºç«‹æ˜¾å¼è¿æ¥ï¼Œæˆ‘ä»¬æŒæ¡ç›¸äº’ä¾èµ–å…³ç³»å¹¶ä¿æŒè‰¯å¥½çš„åŸŸåˆ†ç¦»æ°´å¹³ã€‚

## æ•°æ®ä¼ è¾“å¯¹è±¡å’Œæ˜ å°„å™¨[â€‹](#data-transfer-objects-and-mappers "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œæˆ– DTOï¼Œæ˜¯ä¸€ä¸ªæè¿°æ¥è‡ªåç«¯çš„æ•°æ®å½¢çŠ¶çš„æœ¯è¯­ã€‚æœ‰æ—¶ï¼ŒDTO å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½†æœ‰æ—¶å¯¹å‰ç«¯æ¥è¯´ä¸å¤ªæ–¹ä¾¿ã€‚è¿™å°±æ˜¯æ˜ å°„å™¨å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ â€” å®ƒä»¬å°† DTO è½¬æ¢ä¸ºæ›´æ–¹ä¾¿çš„å½¢çŠ¶ã€‚

### åœ¨å“ªé‡Œæ”¾ç½® DTO[â€‹](#åœ¨å“ªé‡Œæ”¾ç½®-dto "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨åœ¨å•ç‹¬çš„åŒ…ä¸­æœ‰åç«¯ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨å‰ç«¯å’Œåç«¯ä¹‹é—´å…±äº«ä»£ç ï¼‰ï¼Œé‚£ä¹ˆåªéœ€ä»é‚£é‡Œå¯¼å…¥æ‚¨çš„ DTO å°±å®Œæˆäº†ï¼å¦‚æœæ‚¨ä¸åœ¨åç«¯å’Œå‰ç«¯ä¹‹é—´å…±äº«ä»£ç ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦å°† DTO ä¿å­˜åœ¨å‰ç«¯ä»£ç åº“çš„æŸä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢æ¢è®¨è¿™ç§æƒ…å†µã€‚

å¦‚æœæ‚¨çš„è¯·æ±‚å‡½æ•°åœ¨ `shared/api` ä¸­ï¼Œé‚£ä¹ˆ DTO åº”è¯¥æ”¾åœ¨é‚£é‡Œï¼Œå°±åœ¨ä½¿ç”¨å®ƒä»¬çš„å‡½æ•°æ—è¾¹ï¼š

shared/api/songs.ts

```
import type { ArtistDTO } from "./artists";

interface SongDTO {
  id: number;
  title: string;
  artist_ids: Array<ArtistDTO["id"]>;
}

export function listSongs() {
  return fetch('/api/songs').then((res) => res.json() as Promise<Array<SongDTO>>);
}
```

å¦‚å‰ä¸€èŠ‚æ‰€è¿°ï¼Œå°†è¯·æ±‚å’Œ DTO å­˜å‚¨åœ¨ Shared ä¸­çš„å¥½å¤„æ˜¯èƒ½å¤Ÿå¼•ç”¨å…¶ä»– DTOã€‚

### åœ¨å“ªé‡Œæ”¾ç½®æ˜ å°„å™¨[â€‹](#åœ¨å“ªé‡Œæ”¾ç½®æ˜ å°„å™¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ˜ å°„å™¨æ˜¯æ¥å— DTO è¿›è¡Œè½¬æ¢çš„å‡½æ•°ï¼Œå› æ­¤ï¼Œå®ƒä»¬åº”è¯¥ä½äº DTO å®šä¹‰é™„è¿‘ã€‚åœ¨å®è·µä¸­ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨çš„è¯·æ±‚å’Œ DTO åœ¨ `shared/api` ä¸­å®šä¹‰ï¼Œé‚£ä¹ˆæ˜ å°„å™¨ä¹Ÿåº”è¯¥æ”¾åœ¨é‚£é‡Œï¼š

shared/api/songs.ts

```
import type { ArtistDTO } from "./artists";

interface SongDTO {
  id: number;
  title: string;
  disc_no: number;
  artist_ids: Array<ArtistDTO["id"]>;
}

interface Song {
  id: string;
  title: string;
  /** The full title of the song, including the disc number. */
  fullTitle: string;
  artistIds: Array<string>;
}

function adaptSongDTO(dto: SongDTO): Song {
  return {
    id: String(dto.id),
    title: dto.title,
    fullTitle: `${dto.disc_no} / ${dto.title}`,
    artistIds: dto.artist_ids.map(String),
  };
}

export function listSongs() {
  return fetch('/api/songs').then(async (res) => (await res.json()).map(adaptSongDTO));
}
```

å¦‚æœæ‚¨çš„è¯·æ±‚å’Œå­˜å‚¨åœ¨å®ä½“ slices ä¸­å®šä¹‰ï¼Œé‚£ä¹ˆæ‰€æœ‰è¿™äº›ä»£ç éƒ½ä¼šæ”¾åœ¨é‚£é‡Œï¼Œè¯·è®°ä½ slices ä¹‹é—´äº¤å‰å¯¼å…¥çš„é™åˆ¶ï¼š

entities/song/api/dto.ts

```
import type { ArtistDTO } from "entities/artist/@x/song";

export interface SongDTO {
  id: number;
  title: string;
  disc_no: number;
  artist_ids: Array<ArtistDTO["id"]>;
}
```

entities/song/api/mapper.ts

```
import type { SongDTO } from "./dto";

export interface Song {
  id: string;
  title: string;
  /** The full title of the song, including the disc number. */
  fullTitle: string;
  artistIds: Array<string>;
}

export function adaptSongDTO(dto: SongDTO): Song {
  return {
    id: String(dto.id),
    title: dto.title,
    fullTitle: `${dto.disc_no} / ${dto.title}`,
    artistIds: dto.artist_ids.map(String),
  };
}
```

entities/song/api/listSongs.ts

```
import { adaptSongDTO } from "./mapper";

export function listSongs() {
  return fetch('/api/songs').then(async (res) => (await res.json()).map(adaptSongDTO));
}
```

entities/song/model/songs.ts

```
import { createSlice, createEntityAdapter } from "@reduxjs/toolkit";

import { listSongs } from "../api/listSongs";

export const fetchSongs = createAsyncThunk('songs/fetchSongs', listSongs);

const songAdapter = createEntityAdapter();
const songsSlice = createSlice({
  name: "songs",
  initialState: songAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSongs.fulfilled, (state, action) => {
      songAdapter.upsertMany(state, action.payload);
    })
  },
});
```

### å¦‚ä½•å¤„ç†åµŒå¥— DTO[â€‹](#å¦‚ä½•å¤„ç†åµŒå¥—-dto "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ€æœ‰é—®é¢˜çš„éƒ¨åˆ†æ˜¯å½“æ¥è‡ªåç«¯çš„å“åº”åŒ…å«å¤šä¸ªå®ä½“æ—¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ­Œæ›²ä¸ä»…åŒ…å«ä½œè€…çš„ IDï¼Œè¿˜åŒ…å«æ•´ä¸ªä½œè€…å¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ä½“ä¸å¯èƒ½ä¸ç›¸äº’äº†è§£ï¼ˆé™¤éæˆ‘ä»¬æƒ³è¦ä¸¢å¼ƒæ•°æ®æˆ–ä¸åç«¯å›¢é˜Ÿè¿›è¡Œåšå®šçš„å¯¹è¯ï¼‰ã€‚ä¸å…¶æƒ³å‡º slices ä¹‹é—´é—´æ¥è¿æ¥çš„è§£å†³æ–¹æ¡ˆï¼ˆä¾‹å¦‚å°†æ“ä½œåˆ†æ´¾åˆ°å…¶ä»– slices çš„é€šç”¨ä¸­é—´ä»¶ï¼‰ï¼Œä¸å¦‚ä½¿ç”¨ `@x` ç¬¦å·è¿›è¡Œæ˜¾å¼äº¤å‰å¯¼å…¥ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ Redux Toolkit å®ç°å®ƒï¼š

entities/song/model/songs.ts

```
import {
  createSlice,
  createEntityAdapter,
  createAsyncThunk,
  createSelector,
} from '@reduxjs/toolkit'
import { normalize, schema } from 'normalizr'

import { getSong } from "../api/getSong";

// å®šä¹‰ normalizr å®ä½“ schemas
export const artistEntity = new schema.Entity('artists')
export const songEntity = new schema.Entity('songs', {
  artists: [artistEntity],
})

const songAdapter = createEntityAdapter()

export const fetchSong = createAsyncThunk(
  'songs/fetchSong',
  async (id: string) => {
    const data = await getSong(id)
    // è§„èŒƒåŒ–æ•°æ®ï¼Œä»¥ä¾¿ reducers å¯ä»¥åŠ è½½å¯é¢„æµ‹çš„ payloadï¼Œå¦‚ï¼š
    // `action.payload = { songs: {}, artists: {} }`
    const normalized = normalize(data, songEntity)
    return normalized.entities
  }
)

export const slice = createSlice({
  name: 'songs',
  initialState: songAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSong.fulfilled, (state, action) => {
      songAdapter.upsertMany(state, action.payload.songs)
    })
  },
})

const reducer = slice.reducer
export default reducer
```

entities/song/@x/artist.ts

```
export { fetchSong } from "../model/songs";
```

entities/artist/model/artists.ts

```
import { createSlice, createEntityAdapter } from '@reduxjs/toolkit'

import { fetchSong } from 'entities/song/@x/artist'

const artistAdapter = createEntityAdapter()

export const slice = createSlice({
  name: 'users',
  initialState: artistAdapter.getInitialState(),
  reducers: {},
  extraReducers: (builder) => {
    builder.addCase(fetchSong.fulfilled, (state, action) => {
      // é€šè¿‡åœ¨è¿™é‡Œæ’å…¥è‰ºæœ¯å®¶æ¥å¤„ç†ç›¸åŒçš„è·å–ç»“æœ
      artistAdapter.upsertMany(state, action.payload.artists)
    })
  },
})

const reducer = slice.reducer
export default reducer
```

è¿™ç¨å¾®é™åˆ¶äº† slice éš”ç¦»çš„å¥½å¤„ï¼Œä½†å®ƒå‡†ç¡®åœ°è¡¨ç¤ºäº†æˆ‘ä»¬æ— æ³•æ§åˆ¶çš„è¿™ä¸¤ä¸ªå®ä½“ä¹‹é—´çš„è¿æ¥ã€‚å¦‚æœè¿™äº›å®ä½“è¦è¢«é‡æ„ï¼Œå®ƒä»¬å¿…é¡»ä¸€èµ·é‡æ„ã€‚

## å…¨å±€ç±»å‹å’Œ Redux[â€‹](#å…¨å±€ç±»å‹å’Œ-redux "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å…¨å±€ç±»å‹æ˜¯å°†åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„ç±»å‹ã€‚æ ¹æ®å®ƒä»¬éœ€è¦äº†è§£çš„å†…å®¹ï¼Œæœ‰ä¸¤ç§å…¨å±€ç±»å‹ï¼š

1. æ²¡æœ‰ä»»ä½•åº”ç”¨ç¨‹åºç‰¹å®šå†…å®¹çš„é€šç”¨ç±»å‹
2. éœ€è¦äº†è§£æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç±»å‹

ç¬¬ä¸€ç§æƒ…å†µå¾ˆå®¹æ˜“è§£å†³ â€” å°†æ‚¨çš„ç±»å‹æ”¾åœ¨ Shared ä¸­çš„é€‚å½“ segment ä¸­ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªç”¨äºåˆ†æçš„å…¨å±€å˜é‡æ¥å£ï¼Œæ‚¨å¯ä»¥å°†å…¶æ”¾åœ¨ `shared/analytics` ä¸­ã€‚

æ³¨æ„

é¿å…åˆ›å»º `shared/types` æ–‡ä»¶å¤¹ã€‚å®ƒä»…åŸºäº"æ˜¯ä¸€ä¸ªç±»å‹"çš„å±æ€§å°†ä¸ç›¸å…³çš„äº‹ç‰©åˆ†ç»„ï¼Œè€Œè¯¥å±æ€§åœ¨é¡¹ç›®ä¸­æœç´¢ä»£ç æ—¶é€šå¸¸æ²¡æœ‰ç”¨ã€‚

ç¬¬äºŒç§æƒ…å†µåœ¨æ²¡æœ‰ RTK çš„ Redux é¡¹ç›®ä¸­å¾ˆå¸¸è§ã€‚æ‚¨çš„æœ€ç»ˆå­˜å‚¨ç±»å‹åªæœ‰åœ¨å°†æ‰€æœ‰ reducer æ·»åŠ åœ¨ä¸€èµ·åæ‰å¯ç”¨ï¼Œä½†æ­¤å­˜å‚¨ç±»å‹éœ€è¦å¯¹æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„é€‰æ‹©å™¨å¯ç”¨ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯æ‚¨çš„å…¸å‹å­˜å‚¨å®šä¹‰ï¼š

app/store/index.ts

```
import { combineReducers, rootReducer } from "redux";

import { songReducer } from "entities/song";
import { artistReducer } from "entities/artist";

const rootReducer = combineReducers(songReducer, artistReducer);

const store = createStore(rootReducer);

type RootState = ReturnType<typeof rootReducer>;
type AppDispatch = typeof store.dispatch;
```

åœ¨ `shared/store` ä¸­æ‹¥æœ‰ç±»å‹åŒ–çš„ Redux hooks `useAppDispatch` å’Œ `useAppSelector` ä¼šå¾ˆå¥½ï¼Œä½†ç”±äº[å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)ï¼Œå®ƒä»¬æ— æ³•ä» App å±‚å¯¼å…¥ `RootState` å’Œ `AppDispatch`ï¼š

> slice ä¸­çš„æ¨¡å—åªèƒ½åœ¨å…¶ä»– slices ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚æ—¶å¯¼å…¥å®ƒä»¬ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨èçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ Shared å’Œ App å±‚ä¹‹é—´åˆ›å»ºéšå¼ä¾èµ–å…³ç³»ã€‚è¿™ä¸¤ç§ç±»å‹ `RootState` å’Œ `AppDispatch` ä¸å¤ªå¯èƒ½æ”¹å˜ï¼ŒRedux å¼€å‘è€…ä¼šç†Ÿæ‚‰å®ƒä»¬ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¿…å¤ªæ‹…å¿ƒå®ƒä»¬ã€‚

åœ¨ TypeScript ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†ç±»å‹å£°æ˜ä¸ºå…¨å±€æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š

app/store/index.ts

```
/* ä¸ä¹‹å‰ä»£ç å—ä¸­çš„å†…å®¹ç›¸åŒâ€¦ */

declare type RootState = ReturnType<typeof rootReducer>;
declare type AppDispatch = typeof store.dispatch;
```

shared/store/index.ts

```
import { useDispatch, useSelector, type TypedUseSelectorHook } from "react-redux";

export const useAppDispatch = useDispatch.withTypes<AppDispatch>()
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

## æšä¸¾[â€‹](#æšä¸¾ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æšä¸¾çš„ä¸€èˆ¬è§„åˆ™æ˜¯å®ƒä»¬åº”è¯¥**å°½å¯èƒ½æ¥è¿‘ä½¿ç”¨ä½ç½®**å®šä¹‰ã€‚å½“æšä¸¾è¡¨ç¤ºç‰¹å®šäºå•ä¸ªåŠŸèƒ½çš„å€¼æ—¶ï¼Œå®ƒåº”è¯¥åœ¨åŒä¸€åŠŸèƒ½ä¸­å®šä¹‰ã€‚

segment çš„é€‰æ‹©ä¹Ÿåº”è¯¥ç”±ä½¿ç”¨ä½ç½®å†³å®šã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æšä¸¾åŒ…å«å±å¹•ä¸Š toast çš„ä½ç½®ï¼Œå®ƒåº”è¯¥æ”¾åœ¨ `ui` segment ä¸­ã€‚å¦‚æœå®ƒè¡¨ç¤ºåç«¯æ“ä½œçš„åŠ è½½çŠ¶æ€ï¼Œå®ƒåº”è¯¥æ”¾åœ¨ `api` segment ä¸­ã€‚

ä¸€äº›æšä¸¾åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ç¡®å®æ˜¯é€šç”¨çš„ï¼Œå¦‚ä¸€èˆ¬çš„åç«¯å“åº”çŠ¶æ€æˆ–è®¾è®¡ç³»ç»Ÿä»¤ç‰Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨ Shared ä¸­ï¼Œå¹¶æ ¹æ®æšä¸¾æ‰€ä»£è¡¨çš„å†…å®¹é€‰æ‹© segmentï¼ˆå“åº”çŠ¶æ€ç”¨ `api`ï¼Œè®¾è®¡ä»¤ç‰Œç”¨ `ui` ç­‰ï¼‰ã€‚

## ç±»å‹éªŒè¯ schemas å’Œ Zod[â€‹](#ç±»å‹éªŒè¯-schemas-å’Œ-zod "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨æƒ³éªŒè¯æ‚¨çš„æ•°æ®ç¬¦åˆæŸç§å½¢çŠ¶æˆ–çº¦æŸï¼Œæ‚¨å¯ä»¥å®šä¹‰ä¸€ä¸ªéªŒè¯ schemaã€‚åœ¨ TypeScript ä¸­ï¼Œè¿™é¡¹å·¥ä½œçš„æµè¡Œåº“æ˜¯ [Zod](https://zod.dev)ã€‚éªŒè¯ schemas ä¹Ÿåº”è¯¥å°½å¯èƒ½ä¸ä½¿ç”¨å®ƒä»¬çš„ä»£ç æ”¾åœ¨ä¸€èµ·ã€‚

éªŒè¯ schemas ç±»ä¼¼äºæ˜ å°„å™¨ï¼ˆå¦‚[æ•°æ®ä¼ è¾“å¯¹è±¡å’Œæ˜ å°„å™¨](#data-transfer-objects-and-mappers)éƒ¨åˆ†æ‰€è®¨è®ºçš„ï¼‰ï¼Œå®ƒä»¬æ¥å—æ•°æ®ä¼ è¾“å¯¹è±¡å¹¶è§£æå®ƒï¼Œå¦‚æœè§£æå¤±è´¥åˆ™äº§ç”Ÿé”™è¯¯ã€‚

éªŒè¯æœ€å¸¸è§çš„æƒ…å†µä¹‹ä¸€æ˜¯æ¥è‡ªåç«¯çš„æ•°æ®ã€‚é€šå¸¸ï¼Œå½“æ•°æ®ä¸ schema ä¸åŒ¹é…æ—¶ï¼Œæ‚¨å¸Œæœ›è¯·æ±‚å¤±è´¥ï¼Œå› æ­¤å°† schema æ”¾åœ¨ä¸è¯·æ±‚å‡½æ•°ç›¸åŒçš„ä½ç½®æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè¿™é€šå¸¸æ˜¯ `api` segmentã€‚

å¦‚æœæ‚¨çš„æ•°æ®é€šè¿‡ç”¨æˆ·è¾“å…¥ï¼ˆå¦‚è¡¨å•ï¼‰ä¼ å…¥ï¼ŒéªŒè¯åº”è¯¥åœ¨è¾“å…¥æ•°æ®æ—¶è¿›è¡Œã€‚æ‚¨å¯ä»¥å°† schema æ”¾åœ¨ `ui` segment ä¸­ï¼Œç´§æŒ¨ç€è¡¨å•ç»„ä»¶ï¼Œæˆ–è€…å¦‚æœ `ui` segment å¤ªæ‹¥æŒ¤ï¼Œå¯ä»¥æ”¾åœ¨ `model` segment ä¸­ã€‚

## ç»„ä»¶ props å’Œ context çš„ç±»å‹å®šä¹‰[â€‹](#ç»„ä»¶-props-å’Œ-context-çš„ç±»å‹å®šä¹‰ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½å°† props æˆ– context æ¥å£ä¿å­˜åœ¨ä½¿ç”¨å®ƒä»¬çš„ç»„ä»¶æˆ– context çš„åŒä¸€æ–‡ä»¶ä¸­ã€‚å¦‚æœæ‚¨æœ‰ä¸€ä¸ªå•æ–‡ä»¶ç»„ä»¶çš„æ¡†æ¶ï¼Œå¦‚ Vue æˆ– Svelteï¼Œå¹¶ä¸”æ‚¨æ— æ³•åœ¨åŒä¸€æ–‡ä»¶ä¸­å®šä¹‰ props æ¥å£ï¼Œæˆ–è€…æ‚¨æƒ³åœ¨å‡ ä¸ªç»„ä»¶ä¹‹é—´å…±äº«è¯¥æ¥å£ï¼Œè¯·åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ `ui` segmentã€‚

ä»¥ä¸‹æ˜¯ JSXï¼ˆReact æˆ– Solidï¼‰çš„ç¤ºä¾‹ï¼š

pages/home/ui/RecentActions.tsx

```
interface RecentActionsProps {
  actions: Array<{ id: string; text: string }>;
}

export function RecentActions({ actions }: RecentActionsProps) {
  /* â€¦ */
}
```

ä»¥ä¸‹æ˜¯å°†æ¥å£å­˜å‚¨åœ¨ Vue çš„å•ç‹¬æ–‡ä»¶ä¸­çš„ç¤ºä¾‹ï¼š

pages/home/ui/RecentActionsProps.ts

```
export interface RecentActionsProps {
  actions: Array<{ id: string; text: string }>;
}
```

pages/home/ui/RecentActions.vue

```
<script setup lang="ts">
  import type { RecentActionsProps } from "./RecentActionsProps";

  const props = defineProps<RecentActionsProps>();
</script>
```

## ç¯å¢ƒå£°æ˜æ–‡ä»¶ (`*.d.ts`)[â€‹](#ç¯å¢ƒå£°æ˜æ–‡ä»¶-dts "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸€äº›åŒ…ï¼Œä¾‹å¦‚ [Vite](https://vitejs.dev) æˆ– [ts-reset](https://www.totaltypescript.com/ts-reset)ï¼Œéœ€è¦ç¯å¢ƒå£°æ˜æ–‡ä»¶æ‰èƒ½åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å·¥ä½œã€‚é€šå¸¸ï¼Œå®ƒä»¬ä¸å¤§ä¹Ÿä¸å¤æ‚ï¼Œæ‰€ä»¥å®ƒä»¬é€šå¸¸ä¸éœ€è¦ä»»ä½•æ¶æ„ï¼Œåªéœ€å°†å®ƒä»¬æ”¾åœ¨ `src/` æ–‡ä»¶å¤¹ä¸­å³å¯ã€‚ä¸ºäº†ä¿æŒ `src` æ›´æœ‰ç»„ç»‡ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ä¿å­˜åœ¨ App å±‚çš„ `app/ambient/` ä¸­ã€‚

å…¶ä»–åŒ…æ ¹æœ¬æ²¡æœ‰ç±»å‹å®šä¹‰ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†å®ƒä»¬å£°æ˜ä¸ºæ— ç±»å‹æˆ–ç”šè‡³ä¸ºå®ƒä»¬ç¼–å†™è‡ªå·±çš„ç±»å‹å®šä¹‰ã€‚è¿™äº›ç±»å‹å®šä¹‰çš„å¥½åœ°æ–¹æ˜¯ `shared/lib`ï¼Œåœ¨åƒ `shared/lib/untyped-packages` è¿™æ ·çš„æ–‡ä»¶å¤¹ä¸­ã€‚åœ¨é‚£é‡Œåˆ›å»ºä¸€ä¸ª `%LIBRARY_NAME%.d.ts` æ–‡ä»¶å¹¶å£°æ˜æ‚¨éœ€è¦çš„ç±»å‹ï¼š

shared/lib/untyped-packages/use-react-screenshot.d.ts

```
// è¿™ä¸ªåº“æ²¡æœ‰ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬ä¸æƒ³è´¹å¿ƒç¼–å†™è‡ªå·±çš„ã€‚
declare module "use-react-screenshot";
```

## ç±»å‹çš„è‡ªåŠ¨ç”Ÿæˆ[â€‹](#ç±»å‹çš„è‡ªåŠ¨ç”Ÿæˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä»å¤–éƒ¨æºç”Ÿæˆç±»å‹æ˜¯å¾ˆå¸¸è§çš„ï¼Œä¾‹å¦‚ï¼Œä» OpenAPI schema ç”Ÿæˆåç«¯ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºè¿™äº›ç±»å‹åœ¨æ‚¨çš„ä»£ç åº“ä¸­åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ä½ç½®ï¼Œå¦‚ `shared/api/openapi`ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨è¿˜åº”è¯¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ª READMEï¼Œæè¿°è¿™äº›æ–‡ä»¶æ˜¯ä»€ä¹ˆã€å¦‚ä½•é‡æ–°ç”Ÿæˆå®ƒä»¬ç­‰ã€‚


---

# ç™½æ ‡

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/215)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> Figmaã€å“ç‰Œ uikitã€æ¨¡æ¿ã€å“ç‰Œé€‚åº”æ€§

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Thread) å…³äºç™½æ ‡ï¼ˆå“ç‰Œï¼‰é¡¹ç›®çš„åº”ç”¨](https://t.me/feature_sliced/1543)
* [(æ¼”ç¤ºæ–‡ç¨¿) å…³äºç™½æ ‡åº”ç”¨ç¨‹åºå’Œè®¾è®¡](http://yadi.sk/i/5IdhzsWrpO3v4Q)


---

# äº¤å‰å¯¼å…¥

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/220)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

> å½“å±‚æˆ–æŠ½è±¡å¼€å§‹æ‰¿æ‹…è¶…å‡ºå…¶åº”æœ‰è´£ä»»æ—¶ï¼Œå°±ä¼šå‡ºç°äº¤å‰å¯¼å…¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ–¹æ³•è®ºè¯†åˆ«å‡ºæ–°çš„å±‚ï¼Œå…è®¸æ‚¨è§£è€¦è¿™äº›äº¤å‰å¯¼å…¥

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Thread) å…³äºäº¤å‰ç«¯å£çš„æ‰€è°“ä¸å¯é¿å…æ€§](https://t.me/feature_sliced/4515)
* [(Thread) å…³äºè§£å†³å®ä½“ä¸­çš„äº¤å‰ç«¯å£](https://t.me/feature_sliced/3678)
* [(Thread) å…³äºäº¤å‰å¯¼å…¥å’Œè´£ä»»](https://t.me/feature_sliced/3287)
* [(Thread) å…³äº segments ä¹‹é—´çš„å¯¼å…¥](https://t.me/feature_sliced/4021)
* [(Thread) å…³äº shared å†…éƒ¨çš„äº¤å‰å¯¼å…¥](https://t.me/feature_sliced/3618)


---

# å»åˆ†æ®µåŒ–

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/148)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## æƒ…å†µ[â€‹](#æƒ…å†µ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨é¡¹ç›®ä¸­ç»å¸¸å‡ºç°è¿™æ ·çš„æƒ…å†µï¼šä¸ä¸»é¢˜é¢†åŸŸä¸­ç‰¹å®šåŸŸç›¸å…³çš„æ¨¡å—è¢«ä¸å¿…è¦åœ°å»åˆ†æ®µåŒ–å¹¶åˆ†æ•£åœ¨é¡¹ç›®å‘¨å›´

```
â”œâ”€â”€ components/
|    â”œâ”€â”€ DeliveryCard
|    â”œâ”€â”€ DeliveryChoice
|    â”œâ”€â”€ RegionSelect
|    â”œâ”€â”€ UserAvatar
â”œâ”€â”€ actions/
|    â”œâ”€â”€ delivery.js
|    â”œâ”€â”€ region.js
|    â”œâ”€â”€ user.js
â”œâ”€â”€ epics/
|    â”œâ”€â”€ delivery.js
|    â”œâ”€â”€ region.js
|    â”œâ”€â”€ user.js
â”œâ”€â”€ constants/
|    â”œâ”€â”€ delivery.js
|    â”œâ”€â”€ region.js
|    â”œâ”€â”€ user.js
â”œâ”€â”€ helpers/
|    â”œâ”€â”€ delivery.js
|    â”œâ”€â”€ region.js
|    â”œâ”€â”€ user.js
â”œâ”€â”€ entities/
|    â”œâ”€â”€ delivery/
|    |      â”œâ”€â”€ getters.js
|    |      â”œâ”€â”€ selectors.js
|    â”œâ”€â”€ region/
|    â”œâ”€â”€ user/
```

## é—®é¢˜[â€‹](#é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¯¥é—®é¢˜è‡³å°‘è¡¨ç°ä¸ºè¿åäº†**é«˜å†…èš**åŸåˆ™å’Œè¿‡åº¦æ‹‰ä¼¸**å˜æ›´è½´**

## å¦‚æœæ‚¨å¿½ç•¥å®ƒ[â€‹](#å¦‚æœæ‚¨å¿½ç•¥å®ƒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* å¦‚æœéœ€è¦æ¶‰åŠé€»è¾‘ï¼Œä¾‹å¦‚äº¤ä»˜ - æˆ‘ä»¬å¿…é¡»è®°ä½å®ƒä½äºå¤šä¸ªåœ°æ–¹ï¼Œå¹¶æ¶‰åŠä»£ç ä¸­çš„å¤šä¸ªåœ°æ–¹ - è¿™ä¸å¿…è¦åœ°æ‹‰ä¼¸äº†æˆ‘ä»¬çš„**å˜æ›´è½´**
* å¦‚æœæˆ‘ä»¬éœ€è¦ç ”ç©¶ç”¨æˆ·çš„é€»è¾‘ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸éå†æ•´ä¸ªé¡¹ç›®æ¥è¯¦ç»†ç ”ç©¶**actionsã€epicsã€constantsã€entitiesã€components** - è€Œä¸æ˜¯å°†å…¶æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹
* éšå¼è¿æ¥å’Œä¸æ–­å¢é•¿çš„ä¸»é¢˜é¢†åŸŸçš„ä¸å¯æ§æ€§
* ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œçœ¼ç›ç»å¸¸ä¼šæ¨¡ç³Šï¼Œæ‚¨å¯èƒ½ä¸ä¼šæ³¨æ„åˆ°æˆ‘ä»¬å¦‚ä½•"ä¸ºäº†å¸¸é‡è€Œåˆ›å»ºå¸¸é‡"ï¼Œåœ¨ç›¸åº”çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºåƒåœ¾åœº

## è§£å†³æ–¹æ¡ˆ[â€‹](#è§£å†³æ–¹æ¡ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å°†ä¸ç‰¹å®šåŸŸ/ç”¨æˆ·æ¡ˆä¾‹ç›¸å…³çš„æ‰€æœ‰æ¨¡å— - ç›´æ¥å½¼æ­¤ç›¸é‚»æ”¾ç½®

è¿™æ ·ï¼Œåœ¨ç ”ç©¶ç‰¹å®šæ¨¡å—æ—¶ï¼Œå…¶æ‰€æœ‰ç»„ä»¶éƒ½å¹¶æ’æ”¾ç½®ï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨é¡¹ç›®å‘¨å›´

> å®ƒè¿˜å¢åŠ äº†ä»£ç åº“çš„å¯å‘ç°æ€§å’Œæ¸…æ™°åº¦ä»¥åŠæ¨¡å—ä¹‹é—´çš„å…³ç³»

```
- â”œâ”€â”€ components/
- |    â”œâ”€â”€ DeliveryCard
- |    â”œâ”€â”€ DeliveryChoice
- |    â”œâ”€â”€ RegionSelect
- |    â”œâ”€â”€ UserAvatar
- â”œâ”€â”€ actions/
- |    â”œâ”€â”€ delivery.js
- |    â”œâ”€â”€ region.js
- |    â”œâ”€â”€ user.js
- â”œâ”€â”€ epics/{...}
- â”œâ”€â”€ constants/{...}
- â”œâ”€â”€ helpers/{...}
  â”œâ”€â”€ entities/
  |    â”œâ”€â”€ delivery/
+ |    |      â”œâ”€â”€ ui/ # ~ components/
+ |    |      |   â”œâ”€â”€ card.js
+ |    |      |   â”œâ”€â”€ choice.js
+ |    |      â”œâ”€â”€ model/
+ |    |      |   â”œâ”€â”€ actions.js
+ |    |      |   â”œâ”€â”€ constants.js
+ |    |      |   â”œâ”€â”€ epics.js
+ |    |      |   â”œâ”€â”€ getters.js
+ |    |      |   â”œâ”€â”€ selectors.js
+ |    |      â”œâ”€â”€ lib/ # ~ helpers
  |    â”œâ”€â”€ region/
  |    â”œâ”€â”€ user/
```

## See also[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Article) About Low Coupling and High Cohesion clearly](https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/)
* [(Article) Low Coupling and High Cohesion. The Law of Demeter](https://medium.com/german-gorelkin/low-coupling-high-cohesion-d36369fb1be9)


---

# è·¯ç”±

WIP

æ–‡ç« æ­£åœ¨ç¼–å†™ä¸­

ä¸ºäº†ä½¿æ–‡ç« æ›´å¿«å‘å¸ƒï¼Œæ‚¨å¯ä»¥ï¼š

* ğŸ“¢ åˆ†äº«æ‚¨çš„åé¦ˆ[åœ¨æ–‡ç« ä¸­ï¼ˆè¯„è®º/è¡¨æƒ…ååº”ï¼‰](https://github.com/feature-sliced/documentation/issues/169)
* ğŸ’¬ æ”¶é›†ç›¸å…³çš„[æ¥è‡ªèŠå¤©çš„ä¸»é¢˜ç›¸å…³èµ„æ–™](https://t.me/feature_sliced)
* âš’ï¸ è´¡çŒ®[ä»¥ä»»ä½•å…¶ä»–æ–¹å¼](https://github.com/feature-sliced/documentation/blob/master/CONTRIBUTING.md)

<br />

*ğŸ° Stay tuned!*

## æƒ…å†µ[â€‹](#æƒ…å†µ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é¡µé¢çš„ URL åœ¨é¡µé¢ä¸‹æ–¹çš„å±‚ä¸­ç¡¬ç¼–ç 

entities/post/card

```

<Card>
    <Card.Title 
        href={`/post/${data.id}`}
        title={data.name}
    />
    ...
</Card>
```

## é—®é¢˜[â€‹](#é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

URL æ²¡æœ‰é›†ä¸­åœ¨é¡µé¢å±‚ä¸­ï¼Œæ ¹æ®è´£ä»»èŒƒå›´ï¼Œå®ƒä»¬åº”è¯¥å±äºé¡µé¢å±‚

## å¦‚æœæ‚¨å¿½ç•¥å®ƒ[â€‹](#å¦‚æœæ‚¨å¿½ç•¥å®ƒ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é‚£ä¹ˆï¼Œåœ¨æ›´æ”¹ URL æ—¶ï¼Œæ‚¨å¿…é¡»è®°ä½è¿™äº› URLï¼ˆä»¥åŠ URL/é‡å®šå‘çš„é€»è¾‘ï¼‰å¯ä»¥åœ¨é™¤é¡µé¢ä¹‹å¤–çš„æ‰€æœ‰å±‚ä¸­

è¿™ä¹Ÿæ„å‘³ç€ç°åœ¨å³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„äº§å“å¡ç‰‡ä¹Ÿæ‰¿æ‹…äº†é¡µé¢çš„éƒ¨åˆ†è´£ä»»ï¼Œè¿™æ¨¡ç³Šäº†é¡¹ç›®çš„é€»è¾‘

## è§£å†³æ–¹æ¡ˆ[â€‹](#è§£å†³æ–¹æ¡ˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç¡®å®šå¦‚ä½•ä»é¡µé¢çº§åˆ«åŠä»¥ä¸Šå¤„ç† URL/é‡å®šå‘

é€šè¿‡ç»„åˆ/props/å·¥å‚ä¼ é€’åˆ°ä¸‹é¢çš„å±‚

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Thread) å¦‚æœæˆ‘åœ¨ entities/features/widgets ä¸­"ç¼åˆ"è·¯ç”±ä¼šæ€æ ·](https://t.me/feature_sliced/4389)
* [(Thread) ä¸ºä»€ä¹ˆåªåœ¨é¡µé¢ä¸­æ¨¡ç³Šè·¯ç”±é€»è¾‘](https://t.me/feature_sliced/3756)


---

# ä»è‡ªå®šä¹‰æ¶æ„è¿ç§»

æœ¬æŒ‡å—æè¿°äº†ä¸€ç§åœ¨ä»è‡ªå®šä¹‰è‡ªåˆ¶æ¶æ„è¿ç§»åˆ° Feature-Sliced Design æ—¶å¯èƒ½æœ‰ç”¨çš„æ–¹æ³•ã€‚

è¿™é‡Œæ˜¯å…¸å‹è‡ªå®šä¹‰æ¶æ„çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æŒ‡å—ä¸­å°†å…¶ä½œä¸ºç¤ºä¾‹ä½¿ç”¨ã€‚<br /><!-- -->ç‚¹å‡»è“è‰²ç®­å¤´æ‰“å¼€æ–‡ä»¶å¤¹ã€‚

ğŸ“ src

* ğŸ“ actions

  * ğŸ“ product
  * ğŸ“ order

* ğŸ“ api

* ğŸ“ components

* ğŸ“ containers

* ğŸ“ constants

* ğŸ“ i18n

* ğŸ“ modules

* ğŸ“ helpers

* ğŸ“ routes

  * ğŸ“ products.jsx
  * ğŸ“„ products.\[id].jsx

* ğŸ“ utils

* ğŸ“ reducers

* ğŸ“ selectors

* ğŸ“ styles

* ğŸ“„ App.jsx

* ğŸ“„ index.js

## åœ¨æ‚¨å¼€å§‹ä¹‹å‰[â€‹](#before-you-start "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨è€ƒè™‘åˆ‡æ¢åˆ°Feature-Sliced Designæ—¶ï¼Œå‘å›¢é˜Ÿæå‡ºçš„æœ€é‡è¦é—®é¢˜æ˜¯â€”â€”\_ä½ çœŸçš„éœ€è¦å®ƒå—ï¼Ÿ\_æˆ‘ä»¬å–œçˆ±Feature-Sliced Designï¼Œä½†å³ä½¿æ˜¯æˆ‘ä»¬ä¹Ÿè®¤è¯†åˆ°ä¸€äº›é¡¹ç›®æ²¡æœ‰å®ƒä¹Ÿå®Œå…¨å¯ä»¥ã€‚

ä»¥ä¸‹æ˜¯è€ƒè™‘è¿›è¡Œåˆ‡æ¢çš„ä¸€äº›åŸå› ï¼š

1. æ–°å›¢é˜Ÿæˆå‘˜æŠ±æ€¨å¾ˆéš¾è¾¾åˆ°é«˜æ•ˆæ°´å¹³
2. ä¿®æ”¹ä»£ç çš„ä¸€éƒ¨åˆ†**ç»å¸¸**å¯¼è‡´å¦ä¸€ä¸ªä¸ç›¸å…³çš„éƒ¨åˆ†å‡ºç°é—®é¢˜
3. ç”±äºéœ€è¦è€ƒè™‘çš„äº‹æƒ…å¤ªå¤šï¼Œæ·»åŠ æ–°åŠŸèƒ½å˜å¾—å›°éš¾

**é¿å…è¿èƒŒé˜Ÿå‹æ„æ„¿åˆ‡æ¢åˆ°FSD**ï¼Œå³ä½¿ä½ æ˜¯è´Ÿè´£äººã€‚<br /><!-- -->é¦–å…ˆï¼Œè¯´æœä½ çš„é˜Ÿå‹ï¼Œè®©ä»–ä»¬ç›¸ä¿¡å¥½å¤„è¶…è¿‡äº†è¿ç§»æˆæœ¬å’Œå­¦ä¹ æ–°æ¶æ„è€Œä¸æ˜¯æ—¢å®šæ¶æ„çš„æˆæœ¬ã€‚

è¿˜è¦è®°ä½ï¼Œä»»ä½•ç±»å‹çš„æ¶æ„æ›´æ”¹éƒ½ä¸ä¼šç«‹å³è¢«ç®¡ç†å±‚è§‚å¯Ÿåˆ°ã€‚åœ¨å¼€å§‹ä¹‹å‰ç¡®ä¿ä»–ä»¬æ”¯æŒè¿™ç§åˆ‡æ¢ï¼Œå¹¶å‘ä»–ä»¬è§£é‡Šä¸ºä»€ä¹ˆè¿™å¯èƒ½å¯¹é¡¹ç›®æœ‰ç›Šã€‚

æç¤º

å¦‚æœä½ éœ€è¦å¸®åŠ©è¯´æœé¡¹ç›®ç»ç†FSDæ˜¯æœ‰ç›Šçš„ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š

1. è¿ç§»åˆ°FSDå¯ä»¥å¢é‡è¿›è¡Œï¼Œå› æ­¤ä¸ä¼šåœæ­¢æ–°åŠŸèƒ½çš„å¼€å‘
2. è‰¯å¥½çš„æ¶æ„å¯ä»¥æ˜¾è‘—å‡å°‘æ–°å¼€å‘è€…éœ€è¦å˜å¾—é«˜æ•ˆçš„æ—¶é—´
3. FSDæ˜¯ä¸€ä¸ªæœ‰æ–‡æ¡£çš„æ¶æ„ï¼Œå› æ­¤å›¢é˜Ÿä¸å¿…æŒç»­èŠ±æ—¶é—´ç»´æŠ¤è‡ªå·±çš„æ–‡æ¡£

***

å¦‚æœä½ å†³å®šå¼€å§‹è¿ç§»ï¼Œé‚£ä¹ˆä½ æƒ³è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä¸º`ğŸ“ src`è®¾ç½®ä¸€ä¸ªåˆ«åã€‚ç¨åå¼•ç”¨é¡¶çº§æ–‡ä»¶å¤¹æ—¶ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚åœ¨æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†è€ƒè™‘`@`ä½œä¸º`./src`çš„åˆ«åã€‚

## æ­¥éª¤1. æŒ‰é¡µé¢åˆ’åˆ†ä»£ç [â€‹](#divide-code-by-pages "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¤§å¤šæ•°è‡ªå®šä¹‰æ¶æ„å·²ç»æœ‰æŒ‰é¡µé¢çš„åˆ’åˆ†ï¼Œæ— è®ºé€»è¾‘å¤§å°å¦‚ä½•ã€‚å¦‚æœä½ å·²ç»æœ‰`ğŸ“ pages`ï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ã€‚

å¦‚æœä½ åªæœ‰`ğŸ“ routes`ï¼Œåˆ›å»º`ğŸ“ pages`å¹¶å°è¯•ä»`ğŸ“ routes`ä¸­ç§»åŠ¨å°½å¯èƒ½å¤šçš„ç»„ä»¶ä»£ç ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ ä¼šæœ‰ä¸€ä¸ªå°çš„è·¯ç”±å’Œä¸€ä¸ªè¾ƒå¤§çš„é¡µé¢ã€‚åœ¨ç§»åŠ¨ä»£ç æ—¶ï¼Œä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å¹¶æ·»åŠ ä¸€ä¸ªç´¢å¼•æ–‡ä»¶ï¼š

å¤‡æ³¨

ç°åœ¨ï¼Œå¦‚æœä½ çš„é¡µé¢ç›¸äº’å¼•ç”¨æ˜¯å¯ä»¥çš„ã€‚ä½ å¯ä»¥ç¨åå¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä½†ç°åœ¨ï¼Œä¸“æ³¨äºå»ºç«‹çªå‡ºçš„æŒ‰é¡µé¢åˆ’åˆ†ã€‚

Route file:

src/routes/products.\[id].js

```
export { ProductPage as default } from "@/pages/product"
```

Page index file:

src/pages/product/index.js

```
export { ProductPage } from "./ProductPage.jsx"
```

Page component file:

src/pages/product/ProductPage.jsx

```
export function ProductPage(props) {
  return <div />;
}
```

## æ­¥éª¤2. å°†å…¶ä»–æ‰€æœ‰å†…å®¹ä¸é¡µé¢åˆ†ç¦»[â€‹](#separate-everything-else-from-pages "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹`ğŸ“ src/shared`ï¼Œå¹¶å°†æ‰€æœ‰ä¸ä»`ğŸ“ pages`æˆ–`ğŸ“ routes`å¯¼å…¥çš„å†…å®¹ç§»åŠ¨åˆ°é‚£é‡Œã€‚åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹`ğŸ“ src/app`ï¼Œå¹¶å°†æ‰€æœ‰å¯¼å…¥é¡µé¢æˆ–è·¯ç”±çš„å†…å®¹ç§»åŠ¨åˆ°é‚£é‡Œï¼ŒåŒ…æ‹¬è·¯ç”±æœ¬èº«ã€‚

è®°ä½Sharedå±‚æ²¡æœ‰åˆ‡ç‰‡ï¼Œæ‰€ä»¥æ®µä¹‹é—´ç›¸äº’å¯¼å…¥æ˜¯å¯ä»¥çš„ã€‚

You should end up with a file structure like this:

ğŸ“ src

* ğŸ“ app

  * ğŸ“ routes

    * ğŸ“„ products.jsx
    * ğŸ“„ products.\[id].jsx

  * ğŸ“„ App.jsx

  * ğŸ“„ index.js

* ğŸ“ pages

  * ğŸ“ product

    * ğŸ“ ui

      * ğŸ“„ ProductPage.jsx

    * ğŸ“„ index.js

  * ğŸ“ catalog

* ğŸ“ shared

  * ğŸ“ actions
  * ğŸ“ api
  * ğŸ“ components
  * ğŸ“ containers
  * ğŸ“ constants
  * ğŸ“ i18n
  * ğŸ“ modules
  * ğŸ“ helpers
  * ğŸ“ utils
  * ğŸ“ reducers
  * ğŸ“ selectors
  * ğŸ“ styles

## æ­¥éª¤3. å¤„ç†é¡µé¢é—´çš„äº¤å‰å¯¼å…¥[â€‹](#tackle-cross-imports-between-pages "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ‰¾åˆ°ä¸€ä¸ªé¡µé¢ä»å¦ä¸€ä¸ªé¡µé¢å¯¼å…¥çš„æ‰€æœ‰å®ä¾‹ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹ä¸¤ä»¶äº‹ä¹‹ä¸€ï¼š

1. å°†å¯¼å…¥çš„ä»£ç å¤åˆ¶ç²˜è´´åˆ°ä¾èµ–é¡µé¢ä¸­ä»¥ç§»é™¤ä¾èµ–å…³ç³»

2. å°†ä»£ç ç§»åŠ¨åˆ°Sharedä¸­çš„é€‚å½“æ®µï¼š

   <!-- -->

   * å¦‚æœå®ƒæ˜¯UIå·¥å…·åŒ…çš„ä¸€éƒ¨åˆ†ï¼Œå°†å…¶ç§»åŠ¨åˆ°`ğŸ“ shared/ui`ï¼›
   * å¦‚æœå®ƒæ˜¯é…ç½®å¸¸é‡ï¼Œå°†å…¶ç§»åŠ¨åˆ°`ğŸ“ shared/config`ï¼›
   * å¦‚æœå®ƒæ˜¯åç«¯äº¤äº’ï¼Œå°†å…¶ç§»åŠ¨åˆ°`ğŸ“ shared/api`ã€‚

å¤‡æ³¨

**å¤åˆ¶ç²˜è´´åœ¨æ¶æ„ä¸Šå¹¶ä¸é”™è¯¯**ï¼Œå®é™…ä¸Šï¼Œæœ‰æ—¶å¤åˆ¶å¯èƒ½æ¯”æŠ½è±¡ä¸ºæ–°çš„å¯é‡ç”¨æ¨¡å—æ›´æ­£ç¡®ã€‚åŸå› æ˜¯æœ‰æ—¶é¡µé¢çš„å…±äº«éƒ¨åˆ†å¼€å§‹åˆ†ç¦»ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ä½ ä¸å¸Œæœ›ä¾èµ–å…³ç³»é˜»ç¢ä½ ã€‚

ä½†æ˜¯ï¼ŒDRYï¼ˆ"ä¸è¦é‡å¤è‡ªå·±"ï¼‰åŸåˆ™ä»ç„¶æœ‰æ„ä¹‰ï¼Œæ‰€ä»¥ç¡®ä¿ä½ ä¸æ˜¯åœ¨å¤åˆ¶ç²˜è´´ä¸šåŠ¡é€»è¾‘ã€‚å¦åˆ™ä½ éœ€è¦è®°ä½åŒæ—¶åœ¨å¤šä¸ªåœ°æ–¹ä¿®å¤é”™è¯¯ã€‚

## æ­¥éª¤4. æ‹†è§£Sharedå±‚[â€‹](#unpack-shared-layer "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨è¿™ä¸€æ­¥ä½ å¯èƒ½åœ¨Sharedå±‚ä¸­æœ‰å¾ˆå¤šä¸œè¥¿ï¼Œä½ é€šå¸¸æƒ³è¦é¿å…è¿™ç§æƒ…å†µã€‚åŸå› æ˜¯Sharedå±‚å¯èƒ½æ˜¯ä»£ç åº“ä¸­ä»»ä½•å…¶ä»–å±‚çš„ä¾èµ–é¡¹ï¼Œå› æ­¤å¯¹è¯¥ä»£ç è¿›è¡Œæ›´æ”¹è‡ªåŠ¨æ›´å®¹æ˜“äº§ç”Ÿæ„å¤–åæœã€‚

æ‰¾åˆ°æ‰€æœ‰åªåœ¨ä¸€ä¸ªé¡µé¢ä¸Šä½¿ç”¨çš„å¯¹è±¡ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°è¯¥é¡µé¢çš„åˆ‡ç‰‡ä¸­ã€‚æ˜¯çš„ï¼Œ*è¿™ä¹Ÿé€‚ç”¨äºactionsã€reducerså’Œselectors*ã€‚å°†æ‰€æœ‰actionsç»„åˆåœ¨ä¸€èµ·æ²¡æœ‰å¥½å¤„ï¼Œä½†å°†ç›¸å…³actionsæ”¾ç½®åœ¨æ¥è¿‘å…¶ä½¿ç”¨ä½ç½®æ˜¯æœ‰å¥½å¤„çš„ã€‚

You should end up with a file structure like this:

ğŸ“ src

* ğŸ“ app (unchanged)

* ğŸ“ pages

  * ğŸ“ product

    * ğŸ“ actions

    * ğŸ“ reducers

    * ğŸ“ selectors

    * ğŸ“ ui

      * ğŸ“„ Component.jsx
      * ğŸ“„ Container.jsx
      * ğŸ“„ ProductPage.jsx

    * ğŸ“„ index.js

  * ğŸ“ catalog

* ğŸ“ shared (only objects that are reused)

  * ğŸ“ actions
  * ğŸ“ api
  * ğŸ“ components
  * ğŸ“ containers
  * ğŸ“ constants
  * ğŸ“ i18n
  * ğŸ“ modules
  * ğŸ“ helpers
  * ğŸ“ utils
  * ğŸ“ reducers
  * ğŸ“ selectors
  * ğŸ“ styles

## æ­¥éª¤5. æŒ‰æŠ€æœ¯ç›®çš„ç»„ç»‡ä»£ç [â€‹](#organize-by-technical-purpose "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨FSDä¸­ï¼ŒæŒ‰æŠ€æœ¯ç›®çš„åˆ’åˆ†æ˜¯é€šè¿‡\_æ®µ\_æ¥å®Œæˆçš„ã€‚æœ‰å‡ ä¸ªå¸¸è§çš„æ®µï¼š

* `ui` â€” ä¸UIæ˜¾ç¤ºç›¸å…³çš„ä¸€åˆ‡ï¼šUIç»„ä»¶ã€æ—¥æœŸæ ¼å¼åŒ–å™¨ã€æ ·å¼ç­‰ã€‚
* `api` â€” åç«¯äº¤äº’ï¼šè¯·æ±‚å‡½æ•°ã€æ•°æ®ç±»å‹ã€æ˜ å°„å™¨ç­‰ã€‚
* `model` â€” æ•°æ®æ¨¡å‹ï¼šæ¨¡å¼ã€æ¥å£ã€å­˜å‚¨å’Œä¸šåŠ¡é€»è¾‘ã€‚
* `lib` â€” æ­¤åˆ‡ç‰‡ä¸Šå…¶ä»–æ¨¡å—éœ€è¦çš„åº“ä»£ç ã€‚
* `config` â€” é…ç½®æ–‡ä»¶å’ŒåŠŸèƒ½æ ‡å¿—ã€‚

å¦‚æœéœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„æ®µã€‚ç¡®ä¿ä¸è¦åˆ›å»ºæŒ‰ä»£ç æ˜¯ä»€ä¹ˆåˆ†ç»„çš„æ®µï¼Œå¦‚`components`ã€`actions`ã€`types`ã€`utils`ã€‚ç›¸åï¼ŒæŒ‰ä»£ç çš„ç”¨é€”åˆ†ç»„ã€‚

é‡æ–°ç»„ç»‡ä½ çš„é¡µé¢ä»¥æŒ‰æ®µåˆ†ç¦»ä»£ç ã€‚ä½ åº”è¯¥å·²ç»æœ‰ä¸€ä¸ª`ui`æ®µï¼Œç°åœ¨æ˜¯æ—¶å€™åˆ›å»ºå…¶ä»–æ®µäº†ï¼Œå¦‚ç”¨äºactionsã€reducerså’Œselectorsçš„`model`ï¼Œæˆ–ç”¨äºthunkså’Œmutationsçš„`api`ã€‚

è¿˜è¦é‡æ–°ç»„ç»‡Sharedå±‚ä»¥ç§»é™¤è¿™äº›æ–‡ä»¶å¤¹ï¼š

* `ğŸ“ components`ã€`ğŸ“ containers` â€” å…¶ä¸­å¤§éƒ¨åˆ†åº”è¯¥æˆä¸º`ğŸ“ shared/ui`ï¼›
* `ğŸ“ helpers`ã€`ğŸ“ utils` â€” å¦‚æœè¿˜æœ‰ä¸€äº›é‡ç”¨çš„helpersï¼ŒæŒ‰åŠŸèƒ½å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ï¼Œå¦‚æ—¥æœŸæˆ–ç±»å‹è½¬æ¢ï¼Œå¹¶å°†è¿™äº›ç»„ç§»åŠ¨åˆ°`ğŸ“ shared/lib`ï¼›
* `ğŸ“ constants` â€” å†æ¬¡ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„å¹¶ç§»åŠ¨åˆ°`ğŸ“ shared/config`ã€‚

## å¯é€‰æ­¥éª¤[â€‹](#optional-steps "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### æ­¥éª¤6. ä»åœ¨å¤šä¸ªé¡µé¢ä½¿ç”¨çš„Reduxåˆ‡ç‰‡å½¢æˆå®ä½“/åŠŸèƒ½[â€‹](#form-entities-features-from-redux "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é€šå¸¸ï¼Œè¿™äº›é‡ç”¨çš„Reduxåˆ‡ç‰‡å°†æè¿°ä¸ä¸šåŠ¡ç›¸å…³çš„å†…å®¹ï¼Œä¾‹å¦‚äº§å“æˆ–ç”¨æˆ·ï¼Œå› æ­¤è¿™äº›å¯ä»¥ç§»åŠ¨åˆ°Entitieså±‚ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸€ä¸ªå®ä½“ã€‚å¦‚æœReduxåˆ‡ç‰‡ä¸ç”¨æˆ·æƒ³è¦åœ¨ä½ çš„åº”ç”¨ä¸­æ‰§è¡Œçš„æ“ä½œç›¸å…³ï¼Œå¦‚è¯„è®ºï¼Œé‚£ä¹ˆä½ å¯ä»¥å°†å…¶ç§»åŠ¨åˆ°Featureså±‚ã€‚

å®ä½“å’ŒåŠŸèƒ½æ„å‘³ç€å½¼æ­¤ç‹¬ç«‹ã€‚å¦‚æœä½ çš„ä¸šåŠ¡åŸŸåŒ…å«å®ä½“ä¹‹é—´çš„å›ºæœ‰è¿æ¥ï¼Œè¯·å‚è€ƒ[ä¸šåŠ¡å®ä½“æŒ‡å—](/documentation/zh/docs/guides/examples/types.md#business-entities-and-their-cross-references)ä»¥è·å–å¦‚ä½•ç»„ç»‡è¿™äº›è¿æ¥çš„å»ºè®®ã€‚

ä¸è¿™äº›åˆ‡ç‰‡ç›¸å…³çš„APIå‡½æ•°å¯ä»¥ä¿ç•™åœ¨`ğŸ“ shared/api`ä¸­ã€‚

### æ­¥éª¤7. é‡æ„ä½ çš„æ¨¡å—[â€‹](#refactor-your-modules "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`ğŸ“ modules`æ–‡ä»¶å¤¹é€šå¸¸ç”¨äºä¸šåŠ¡é€»è¾‘ï¼Œå› æ­¤å®ƒåœ¨æœ¬è´¨ä¸Šå·²ç»ä¸FSDçš„Featureså±‚éå¸¸ç›¸ä¼¼ã€‚ä¸€äº›æ¨¡å—ä¹Ÿå¯èƒ½æè¿°UIçš„å¤§å—ï¼Œå¦‚åº”ç”¨å¤´éƒ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥å°†å®ƒä»¬è¿ç§»åˆ°Widgetså±‚ã€‚

### æ­¥éª¤8. åœ¨`shared/ui`ä¸­å½¢æˆå¹²å‡€çš„UIåŸºç¡€[â€‹](#form-clean-ui-foundation "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`ğŸ“ shared/ui`ç†æƒ³æƒ…å†µä¸‹åº”è¯¥åŒ…å«ä¸€ç»„æ²¡æœ‰ç¼–ç ä»»ä½•ä¸šåŠ¡é€»è¾‘çš„UIå…ƒç´ ã€‚å®ƒä»¬ä¹Ÿåº”è¯¥æ˜¯é«˜åº¦å¯é‡ç”¨çš„ã€‚

é‡æ„æ›¾ç»åœ¨`ğŸ“ components`å’Œ`ğŸ“ containers`ä¸­çš„UIç»„ä»¶ä»¥åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ã€‚å°†è¯¥ä¸šåŠ¡é€»è¾‘ç§»åŠ¨åˆ°æ›´é«˜çš„å±‚çº§ã€‚å¦‚æœå®ƒæ²¡æœ‰åœ¨å¤ªå¤šåœ°æ–¹ä½¿ç”¨ï¼Œä½ ç”šè‡³å¯ä»¥è€ƒè™‘å¤åˆ¶ç²˜è´´ã€‚

## å¦è¯·å‚é˜…[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(Talk in Russian) Ilya Klimov â€” ĞšÑ€Ñ‹ÑĞ¸Ğ½Ñ‹Ğµ Ğ±ĞµĞ³Ğ° Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°: ĞºĞ°Ğº Ğ½Ğµ Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼Ñƒ Ğ´Ğ¾Ğ»Ğ³Ñƒ ÑƒĞ±Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚](https://youtu.be/aOiJ3k2UvO4)


---

# ä» v1 åˆ° v2 çš„è¿ç§»

## ä¸ºä»€ä¹ˆæ˜¯ v2ï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆæ˜¯-v2 "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

**feature-slices** çš„åŸå§‹æ¦‚å¿µäº 2018 å¹´[è¢«å®£å¸ƒ](https://t.me/feature_slices)ã€‚

ä»é‚£æ—¶èµ·ï¼Œè¯¥æ–¹æ³•è®ºå‘ç”Ÿäº†è®¸å¤šå˜åŒ–ï¼Œä½†åŒæ—¶\*\*[åŸºæœ¬åŸåˆ™å¾—åˆ°äº†ä¿ç•™](https://feature-sliced.github.io/featureslices.dev/v1.0.html)\*\*ï¼š

* ä½¿ç”¨*æ ‡å‡†åŒ–*çš„å‰ç«¯é¡¹ç›®ç»“æ„
* é¦–å…ˆæŒ‰ç…§*ä¸šåŠ¡é€»è¾‘*åˆ†å‰²åº”ç”¨ç¨‹åº
* ä½¿ç”¨*éš”ç¦»çš„ features* æ¥é˜²æ­¢éšå¼å‰¯ä½œç”¨å’Œå¾ªç¯ä¾èµ–
* ä½¿ç”¨ *Public API* å¹¶ç¦æ­¢æ·±å…¥æ¨¡å—çš„"å†…éƒ¨"

åŒæ—¶ï¼Œåœ¨æ–¹æ³•è®ºçš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œä»ç„¶å­˜åœ¨**è–„å¼±ç¯èŠ‚**ï¼š

* æœ‰æ—¶ä¼šå¯¼è‡´æ ·æ¿ä»£ç 
* æœ‰æ—¶ä¼šå¯¼è‡´ä»£ç åº“çš„è¿‡åº¦å¤æ‚åŒ–å’ŒæŠ½è±¡ä¹‹é—´ä¸æ˜æ˜¾çš„è§„åˆ™
* æœ‰æ—¶ä¼šå¯¼è‡´éšå¼çš„æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œè¿™é˜»æ­¢äº†é¡¹ç›®çš„æå‡å’Œæ–°äººçš„å…¥èŒ

æ–¹æ³•è®ºçš„æ–°ç‰ˆæœ¬ï¼ˆ[v2](https://github.com/feature-sliced/documentation)ï¼‰æ—¨åœ¨**æ¶ˆé™¤è¿™äº›ç¼ºç‚¹ï¼ŒåŒæ—¶ä¿ç•™è¯¥æ–¹æ³•çš„ç°æœ‰ä¼˜åŠ¿**ã€‚

è‡ª 2018 å¹´ä»¥æ¥ï¼Œ[è¿˜å¼€å‘äº†](https://github.com/kof/feature-driven-architecture/issues)å¦ä¸€ç§ç±»ä¼¼çš„æ–¹æ³•è®º - [**feature-driven**](https://github.com/feature-sliced/documentation/tree/rc/feature-driven)ï¼Œæœ€åˆç”± [Oleg Isonen](https://github.com/kof) å®£å¸ƒã€‚

åœ¨åˆå¹¶ä¸¤ç§æ–¹æ³•åï¼Œæˆ‘ä»¬**æ”¹è¿›å’Œå®Œå–„äº†ç°æœ‰å®è·µ** - æœç€æ›´å¤§çš„çµæ´»æ€§ã€æ¸…æ™°åº¦å’Œåº”ç”¨æ•ˆç‡çš„æ–¹å‘å‘å±•ã€‚

> å› æ­¤ï¼Œè¿™ç”šè‡³å½±å“äº†æ–¹æ³•è®ºçš„åç§° - *"feature-slice**d**"*

## ä¸ºä»€ä¹ˆå°†é¡¹ç›®è¿ç§»åˆ°v2æ˜¯æœ‰æ„ä¹‰çš„ï¼Ÿ[â€‹](#ä¸ºä»€ä¹ˆå°†é¡¹ç›®è¿ç§»åˆ°v2æ˜¯æœ‰æ„ä¹‰çš„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

> `WIP:` å½“å‰ç‰ˆæœ¬çš„æ–¹æ³•è®ºæ­£åœ¨å¼€å‘ä¸­ï¼Œä¸€äº›ç»†èŠ‚*å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–*

#### ğŸ” æ›´é€æ˜å’Œç®€å•çš„æ¶æ„[â€‹](#-æ›´é€æ˜å’Œç®€å•çš„æ¶æ„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ–¹æ³•è®ºï¼ˆv2ï¼‰æä¾›äº†**æ›´ç›´è§‚å’Œæ›´å¸¸è§çš„æŠ½è±¡ä»¥åŠåœ¨å¼€å‘è€…ä¹‹é—´åˆ†ç¦»é€»è¾‘çš„æ–¹å¼ã€‚**

æ‰€æœ‰è¿™äº›å¯¹å¸å¼•æ–°äººã€ç ”ç©¶é¡¹ç›®å½“å‰çŠ¶æ€ä»¥åŠåˆ†é…åº”ç”¨ç¨‹åºä¸šåŠ¡é€»è¾‘éƒ½æœ‰æå…¶ç§¯æçš„å½±å“ã€‚

#### ğŸ“¦ æ›´çµæ´»å’Œè¯šå®çš„æ¨¡å—åŒ–[â€‹](#-æ›´çµæ´»å’Œè¯šå®çš„æ¨¡å—åŒ– "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ–¹æ³•è®ºï¼ˆv2ï¼‰å…è®¸**ä»¥æ›´çµæ´»çš„æ–¹å¼åˆ†é…é€»è¾‘ï¼š**

* èƒ½å¤Ÿä»å¤´å¼€å§‹é‡æ„éš”ç¦»çš„éƒ¨åˆ†
* èƒ½å¤Ÿä¾èµ–ç›¸åŒçš„æŠ½è±¡ï¼Œä½†æ²¡æœ‰ä¸å¿…è¦çš„ä¾èµ–äº¤ç»‡
* å¯¹æ–°æ¨¡å—ä½ç½®çš„æ›´ç®€å•è¦æ±‚ *ï¼ˆå±‚çº§ => åˆ‡ç‰‡ => æ®µï¼‰*

#### ğŸš€ æ›´å¤šè§„èŒƒã€è®¡åˆ’ã€ç¤¾åŒº[â€‹](#-æ›´å¤šè§„èŒƒè®¡åˆ’ç¤¾åŒº "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç›®å‰ï¼Œ`æ ¸å¿ƒå›¢é˜Ÿ`æ­£åœ¨ç§¯æå¼€å‘æ–¹æ³•è®ºçš„æœ€æ–°ï¼ˆv2ï¼‰ç‰ˆæœ¬

å› æ­¤å¯¹äºå®ƒï¼š

* å°†æœ‰æ›´å¤šæè¿°çš„æ¡ˆä¾‹/é—®é¢˜
* å°†æœ‰æ›´å¤šåº”ç”¨æŒ‡å—
* å°†æœ‰æ›´å¤šçœŸå®ç¤ºä¾‹
* æ€»çš„æ¥è¯´ï¼Œå°†æœ‰æ›´å¤šæ–‡æ¡£ç”¨äºæ–°äººå…¥èŒå’Œå­¦ä¹ æ–¹æ³•è®ºæ¦‚å¿µ
* å·¥å…·åŒ…å°†åœ¨æœªæ¥å¼€å‘ä»¥ç¬¦åˆæ¶æ„æ¦‚å¿µå’Œçº¦å®š

> å½“ç„¶ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¹Ÿä¼šæœ‰ç”¨æˆ·æ”¯æŒ - ä½†æœ€æ–°ç‰ˆæœ¬ä»ç„¶æ˜¯æˆ‘ä»¬çš„ä¼˜å…ˆçº§
>
> åœ¨æœªæ¥ï¼Œéšç€ä¸‹ä¸€æ¬¡é‡å¤§æ›´æ–°ï¼Œä½ ä»ç„¶å¯ä»¥è®¿é—®æ–¹æ³•è®ºçš„å½“å‰ç‰ˆæœ¬ï¼ˆv2ï¼‰ï¼Œ**å¯¹ä½ çš„å›¢é˜Ÿå’Œé¡¹ç›®æ²¡æœ‰é£é™©**

## Changelog[â€‹](#changelog "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### `BREAKING` å±‚çº§[â€‹](#breaking-å±‚çº§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨æ–¹æ³•è®ºå‡è®¾åœ¨é¡¶å±‚æ˜ç¡®åˆ†é…å±‚çº§

* `/app` > `/processes` > **`/pages`** > **`/features`** > `/entities` > `/shared`

* *ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨ä¸æ˜¯æ‰€æœ‰ä¸œè¥¿éƒ½è¢«è§†ä¸ºåŠŸèƒ½/é¡µé¢*

* è¿™ç§æ–¹æ³•å…è®¸ä½ [æ˜ç¡®è®¾ç½®å±‚çº§è§„åˆ™](https://t.me/atomicdesign/18708)ï¼š

* æ¨¡å—æ‰€åœ¨çš„**å±‚çº§è¶Šé«˜**ï¼Œå®ƒæ‹¥æœ‰çš„**ä¸Šä¸‹æ–‡**å°±è¶Šå¤š

  *ï¼ˆæ¢å¥è¯è¯´ - å±‚çº§çš„æ¯ä¸ªæ¨¡å— - åªèƒ½å¯¼å…¥åº•å±‚çš„æ¨¡å—ï¼Œè€Œä¸èƒ½å¯¼å…¥æ›´é«˜å±‚çš„ï¼‰*

* æ¨¡å—æ‰€åœ¨çš„**å±‚çº§è¶Šä½**ï¼Œå¯¹å…¶è¿›è¡Œæ›´æ”¹çš„**å±é™©æ€§å’Œè´£ä»»**å°±è¶Šå¤§

  *ï¼ˆå› ä¸ºé€šå¸¸æ˜¯åº•å±‚è¢«è¿‡åº¦ä½¿ç”¨ï¼‰*

### `BREAKING` Shared[â€‹](#breaking-shared "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åŸºç¡€è®¾æ–½æŠ½è±¡ `/ui`ã€`/lib`ã€`/api`ï¼Œä»¥å‰ä½äºé¡¹ç›®çš„srcæ ¹ç›®å½•ä¸­ï¼Œç°åœ¨ç”±å•ç‹¬çš„ç›®å½• `/src/shared` åˆ†ç¦»

* `shared/ui` - ä»ç„¶æ˜¯åº”ç”¨ç¨‹åºçš„ç›¸åŒé€šç”¨UIå·¥å…·åŒ…ï¼ˆå¯é€‰ï¼‰
  <!-- -->
  * *åŒæ—¶ï¼Œæ²¡æœ‰äººç¦æ­¢åƒä»¥å‰ä¸€æ ·åœ¨è¿™é‡Œä½¿ç”¨`åŸå­è®¾è®¡`*
* `shared/lib` - ç”¨äºå®ç°é€»è¾‘çš„è¾…åŠ©åº“é›†åˆ
  <!-- -->
  * *ä»ç„¶ - æ²¡æœ‰åŠ©æ‰‹çš„è½¬å‚¨*
* `shared/api` - è®¿é—®APIçš„é€šç”¨å…¥å£ç‚¹
  <!-- -->
  * *ä¹Ÿå¯ä»¥åœ¨æ¯ä¸ªåŠŸèƒ½/é¡µé¢ä¸­æœ¬åœ°æ³¨å†Œ - ä½†ä¸æ¨è*
* å’Œä»¥å‰ä¸€æ · - åœ¨`shared`ä¸­ä¸åº”è¯¥æœ‰å¯¹ä¸šåŠ¡é€»è¾‘çš„æ˜¾å¼ç»‘å®š
  <!-- -->
  * *å¦‚æœ‰å¿…è¦ï¼Œä½ éœ€è¦å°†è¿™ç§å…³ç³»æå‡åˆ°`entities`çº§åˆ«æˆ–æ›´é«˜*

### `NEW` å®ä½“ã€æµç¨‹[â€‹](#new-å®ä½“æµç¨‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨v2ä¸­\*\*ï¼Œæ·»åŠ äº†å…¶ä»–æ–°çš„æŠ½è±¡\*\*æ¥æ¶ˆé™¤é€»è¾‘å¤æ‚æ€§å’Œé«˜è€¦åˆçš„é—®é¢˜ã€‚

* `/entities` - **ä¸šåŠ¡å®ä½“**å±‚ï¼ŒåŒ…å«ç›´æ¥ä¸ä¸šåŠ¡æ¨¡å‹ç›¸å…³çš„åˆ‡ç‰‡æˆ–ä»…åœ¨å‰ç«¯éœ€è¦çš„åˆæˆå®ä½“
  <!-- -->
  * *ç¤ºä¾‹ï¼š`user`ã€`i18n`ã€`order`ã€`blog`*

* `/processes` - **ä¸šåŠ¡æµç¨‹**å±‚ï¼Œè´¯ç©¿åº”ç”¨ç¨‹åº

  <!-- -->

  * **è¯¥å±‚æ˜¯å¯é€‰çš„**ï¼Œé€šå¸¸å»ºè®®åœ¨*é€»è¾‘å¢é•¿å¹¶å¼€å§‹åœ¨å¤šä¸ªé¡µé¢ä¸­æ¨¡ç³Š*æ—¶ä½¿ç”¨
  * *ç¤ºä¾‹ï¼š`payment`ã€`auth`ã€`quick-tour`*

### `BREAKING` æŠ½è±¡å’Œå‘½å[â€‹](#breaking-æŠ½è±¡å’Œå‘½å "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨å®šä¹‰äº†å…·ä½“çš„æŠ½è±¡å’Œ[æ˜ç¡®çš„å‘½åå»ºè®®](/documentation/zh/docs/about/understanding/naming.md)

#### å±‚çº§[â€‹](#å±‚çº§ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* `/app` â€” **åº”ç”¨ç¨‹åºåˆå§‹åŒ–å±‚**
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`app`ã€`core`ã€`init`ã€`src/index`ï¼ˆè¿™ç§æƒ…å†µä¹Ÿä¼šå‘ç”Ÿï¼‰*
* `/processes` â€” [**ä¸šåŠ¡æµç¨‹å±‚**](https://github.com/feature-sliced/documentation/discussions/20)
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`processes`ã€`flows`ã€`workflows`*
* `/pages` â€” **åº”ç”¨ç¨‹åºé¡µé¢å±‚**
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`pages`ã€`screens`ã€`views`ã€`layouts`ã€`components`ã€`containers`*
* `/features` â€” [**åŠŸèƒ½éƒ¨åˆ†å±‚**](https://github.com/feature-sliced/documentation/discussions/23)
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`features`ã€`components`ã€`containers`*
* `/entities` â€” [**ä¸šåŠ¡å®ä½“å±‚**](https://github.com/feature-sliced/documentation/discussions/18#discussioncomment-422649)
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`entities`ã€`models`ã€`shared`*
* `/shared` â€” [**å¯é‡ç”¨åŸºç¡€è®¾æ–½ä»£ç å±‚**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-453020) ğŸ”¥
  <!-- -->
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`shared`ã€`common`ã€`lib`*

#### æ®µ[â€‹](#æ®µ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* `/ui` â€” [**UIæ®µ**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-453132) ğŸ”¥
  <!-- -->
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`ui`ã€`components`ã€`view`*
* `/model` â€” [**ä¸šåŠ¡é€»è¾‘æ®µ**](https://github.com/feature-sliced/documentation/discussions/31#discussioncomment-472645) ğŸ”¥
  <!-- -->
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`model`ã€`store`ã€`state`ã€`services`ã€`controller`*
* `/lib` â€” **è¾…åŠ©ä»£ç æ®µ**
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`lib`ã€`libs`ã€`utils`ã€`helpers`*
* `/api` â€” [**APIæ®µ**](https://github.com/feature-sliced/documentation/discussions/66)
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`api`ã€`service`ã€`requests`ã€`queries`*
* `/config` â€” **åº”ç”¨ç¨‹åºé…ç½®æ®µ**
  * *ä»¥å‰çš„ç‰ˆæœ¬ï¼š`config`ã€`env`ã€`get-env`*

### `REFINED` ä½è€¦åˆ[â€‹](#refined-ä½è€¦åˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ç°åœ¨ç”±äºæ–°çš„å±‚çº§ï¼Œ[éµå¾ªæ¨¡å—é—´ä½è€¦åˆåŸåˆ™](/documentation/zh/docs/reference/slices-segments.md#zero-coupling-high-cohesion)å˜å¾—æ›´åŠ å®¹æ˜“ã€‚

*åŒæ—¶ï¼Œä»ç„¶å»ºè®®å°½å¯èƒ½é¿å…æéš¾"è§£è€¦"æ¨¡å—çš„æƒ…å†µ*

## See also[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [Notes from the report "React SPB Meetup #1"](https://t.me/feature_slices)
* [React Berlin Talk - Oleg Isonen "Feature Driven Architecture"](https://www.youtube.com/watch?v=BWAeYuWFHhs)
* [Comparison with v1 (community-chat)](https://t.me/feature_sliced/493)
* [New ideas v2 with explanations (atomicdesign-chat)](https://t.me/atomicdesign/18708)
* [Discussion of abstractions and naming for the new version of the methodology (v2)](https://github.com/feature-sliced/documentation/discussions/31)


---

# ä»v2.0åˆ°v2.1çš„è¿ç§»

v2.1çš„ä¸»è¦å˜åŒ–æ˜¯åˆ†è§£ç•Œé¢çš„æ–°æ€ç»´æ¨¡å‹â€”â€”é¡µé¢ä¼˜å…ˆã€‚

åœ¨v2.0ä¸­ï¼ŒFSDä¼šå»ºè®®è¯†åˆ«ç•Œé¢ä¸­çš„å®ä½“å’ŒåŠŸèƒ½ï¼Œç”šè‡³è€ƒè™‘å®ä½“è¡¨ç¤ºå’Œäº¤äº’æ€§çš„æœ€å°éƒ¨åˆ†è¿›è¡Œåˆ†è§£ã€‚ç„¶åä½ ä¼šä»å®ä½“å’ŒåŠŸèƒ½æ„å»ºå°éƒ¨ä»¶å’Œé¡µé¢ã€‚åœ¨è¿™ç§åˆ†è§£æ¨¡å‹ä¸­ï¼Œå¤§éƒ¨åˆ†é€»è¾‘éƒ½åœ¨å®ä½“å’ŒåŠŸèƒ½ä¸­ï¼Œé¡µé¢åªæ˜¯ç»„åˆå±‚ï¼Œæœ¬èº«æ²¡æœ‰å¤ªå¤šæ„ä¹‰ã€‚

åœ¨v2.1ä¸­ï¼Œæˆ‘ä»¬å»ºè®®ä»é¡µé¢å¼€å§‹ï¼Œç”šè‡³å¯èƒ½å°±åœåœ¨é‚£é‡Œã€‚å¤§å¤šæ•°äººå·²ç»çŸ¥é“å¦‚ä½•å°†åº”ç”¨ç¨‹åºåˆ†ç¦»ä¸ºå•ç‹¬çš„é¡µé¢ï¼Œé¡µé¢ä¹Ÿæ˜¯åœ¨ä»£ç åº“ä¸­å°è¯•å®šä½ç»„ä»¶æ—¶çš„å¸¸è§èµ·ç‚¹ã€‚åœ¨è¿™ç§æ–°çš„åˆ†è§£æ¨¡å‹ä¸­ï¼Œä½ å°†å¤§éƒ¨åˆ†UIå’Œé€»è¾‘ä¿ç•™åœ¨æ¯ä¸ªå•ç‹¬çš„é¡µé¢ä¸­ï¼Œåœ¨Sharedä¸­ç»´æŠ¤å¯é‡ç”¨çš„åŸºç¡€ã€‚å¦‚æœéœ€è¦åœ¨å¤šä¸ªé¡µé¢ä¹‹é—´é‡ç”¨ä¸šåŠ¡é€»è¾‘ï¼Œä½ å¯ä»¥å°†å…¶ç§»åŠ¨åˆ°ä¸‹é¢çš„å±‚çº§ã€‚

Feature-Sliced Designçš„å¦ä¸€ä¸ªæ–°å¢åŠŸèƒ½æ˜¯ä½¿ç”¨`@x`æ ‡è®°æ³•æ ‡å‡†åŒ–å®ä½“ä¹‹é—´çš„äº¤å‰å¯¼å…¥ã€‚

## å¦‚ä½•è¿ç§»[â€‹](#how-to-migrate "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

v2.1ä¸­æ²¡æœ‰ç ´åæ€§æ›´æ”¹ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨FSD v2.0ç¼–å†™çš„é¡¹ç›®åœ¨FSD v2.1ä¸­ä¹Ÿæ˜¯æœ‰æ•ˆçš„é¡¹ç›®ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç›¸ä¿¡æ–°çš„æ€ç»´æ¨¡å‹å¯¹å›¢é˜Ÿæ›´æœ‰ç›Šï¼Œç‰¹åˆ«æ˜¯å¯¹æ–°å¼€å‘è€…çš„å…¥èŒï¼Œæ‰€ä»¥æˆ‘ä»¬å»ºè®®å¯¹ä½ çš„åˆ†è§£è¿›è¡Œå°çš„è°ƒæ•´ã€‚

### åˆå¹¶åˆ‡ç‰‡[â€‹](#åˆå¹¶åˆ‡ç‰‡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸€ä¸ªç®€å•çš„å¼€å§‹æ–¹å¼æ˜¯åœ¨é¡¹ç›®ä¸Šè¿è¡Œæˆ‘ä»¬çš„linterï¼Œ[Steiger](https://github.com/feature-sliced/steiger)ã€‚Steigeræ˜¯åŸºäºæ–°çš„æ€ç»´æ¨¡å‹æ„å»ºçš„ï¼Œæœ€æœ‰ç”¨çš„è§„åˆ™å°†æ˜¯ï¼š

* [`insignificant-slice`](https://github.com/feature-sliced/steiger/tree/master/packages/steiger-plugin-fsd/src/insignificant-slice) â€” å¦‚æœä¸€ä¸ªå®ä½“æˆ–åŠŸèƒ½åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­ä½¿ç”¨ï¼Œæ­¤è§„åˆ™å°†å»ºè®®å°†è¯¥å®ä½“æˆ–åŠŸèƒ½å®Œå…¨åˆå¹¶åˆ°é¡µé¢ä¸­ã€‚
* [`excessive-slicing`](https://github.com/feature-sliced/steiger/tree/master/packages/steiger-plugin-fsd/src/excessive-slicing) â€” å¦‚æœä¸€ä¸ªå±‚çº§æœ‰å¤ªå¤šåˆ‡ç‰‡ï¼Œè¿™é€šå¸¸æ˜¯åˆ†è§£è¿‡äºç»†ç²’åº¦çš„æ ‡å¿—ã€‚æ­¤è§„åˆ™å°†å»ºè®®åˆå¹¶æˆ–åˆ†ç»„ä¸€äº›åˆ‡ç‰‡ä»¥å¸®åŠ©é¡¹ç›®å¯¼èˆªã€‚

```
npx steiger src
```

è¿™å°†å¸®åŠ©ä½ è¯†åˆ«å“ªäº›åˆ‡ç‰‡åªä½¿ç”¨ä¸€æ¬¡ï¼Œä»¥ä¾¿ä½ å¯ä»¥é‡æ–°è€ƒè™‘å®ƒä»¬æ˜¯å¦çœŸçš„å¿…è¦ã€‚åœ¨è¿™ç§è€ƒè™‘ä¸­ï¼Œè¯·è®°ä½å±‚çº§ä¸ºå…¶å†…éƒ¨çš„æ‰€æœ‰åˆ‡ç‰‡å½¢æˆæŸç§å…¨å±€å‘½åç©ºé—´ã€‚å°±åƒä½ ä¸ä¼šç”¨åªä½¿ç”¨ä¸€æ¬¡çš„å˜é‡æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ä¸€æ ·ï¼Œä½ åº”è¯¥å°†å±‚çº§å‘½åç©ºé—´ä¸­çš„ä½ç½®è§†ä¸ºæœ‰ä»·å€¼çš„ï¼Œè¦è°¨æ…ä½¿ç”¨ã€‚

### æ ‡å‡†åŒ–äº¤å‰å¯¼å…¥[â€‹](#æ ‡å‡†åŒ–äº¤å‰å¯¼å…¥ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœä½ çš„é¡¹ç›®ä¹‹å‰æœ‰äº¤å‰å¯¼å…¥ï¼ˆæˆ‘ä»¬ä¸è¯„åˆ¤ï¼ï¼‰ï¼Œä½ ç°åœ¨å¯ä»¥åˆ©ç”¨Feature-Sliced Designä¸­äº¤å‰å¯¼å…¥çš„æ–°æ ‡è®°æ³•â€”â€”`@x`æ ‡è®°æ³•ã€‚å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

entities/B/some/file.ts

```
import type { EntityA } from "entities/A/@x/B";
```

æ›´å¤šè¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹å‚è€ƒä¸­çš„[äº¤å‰å¯¼å…¥çš„å…¬å…±API](/documentation/zh/docs/reference/public-api.md#public-api-for-cross-imports)éƒ¨åˆ†ã€‚


---

# ä¸ Electron ä¸€èµ·ä½¿ç”¨

Electron åº”ç”¨ç¨‹åºå…·æœ‰ç‰¹æ®Šçš„æ¶æ„ï¼Œç”±å…·æœ‰ä¸åŒèŒè´£çš„å¤šä¸ªè¿›ç¨‹ç»„æˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹åº”ç”¨ FSD éœ€è¦å°†ç»“æ„é€‚åº” Electron çš„ç‰¹æ€§ã€‚

```
â””â”€â”€ src
    â”œâ”€â”€ app                                 # Common app layer
    â”‚   â”œâ”€â”€ main                            # Main process
    â”‚   â”‚   â””â”€â”€ index.ts                    # Main process entry point
    â”‚   â”œâ”€â”€ preload                         # Preload script and Context Bridge
    â”‚   â”‚   â””â”€â”€ index.ts                    # Preload entry point
    â”‚   â””â”€â”€ renderer                        # Renderer process
    â”‚       â””â”€â”€ index.html                  # Renderer process entry point
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ features
    â”‚   â”‚   â””â”€â”€ user
    â”‚   â”‚       â””â”€â”€ ipc
    â”‚   â”‚           â”œâ”€â”€ get-user.ts
    â”‚   â”‚           â””â”€â”€ send-user.ts
    â”‚   â”œâ”€â”€ entities
    â”‚   â””â”€â”€ shared
    â”œâ”€â”€ renderer
    â”‚   â”œâ”€â”€ pages
    â”‚   â”‚   â”œâ”€â”€ settings
    â”‚   â”‚   â”‚   â”œâ”€â”€ ipc
    â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-user.ts
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ save-user.ts
    â”‚   â”‚   â”‚   â”œâ”€â”€ ui
    â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.tsx
    â”‚   â”‚   â”‚   â””â”€â”€ index.ts
    â”‚   â”‚   â””â”€â”€ home
    â”‚   â”‚       â”œâ”€â”€ ui
    â”‚   â”‚       â”‚   â””â”€â”€ home.tsx
    â”‚   â”‚       â””â”€â”€ index.ts
    â”‚   â”œâ”€â”€ widgets
    â”‚   â”œâ”€â”€ features
    â”‚   â”œâ”€â”€ entities
    â”‚   â””â”€â”€ shared
    â””â”€â”€ shared                              # Common code between main and renderer
        â””â”€â”€ ipc                             # IPC description (event names, contracts)
```

## å…¬å…± API è§„åˆ™[â€‹](#å…¬å…±-api-è§„åˆ™ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ¯ä¸ªè¿›ç¨‹å¿…é¡»æœ‰è‡ªå·±çš„å…¬å…± APIã€‚ä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½å°†æ¨¡å—ä» `main` å¯¼å…¥åˆ° `renderer`ã€‚ åªæœ‰ `src/shared` æ–‡ä»¶å¤¹å¯¹ä¸¤ä¸ªè¿›ç¨‹éƒ½æ˜¯å…¬å…±çš„ã€‚ æè¿°è¿›ç¨‹äº¤äº’çš„å¥‘çº¦ä¹Ÿæ˜¯å¿…è¦çš„ã€‚

## é¢å¤–æ›´æ”¹æ ‡å‡†ç»“æ„[â€‹](#é¢å¤–æ›´æ”¹æ ‡å‡†ç»“æ„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å»ºè®®ä½¿ç”¨æ–°çš„ `ipc` æ®µï¼Œå…¶ä¸­è¿›ç¨‹ä¹‹é—´çš„äº¤äº’å‘ç”Ÿã€‚ `pages` å’Œ `widgets` å±‚ï¼ŒåŸºäºå…¶åç§°ï¼Œä¸åº”å‡ºç°åœ¨ `src/main` ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ `features`ã€`entities` å’Œ `shared`ã€‚ `src/app` å±‚ä¸­çš„ `app` å±‚åŒ…å« `main` å’Œ `renderer` çš„å…¥å£ç‚¹ï¼Œä»¥åŠ IPCã€‚ ä¸å¸Œæœ› `app` å±‚ä¸­çš„æ®µæœ‰äº¤é›†

## äº¤äº’ç¤ºä¾‹[â€‹](#äº¤äº’ç¤ºä¾‹ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

src/shared/ipc/channels.ts

```
export const CHANNELS = {
    GET_USER_DATA: 'GET_USER_DATA',
    SAVE_USER: 'SAVE_USER',
} as const;

export type TChannelKeys = keyof typeof CHANNELS;
```

src/shared/ipc/events.ts

```
import { CHANNELS } from './channels';

export interface IEvents {
    [CHANNELS.GET_USER_DATA]: {
        args: void,
        response?: { name: string; email: string; };
    };
    [CHANNELS.SAVE_USER]: {
        args: { name: string; };
        response: void;
    };
}
```

src/shared/ipc/preload.ts

```
import { CHANNELS } from './channels';
import type { IEvents } from './events';

type TOptionalArgs<T> = T extends void ? [] : [args: T];

export type TElectronAPI = {
    [K in keyof typeof CHANNELS]: (...args: TOptionalArgs<IEvents[typeof CHANNELS[K]]['args']>) => IEvents[typeof CHANNELS[K]]['response'];
};
```

src/app/preload/index.ts

```
import { contextBridge, ipcRenderer } from 'electron';
import { CHANNELS, type TElectronAPI } from 'shared/ipc';

const API: TElectronAPI = {
    [CHANNELS.GET_USER_DATA]: () => ipcRenderer.sendSync(CHANNELS.GET_USER_DATA),
    [CHANNELS.SAVE_USER]: args => ipcRenderer.invoke(CHANNELS.SAVE_USER, args),
} as const;

contextBridge.exposeInMainWorld('electron', API);
```

src/main/features/user/ipc/send-user.ts

```
import { ipcMain } from 'electron';
import { CHANNELS } from 'shared/ipc';

export const sendUser = () => {
    ipcMain.on(CHANNELS.GET_USER_DATA, ev => {
        ev.returnValue = {
            name: 'John Doe',
            email: 'john.doe@example.com',
        };
    });
};
```

src/renderer/pages/user-settings/ipc/get-user.ts

```
import { CHANNELS } from 'shared/ipc';

export const getUser = () => {
    const user = window.electron[CHANNELS.GET_USER_DATA]();

    return user ?? { name: 'John Donte', email: 'john.donte@example.com' };
};
```

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [Process Model Documentation](https://www.electronjs.org/docs/latest/tutorial/process-model)
* [Context Isolation Documentation](https://www.electronjs.org/docs/latest/tutorial/context-isolation)
* [Inter-Process Communication Documentation](https://www.electronjs.org/docs/latest/tutorial/ipc)
* [Example](https://github.com/feature-sliced/examples/tree/master/examples/electron)


---

# ä¸ Next.js ä¸€èµ·ä½¿ç”¨

å¦‚æœæ‚¨è§£å†³äº†ä¸»è¦å†²çªâ€”â€”`app` å’Œ `pages` æ–‡ä»¶å¤¹ï¼ŒFSD ä¸ Next.js çš„ App Router ç‰ˆæœ¬å’Œ Pages Router ç‰ˆæœ¬éƒ½å…¼å®¹ã€‚

## App Router[â€‹](#app-router "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### FSD å’Œ Next.js åœ¨ `app` å±‚ä¸­çš„å†²çª[â€‹](#conflict-between-fsd-and-nextjs-in-the-app-layer "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Next.js å»ºè®®ä½¿ç”¨ `app` æ–‡ä»¶å¤¹æ¥å®šä¹‰åº”ç”¨ç¨‹åºè·¯ç”±ã€‚å®ƒæœŸæœ› `app` æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å¯¹åº”äºè·¯å¾„åã€‚è¿™ç§è·¯ç”±æœºåˆ¶**ä¸ FSD æ¦‚å¿µä¸ä¸€è‡´**ï¼Œå› ä¸ºæ— æ³•ç»´æŠ¤æ‰å¹³çš„ slice ç»“æ„ã€‚

è§£å†³æ–¹æ¡ˆæ˜¯å°† Next.js çš„ `app` æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶å°† FSD é¡µé¢ä» `src`ï¼ˆFSD å±‚æ‰€åœ¨çš„ä½ç½®ï¼‰å¯¼å…¥åˆ° Next.js çš„ `app` æ–‡ä»¶å¤¹ä¸­ã€‚

æ‚¨è¿˜éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ ä¸€ä¸ª `pages` æ–‡ä»¶å¤¹ï¼Œå¦åˆ™å³ä½¿æ‚¨ä½¿ç”¨ App Routerï¼ŒNext.js ä¹Ÿä¼šå°è¯•å°† `src/pages` ç”¨ä½œ Pages Routerï¼Œè¿™ä¼šç ´åæ„å»ºã€‚åœ¨è¿™ä¸ªæ ¹ `pages` æ–‡ä»¶å¤¹ä¸­æ”¾ç½®ä¸€ä¸ª `README.md` æ–‡ä»¶æ¥æè¿°ä¸ºä»€ä¹ˆå®ƒæ˜¯å¿…è¦çš„ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå³ä½¿å®ƒæ˜¯ç©ºçš„ã€‚

```
â”œâ”€â”€ app                              # App folder (Next.js)
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â””â”€â”€ get-example
â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â””â”€â”€ example
â”‚       â””â”€â”€ page.tsx
â”œâ”€â”€ pages                            # Empty pages folder (Next.js)
â”‚   â””â”€â”€ README.md
â””â”€â”€ src
    â”œâ”€â”€ app
    â”‚   â””â”€â”€ api-routes               # API routes
    â”œâ”€â”€ pages
    â”‚   â””â”€â”€ example
    â”‚       â”œâ”€â”€ index.ts
    â”‚       â””â”€â”€ ui
    â”‚           â””â”€â”€ example.tsx
    â”œâ”€â”€ widgets
    â”œâ”€â”€ features
    â”œâ”€â”€ entities
    â””â”€â”€ shared
```

åœ¨ Next.js `app` ä¸­ä» `src/pages` é‡æ–°å¯¼å‡ºé¡µé¢çš„ç¤ºä¾‹ï¼š

app/example/page.tsx

```
export { ExamplePage as default, metadata } from '@/pages/example';
```

### ä¸­é—´ä»¶[â€‹](#middleware "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœæ‚¨åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸­é—´ä»¶ï¼Œå®ƒå¿…é¡»ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œä¸ Next.js çš„ `app` å’Œ `pages` æ–‡ä»¶å¤¹å¹¶åˆ—ã€‚

### æ£€æµ‹[â€‹](#instrumentation "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`instrumentation.js` æ–‡ä»¶å…è®¸æ‚¨ç›‘æ§åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œè¡Œä¸ºã€‚å¦‚æœæ‚¨ä½¿ç”¨å®ƒï¼Œå®ƒå¿…é¡»ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œç±»ä¼¼äº `middleware.js`ã€‚

## Pages Router[â€‹](#pages-router "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### FSD å’Œ Next.js åœ¨ `pages` å±‚ä¸­çš„å†²çª[â€‹](#conflict-between-fsd-and-nextjs-in-the-pages-layer "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è·¯ç”±åº”è¯¥æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `pages` æ–‡ä»¶å¤¹ä¸­ï¼Œç±»ä¼¼äº App Router çš„ `app` æ–‡ä»¶å¤¹ã€‚`src` å†…éƒ¨å±‚æ–‡ä»¶å¤¹æ‰€åœ¨çš„ç»“æ„ä¿æŒä¸å˜ã€‚

```
â”œâ”€â”€ pages                            # Pages folder (Next.js)
â”‚   â”œâ”€â”€ _app.tsx
â”‚   â”œâ”€â”€ api
â”‚   â”‚   â””â”€â”€ example.ts               # API route re-export
â”‚   â””â”€â”€ example
â”‚       â””â”€â”€ index.tsx
â””â”€â”€ src
    â”œâ”€â”€ app
    â”‚   â”œâ”€â”€ custom-app
    â”‚   â”‚   â””â”€â”€ custom-app.tsx       # Custom App component
    â”‚   â””â”€â”€ api-routes
    â”‚       â””â”€â”€ get-example-data.ts  # API route
    â”œâ”€â”€ pages
    â”‚   â””â”€â”€ example
    â”‚       â”œâ”€â”€ index.ts
    â”‚       â””â”€â”€ ui
    â”‚           â””â”€â”€ example.tsx
    â”œâ”€â”€ widgets
    â”œâ”€â”€ features
    â”œâ”€â”€ entities
    â””â”€â”€ shared
```

åœ¨ Next.js `pages` ä¸­ä» `src/pages` é‡æ–°å¯¼å‡ºé¡µé¢çš„ç¤ºä¾‹ï¼š

pages/example/index.tsx

```
export { Example as default } from '@/pages/example';
```

### è‡ªå®šä¹‰ `_app` ç»„ä»¶[â€‹](#custom-_app-component "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ‚¨å¯ä»¥å°†è‡ªå®šä¹‰ App ç»„ä»¶æ”¾åœ¨ `src/app/_app` æˆ– `src/app/custom-app` ä¸­ï¼š

src/app/custom-app/custom-app.tsx

```
import type { AppProps } from 'next/app';

export const MyApp = ({ Component, pageProps }: AppProps) => {
    return (
        <>
            <p>My Custom App component</p>
            <Component { ...pageProps } />
        </>
    );
};
```

pages/\_app.tsx

```
export { App as default } from '@/app/custom-app';
```

## è·¯ç”±å¤„ç†ç¨‹åºï¼ˆAPI è·¯ç”±ï¼‰[â€‹](#route-handlers-api-routes "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä½¿ç”¨ `app` å±‚ä¸­çš„ `api-routes` segment æ¥å¤„ç†è·¯ç”±å¤„ç†ç¨‹åºã€‚

åœ¨ FSD ç»“æ„ä¸­ç¼–å†™åç«¯ä»£ç æ—¶è¦è°¨æ…â€”â€”FSD ä¸»è¦ç”¨äºå‰ç«¯ï¼Œè¿™æ„å‘³ç€äººä»¬ä¼šæœŸæœ›æ‰¾åˆ°å‰ç«¯ä»£ç ã€‚ å¦‚æœæ‚¨éœ€è¦å¾ˆå¤šç«¯ç‚¹ï¼Œè¯·è€ƒè™‘å°†å®ƒä»¬åˆ†ç¦»åˆ° monorepo ä¸­çš„ä¸åŒåŒ…ä¸­ã€‚

* App Router
* Pages Router

src/app/api-routes/get-example-data.ts

```
import { getExamplesList } from '@/shared/db';

export const getExampleData = () => {
    try {
        const examplesList = getExamplesList();

        return Response.json({ examplesList });
    } catch {
        return Response.json(null, {
            status: 500,
            statusText: 'Ouch, something went wrong',
        });
    }
};
```

app/api/example/route.ts

```
export { getExampleData as GET } from '@/app/api-routes';
```

src/app/api-routes/get-example-data.ts

```
import type { NextApiRequest, NextApiResponse } from 'next';

const config = {
    api: {
        bodyParser: {
            sizeLimit: '1mb',
        },
    },
    maxDuration: 5,
};

const handler = (req: NextApiRequest, res: NextApiResponse<ResponseData>) => {
    res.status(200).json({ message: 'Hello from FSD' });
};

export const getExampleData = { config, handler } as const;
```

src/app/api-routes/index.ts

```
export { getExampleData } from './get-example-data';
```

app/api/example.ts

```
import { getExampleData } from '@/app/api-routes';

export const config = getExampleData.config;
export default getExampleData.handler;
```

## Additional recommendations[â€‹](#additional-recommendations "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* Use the `db` segment in the `shared` layer to describe database queries and their further use in higher layers.
* Caching and revalidating queries logic is better kept in the same place as the queries themselves.

## See also[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [Next.js Project Structure](https://nextjs.org/docs/app/getting-started/project-structure)
* [Next.js Page Layouts](https://nextjs.org/docs/app/getting-started/layouts-and-pages)


---

# ä¸ NuxtJS ä¸€èµ·ä½¿ç”¨

å¯ä»¥åœ¨ NuxtJS é¡¹ç›®ä¸­å®ç° FSDï¼Œä½†ç”±äº NuxtJS é¡¹ç›®ç»“æ„è¦æ±‚ä¸ FSD åŸåˆ™ä¹‹é—´çš„å·®å¼‚ï¼Œä¼šäº§ç”Ÿå†²çªï¼š

* æœ€åˆï¼ŒNuxtJS æä¾›çš„é¡¹ç›®æ–‡ä»¶ç»“æ„æ²¡æœ‰ `src` æ–‡ä»¶å¤¹ï¼Œå³åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ã€‚
* æ–‡ä»¶è·¯ç”±åœ¨ `pages` æ–‡ä»¶å¤¹ä¸­ï¼Œè€Œåœ¨ FSD ä¸­ï¼Œæ­¤æ–‡ä»¶å¤¹ä¿ç•™ç”¨äºæ‰å¹³ slice ç»“æ„ã€‚

## ä¸º `src` ç›®å½•æ·»åŠ åˆ«å[â€‹](#ä¸º-src-ç›®å½•æ·»åŠ åˆ«å "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å°† `alias` å¯¹è±¡æ·»åŠ åˆ°æ‚¨çš„é…ç½®ä¸­ï¼š

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not FSD related, enabled at project startup
  alias: {
    "@": '../src'
  },
})
```

## é€‰æ‹©å¦‚ä½•é…ç½®è·¯ç”±å™¨[â€‹](#é€‰æ‹©å¦‚ä½•é…ç½®è·¯ç”±å™¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨ NuxtJS ä¸­ï¼Œæœ‰ä¸¤ç§è‡ªå®šä¹‰è·¯ç”±çš„æ–¹æ³• - ä½¿ç”¨é…ç½®å’Œä½¿ç”¨æ–‡ä»¶ç»“æ„ã€‚ åœ¨åŸºäºæ–‡ä»¶çš„è·¯ç”±æƒ…å†µä¸‹ï¼Œæ‚¨å°†åœ¨ app/routes ç›®å½•å†…çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»º index.vue æ–‡ä»¶ï¼Œåœ¨é…ç½®æƒ…å†µä¸‹ï¼Œæ‚¨å°†åœ¨ `router.options.ts` æ–‡ä»¶ä¸­é…ç½®è·¯ç”±å™¨ã€‚

### ä½¿ç”¨é…ç½®è¿›è¡Œè·¯ç”±[â€‹](#ä½¿ç”¨é…ç½®è¿›è¡Œè·¯ç”± "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨ `app` å±‚ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª `router.options.ts` æ–‡ä»¶ï¼Œå¹¶ä»ä¸­å¯¼å‡ºé…ç½®å¯¹è±¡ï¼š

app/router.options.ts

```
import type { RouterConfig } from '@nuxt/schema';

export default <RouterConfig> {
  routes: (_routes) => [],
};
```

è¦å‘é¡¹ç›®æ·»åŠ  `Home` é¡µé¢ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

* åœ¨ `pages` å±‚å†…æ·»åŠ é¡µé¢ slice
* å°†é€‚å½“çš„è·¯ç”±æ·»åŠ åˆ° `app/router.config.ts` é…ç½®ä¸­

è¦åˆ›å»ºé¡µé¢ sliceï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ [CLI](https://github.com/feature-sliced/cli)ï¼š

```
fsd pages home
```

åœ¨ ui segment å†…åˆ›å»ºä¸€ä¸ª `home-page.vue` æ–‡ä»¶ï¼Œä½¿ç”¨ Public API è®¿é—®å®ƒ

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page';
```

å› æ­¤ï¼Œæ–‡ä»¶ç»“æ„å°†å¦‚ä¸‹æ‰€ç¤ºï¼š

```
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ router.config.ts
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

æœ€åï¼Œè®©æˆ‘ä»¬å‘é…ç½®æ·»åŠ ä¸€ä¸ªè·¯ç”±ï¼š

app/router.config.ts

```
import type { RouterConfig } from '@nuxt/schema'

export default <RouterConfig> {
  routes: (_routes) => [
    {
      name: 'home',
      path: '/',
      component: () => import('@/pages/home.vue').then(r => r.default || r)
    }
  ],
}
```

### æ–‡ä»¶è·¯ç”±[â€‹](#æ–‡ä»¶è·¯ç”± "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é¦–å…ˆï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª`src`ç›®å½•ï¼Œå¹¶åœ¨æ­¤ç›®å½•å†…åˆ›å»ºappå’Œpageså±‚ï¼Œä»¥åŠåœ¨appå±‚å†…åˆ›å»ºä¸€ä¸ªroutesæ–‡ä»¶å¤¹ã€‚ å› æ­¤ï¼Œä½ çš„æ–‡ä»¶ç»“æ„åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š

```
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”œâ”€â”€ pages                         # Pages folder, related to FSD
```

ä¸ºäº†è®© NuxtJS ä½¿ç”¨ `app` å±‚å†…çš„ routes æ–‡ä»¶å¤¹è¿›è¡Œæ–‡ä»¶è·¯ç”±ï¼Œæ‚¨éœ€è¦æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹ `nuxt.config.ts`ï¼š

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not FSD related, enabled at project startup
  alias: {
    "@": '../src'
  },
  dir: {
    pages: './src/app/routes'
  }
})
```

ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨`app`å†…ä¸ºé¡µé¢åˆ›å»ºè·¯ç”±ï¼Œå¹¶å°†`pages`ä¸­çš„é¡µé¢è¿æ¥åˆ°å®ƒä»¬ã€‚

ä¾‹å¦‚ï¼Œè¦å‘é¡¹ç›®æ·»åŠ  `Home` é¡µé¢ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

* åœ¨ `pages` å±‚å†…æ·»åŠ é¡µé¢ slice
* åœ¨ `app` å±‚å†…æ·»åŠ ç›¸åº”çš„è·¯ç”±
* å°† slice ä¸­çš„é¡µé¢ä¸è·¯ç”±è¿æ¥

è¦åˆ›å»ºé¡µé¢ sliceï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ [CLI](https://github.com/feature-sliced/cli)ï¼š

```
fsd pages home
```

åœ¨ ui segment å†…åˆ›å»ºä¸€ä¸ª `home-page.vue` æ–‡ä»¶ï¼Œä½¿ç”¨ Public API è®¿é—®å®ƒ

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page';
```

åœ¨ `app` å±‚å†…ä¸ºæ­¤é¡µé¢åˆ›å»ºè·¯ç”±ï¼š

```

â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”‚   â”‚   â”œâ”€â”€ index.vue
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

åœ¨ `index.vue` æ–‡ä»¶å†…æ·»åŠ æ‚¨çš„é¡µé¢ç»„ä»¶ï¼š

src/app/routes/index.vue

```
<script setup>
  import { HomePage } from '@/pages/home';
</script>

<template>
  <HomePage/>
</template>
```

## `layouts` æ€ä¹ˆåŠï¼Ÿ[â€‹](#layouts-æ€ä¹ˆåŠ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ‚¨å¯ä»¥å°†å¸ƒå±€æ”¾åœ¨ `app` å±‚å†…ï¼Œä¸ºæ­¤æ‚¨éœ€è¦æŒ‰å¦‚ä¸‹æ–¹å¼ä¿®æ”¹é…ç½®ï¼š

nuxt.config.ts

```
export default defineNuxtConfig({
  devtools: { enabled: true }, // Not related to FSD, enabled at project startup
  alias: {
    "@": '../src'
  },
  dir: {
    pages: './src/app/routes',
    layouts: './src/app/layouts'
  }
})
```

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [NuxtJS ä¸­æ›´æ”¹ç›®å½•é…ç½®çš„æ–‡æ¡£](https://nuxt.com/docs/api/nuxt-config#dir)
* [NuxtJS ä¸­æ›´æ”¹è·¯ç”±å™¨é…ç½®çš„æ–‡æ¡£](https://nuxt.com/docs/guide/recipes/custom-routing#router-config)
* [NuxtJS ä¸­æ›´æ”¹åˆ«åçš„æ–‡æ¡£](https://nuxt.com/docs/api/nuxt-config#alias)


---

# ä¸ React Query ä¸€èµ·ä½¿ç”¨

## "é”®æ”¾åœ¨å“ªé‡Œ"çš„é—®é¢˜[â€‹](#é”®æ”¾åœ¨å“ªé‡Œçš„é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### è§£å†³æ–¹æ¡ˆâ€”â€”æŒ‰å®ä½“åˆ†è§£[â€‹](#è§£å†³æ–¹æ¡ˆæŒ‰å®ä½“åˆ†è§£ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¦‚æœé¡¹ç›®å·²ç»æœ‰å®ä½“åˆ’åˆ†ï¼Œå¹¶ä¸”æ¯ä¸ªè¯·æ±‚å¯¹åº”å•ä¸ªå®ä½“ï¼Œ æœ€çº¯ç²¹çš„åˆ’åˆ†å°†æŒ‰å®ä½“è¿›è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä»¥ä¸‹ç»“æ„ï¼š

```
â””â”€â”€ src/                                        #
    â”œâ”€â”€ app/                                    #
    |   ...                                     #
    â”œâ”€â”€ pages/                                  #
    |   ...                                     #
    â”œâ”€â”€ entities/                               #
    |     â”œâ”€â”€ {entity}/                         #
    |    ...     â””â”€â”€ api/                       #
    |                 â”œâ”€â”€ `{entity}.query`      # Query-factory where are the keys and functions
    |                 â”œâ”€â”€ `get-{entity}`        # Entity getter function
    |                 â”œâ”€â”€ `create-{entity}`     # Entity creation function
    |                 â”œâ”€â”€ `update-{entity}`     # Entity update function
    |                 â”œâ”€â”€ `delete-{entity}`     # Entity delete function
    |                ...                        #
    |                                           #
    â”œâ”€â”€ features/                               #
    |   ...                                     #
    â”œâ”€â”€ widgets/                                #
    |   ...                                     #
    â””â”€â”€ shared/                                 #
        ...                                     #
```

å¦‚æœå®ä½“ä¹‹é—´æœ‰è¿æ¥ï¼ˆä¾‹å¦‚ï¼ŒCountry å®ä½“æœ‰ä¸€ä¸ª City å®ä½“çš„åˆ—è¡¨å­—æ®µï¼‰ï¼Œ åˆ™å¯ä»¥ä½¿ç”¨ [å…¬å…± API è·¨å¯¼å…¥](/documentation/zh/docs/reference/public-api.md#public-api-for-cross-imports) æˆ–è€ƒè™‘ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆã€‚

### æ›¿ä»£æ–¹æ¡ˆâ€”â€”ä¿æŒå…±äº«[â€‹](#æ›¿ä»£æ–¹æ¡ˆä¿æŒå…±äº« "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨å®ä½“åˆ†ç¦»ä¸åˆé€‚çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹ç»“æ„ï¼š

```
â””â”€â”€ src/                                        #
   ...                                          #
    â””â”€â”€ shared/                                 #
          â”œâ”€â”€ api/                              #
         ...   â”œâ”€â”€ `queries`                    # Query-factories
               |      â”œâ”€â”€ `document.ts`         #
               |      â”œâ”€â”€ `background-jobs.ts`  #
               |     ...                        #
               â””â”€â”€  index.ts                    #
```

ç„¶ååœ¨ `@/shared/api/index.ts` ä¸­ï¼š

@/shared/api/index.ts

```
export { documentQueries } from "./queries/document";
```

## "åœ¨å“ªé‡Œæ’å…¥çªå˜ï¼Ÿ"çš„é—®é¢˜[â€‹](#åœ¨å“ªé‡Œæ’å…¥çªå˜çš„é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

ä¸å»ºè®®å°†çªå˜ä¸æŸ¥è¯¢æ··åˆã€‚æœ‰ä¸¤ç§é€‰æ‹©ï¼š

### 1. åœ¨ `api` æ®µé™„è¿‘å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰é’©å­[â€‹](#1-åœ¨-api-æ®µé™„è¿‘å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰é’©å­ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

@/features/update-post/api/use-update-title.ts

```
export const useUpdateTitle = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: ({ id, newTitle }) =>
      apiClient
        .patch(`/posts/${id}`, { title: newTitle })
        .then((data) => console.log(data)),

    onSuccess: (newPost) => {
      queryClient.setQueryData(postsQueries.ids(id), newPost);
    },
  });
};
```

### 2. åœ¨å…¶ä»–åœ°æ–¹ï¼ˆå…±äº«æˆ–å®ä½“ï¼‰å®šä¹‰çªå˜å‡½æ•°ï¼Œå¹¶åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ `useMutation`[â€‹](#2-åœ¨å…¶ä»–åœ°æ–¹å…±äº«æˆ–å®ä½“å®šä¹‰çªå˜å‡½æ•°å¹¶åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨-usemutation "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

```
const { mutateAsync, isPending } = useMutation({
  mutationFn: postApi.createPost,
});
```

@/pages/post-create/ui/post-create-page.tsx

```
export const CreatePost = () => {
  const { classes } = useStyles();
  const [title, setTitle] = useState("");

  const { mutate, isPending } = useMutation({
    mutationFn: postApi.createPost,
  });

  const handleChange = (e: ChangeEvent<HTMLInputElement>) =>
    setTitle(e.target.value);
  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    mutate({ title, userId: DEFAULT_USER_ID });
  };

  return (
    <form className={classes.create_form} onSubmit={handleSubmit}>
      <TextField onChange={handleChange} value={title} />
      <LoadingButton type="submit" variant="contained" loading={isPending}>
        Create
      </LoadingButton>
    </form>
  );
};
```

## è¯·æ±‚ç»„ç»‡[â€‹](#è¯·æ±‚ç»„ç»‡ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### æŸ¥è¯¢å·¥å‚[â€‹](#æŸ¥è¯¢å·¥å‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æŸ¥è¯¢å·¥å‚æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­é”®å€¼æ˜¯è¿”å›æŸ¥è¯¢é”®åˆ—è¡¨çš„å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨å®ƒï¼š

```
const keyFactory = {
  all: () => ["entity"],
  lists: () => [...postQueries.all(), "list"],
};
```

ä¿¡æ¯

`queryOptions` æ˜¯ react-query\@v5 çš„å†…ç½®å·¥å…·ï¼ˆå¯é€‰ï¼‰

```
queryOptions({
  queryKey,
  ...options,
});
```

ä¸ºäº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§ï¼Œè¿›ä¸€æ­¥å…¼å®¹ react-query çš„æœªæ¥ç‰ˆæœ¬ï¼Œå¹¶æ˜“äºè®¿é—®å‡½æ•°å’ŒæŸ¥è¯¢é”®ï¼Œ æ‚¨å¯ä»¥ä½¿ç”¨ â€œ@tanstack/react-queryâ€ çš„å†…ç½® queryOptions å‡½æ•° [(More details here)](https://tkdodo.eu/blog/the-query-options-api#queryoptions).

### 1. åˆ›å»ºæŸ¥è¯¢å·¥å‚[â€‹](#1-åˆ›å»ºæŸ¥è¯¢å·¥å‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

@/entities/post/api/post.queries.ts

```
import { keepPreviousData, queryOptions } from "@tanstack/react-query";
import { getPosts } from "./get-posts";
import { getDetailPost } from "./get-detail-post";
import { PostDetailQuery } from "./query/post.query";

export const postQueries = {
  all: () => ["posts"],

  lists: () => [...postQueries.all(), "list"],
  list: (page: number, limit: number) =>
    queryOptions({
      queryKey: [...postQueries.lists(), page, limit],
      queryFn: () => getPosts(page, limit),
      placeholderData: keepPreviousData,
    }),

  details: () => [...postQueries.all(), "detail"],
  detail: (query?: PostDetailQuery) =>
    queryOptions({
      queryKey: [...postQueries.details(), query?.id],
      queryFn: () => getDetailPost({ id: query?.id }),
      staleTime: 5000,
    }),
};
```

### 2. åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­ä½¿ç”¨æŸ¥è¯¢å·¥å‚[â€‹](#2-åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­ä½¿ç”¨æŸ¥è¯¢å·¥å‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

```
import { useParams } from "react-router-dom";
import { postApi } from "@/entities/post";
import { useQuery } from "@tanstack/react-query";

type Params = {
  postId: string;
};

export const PostPage = () => {
  const { postId } = useParams<Params>();
  const id = parseInt(postId || "");
  const {
    data: post,
    error,
    isLoading,
    isError,
  } = useQuery(postApi.postQueries.detail({ id }));

  if (isLoading) {
    return <div>Loading...</div>;
  }

  if (isError || !post) {
    return <>{error?.message}</>;
  }

  return (
    <div>
      <p>Post id: {post.id}</p>
      <div>
        <h1>{post.title}</h1>
        <div>
          <p>{post.body}</p>
        </div>
      </div>
      <div>Owner: {post.userId}</div>
    </div>
  );
};
```

### ä½¿ç”¨æŸ¥è¯¢å·¥å‚çš„å¥½å¤„[â€‹](#ä½¿ç”¨æŸ¥è¯¢å·¥å‚çš„å¥½å¤„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* **è¯·æ±‚ç»“æ„åŒ–ï¼š** å·¥å‚å…è®¸æ‚¨åœ¨ä¸€ä¸ªåœ°æ–¹ç»„ç»‡æ‰€æœ‰ API è¯·æ±‚ï¼Œä½¿ä»£ç æ›´æ˜“äºé˜…è¯»å’Œç»´æŠ¤ã€‚
* **æ–¹ä¾¿è®¿é—®æŸ¥è¯¢å’Œé”®ï¼š** å·¥å‚æä¾›æ–¹ä¾¿çš„æ–¹æ³•æ¥è®¿é—®ä¸åŒç±»å‹çš„æŸ¥è¯¢åŠå…¶é”®ã€‚
* **æŸ¥è¯¢åˆ·æ–°èƒ½åŠ›ï¼š** å·¥å‚å…è®¸è½»æ¾åˆ·æ–°ï¼Œæ— éœ€åœ¨åº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†æ›´æ”¹æŸ¥è¯¢é”®ã€‚

## åˆ†é¡µ[â€‹](#åˆ†é¡µ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŸ¥çœ‹ `getPosts` å‡½æ•°çš„ç¤ºä¾‹ï¼Œè¯¥å‡½æ•°é€šè¿‡åˆ†é¡µ API è¯·æ±‚æ£€ç´¢å¸–å­å®ä½“ã€‚

### 1. åˆ›å»º `getPosts` å‡½æ•°[â€‹](#1-åˆ›å»º-getposts-å‡½æ•° "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`getPosts` å‡½æ•°ä½äº `get-posts.ts` æ–‡ä»¶ä¸­ï¼Œä½äº `api` æ®µ

@/pages/post-feed/api/get-posts.ts

```
import { apiClient } from "@/shared/api/base";

import { PostWithPaginationDto } from "./dto/post-with-pagination.dto";
import { PostQuery } from "./query/post.query";
import { mapPost } from "./mapper/map-post";
import { PostWithPagination } from "../model/post-with-pagination";

const calculatePostPage = (totalCount: number, limit: number) =>
  Math.floor(totalCount / limit);

export const getPosts = async (
  page: number,
  limit: number,
): Promise<PostWithPagination> => {
  const skip = page * limit;
  const query: PostQuery = { skip, limit };
  const result = await apiClient.get<PostWithPaginationDto>("/posts", query);

  return {
    posts: result.posts.map((post) => mapPost(post)),
    limit: result.limit,
    skip: result.skip,
    total: result.total,
    totalPages: calculatePostPage(result.total, limit),
  };
};
```

### 2. åˆ†é¡µæŸ¥è¯¢å·¥å‚[â€‹](#2-åˆ†é¡µæŸ¥è¯¢å·¥å‚ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`postQueries` æŸ¥è¯¢å·¥å‚å®šä¹‰äº†å„ç§æŸ¥è¯¢é€‰é¡¹ï¼Œç”¨äºå¤„ç†å¸–å­ï¼Œ åŒ…æ‹¬è¯·æ±‚ç‰¹å®šé¡µé¢å’Œé™åˆ¶çš„å¸–å­åˆ—è¡¨ã€‚

```
import { keepPreviousData, queryOptions } from "@tanstack/react-query";
import { getPosts } from "./get-posts";

export const postQueries = {
  all: () => ["posts"],
  lists: () => [...postQueries.all(), "list"],
  list: (page: number, limit: number) =>
    queryOptions({
      queryKey: [...postQueries.lists(), page, limit],
      queryFn: () => getPosts(page, limit),
      placeholderData: keepPreviousData,
    }),
};
```

### 3. åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­ä½¿ç”¨[â€‹](#3-åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­ä½¿ç”¨ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

@/pages/home/ui/index.tsx

```
export const HomePage = () => {
  const itemsOnScreen = DEFAULT_ITEMS_ON_SCREEN;
  const [page, setPage] = usePageParam(DEFAULT_PAGE);
  const { data, isFetching, isLoading } = useQuery(
    postApi.postQueries.list(page, itemsOnScreen),
  );
  return (
    <>
      <Pagination
        onChange={(_, page) => setPage(page)}
        page={page}
        count={data?.totalPages}
        variant="outlined"
        color="primary"
      />
      <Posts posts={data?.posts} />
    </>
  );
};
```

å¤‡æ³¨

è¯¥ç¤ºä¾‹å·²ç®€åŒ–ï¼Œå®Œæ•´ç‰ˆæœ¬å¯åœ¨ [GitHub](https://github.com/ruslan4432013/fsd-react-query-example) ä¸Šæ‰¾åˆ°

## `QueryProvider` ç”¨äºç®¡ç†æŸ¥è¯¢[â€‹](#queryprovider-ç”¨äºç®¡ç†æŸ¥è¯¢ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†æŸ¥çœ‹å¦‚ä½•ç»„ç»‡ `QueryProvider`ã€‚

### 1. åˆ›å»º `QueryProvider`[â€‹](#1-åˆ›å»º-queryprovider "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ–‡ä»¶ `query-provider.tsx` ä½äºè·¯å¾„ `@/app/providers/query-provider.tsx`ã€‚

@/app/providers/query-provider.tsx

```
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ReactQueryDevtools } from "@tanstack/react-query-devtools";
import { ReactNode } from "react";

type Props = {
  children: ReactNode;
  client: QueryClient;
};

export const QueryProvider = ({ client, children }: Props) => {
  return (
    <QueryClientProvider client={client}>
      {children}
      <ReactQueryDevtools />
    </QueryClientProvider>
  );
};
```

### 2. åˆ›å»º `QueryClient`[â€‹](#2-åˆ›å»º-queryclient "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

`QueryClient` æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† API è¯·æ±‚çš„å®ä¾‹ã€‚ æ–‡ä»¶ `query-client.ts` ä½äº `@/shared/api/query-client.ts`ã€‚ `QueryClient` ä½¿ç”¨æŸäº›è®¾ç½®è¿›è¡ŒæŸ¥è¯¢ç¼“å­˜ã€‚

@/shared/api/query-client.ts

```
import { QueryClient } from "@tanstack/react-query";

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,
      gcTime: 5 * 60 * 1000,
    },
  },
});
```

## ä»£ç ç”Ÿæˆ[â€‹](#ä»£ç ç”Ÿæˆ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ‰ä¸€äº›å·¥å…·å¯ä»¥ä¸ºæ‚¨ç”Ÿæˆ API ä»£ç ï¼Œä½†å®ƒä»¬æ¯”æ‰‹åŠ¨æ–¹æ³•æè¿°çš„æ›´ä¸çµæ´»ã€‚ å¦‚æœæ‚¨çš„ Swagger æ–‡ä»¶ç»“æ„è‰¯å¥½ï¼Œ å¹¶ä¸”æ‚¨ä½¿ç”¨å…¶ä¸­ä¹‹ä¸€ï¼Œç”Ÿæˆ `@/shared/api` ç›®å½•ä¸­çš„æ‰€æœ‰ä»£ç å¯èƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚

## é¢å¤–çš„ç»„ç»‡å»ºè®®[â€‹](#é¢å¤–çš„ç»„ç»‡å»ºè®® "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

### API å®¢æˆ·ç«¯[â€‹](#api-å®¢æˆ·ç«¯ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨å…±äº«å±‚ä½¿ç”¨è‡ªå®šä¹‰ API å®¢æˆ·ç«¯ç±»ï¼Œ æ‚¨å¯ä»¥æ ‡å‡†åŒ–é…ç½®å¹¶å¤„ç†é¡¹ç›®ä¸­çš„ APIã€‚ è¿™ä½¿æ‚¨å¯ä»¥ç®¡ç†æ—¥å¿—ï¼Œ ä»ä¸€å¤„ç®¡ç†å¤´å’Œæ•°æ®äº¤æ¢æ ¼å¼ï¼ˆå¦‚ JSON æˆ– XMLï¼‰ã€‚ è¿™ç§æ–¹æ³•ä½¿é¡¹ç›®æ›´å®¹æ˜“ç»´æŠ¤å’Œå¼€å‘ï¼Œå› ä¸ºå®ƒç®€åŒ–äº†æ›´æ”¹å’Œæ›´æ–°ä¸ API çš„äº¤äº’ã€‚

@/shared/api/api-client.ts

```
import { API_URL } from "@/shared/config";

export class ApiClient {
  private baseUrl: string;

  constructor(url: string) {
    this.baseUrl = url;
  }

  async handleResponse<TResult>(response: Response): Promise<TResult> {
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    try {
      return await response.json();
    } catch (error) {
      throw new Error("Error parsing JSON response");
    }
  }

  public async get<TResult = unknown>(
    endpoint: string,
    queryParams?: Record<string, string | number>,
  ): Promise<TResult> {
    const url = new URL(endpoint, this.baseUrl);

    if (queryParams) {
      Object.entries(queryParams).forEach(([key, value]) => {
        url.searchParams.append(key, value.toString());
      });
    }
    const response = await fetch(url.toString(), {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
      },
    });

    return this.handleResponse<TResult>(response);
  }

  public async post<TResult = unknown, TData = Record<string, unknown>>(
    endpoint: string,
    body: TData,
  ): Promise<TResult> {
    const response = await fetch(`${this.baseUrl}${endpoint}`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(body),
    });

    return this.handleResponse<TResult>(response);
  }
}

export const apiClient = new ApiClient(API_URL);
```

## å¦è¯·å‚é˜…[â€‹](#see-also "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [(GitHub) Sample Project](https://github.com/ruslan4432013/fsd-react-query-example)
* [(CodeSandbox) Sample Project](https://codesandbox.io/p/github/ruslan4432013/fsd-react-query-example/main)
* [About the query factory](https://tkdodo.eu/blog/the-query-options-api)


---

# ä¸ SvelteKit ä¸€èµ·ä½¿ç”¨

å¯ä»¥åœ¨ SvelteKit é¡¹ç›®ä¸­å®ç° FSDï¼Œä½†ç”±äº SvelteKit é¡¹ç›®çš„ç»“æ„è¦æ±‚ä¸ FSD åŸåˆ™ä¹‹é—´çš„å·®å¼‚ï¼Œä¼šäº§ç”Ÿå†²çªï¼š

* æœ€åˆï¼ŒSvelteKit åœ¨ `src/routes` æ–‡ä»¶å¤¹å†…æä¾›æ–‡ä»¶ç»“æ„ï¼Œè€Œåœ¨ FSD ä¸­ï¼Œè·¯ç”±å¿…é¡»æ˜¯ `app` å±‚çš„ä¸€éƒ¨åˆ†ã€‚
* SvelteKit å»ºè®®å°†ä¸è·¯ç”±æ— å…³çš„æ‰€æœ‰å†…å®¹æ”¾åœ¨ `src/lib` æ–‡ä»¶å¤¹ä¸­ã€‚

## è®©æˆ‘ä»¬è®¾ç½®é…ç½®[â€‹](#è®©æˆ‘ä»¬è®¾ç½®é…ç½® "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

svelte.config.ts

```
import adapter from '@sveltejs/adapter-auto';
import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';

/** @type {import('@sveltejs/kit').Config}*/
const config = {
  preprocess: [vitePreprocess()],
  kit: {
    adapter: adapter(),
    files: {
      routes: 'src/app/routes',             // move routing inside the app layer
      lib: 'src',
      appTemplate: 'src/app/index.html',    // Move the application entry point inside the app layer
      assets: 'public'
    },
    alias: {
      '@/*': 'src/*'                        // Create an alias for the src directory
    }
  }
};
export default config;
```

## å°†æ–‡ä»¶è·¯ç”±ç§»åŠ¨åˆ° `src/app`ã€‚[â€‹](#å°†æ–‡ä»¶è·¯ç”±ç§»åŠ¨åˆ°-srcapp "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª app å±‚ï¼Œå°†åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ `index.html` ç§»åŠ¨åˆ°å…¶ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª routes æ–‡ä»¶å¤¹ã€‚ å› æ­¤ï¼Œæ‚¨çš„æ–‡ä»¶ç»“æ„åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š

```
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”œâ”€â”€ pages                               # FSD Pages folder
```

ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ `app` å†…ä¸ºé¡µé¢åˆ›å»ºè·¯ç”±ï¼Œå¹¶å°† `pages` ä¸­çš„é¡µé¢è¿æ¥åˆ°å®ƒä»¬ã€‚

ä¾‹å¦‚ï¼Œè¦å‘é¡¹ç›®æ·»åŠ ä¸»é¡µï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

* åœ¨ `pages` å±‚å†…æ·»åŠ é¡µé¢ slice
* ä» `app` å±‚å‘ `routes` æ–‡ä»¶å¤¹æ·»åŠ ç›¸åº”çš„è·¯ç”±
* å°† slice ä¸­çš„é¡µé¢ä¸è·¯ç”±å¯¹é½

è¦åˆ›å»ºé¡µé¢ sliceï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ [CLI](https://github.com/feature-sliced/cli)ï¼š

```
fsd pages home
```

åœ¨ ui segment å†…åˆ›å»º `home-page.svelte` æ–‡ä»¶ï¼Œä½¿ç”¨å…¬å…± API è®¿é—®å®ƒ

src/pages/home/index.ts

```
export { default as HomePage } from './ui/home-page.svelte';
```

åœ¨ `app` å±‚å†…ä¸ºæ­¤é¡µé¢åˆ›å»ºè·¯ç”±ï¼š

```

â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ routes
â”‚   â”‚   â”‚   â”œâ”€â”€ +page.svelte
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ pages
â”‚   â”‚   â”œâ”€â”€ home
â”‚   â”‚   â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ home-page.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
```

åœ¨ `+page.svelte` æ–‡ä»¶ä¸­æ·»åŠ æ‚¨çš„é¡µé¢ç»„ä»¶ï¼š

src/app/routes/+page.svelte

```
<script>
  import { HomePage } from '@/pages/home';
</script>


<HomePage/>
```

## å¦è¯·å‚é˜…[â€‹](#å¦è¯·å‚é˜… "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [SvelteKit ä¸­æ›´æ”¹ç›®å½•é…ç½®çš„æ–‡æ¡£](https://kit.svelte.dev/docs/configuration#files)


---

# å¤§è¯­è¨€æ¨¡å‹æ–‡æ¡£

æœ¬é¡µé¢ä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çˆ¬è™«æä¾›é“¾æ¥å’ŒæŒ‡å¯¼ã€‚

* è§„èŒƒï¼š<https://llmstxt.org/>

### æ–‡ä»¶[â€‹](#æ–‡ä»¶ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* [llms.txt](/documentation/zh/llms.txt)
* [llms-full.txt](/documentation/zh/llms-full.txt)

### è¯´æ˜[â€‹](#è¯´æ˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

* æ–‡ä»¶ä»ç«™ç‚¹æ ¹ç›®å½•æä¾›æœåŠ¡ï¼Œä¸å½“å‰é¡µé¢è·¯å¾„æ— å…³ã€‚
* åœ¨å…·æœ‰éæ ¹åŸºç¡€ URLï¼ˆä¾‹å¦‚ `/documentation/`ï¼‰çš„éƒ¨ç½²ä¸­ï¼Œä¸Šè¿°é“¾æ¥ä¼šè‡ªåŠ¨æ·»åŠ å‰ç¼€ã€‚


---

# å±‚

å±‚æ˜¯ Feature-Sliced Design ä¸­ç»„ç»‡å±‚æ¬¡ç»“æ„çš„ç¬¬ä¸€çº§ã€‚å®ƒä»¬çš„ç›®çš„æ˜¯æ ¹æ®ä»£ç éœ€è¦çš„è´£ä»»ç¨‹åº¦ä»¥åŠå®ƒä¾èµ–åº”ç”¨ç¨‹åºä¸­å…¶ä»–æ¨¡å—çš„ç¨‹åº¦æ¥åˆ†ç¦»ä»£ç ã€‚æ¯ä¸€å±‚éƒ½æ‰¿è½½ç€ç‰¹æ®Šçš„è¯­ä¹‰æ„ä¹‰ï¼Œå¸®åŠ©æ‚¨ç¡®å®šåº”è¯¥ä¸ºæ‚¨çš„ä»£ç åˆ†é…å¤šå°‘è´£ä»»ã€‚

æ€»å…±æœ‰ **7 ä¸ª layers**ï¼ŒæŒ‰ä»æœ€é«˜è´£ä»»å’ŒÂ ä¾èµ–åˆ°æœ€ä½æ’åˆ—ï¼š

![A file system tree, with a single root folder called src and then seven subfolders: app, processes, pages, widgets, features, entities, shared. The processes folder is slightly faded out.](/documentation/zh/img/layers/folders-graphic-light.svg#light-mode-only) ![A file system tree, with a single root folder called src and then seven subfolders: app, processes, pages, widgets, features, entities, shared. The processes folder is slightly faded out.](/documentation/zh/img/layers/folders-graphic-dark.svg#dark-mode-only)

1. App
2. Processes (deprecated)
3. Pages
4. Widgets
5. Features
6. Entities
7. Shared

æ‚¨ä¸å¿…åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ¯ä¸€å±‚ â€” åªæœ‰å½“æ‚¨è®¤ä¸ºå®ƒä»¬ä¸ºæ‚¨çš„é¡¹ç›®å¸¦æ¥ä»·å€¼æ—¶æ‰æ·»åŠ å®ƒä»¬ã€‚é€šå¸¸ï¼Œå¤§å¤šæ•°å‰ç«¯é¡¹ç›®è‡³å°‘ä¼šæœ‰ Sharedã€Pages å’Œ App å±‚ã€‚

åœ¨å®è·µä¸­ï¼Œå±‚æ˜¯å…·æœ‰å°å†™åç§°çš„æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ï¼Œ`ğŸ“ shared`ã€`ğŸ“ pages`ã€`ğŸ“ app`ï¼‰ã€‚\_ä¸å»ºè®®\_æ·»åŠ æ–°å±‚ï¼Œå› ä¸ºå®ƒä»¬çš„è¯­ä¹‰æ˜¯æ ‡å‡†åŒ–çš„ã€‚

## å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™[â€‹](#å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å±‚ç”± *slices* ç»„æˆ â€” é«˜åº¦å†…èšçš„æ¨¡å—ç»„ã€‚slices ä¹‹é—´çš„ä¾èµ–å…³ç³»ç”±**å±‚ä¸Šçš„å¯¼å…¥è§„åˆ™**è°ƒèŠ‚ï¼š

> *slice ä¸­çš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰åªèƒ½åœ¨å…¶ä»– slices ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚æ—¶å¯¼å…¥å®ƒä»¬ã€‚*

ä¾‹å¦‚ï¼Œæ–‡ä»¶å¤¹ `ğŸ“ ~/features/aaa` æ˜¯ä¸€ä¸ªåä¸º"aaa"çš„ sliceã€‚å…¶ä¸­çš„æ–‡ä»¶ `~/features/aaa/api/request.ts` ä¸èƒ½ä» `ğŸ“ ~/features/bbb` ä¸­çš„ä»»ä½•æ–‡ä»¶å¯¼å…¥ä»£ç ï¼Œä½†å¯ä»¥ä» `ğŸ“ ~/entities` å’Œ `ğŸ“ ~/shared` å¯¼å…¥ä»£ç ï¼Œä»¥åŠä» `ğŸ“ ~/features/aaa` å¯¼å…¥ä»»ä½•åŒçº§ä»£ç ï¼Œä¾‹å¦‚ `~/features/aaa/lib/cache.ts`ã€‚

App å’Œ Shared å±‚æ˜¯æ­¤è§„åˆ™çš„**ä¾‹å¤–** â€” å®ƒä»¬æ—¢æ˜¯å±‚åˆæ˜¯ sliceã€‚Slices æŒ‰ä¸šåŠ¡åŸŸåˆ’åˆ†ä»£ç ï¼Œè¿™ä¸¤å±‚æ˜¯ä¾‹å¤–ï¼Œå› ä¸º Shared æ²¡æœ‰ä¸šåŠ¡åŸŸï¼Œè€Œ App ç»“åˆäº†æ‰€æœ‰ä¸šåŠ¡åŸŸã€‚

åœ¨å®è·µä¸­ï¼Œè¿™æ„å‘³ç€ App å’Œ Shared å±‚ç”± segments ç»„æˆï¼Œsegments å¯ä»¥è‡ªç”±åœ°ç›¸äº’å¯¼å…¥ã€‚

## å±‚å®šä¹‰[â€‹](#å±‚å®šä¹‰ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æœ¬èŠ‚æè¿°æ¯ä¸€å±‚çš„è¯­ä¹‰å«ä¹‰ï¼Œä»¥ä¾¿ç›´è§‚åœ°äº†è§£ä»€ä¹ˆæ ·çš„ä»£ç å±äºé‚£é‡Œã€‚

### Shared[â€‹](#shared "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™ä¸€å±‚ä¸ºåº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†å¥ å®šäº†åŸºç¡€ã€‚è¿™æ˜¯ä¸å¤–éƒ¨ä¸–ç•Œå»ºç«‹è¿æ¥çš„åœ°æ–¹ï¼Œä¾‹å¦‚åç«¯ã€ç¬¬ä¸‰æ–¹åº“ã€ç¯å¢ƒã€‚è¿™ä¹Ÿæ˜¯å®šä¹‰æ‚¨è‡ªå·±çš„é«˜åº¦å°è£…åº“çš„åœ°æ–¹ã€‚

è¿™ä¸€å±‚ï¼Œåƒ App å±‚ä¸€æ ·ï¼Œ*ä¸åŒ…å« slices*ã€‚Slices æ—¨åœ¨å°†å±‚åˆ’åˆ†ä¸ºä¸šåŠ¡åŸŸï¼Œä½†ä¸šåŠ¡åŸŸåœ¨ Shared ä¸­ä¸å­˜åœ¨ã€‚è¿™æ„å‘³ç€ Shared ä¸­çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥ç›¸äº’å¼•ç”¨å’Œå¯¼å…¥ã€‚

Here are the segments that you can typically find in this layer:

* `ğŸ“ api` â€” the API client and potentially also functions to make requests to specific backend endpoints.
* `ğŸ“ ui` â€” the application's UI kit.
  <br />
  <!-- -->
  Components on this layer should not contain business logic, but it's okay for them to be business-themed. For example, you can put the company logo and page layout here. Components with UI logic are also allowed (for example, autocomplete or a search bar).
* `ğŸ“ lib` â€” a collection of internal libraries.
  <br />
  <!-- -->
  This folder should not be treated as helpers or utilities ([read here why these folders often turn into a dump](https://dev.to/sergeysova/why-utils-helpers-is-a-dump-45fo)). Instead, every library in this folder should have one area of focus, for example, dates, colors, text manipulation, etc. That area of focus should be documented in a README file. The developers in your team should know what can and cannot be added to these libraries.
* `ğŸ“ config` â€” environment variables, global feature flags and other global configuration for your app.
* `ğŸ“ routes` â€” route constants or patterns for matching routes.
* `ğŸ“ i18n` â€” setup code for translations, global translation strings.

ä½ å¯ä»¥è‡ªç”±æ·»åŠ æ›´å¤šæ®µï¼Œä½†è¦ç¡®ä¿è¿™äº›æ®µçš„åç§°æè¿°å†…å®¹çš„ç›®çš„ï¼Œè€Œä¸æ˜¯å…¶æœ¬è´¨ã€‚ä¾‹å¦‚ï¼Œ`components`ã€`hooks`å’Œ`types`æ˜¯ä¸å¥½çš„æ®µåç§°ï¼Œå› ä¸ºå®ƒä»¬åœ¨ä½ å¯»æ‰¾ä»£ç æ—¶æ²¡æœ‰å¤ªå¤§å¸®åŠ©ã€‚

### Entities[â€‹](#entities "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™ä¸€å±‚çš„åˆ‡ç‰‡ä»£è¡¨é¡¹ç›®æ­£åœ¨å¤„ç†çš„ç°å®ä¸–ç•Œæ¦‚å¿µã€‚é€šå¸¸ï¼Œå®ƒä»¬æ˜¯ä¸šåŠ¡ç”¨æ¥æè¿°äº§å“çš„æœ¯è¯­ã€‚ä¾‹å¦‚ï¼Œç¤¾äº¤ç½‘ç»œå¯èƒ½ä¼šå¤„ç†ç”¨æˆ·ï¼ˆUserï¼‰ã€å¸–å­ï¼ˆPostï¼‰å’Œç¾¤ç»„ï¼ˆGroupï¼‰ç­‰ä¸šåŠ¡å®ä½“ã€‚

å®ä½“åˆ‡ç‰‡å¯èƒ½åŒ…å«æ•°æ®å­˜å‚¨ï¼ˆ`ğŸ“ model`ï¼‰ã€æ•°æ®éªŒè¯æ¨¡å¼ï¼ˆ`ğŸ“ model`ï¼‰ã€ä¸å®ä½“ç›¸å…³çš„APIè¯·æ±‚å‡½æ•°ï¼ˆ`ğŸ“ api`ï¼‰ï¼Œä»¥åŠè¯¥å®ä½“åœ¨ç•Œé¢ä¸­çš„è§†è§‰è¡¨ç¤ºï¼ˆ`ğŸ“ ui`ï¼‰ã€‚è§†è§‰è¡¨ç¤ºä¸å¿…äº§ç”Ÿå®Œæ•´çš„UIå— â€” å®ƒä¸»è¦æ˜¯ä¸ºäº†åœ¨åº”ç”¨ç¨‹åºçš„å¤šä¸ªé¡µé¢ä¸­é‡ç”¨ç›¸åŒçš„å¤–è§‚ï¼Œä¸åŒçš„ä¸šåŠ¡é€»è¾‘å¯ä»¥é€šè¿‡propsæˆ–slotsé™„åŠ åˆ°å®ƒä¸Šé¢ã€‚

#### å®ä½“å…³ç³»[â€‹](#å®ä½“å…³ç³» "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

FSDä¸­çš„å®ä½“æ˜¯åˆ‡ç‰‡ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ‡ç‰‡ä¸èƒ½ç›¸äº’äº†è§£ã€‚ç„¶è€Œï¼Œåœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå®ä½“ç»å¸¸ç›¸äº’äº¤äº’ï¼Œæœ‰æ—¶ä¸€ä¸ªå®ä½“æ‹¥æœ‰æˆ–åŒ…å«å…¶ä»–å®ä½“ã€‚å› æ­¤ï¼Œè¿™äº›äº¤äº’çš„ä¸šåŠ¡é€»è¾‘æœ€å¥½ä¿å­˜åœ¨æ›´é«˜çš„å±‚çº§ä¸­ï¼Œå¦‚åŠŸèƒ½ï¼ˆFeaturesï¼‰æˆ–é¡µé¢ï¼ˆPagesï¼‰ã€‚

å½“ä¸€ä¸ªå®ä½“çš„æ•°æ®å¯¹è±¡åŒ…å«å…¶ä»–æ•°æ®å¯¹è±¡æ—¶ï¼Œé€šå¸¸æœ€å¥½æ˜ç¡®å®ä½“ä¹‹é—´çš„è¿æ¥ï¼Œå¹¶é€šè¿‡ä½¿ç”¨`@x`æ ‡è®°æ³•åˆ›å»ºäº¤å‰å¼•ç”¨APIæ¥ç»•è¿‡åˆ‡ç‰‡éš”ç¦»ã€‚åŸå› æ˜¯è¿æ¥çš„å®ä½“éœ€è¦ä¸€èµ·é‡æ„ï¼Œæ‰€ä»¥æœ€å¥½è®©è¿æ¥ä¸å¯èƒ½è¢«å¿½ç•¥ã€‚

For example:

entities/artist/model/artist.ts

```
import type { Song } from "entities/song/@x/artist";

export interface Artist {
  name: string;
  songs: Array<Song>;
}
```

entities/song/@x/artist.ts

```
export type { Song } from "../model/song.ts";
```

åœ¨[äº¤å‰å¯¼å…¥çš„å…¬å…±API](/documentation/zh/docs/reference/public-api.md#public-api-for-cross-imports)éƒ¨åˆ†äº†è§£æ›´å¤šå…³äº`@x`æ ‡è®°æ³•çš„ä¿¡æ¯ã€‚

### Features[â€‹](#features "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è¿™ä¸€å±‚ç”¨äºåº”ç”¨ç¨‹åºä¸­çš„ä¸»è¦äº¤äº’ï¼Œå³ç”¨æˆ·å…³å¿ƒè¦åšçš„äº‹æƒ…ã€‚è¿™äº›äº¤äº’é€šå¸¸æ¶‰åŠä¸šåŠ¡å®ä½“ï¼Œå› ä¸ºè¿™å°±æ˜¯åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒå†…å®¹ã€‚

æœ‰æ•ˆä½¿ç”¨åŠŸèƒ½å±‚çš„ä¸€ä¸ªå…³é”®åŸåˆ™æ˜¯ï¼š**ä¸æ˜¯æ‰€æœ‰ä¸œè¥¿éƒ½éœ€è¦æˆä¸ºåŠŸèƒ½**ã€‚æŸä¸ªä¸œè¥¿éœ€è¦æˆä¸ºåŠŸèƒ½çš„ä¸€ä¸ªå¥½æŒ‡æ ‡æ˜¯å®ƒåœ¨å¤šä¸ªé¡µé¢ä¸Šè¢«é‡ç”¨ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ç¨‹åºæœ‰å¤šä¸ªç¼–è¾‘å™¨ï¼Œå¹¶ä¸”æ‰€æœ‰ç¼–è¾‘å™¨éƒ½æœ‰è¯„è®ºåŠŸèƒ½ï¼Œé‚£ä¹ˆè¯„è®ºå°±æ˜¯ä¸€ä¸ªå¯é‡ç”¨çš„åŠŸèƒ½ã€‚è®°ä½ï¼Œåˆ‡ç‰‡æ˜¯å¿«é€ŸæŸ¥æ‰¾ä»£ç çš„æœºåˆ¶ï¼Œå¦‚æœåŠŸèƒ½å¤ªå¤šï¼Œé‡è¦çš„åŠŸèƒ½å°±ä¼šè¢«æ·¹æ²¡ã€‚

ç†æƒ³æƒ…å†µä¸‹ï¼Œå½“ä½ è¿›å…¥ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œä½ ä¼šé€šè¿‡æŸ¥çœ‹é¡µé¢å’ŒåŠŸèƒ½æ¥å‘ç°å…¶åŠŸèƒ½æ€§ã€‚åœ¨å†³å®šä»€ä¹ˆåº”è¯¥æˆä¸ºåŠŸèƒ½æ—¶ï¼Œè¦ä¸ºé¡¹ç›®æ–°äººçš„ä½“éªŒè¿›è¡Œä¼˜åŒ–ï¼Œè®©ä»–ä»¬èƒ½å¤Ÿå¿«é€Ÿå‘ç°é‡è¦çš„å¤§å‹ä»£ç åŒºåŸŸã€‚

åŠŸèƒ½åˆ‡ç‰‡å¯èƒ½åŒ…å«æ‰§è¡Œäº¤äº’çš„UIï¼ˆå¦‚è¡¨å•ï¼‰ï¼ˆ`ğŸ“ ui`ï¼‰ã€æ‰§è¡Œæ“ä½œæ‰€éœ€çš„APIè°ƒç”¨ï¼ˆ`ğŸ“ api`ï¼‰ã€éªŒè¯å’Œå†…éƒ¨çŠ¶æ€ï¼ˆ`ğŸ“ model`ï¼‰ã€åŠŸèƒ½æ ‡å¿—ï¼ˆ`ğŸ“ config`ï¼‰ã€‚

### Widgets[â€‹](#widgets "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å°éƒ¨ä»¶å±‚ç”¨äºå¤§å‹è‡ªç»™è‡ªè¶³çš„UIå—ã€‚å°éƒ¨ä»¶åœ¨è·¨å¤šä¸ªé¡µé¢é‡ç”¨æ—¶æœ€æœ‰ç”¨ï¼Œæˆ–è€…å½“å®ƒä»¬æ‰€å±çš„é¡µé¢æœ‰å¤šä¸ªå¤§å‹ç‹¬ç«‹å—ï¼Œè€Œè¿™æ˜¯å…¶ä¸­ä¹‹ä¸€æ—¶ã€‚

å¦‚æœä¸€ä¸ªUIå—æ„æˆäº†é¡µé¢ä¸Šå¤§éƒ¨åˆ†æœ‰è¶£çš„å†…å®¹ï¼Œå¹¶ä¸”ä»ä¸è¢«é‡ç”¨ï¼Œå®ƒ**ä¸åº”è¯¥æ˜¯å°éƒ¨ä»¶**ï¼Œè€Œåº”è¯¥ç›´æ¥æ”¾åœ¨è¯¥é¡µé¢å†…ã€‚

æç¤º

å¦‚æœä½ ä½¿ç”¨åµŒå¥—è·¯ç”±ç³»ç»Ÿï¼ˆå¦‚[Remix](https://remix.run)çš„è·¯ç”±å™¨ï¼‰ï¼Œä½¿ç”¨å°éƒ¨ä»¶å±‚çš„æ–¹å¼å¯èƒ½ä¸æ‰å¹³è·¯ç”±ç³»ç»Ÿä½¿ç”¨é¡µé¢å±‚çš„æ–¹å¼ç›¸åŒ â€” åˆ›å»ºå®Œæ•´çš„è·¯ç”±å—ï¼ŒåŒ…æ‹¬ç›¸å…³çš„æ•°æ®è·å–ã€åŠ è½½çŠ¶æ€å’Œé”™è¯¯è¾¹ç•Œã€‚

åŒæ ·ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸€å±‚å­˜å‚¨é¡µé¢å¸ƒå±€ã€‚

### Pages[â€‹](#pages "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

é¡µé¢æ˜¯æ„æˆç½‘ç«™å’Œåº”ç”¨ç¨‹åºçš„å†…å®¹ï¼ˆä¹Ÿç§°ä¸ºå±å¹•æˆ–æ´»åŠ¨ï¼‰ã€‚ä¸€ä¸ªé¡µé¢é€šå¸¸å¯¹åº”ä¸€ä¸ªåˆ‡ç‰‡ï¼Œä½†æ˜¯ï¼Œå¦‚æœæœ‰å‡ ä¸ªéå¸¸ç›¸ä¼¼çš„é¡µé¢ï¼Œå®ƒä»¬å¯ä»¥ç»„åˆæˆä¸€ä¸ªåˆ‡ç‰‡ï¼Œä¾‹å¦‚æ³¨å†Œå’Œç™»å½•è¡¨å•ã€‚

åªè¦ä½ çš„å›¢é˜Ÿä»ç„¶è§‰å¾—å®¹æ˜“å¯¼èˆªï¼Œä½ å¯ä»¥åœ¨é¡µé¢åˆ‡ç‰‡ä¸­æ”¾ç½®ä»»æ„æ•°é‡çš„ä»£ç ã€‚å¦‚æœé¡µé¢ä¸Šçš„UIå—ä¸è¢«é‡ç”¨ï¼Œå°†å…¶ä¿ç•™åœ¨é¡µé¢åˆ‡ç‰‡å†…æ˜¯å®Œå…¨å¯ä»¥çš„ã€‚

åœ¨é¡µé¢åˆ‡ç‰‡ä¸­ï¼Œä½ é€šå¸¸å¯ä»¥æ‰¾åˆ°é¡µé¢çš„UIä»¥åŠåŠ è½½çŠ¶æ€å’Œé”™è¯¯è¾¹ç•Œï¼ˆ`ğŸ“ ui`ï¼‰å’Œæ•°æ®è·å–å’Œå˜æ›´è¯·æ±‚ï¼ˆ`ğŸ“ api`ï¼‰ã€‚é¡µé¢æ‹¥æœ‰ä¸“ç”¨æ•°æ®æ¨¡å‹å¹¶ä¸å¸¸è§ï¼Œå°‘é‡çŠ¶æ€å¯ä»¥ä¿å­˜åœ¨ç»„ä»¶æœ¬èº«ä¸­ã€‚

### Processes[â€‹](#processes "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

è­¦å‘Š

è¿™ä¸€å±‚å·²è¢«å¼ƒç”¨ã€‚å½“å‰ç‰ˆæœ¬çš„è§„èŒƒå»ºè®®é¿å…ä½¿ç”¨å®ƒï¼Œå¹¶å°†å…¶å†…å®¹ç§»è‡³`features`å’Œ`app`ã€‚

æµç¨‹æ˜¯å¤šé¡µé¢äº¤äº’çš„é€ƒç”Ÿèˆ±ã€‚

è¿™ä¸€å±‚æ•…æ„ä¿æŒæœªå®šä¹‰ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸åº”è¯¥ä½¿ç”¨è¿™ä¸€å±‚ï¼Œåº”è¯¥å°†è·¯ç”±çº§å’ŒæœåŠ¡å™¨çº§é€»è¾‘ä¿ç•™åœ¨Appå±‚ã€‚åªæœ‰å½“Appå±‚å˜å¾—è¶³å¤Ÿå¤§ä»¥è‡³äºæ— æ³•ç»´æŠ¤å¹¶éœ€è¦å¸è½½æ—¶ï¼Œæ‰è€ƒè™‘ä½¿ç”¨è¿™ä¸€å±‚ã€‚

### App[â€‹](#app "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å„ç§åº”ç”¨ç¨‹åºèŒƒå›´çš„äº‹åŠ¡ï¼ŒåŒ…æ‹¬æŠ€æœ¯æ„ä¹‰ä¸Šçš„ï¼ˆä¾‹å¦‚ï¼Œä¸Šä¸‹æ–‡æä¾›è€…ï¼‰å’Œä¸šåŠ¡æ„ä¹‰ä¸Šçš„ï¼ˆä¾‹å¦‚ï¼Œåˆ†æï¼‰ã€‚

è¿™ä¸€å±‚é€šå¸¸ä¸åŒ…å«åˆ‡ç‰‡ï¼Œä¸Sharedå±‚ä¸€æ ·ï¼Œè€Œæ˜¯ç›´æ¥åŒ…å«æ®µã€‚

ä»¥ä¸‹æ˜¯ä½ é€šå¸¸å¯ä»¥åœ¨è¿™ä¸€å±‚æ‰¾åˆ°çš„æ®µï¼š

* `ğŸ“ routes` â€” è·¯ç”±å™¨é…ç½®
* `ğŸ“ store` â€” å…¨å±€å­˜å‚¨é…ç½®
* `ğŸ“ styles` â€” å…¨å±€æ ·å¼
* `ğŸ“ entrypoint` â€” åº”ç”¨ç¨‹åºä»£ç çš„å…¥å£ç‚¹ï¼Œç‰¹å®šäºæ¡†æ¶


---

# Public API

Public API æ˜¯ä¸€ç»„æ¨¡å—ï¼ˆå¦‚ sliceï¼‰ä¸ä½¿ç”¨å®ƒçš„ä»£ç ä¹‹é—´çš„\_å¥‘çº¦\_ã€‚å®ƒä¹Ÿå……å½“ç½‘å…³ï¼Œåªå…è®¸è®¿é—®æŸäº›å¯¹è±¡ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡è¯¥ public API è®¿é—®ã€‚

åœ¨å®è·µä¸­ï¼Œå®ƒé€šå¸¸ä½œä¸ºå…·æœ‰é‡æ–°å¯¼å‡ºçš„ index æ–‡ä»¶å®ç°ï¼š

pages/auth/index.js

```
export { LoginPage } from "./ui/LoginPage";
export { RegisterPage } from "./ui/RegisterPage";
```

## ä»€ä¹ˆæ„æˆäº†å¥½çš„ public APIï¼Ÿ[â€‹](#ä»€ä¹ˆæ„æˆäº†å¥½çš„-public-api "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¥½çš„ public API ä½¿å¾—ä½¿ç”¨å’Œé›†æˆåˆ°å…¶ä»–ä»£ç ä¸­çš„ slice æ–¹ä¾¿å¯é ã€‚è¿™å¯ä»¥é€šè¿‡è®¾å®šè¿™ä¸‰ä¸ªç›®æ ‡æ¥å®ç°ï¼š

1. åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†å¿…é¡»å—åˆ°ä¿æŠ¤ï¼Œå…å— slice ç»“æ„å˜åŒ–ï¼ˆå¦‚é‡æ„ï¼‰çš„å½±å“
2. slice è¡Œä¸ºçš„é‡å¤§å˜åŒ–ï¼ˆç ´åäº†ä¹‹å‰çš„æœŸæœ›ï¼‰åº”è¯¥å¯¼è‡´ public API çš„å˜åŒ–
3. åªåº”è¯¥æš´éœ² slice çš„å¿…è¦éƒ¨åˆ†

æœ€åä¸€ä¸ªç›®æ ‡æœ‰ä¸€äº›é‡è¦çš„å®é™…å«ä¹‰ã€‚åˆ›å»ºæ‰€æœ‰å†…å®¹çš„é€šé…ç¬¦é‡æ–°å¯¼å‡ºå¯èƒ½å¾ˆè¯±äººï¼Œç‰¹åˆ«æ˜¯åœ¨ slice çš„æ—©æœŸå¼€å‘ä¸­ï¼Œå› ä¸ºæ‚¨ä»æ–‡ä»¶ä¸­å¯¼å‡ºçš„ä»»ä½•æ–°å¯¹è±¡ä¹Ÿä¼šè‡ªåŠ¨ä» slice å¯¼å‡ºï¼š

Bad practice, features/comments/index.js

```
// âŒ BAD CODE BELOW, DON'T DO THIS
export * from "./ui/Comment";  // ğŸ‘ don't try this at home
export * from "./model/comments";  // ğŸ’© this is bad practice
```

è¿™ä¼šæŸå®³ slice çš„å¯å‘ç°æ€§ï¼Œå› ä¸ºæ‚¨æ— æ³•è½»æ˜“åœ°è¯´å‡ºè¿™ä¸ª slice çš„æ¥å£æ˜¯ä»€ä¹ˆã€‚ä¸çŸ¥é“æ¥å£æ„å‘³ç€æ‚¨å¿…é¡»æ·±å…¥æŒ–æ˜ slice çš„ä»£ç æ‰èƒ½ç†è§£å¦‚ä½•é›†æˆå®ƒã€‚å¦ä¸€ä¸ªé—®é¢˜æ˜¯æ‚¨å¯èƒ½æ„å¤–åœ°æš´éœ²æ¨¡å—å†…éƒ¨ï¼Œå¦‚æœæœ‰äººå¼€å§‹ä¾èµ–å®ƒä»¬ï¼Œè¿™å°†ä½¿é‡æ„å˜å¾—å›°éš¾ã€‚

## ç”¨äºäº¤å‰å¯¼å…¥çš„ Public API[â€‹](#public-api-for-cross-imports "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

äº¤å‰å¯¼å…¥æ˜¯æŒ‡åŒä¸€ layer ä¸Šçš„ä¸€ä¸ª slice ä»å¦ä¸€ä¸ª slice å¯¼å…¥çš„æƒ…å†µã€‚é€šå¸¸è¿™è¢« [layers ä¸Šçš„å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers) ç¦æ­¢ï¼Œä½†ç»å¸¸æœ‰åˆç†çš„äº¤å‰å¯¼å…¥ç†ç”±ã€‚ä¾‹å¦‚ï¼Œä¸šåŠ¡ entities åœ¨ç°å®ä¸–ç•Œä¸­ç»å¸¸ç›¸äº’å¼•ç”¨ï¼Œæœ€å¥½åœ¨ä»£ç ä¸­åæ˜ è¿™äº›å…³ç³»è€Œä¸æ˜¯ç»•è¿‡å®ƒä»¬ã€‚

ä¸ºæ­¤ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šçš„ public APIï¼Œä¹Ÿç§°ä¸º `@x` è®°å·æ³•ã€‚å¦‚æœæ‚¨æœ‰ entities A å’Œ Bï¼Œå¹¶ä¸” entity B éœ€è¦ä» entity A å¯¼å…¥ï¼Œé‚£ä¹ˆ entity A å¯ä»¥ä¸º entity B å£°æ˜ä¸€ä¸ªå•ç‹¬çš„ public APIã€‚

* `ğŸ“‚ entities`

  * `ğŸ“‚ A`

    * `ğŸ“‚ @x`
      * `ğŸ“„ B.ts` â€” ä»…ç”¨äº `entities/B/` å†…éƒ¨ä»£ç çš„ç‰¹æ®Š public API
    * `ğŸ“„ index.ts` â€” å¸¸è§„ public API

ç„¶å `entities/B/` å†…éƒ¨çš„ä»£ç å¯ä»¥ä» `entities/A/@x/B` å¯¼å…¥ï¼š

```
import type { EntityA } from "entities/A/@x/B";
```

è®°å·æ³• `A/@x/B` æ—¨åœ¨è¯»ä½œ "A crossed with B"ã€‚

å¤‡æ³¨

å°½é‡å‡å°‘äº¤å‰å¯¼å…¥ï¼Œå¹¶ä¸”**ä»…åœ¨ Entities layer ä¸Šä½¿ç”¨æ­¤è®°å·æ³•**ï¼Œåœ¨è¯¥ layer ä¸Šæ¶ˆé™¤äº¤å‰å¯¼å…¥é€šå¸¸æ˜¯ä¸åˆç†çš„ã€‚

## index æ–‡ä»¶çš„é—®é¢˜[â€‹](#index-æ–‡ä»¶çš„é—®é¢˜ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åƒ `index.js` è¿™æ ·çš„ index æ–‡ä»¶ï¼ˆä¹Ÿç§°ä¸º barrel æ–‡ä»¶ï¼‰æ˜¯å®šä¹‰ public API çš„æœ€å¸¸è§æ–¹å¼ã€‚å®ƒä»¬å®¹æ˜“åˆ¶ä½œï¼Œä½†ä¼—æ‰€å‘¨çŸ¥ä¼šåœ¨æŸäº›æ‰“åŒ…å™¨å’Œæ¡†æ¶ä¸­å¼•èµ·é—®é¢˜ã€‚

### å¾ªç¯å¯¼å…¥[â€‹](#å¾ªç¯å¯¼å…¥ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¾ªç¯å¯¼å…¥æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ç›¸äº’å¯¼å…¥ã€‚

![Three files importing each other in a circle](/documentation/zh/img/circular-import-light.svg#light-mode-only)![Three files importing each other in a circle](/documentation/zh/img/circular-import-dark.svg#dark-mode-only)

Pictured above: three files, `fileA.js`, `fileB.js`, and `fileC.js`, importing each other in a circle.

è¿™äº›æƒ…å†µå¯¹äºæ‰“åŒ…å™¨æ¥è¯´é€šå¸¸éš¾ä»¥å¤„ç†ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬ç”šè‡³å¯èƒ½å¯¼è‡´éš¾ä»¥è°ƒè¯•çš„è¿è¡Œæ—¶é”™è¯¯ã€‚

å¾ªç¯å¯¼å…¥å¯ä»¥åœ¨æ²¡æœ‰ index æ–‡ä»¶çš„æƒ…å†µä¸‹å‘ç”Ÿï¼Œä½†æ‹¥æœ‰ index æ–‡ä»¶æä¾›äº†æ„å¤–åˆ›å»ºå¾ªç¯å¯¼å…¥çš„æ˜æ˜¾æœºä¼šã€‚å½“æ‚¨åœ¨ slice çš„ public API ä¸­æœ‰ä¸¤ä¸ªæš´éœ²çš„å¯¹è±¡æ—¶ï¼Œè¿™ç»å¸¸å‘ç”Ÿï¼Œä¾‹å¦‚ `HomePage` å’Œ `loadUserStatistics`ï¼Œå¹¶ä¸” `HomePage` éœ€è¦è®¿é—® `loadUserStatistics`ï¼Œä½†å®ƒåƒè¿™æ ·åšï¼š

pages/home/ui/HomePage.jsx

```
import { loadUserStatistics } from "../"; // importing from pages/home/index.js

export function HomePage() { /* â€¦ */ }
```

pages/home/index.js

```
export { HomePage } from "./ui/HomePage";
export { loadUserStatistics } from "./api/loadUserStatistics";
```

è¿™ç§æƒ…å†µåˆ›å»ºäº†å¾ªç¯å¯¼å…¥ï¼Œå› ä¸º `index.js` å¯¼å…¥ `ui/HomePage.jsx`ï¼Œä½† `ui/HomePage.jsx` å¯¼å…¥ `index.js`ã€‚

ä¸ºäº†é˜²æ­¢è¿™ä¸ªé—®é¢˜ï¼Œè€ƒè™‘è¿™ä¸¤ä¸ªåŸåˆ™ã€‚å¦‚æœæ‚¨æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªä»å¦ä¸€ä¸ªå¯¼å…¥ï¼š

* å½“å®ƒä»¬åœ¨åŒä¸€ä¸ª slice ä¸­æ—¶ï¼Œå§‹ç»ˆä½¿ç”¨\_ç›¸å¯¹\_å¯¼å…¥å¹¶ç¼–å†™å®Œæ•´çš„å¯¼å…¥è·¯å¾„
* å½“å®ƒä»¬åœ¨ä¸åŒçš„ slices ä¸­æ—¶ï¼Œå§‹ç»ˆä½¿ç”¨\_ç»å¯¹\_å¯¼å…¥ï¼Œä¾‹å¦‚ä½¿ç”¨åˆ«å

### Shared ä¸­çš„å¤§å‹åŒ…å’ŒæŸåçš„ tree-shaking[â€‹](#large-bundles "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“æ‚¨æœ‰ä¸€ä¸ªé‡æ–°å¯¼å‡ºæ‰€æœ‰å†…å®¹çš„ index æ–‡ä»¶æ—¶ï¼ŒæŸäº›æ‰“åŒ…å™¨å¯èƒ½åœ¨ tree-shakingï¼ˆç§»é™¤æœªå¯¼å…¥çš„ä»£ç ï¼‰æ–¹é¢é‡åˆ°å›°éš¾ã€‚

é€šå¸¸è¿™å¯¹äº public APIs æ¥è¯´ä¸æ˜¯é—®é¢˜ï¼Œå› ä¸ºæ¨¡å—çš„å†…å®¹é€šå¸¸å…³ç³»éå¸¸å¯†åˆ‡ï¼Œæ‰€ä»¥æ‚¨å¾ˆå°‘éœ€è¦å¯¼å…¥ä¸€ä¸ªä¸œè¥¿å¹¶ tree-shake æ‰å¦ä¸€ä¸ªã€‚ç„¶è€Œï¼Œå½“ FSD ä¸­çš„æ­£å¸¸ public API è§„åˆ™å¯èƒ½å¯¼è‡´é—®é¢˜æ—¶ï¼Œæœ‰ä¸¤ä¸ªéå¸¸å¸¸è§çš„æƒ…å†µ â€” `shared/ui` å’Œ `shared/lib`ã€‚

è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹éƒ½æ˜¯ä¸ç›¸å…³äº‹ç‰©çš„é›†åˆï¼Œé€šå¸¸ä¸æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹éƒ½éœ€è¦çš„ã€‚ä¾‹å¦‚ï¼Œ`shared/ui` å¯èƒ½ä¸º UI åº“ä¸­çš„æ¯ä¸ªç»„ä»¶éƒ½æœ‰æ¨¡å—ï¼š

* `ğŸ“‚ shared/ui/`

  * `ğŸ“ button`
  * `ğŸ“ text-field`
  * `ğŸ“ carousel`
  * `ğŸ“ accordion`

å½“å…¶ä¸­ä¸€ä¸ªæ¨¡å—æœ‰é‡åº¦ä¾èµ–æ—¶ï¼Œè¿™ä¸ªé—®é¢˜ä¼šå˜å¾—æ›´åŠ ä¸¥é‡ï¼Œæ¯”å¦‚è¯­æ³•çªå‡ºæ˜¾ç¤ºå™¨æˆ–æ‹–æ”¾åº“ã€‚æ‚¨ä¸å¸Œæœ›å°†è¿™äº›å¼•å…¥åˆ°ä½¿ç”¨ `shared/ui` ä¸­æŸäº›å†…å®¹çš„æ¯ä¸ªé¡µé¢ä¸­ï¼Œä¾‹å¦‚æŒ‰é’®ã€‚

å¦‚æœæ‚¨çš„åŒ…ç”±äº `shared/ui` æˆ– `shared/lib` ä¸­çš„å•ä¸ª public API è€Œä¸å¿…è¦åœ°å¢é•¿ï¼Œå»ºè®®æ”¹ä¸ºä¸ºæ¯ä¸ªç»„ä»¶æˆ–åº“å•ç‹¬æœ‰ä¸€ä¸ª index æ–‡ä»¶ï¼š

* `ğŸ“‚ shared/ui/`

  * `ğŸ“‚ button`
    * `ğŸ“„ index.js`
  * `ğŸ“‚ text-field`
    * `ğŸ“„ index.js`

ç„¶åè¿™äº›ç»„ä»¶çš„ä½¿ç”¨è€…å¯ä»¥åƒè¿™æ ·ç›´æ¥å¯¼å…¥å®ƒä»¬ï¼š

pages/sign-in/ui/SignInPage.jsx

```
import { Button } from '@/shared/ui/button';
import { TextField } from '@/shared/ui/text-field';
```

### å¯¹ç»è¿‡ public API æ²¡æœ‰çœŸæ­£çš„ä¿æŠ¤[â€‹](#å¯¹ç»è¿‡-public-api-æ²¡æœ‰çœŸæ­£çš„ä¿æŠ¤ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å½“æ‚¨ä¸º slice åˆ›å»º index æ–‡ä»¶æ—¶ï¼Œæ‚¨å®é™…ä¸Šå¹¶æ²¡æœ‰ç¦æ­¢ä»»ä½•äººä¸ä½¿ç”¨å®ƒè€Œç›´æ¥å¯¼å…¥ã€‚è¿™å¯¹äºè‡ªåŠ¨å¯¼å…¥æ¥è¯´å°¤å…¶æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæœ‰å‡ ä¸ªä½ç½®å¯ä»¥å¯¼å…¥å¯¹è±¡ï¼Œæ‰€ä»¥ IDE å¿…é¡»ä¸ºæ‚¨åšå†³å®šã€‚æœ‰æ—¶å®ƒå¯èƒ½é€‰æ‹©ç›´æ¥å¯¼å…¥ï¼Œç ´å slices ä¸Šçš„ public API è§„åˆ™ã€‚

ä¸ºäº†è‡ªåŠ¨æ•è·è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ [Steiger](https://github.com/feature-sliced/steiger)ï¼Œä¸€ä¸ªå…·æœ‰ Feature-Sliced Design è§„åˆ™é›†çš„æ¶æ„ linterã€‚

### å¤§å‹é¡¹ç›®ä¸­æ‰“åŒ…å™¨çš„è¾ƒå·®æ€§èƒ½[â€‹](#å¤§å‹é¡¹ç›®ä¸­æ‰“åŒ…å™¨çš„è¾ƒå·®æ€§èƒ½ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨é¡¹ç›®ä¸­å…·æœ‰å¤§é‡ index æ–‡ä»¶å¯èƒ½ä¼šå‡æ…¢å¼€å‘æœåŠ¡å™¨ï¼Œæ­£å¦‚ TkDodo åœ¨[ä»–çš„æ–‡ç« â€œè¯·åœæ­¢ä½¿ç”¨ Barrel æ–‡ä»¶â€](https://tkdodo.eu/blog/please-stop-using-barrel-files)ä¸­æ‰€æŒ‡å‡ºçš„ã€‚

æ‚¨å¯ä»¥åšå‡ ä»¶äº‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

1. ä¸[â€œShared ä¸­çš„å¤§å‹åŒ…å’ŒæŸåçš„ tree-shakingâ€é—®é¢˜](#large-bundles)ç›¸åŒçš„å»ºè®® â€” åœ¨ `shared/ui` å’Œ `shared/lib` ä¸­ä¸ºæ¯ä¸ªç»„ä»¶/åº“å•ç‹¬æœ‰ index æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¤§çš„

2. é¿å…åœ¨æœ‰ slices çš„ layers ä¸Šçš„ segments ä¸­æœ‰ index æ–‡ä»¶ã€‚<br /><!-- -->ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªç”¨äº feature â€œcommentsâ€ çš„ indexï¼Œ`ğŸ“„ features/comments/index.js`ï¼Œåˆ™æ²¡æœ‰ç†ç”±ä¸ºè¯¥ feature çš„ `ui` segment æœ‰å¦ä¸€ä¸ª indexï¼Œ`ğŸ“„ features/comments/ui/index.js`ã€‚

3. å¦‚æœæ‚¨æœ‰ä¸€ä¸ªéå¸¸å¤§çš„é¡¹ç›®ï¼Œå¾ˆå¯èƒ½æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥åˆ†å‰²æˆå‡ ä¸ªå¤§å—ã€‚<br /><!-- -->ä¾‹å¦‚ï¼ŒGoogle Docs åœ¨æ–‡æ¡£ç¼–è¾‘å™¨å’Œæ–‡ä»¶æµè§ˆå™¨æ–¹é¢æœ‰éå¸¸ä¸åŒçš„è´£ä»»ã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª monorepo è®¾ç½®ï¼Œå…¶ä¸­æ¯ä¸ªåŒ…éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ FSD æ ¹ï¼Œå…·æœ‰è‡ªå·±çš„ layers é›†ã€‚æŸäº›åŒ…å¯èƒ½åªæœ‰ Shared å’Œ Entities layersï¼Œå…¶ä»–åŒ…å¯èƒ½åªæœ‰ Pages å’Œ Appï¼Œè¿˜æœ‰ä¸€äº›åŒ…å¯èƒ½åŒ…å«å®ƒä»¬è‡ªå·±çš„å° Sharedï¼Œä½†ä»ç„¶ä½¿ç”¨å¦ä¸€ä¸ªåŒ…ä¸­çš„å¤§ Sharedã€‚


---

# Slices å’Œ segments

## Slices[â€‹](#slices "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Slices æ˜¯ Feature-Sliced Design ç»„ç»‡å±‚æ¬¡ç»“æ„ä¸­çš„ç¬¬äºŒçº§ã€‚å®ƒä»¬çš„ä¸»è¦ç›®çš„æ˜¯æŒ‰å…¶å¯¹äº§å“ã€ä¸šåŠ¡æˆ–åº”ç”¨ç¨‹åºçš„æ„ä¹‰å¯¹ä»£ç è¿›è¡Œåˆ†ç»„ã€‚

Slices çš„åç§°æ²¡æœ‰æ ‡å‡†åŒ–ï¼Œå› ä¸ºå®ƒä»¬ç›´æ¥ç”±æ‚¨åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é¢†åŸŸå†³å®šã€‚ä¾‹å¦‚ï¼Œç…§ç‰‡åº“å¯èƒ½æœ‰ slices `photo`ã€`effects`ã€`gallery-page`ã€‚ç¤¾äº¤ç½‘ç»œå°†éœ€è¦ä¸åŒçš„ slicesï¼Œä¾‹å¦‚ `post`ã€`comments`ã€`news-feed`ã€‚

Layers Shared å’Œ App ä¸åŒ…å« slicesã€‚è¿™æ˜¯å› ä¸º Shared åº”è¯¥ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œå› æ­¤å¯¹äº§å“æ²¡æœ‰æ„ä¹‰ï¼Œè€Œ App åº”è¯¥åªåŒ…å«æ¶‰åŠæ•´ä¸ªåº”ç”¨ç¨‹åºçš„ä»£ç ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†å‰²ã€‚

### é›¶è€¦åˆå’Œé«˜èšåˆ[â€‹](#zero-coupling-high-cohesion "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

Slices æ—¨åœ¨æˆä¸ºç‹¬ç«‹ä¸”é«˜åº¦èšåˆçš„ä»£ç æ–‡ä»¶ç»„ã€‚ä¸‹é¢çš„å›¾å½¢å¯èƒ½æœ‰åŠ©äºå¯è§†åŒ–\_èšåˆæ€§\_å’Œ\_è€¦åˆæ€§\_è¿™äº›å¤æ‚çš„æ¦‚å¿µï¼š

![](/documentation/zh/img/coupling-cohesion-light.svg#light-mode-only)![](/documentation/zh/img/coupling-cohesion-dark.svg#dark-mode-only)

Image inspired by <https://enterprisecraftsmanship.com/posts/cohesion-coupling-difference/>

ç†æƒ³çš„ slice ç‹¬ç«‹äºå…¶ layer ä¸Šçš„å…¶ä»– slicesï¼ˆé›¶è€¦åˆï¼‰å¹¶åŒ…å«ä¸å…¶ä¸»è¦ç›®æ ‡ç›¸å…³çš„å¤§éƒ¨åˆ†ä»£ç ï¼ˆé«˜èšåˆï¼‰ã€‚

åˆ‡ç‰‡çš„ç‹¬ç«‹æ€§ç”±[å±‚çº§å¯¼å…¥è§„åˆ™](/documentation/zh/docs/reference/layers.md#import-rule-on-layers)å¼ºåˆ¶æ‰§è¡Œï¼š

> *åˆ‡ç‰‡ä¸­çš„æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰åªèƒ½åœ¨å…¶ä»–åˆ‡ç‰‡ä½äºä¸¥æ ¼è¾ƒä½çš„å±‚çº§æ—¶å¯¼å…¥å®ƒä»¬ã€‚*

### åˆ‡ç‰‡çš„å…¬å…±APIè§„åˆ™[â€‹](#åˆ‡ç‰‡çš„å…¬å…±apiè§„åˆ™ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

åœ¨åˆ‡ç‰‡å†…éƒ¨ï¼Œä»£ç å¯ä»¥æŒ‰ä½ æƒ³è¦çš„ä»»ä½•æ–¹å¼ç»„ç»‡ã€‚åªè¦åˆ‡ç‰‡ä¸ºå…¶ä»–åˆ‡ç‰‡æä¾›è‰¯å¥½çš„å…¬å…±APIæ¥ä½¿ç”¨å®ƒï¼Œè¿™å°±ä¸ä¼šé€ æˆä»»ä½•é—®é¢˜ã€‚è¿™é€šè¿‡**åˆ‡ç‰‡çš„å…¬å…±APIè§„åˆ™**æ¥å¼ºåˆ¶æ‰§è¡Œï¼š

> *æ¯ä¸ªåˆ‡ç‰‡ï¼ˆä»¥åŠæ²¡æœ‰åˆ‡ç‰‡çš„å±‚çº§ä¸Šçš„æ®µï¼‰éƒ½å¿…é¡»åŒ…å«å…¬å…±APIå®šä¹‰ã€‚*
>
> *æ­¤åˆ‡ç‰‡/æ®µä¹‹å¤–çš„æ¨¡å—åªèƒ½å¼•ç”¨å…¬å…±APIï¼Œè€Œä¸èƒ½å¼•ç”¨åˆ‡ç‰‡/æ®µçš„å†…éƒ¨æ–‡ä»¶ç»“æ„ã€‚*

åœ¨[å…¬å…±APIå‚è€ƒ](/documentation/zh/docs/reference/public-api.md)ä¸­é˜…è¯»æ›´å¤šå…³äºå…¬å…±APIçš„åŸºæœ¬åŸç†å’Œåˆ›å»ºæœ€ä½³å®è·µçš„ä¿¡æ¯ã€‚

### åˆ‡ç‰‡ç»„[â€‹](#åˆ‡ç‰‡ç»„ "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

å¯†åˆ‡ç›¸å…³çš„åˆ‡ç‰‡å¯ä»¥åœ¨æ–‡ä»¶å¤¹ä¸­è¿›è¡Œç»“æ„åŒ–åˆ†ç»„ï¼Œä½†å®ƒä»¬åº”è¯¥éµå¾ªä¸å…¶ä»–åˆ‡ç‰‡ç›¸åŒçš„éš”ç¦»è§„åˆ™ â€” è¯¥æ–‡ä»¶å¤¹ä¸­åº”è¯¥**æ²¡æœ‰ä»£ç å…±äº«**ã€‚

![Features \&quot;compose\&quot;, \&quot;like\&quot; and \&quot;delete\&quot; grouped in a folder \&quot;post\&quot;. In that folder there is also a file \&quot;some-shared-code.ts\&quot; that is crossed out to imply that it\&#39;s not allowed.](/documentation/zh/assets/images/graphic-nested-slices-b9c44e6cc55ecdbf3e50bf40a61e5a27.svg)

## Segments[â€‹](#segments "æ ‡é¢˜çš„ç›´æ¥é“¾æ¥")

æ®µæ˜¯ç»„ç»‡å±‚æ¬¡ç»“æ„ä¸­çš„ç¬¬ä¸‰çº§ä¹Ÿæ˜¯æœ€åä¸€çº§ï¼Œå…¶ç›®çš„æ˜¯æŒ‰æŠ€æœ¯æ€§è´¨å¯¹ä»£ç è¿›è¡Œåˆ†ç»„ã€‚

æœ‰å‡ ä¸ªæ ‡å‡†åŒ–çš„æ®µåç§°ï¼š

* `ui` â€” ä¸UIæ˜¾ç¤ºç›¸å…³çš„ä¸€åˆ‡ï¼šUIç»„ä»¶ã€æ—¥æœŸæ ¼å¼åŒ–å™¨ã€æ ·å¼ç­‰ã€‚
* `api` â€” åç«¯äº¤äº’ï¼šè¯·æ±‚å‡½æ•°ã€æ•°æ®ç±»å‹ã€æ˜ å°„å™¨ç­‰ã€‚
* `model` â€” æ•°æ®æ¨¡å‹ï¼šæ¨¡å¼ã€æ¥å£ã€å­˜å‚¨å’Œä¸šåŠ¡é€»è¾‘ã€‚
* `lib` â€” æ­¤åˆ‡ç‰‡ä¸Šå…¶ä»–æ¨¡å—éœ€è¦çš„åº“ä»£ç ã€‚
* `config` â€” é…ç½®æ–‡ä»¶å’ŒåŠŸèƒ½æ ‡å¿—ã€‚

æŸ¥çœ‹[å±‚çº§é¡µé¢](/documentation/zh/docs/reference/layers.md#layer-definitions)äº†è§£è¿™äº›æ®µåœ¨ä¸åŒå±‚çº§ä¸Šå¯èƒ½ç”¨äºä»€ä¹ˆçš„ç¤ºä¾‹ã€‚

ä½ ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æ®µã€‚è‡ªå®šä¹‰æ®µæœ€å¸¸è§çš„åœ°æ–¹æ˜¯Appå±‚å’ŒSharedå±‚ï¼Œåœ¨è¿™äº›å±‚ä¸­åˆ‡ç‰‡æ²¡æœ‰æ„ä¹‰ã€‚

ç¡®ä¿è¿™äº›æ®µçš„åç§°æè¿°å†…å®¹çš„ç›®çš„ï¼Œè€Œä¸æ˜¯å…¶æœ¬è´¨ã€‚ä¾‹å¦‚ï¼Œ`components`ã€`hooks`å’Œ`types`æ˜¯ä¸å¥½çš„æ®µåç§°ï¼Œå› ä¸ºå®ƒä»¬åœ¨ä½ å¯»æ‰¾ä»£ç æ—¶æ²¡æœ‰å¤ªå¤§å¸®åŠ©ã€‚


---

### æ˜ç¡®çš„ä¸šåŠ¡é€»è¾‘

é€šè¿‡é¢†åŸŸèŒƒå›´å®ç°æ˜“äºå‘ç°çš„æ¶æ„


---

