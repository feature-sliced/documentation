"use strict";(self.webpackChunk_feature_sliced_documentation=self.webpackChunk_feature_sliced_documentation||[]).push([["3666"],{8459:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>i,toc:()=>c,default:()=>m,metadata:()=>t,assets:()=>l,contentTitle:()=>o});var t=JSON.parse('{"id":"get-started/tutorial","title":"\u6559\u7A0B","description":"\u7B2C\u4E00\u90E8\u5206\u3002\u7406\u8BBA\u4E0A","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/get-started/tutorial.md","sourceDirName":"get-started","slug":"/get-started/tutorial","permalink":"/documentation/zh/docs/get-started/tutorial","draft":false,"unlisted":false,"editUrl":"https://github.com/feature-sliced/documentation/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/get-started/tutorial.md","tags":[],"version":"current","lastUpdatedAt":1758986979000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"\u6982\u89C8","permalink":"/documentation/zh/docs/get-started/overview"},"next":{"title":"\u5E38\u89C1\u95EE\u9898","permalink":"/documentation/zh/docs/get-started/faq"}}'),s=r(5813),a=r(6436);let i={sidebar_position:2},o="\u6559\u7A0B",l={},c=[{value:"\u7B2C\u4E00\u90E8\u5206\u3002\u7406\u8BBA\u4E0A",id:"\u7B2C\u4E00\u90E8\u5206\u7406\u8BBA\u4E0A",level:2},{value:"\u4ECE\u5217\u51FA\u9875\u9762\u5F00\u59CB",id:"\u4ECE\u5217\u51FA\u9875\u9762\u5F00\u59CB",level:3},{value:"\u4ED4\u7EC6\u67E5\u770B feed",id:"\u4ED4\u7EC6\u67E5\u770B-feed",level:3},{value:"\u6807\u7B7E\u5217\u8868",id:"\u6807\u7B7E\u5217\u8868",level:4},{value:"\u6587\u7AE0",id:"\u6587\u7AE0",level:4},{value:"\u91CD\u7528\u901A\u7528\u4EE3\u7801",id:"\u91CD\u7528\u901A\u7528\u4EE3\u7801",level:3},{value:"\u5B9A\u4E49\u4E25\u683C\u7684 public API",id:"\u5B9A\u4E49\u4E25\u683C\u7684-public-api",level:3},{value:"UI \u4E2D\u7684\u5927\u578B\u91CD\u7528\u5757",id:"ui-\u4E2D\u7684\u5927\u578B\u91CD\u7528\u5757",level:3},{value:"\u4ED4\u7EC6\u67E5\u770B\u5E26\u6709\u8868\u5355\u7684\u9875\u9762",id:"\u4ED4\u7EC6\u67E5\u770B\u5E26\u6709\u8868\u5355\u7684\u9875\u9762",level:3},{value:"\u603B\u7ED3",id:"\u603B\u7ED3",level:3},{value:"\u7B2C\u4E8C\u90E8\u5206\u3002\u5728\u4EE3\u7801\u4E2D",id:"\u7B2C\u4E8C\u90E8\u5206\u5728\u4EE3\u7801\u4E2D",level:2},{value:"\u5E03\u5C40\u9875\u9762",id:"\u5E03\u5C40\u9875\u9762",level:3},{value:"\u8FDE\u63A5 feed \u9875\u9762",id:"\u8FDE\u63A5-feed-\u9875\u9762",level:3},{value:"API \u5BA2\u6237\u7AEF",id:"api-\u5BA2\u6237\u7AEF",level:3},{value:"feed \u4E2D\u7684\u771F\u5B9E\u6570\u636E",id:"feed-\u4E2D\u7684\u771F\u5B9E\u6570\u636E",level:3},{value:"\u6309\u6807\u7B7E\u8FC7\u6EE4",id:"\u6309\u6807\u7B7E\u8FC7\u6EE4",level:3},{value:"\u5206\u9875",id:"\u5206\u9875",level:3},{value:"\u8EAB\u4EFD\u9A8C\u8BC1",id:"\u8EAB\u4EFD\u9A8C\u8BC1",level:3},{value:"\u5934\u90E8",id:"\u5934\u90E8",level:3},{value:"\u9009\u9879\u5361",id:"\u9009\u9879\u5361",level:3},{value:"\u6587\u7AE0\u9605\u8BFB\u5668",id:"\u6587\u7AE0\u9605\u8BFB\u5668",level:3},{value:"\u6587\u7AE0\u7F16\u8F91\u5668",id:"\u6587\u7AE0\u7F16\u8F91\u5668",level:3}];function d(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u6559\u7A0B",children:"\u6559\u7A0B"})}),"\n",(0,s.jsx)(n.h2,{id:"\u7B2C\u4E00\u90E8\u5206\u7406\u8BBA\u4E0A",children:"\u7B2C\u4E00\u90E8\u5206\u3002\u7406\u8BBA\u4E0A"}),"\n",(0,s.jsxs)(n.p,{children:["\u672C\u6559\u7A0B\u5C06\u68C0\u67E5 Real World App\uFF0C\u4E5F\u79F0\u4E3A Conduit\u3002Conduit \u662F\u4E00\u4E2A\u57FA\u672C\u7684 ",(0,s.jsx)(n.a,{href:"https://medium.com/",children:"Medium"})," \u514B\u9686 \u2014 \u5B83\u8BA9\u60A8\u9605\u8BFB\u548C\u7F16\u5199\u6587\u7AE0\uFF0C\u4EE5\u53CA\u5BF9\u4ED6\u4EBA\u7684\u6587\u7AE0\u8FDB\u884C\u8BC4\u8BBA\u3002"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Conduit home page",src:r(6549).A+"",width:"2880",height:"1504"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u662F\u4E00\u4E2A\u76F8\u5F53\u5C0F\u7684\u5E94\u7528\u7A0B\u5E8F\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C06\u4FDD\u6301\u7B80\u5355\u5E76\u907F\u514D\u8FC7\u5EA6\u5206\u89E3\u3002\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u5F88\u53EF\u80FD\u53EA\u9700\u8981\u4E09\u4E2A layers\uFF1A",(0,s.jsx)(n.strong,{children:"App"}),"\u3001",(0,s.jsx)(n.strong,{children:"Pages"})," \u548C ",(0,s.jsx)(n.strong,{children:"Shared"}),"\u3002\u5982\u679C\u4E0D\u662F\uFF0C\u6211\u4EEC\u5C06\u5728\u8FC7\u7A0B\u4E2D\u5F15\u5165\u989D\u5916\u7684 layers\u3002\u51C6\u5907\u597D\u4E86\u5417\uFF1F"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4ECE\u5217\u51FA\u9875\u9762\u5F00\u59CB",children:"\u4ECE\u5217\u51FA\u9875\u9762\u5F00\u59CB"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679C\u6211\u4EEC\u67E5\u770B\u4E0A\u9762\u7684\u622A\u56FE\uFF0C\u6211\u4EEC\u53EF\u4EE5\u81F3\u5C11\u5047\u8BBE\u4EE5\u4E0B\u9875\u9762\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4E3B\u9875\uFF08\u6587\u7AE0\u6D41\uFF09"}),"\n",(0,s.jsx)(n.li,{children:"\u767B\u5F55\u548C\u6CE8\u518C"}),"\n",(0,s.jsx)(n.li,{children:"\u6587\u7AE0\u9605\u8BFB\u5668"}),"\n",(0,s.jsx)(n.li,{children:"\u6587\u7AE0\u7F16\u8F91\u5668"}),"\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u8D44\u6599\u67E5\u770B\u5668"}),"\n",(0,s.jsx)(n.li,{children:"\u7528\u6237\u8D44\u6599\u7F16\u8F91\u5668\uFF08\u7528\u6237\u8BBE\u7F6E\uFF09"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u4E9B\u9875\u9762\u4E2D\u7684\u6BCF\u4E00\u4E2A\u90FD\u5C06\u6210\u4E3A Pages ",(0,s.jsx)(n.em,{children:"layer"})," \u4E0A\u7684\u81EA\u5DF1\u7684 ",(0,s.jsx)(n.em,{children:"slice"}),"\u3002\u56DE\u5FC6\u4E00\u4E0B\u6982\u89C8\u4E2D\u7684\u5185\u5BB9\uFF0Cslices \u7B80\u5355\u6765\u8BF4\u5C31\u662F layers \u5185\u90E8\u7684\u6587\u4EF6\u5939\uFF0C\u800C layers \u7B80\u5355\u6765\u8BF4\u5C31\u662F\u5177\u6709\u9884\u5B9A\u4E49\u540D\u79F0\u7684\u6587\u4EF6\u5939\uFF0C\u5982 ",(0,s.jsx)(n.code,{children:"pages"}),"\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u56E0\u6B64\uFF0C\u6211\u4EEC\u7684 Pages \u6587\u4EF6\u5939\u5C06\u5982\u4E0B\u6240\u793A\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u{1F4C2} pages/\n  \u{1F4C1} feed/\n  \u{1F4C1} sign-in/\n  \u{1F4C1} article-read/\n  \u{1F4C1} article-edit/\n  \u{1F4C1} profile/\n  \u{1F4C1} settings/\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Feature-Sliced Design \u4E0E\u65E0\u89C4\u5219\u4EE3\u7801\u7ED3\u6784\u7684\u5173\u952E\u533A\u522B\u662F\u9875\u9762\u4E0D\u80FD\u76F8\u4E92\u5F15\u7528\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4E00\u4E2A\u9875\u9762\u4E0D\u80FD\u4ECE\u53E6\u4E00\u4E2A\u9875\u9762\u5BFC\u5165\u4EE3\u7801\u3002\u8FD9\u662F\u7531\u4E8E ",(0,s.jsx)(n.strong,{children:"layers \u4E0A\u7684\u5BFC\u5165\u89C4\u5219"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"slice \u4E2D\u7684\u6A21\u5757\uFF08\u6587\u4EF6\uFF09\u53EA\u80FD\u5728\u5176\u4ED6 slices \u4F4D\u4E8E\u4E25\u683C\u4F4E\u4E8E\u5F53\u524D\u7684 layers \u65F6\u624D\u80FD\u5BFC\u5165\u5B83\u4EEC\u3002"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u9875\u9762\u662F\u4E00\u4E2A slice\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u9875\u9762\u5185\u90E8\u7684\u6A21\u5757\uFF08\u6587\u4EF6\uFF09\u53EA\u80FD\u5F15\u7528\u4E0B\u5C42 layers \u7684\u4EE3\u7801\uFF0C\u800C\u4E0D\u80FD\u5F15\u7528\u540C\u4E00 layer Pages \u7684\u4EE3\u7801\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u4ED4\u7EC6\u67E5\u770B-feed",children:"\u4ED4\u7EC6\u67E5\u770B feed"}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Anonymous user\u2019s perspective",src:r(6549).A+"",width:"2880",height:"1504"})}),(0,s.jsx)("figcaption",{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Anonymous user\u2019s perspective"})})})]}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Authenticated user\u2019s perspective",src:r(4919).A+"",width:"2880",height:"1504"})}),(0,s.jsx)("figcaption",{children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Authenticated user\u2019s perspective"})})})]}),"\n",(0,s.jsx)(n.p,{children:"feed \u9875\u9762\u4E0A\u6709\u4E09\u4E2A\u52A8\u6001\u533A\u57DF\uFF1A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5E26\u6709\u767B\u5F55\u72B6\u6001\u6307\u793A\u7684\u767B\u5F55\u94FE\u63A5"}),"\n",(0,s.jsx)(n.li,{children:"\u89E6\u53D1 feed \u4E2D\u8FC7\u6EE4\u7684\u6807\u7B7E\u5217\u8868"}),"\n",(0,s.jsx)(n.li,{children:"\u4E00\u4E2A/\u4E24\u4E2A\u6587\u7AE0 feeds\uFF0C\u6BCF\u7BC7\u6587\u7AE0\u90FD\u6709\u4E00\u4E2A\u70B9\u8D5E\u6309\u94AE"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u767B\u5F55\u94FE\u63A5\u662F\u6240\u6709\u9875\u9762\u901A\u7528\u7684\u5934\u90E8\u7684\u4E00\u90E8\u5206\uFF0C\u6211\u4EEC\u5C06\u5355\u72EC\u91CD\u65B0\u8BBF\u95EE\u5B83\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u6807\u7B7E\u5217\u8868",children:"\u6807\u7B7E\u5217\u8868"}),"\n",(0,s.jsxs)(n.p,{children:["\u8981\u6784\u5EFA\u6807\u7B7E\u5217\u8868\uFF0C\u6211\u4EEC\u9700\u8981\u83B7\u53D6\u53EF\u7528\u7684\u6807\u7B7E\uFF0C\u5C06\u6BCF\u4E2A\u6807\u7B7E\u6E32\u67D3\u4E3A\u82AF\u7247\uFF0C\u5E76\u5C06\u9009\u4E2D\u7684\u6807\u7B7E\u5B58\u50A8\u5728\u5BA2\u6237\u7AEF\u5B58\u50A8\u4E2D\u3002\u8FD9\u4E9B\u64CD\u4F5C\u5206\u522B\u5C5E\u4E8E\u201CAPI \u4EA4\u4E92\u201D\u3001\u201C\u7528\u6237\u754C\u9762\u201D\u548C\u201C\u5B58\u50A8\u201D\u7C7B\u522B\u3002\u5728 Feature-Sliced Design \u4E2D\uFF0C\u4EE3\u7801\u4F7F\u7528 ",(0,s.jsx)(n.em,{children:"segments"})," \u6309\u76EE\u7684\u5206\u79BB\u3002Segments \u662F slices \u4E2D\u7684\u6587\u4EF6\u5939\uFF0C\u5B83\u4EEC\u53EF\u4EE5\u6709\u63CF\u8FF0\u76EE\u7684\u7684\u4EFB\u610F\u540D\u79F0\uFF0C\u4F46\u67D0\u4E9B\u76EE\u7684\u975E\u5E38\u5E38\u89C1\uFF0C\u4EE5\u81F3\u4E8E\u67D0\u4E9B segment \u540D\u79F0\u6709\u7EA6\u5B9A\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"api/"})," \u7528\u4E8E\u540E\u7AEF\u4EA4\u4E92"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"ui/"})," \u7528\u4E8E\u5904\u7406\u6E32\u67D3\u548C\u5916\u89C2\u7684\u4EE3\u7801"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"model/"})," \u7528\u4E8E\u5B58\u50A8\u548C\u4E1A\u52A1\u903B\u8F91"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"config/"})," \u7528\u4E8E feature flags\u3001\u73AF\u5883\u53D8\u91CF\u548C\u5176\u4ED6\u5F62\u5F0F\u7684\u914D\u7F6E"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6211\u4EEC\u5C06\u83B7\u53D6\u6807\u7B7E\u7684\u4EE3\u7801\u653E\u5165 ",(0,s.jsx)(n.code,{children:"api"}),"\uFF0C\u6807\u7B7E\u7EC4\u4EF6\u653E\u5165 ",(0,s.jsx)(n.code,{children:"ui"}),"\uFF0C\u5B58\u50A8\u4EA4\u4E92\u653E\u5165 ",(0,s.jsx)(n.code,{children:"model"}),"\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u6587\u7AE0",children:"\u6587\u7AE0"}),"\n",(0,s.jsx)(n.p,{children:"\u4F7F\u7528\u76F8\u540C\u7684\u5206\u7EC4\u539F\u5219\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u6587\u7AE0 feed \u5206\u89E3\u4E3A\u76F8\u540C\u7684\u4E09\u4E2A segments\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"api/"}),": \u83B7\u53D6\u5E26\u6709\u70B9\u8D5E\u6570\u7684\u5206\u9875\u6587\u7AE0\uFF1B\u70B9\u8D5E\u6587\u7AE0"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"ui/"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53EF\u4EE5\u5728\u9009\u4E2D\u6807\u7B7E\u65F6\u6E32\u67D3\u989D\u5916\u9009\u9879\u5361\u7684\u9009\u9879\u5361\u5217\u8868"}),"\n",(0,s.jsx)(n.li,{children:"\u5355\u4E2A\u6587\u7AE0"}),"\n",(0,s.jsx)(n.li,{children:"\u529F\u80FD\u5206\u9875"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2} ",(0,s.jsx)(n.code,{children:"model/"}),": \u5F53\u524D\u52A0\u8F7D\u7684\u6587\u7AE0\u548C\u5F53\u524D\u9875\u9762\u7684\u5BA2\u6237\u7AEF\u5B58\u50A8\uFF08\u5982\u679C\u9700\u8981\uFF09"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u91CD\u7528\u901A\u7528\u4EE3\u7801",children:"\u91CD\u7528\u901A\u7528\u4EE3\u7801"}),"\n",(0,s.jsxs)(n.p,{children:["\u5927\u591A\u6570\u9875\u9762\u5728\u610F\u56FE\u4E0A\u975E\u5E38\u4E0D\u540C\uFF0C\u4F46\u67D0\u4E9B\u4E1C\u897F\u5728\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u4FDD\u6301\u4E0D\u53D8 \u2014 \u4F8B\u5982\uFF0C\u7B26\u5408\u8BBE\u8BA1\u8BED\u8A00\u7684 UI \u5957\u4EF6\uFF0C\u6216\u540E\u7AEF\u4E0A\u4F7F\u7528\u76F8\u540C\u8BA4\u8BC1\u65B9\u6CD5\u7684 REST API \u6765\u5B8C\u6210\u6240\u6709\u4E8B\u60C5\u7684\u7EA6\u5B9A\u3002\u7531\u4E8E slices \u65E8\u5728\u88AB\u9694\u79BB\uFF0C\u4EE3\u7801\u91CD\u7528\u7531\u66F4\u4F4E\u7684 layer ",(0,s.jsx)(n.strong,{children:"Shared"})," \u4FC3\u8FDB\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"Shared \u4E0E\u5176\u4ED6 layers \u4E0D\u540C\uFF0C\u5B83\u5305\u542B segments \u800C\u4E0D\u662F slices\u3002\u8FD9\u6837\uFF0CShared layer \u53EF\u4EE5\u88AB\u8BA4\u4E3A\u662F layer \u548C slice \u4E4B\u95F4\u7684\u6DF7\u5408\u4F53\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u901A\u5E38\uFF0CShared \u4E2D\u7684\u4EE3\u7801\u4E0D\u662F\u63D0\u524D\u8BA1\u5212\u7684\uFF0C\u800C\u662F\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u63D0\u53D6\u7684\uFF0C\u56E0\u4E3A\u53EA\u6709\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u624D\u80FD\u660E\u786E\u54EA\u4E9B\u4EE3\u7801\u90E8\u5206\u5B9E\u9645\u4E0A\u662F\u5171\u4EAB\u7684\u3002\u7136\u800C\uFF0C\u8BB0\u4F4F\u54EA\u79CD\u4EE3\u7801\u81EA\u7136\u5C5E\u4E8E Shared \u4ECD\u7136\u662F\u6709\u5E2E\u52A9\u7684\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2}\xa0",(0,s.jsx)(n.code,{children:"ui/"})," \u2014 the UI kit, pure appearance, no business logic. For example, buttons, modal dialogs, form inputs."]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2}\xa0",(0,s.jsx)(n.code,{children:"api/"})," \u2014 convenience wrappers around request making primitives (like ",(0,s.jsx)(n.code,{children:"fetch()"})," on the Web) and, optionally, functions for triggering particular requests according to the backend specification."]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2}\xa0",(0,s.jsx)(n.code,{children:"config/"})," \u2014 parsing environment variables"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2}\xa0",(0,s.jsx)(n.code,{children:"i18n/"})," \u2014 configuration of language support"]}),"\n",(0,s.jsxs)(n.li,{children:["\u{1F4C2}\xa0",(0,s.jsx)(n.code,{children:"router/"})," \u2014 routing primitives and route constants"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u4E9B\u53EA\u662F Shared \u4E2D segment \u540D\u79F0\u7684\u51E0\u4E2A\u793A\u4F8B\uFF0C\u4F46\u60A8\u53EF\u4EE5\u7701\u7565\u5176\u4E2D\u4EFB\u4F55\u4E00\u4E2A\u6216\u521B\u5EFA\u81EA\u5DF1\u7684\u3002\u521B\u5EFA\u65B0 segments \u65F6\u8981\u8BB0\u4F4F\u7684\u552F\u4E00\u91CD\u8981\u4E8B\u60C5\u662F\uFF0Csegment \u540D\u79F0\u5E94\u8BE5\u63CF\u8FF0",(0,s.jsx)(n.strong,{children:"\u76EE\u7684\uFF08\u4E3A\u4EC0\u4E48\uFF09\uFF0C\u800C\u4E0D\u662F\u672C\u8D28\uFF08\u662F\u4EC0\u4E48\uFF09"}),'\u3002\u50CF "components"\u3001"hooks"\u3001"modals" \u8FD9\u6837\u7684\u540D\u79F0',(0,s.jsx)(n.em,{children:"\u4E0D\u5E94\u8BE5"}),"\u4F7F\u7528\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u63CF\u8FF0\u4E86\u8FD9\u4E9B\u6587\u4EF6\u662F\u4EC0\u4E48\uFF0C\u4F46\u4E0D\u80FD\u5E2E\u52A9\u5728\u5185\u90E8\u5BFC\u822A\u4EE3\u7801\u3002\u8FD9\u8981\u6C42\u56E2\u961F\u4E2D\u7684\u4EBA\u5728\u8FD9\u6837\u7684\u6587\u4EF6\u5939\u4E2D\u6316\u6398\u6BCF\u4E2A\u6587\u4EF6\uFF0C\u5E76\u4E14\u4E5F\u4FDD\u6301\u4E0D\u76F8\u5173\u7684\u4EE3\u7801\u63A5\u8FD1\uFF0C\u8FD9\u5BFC\u81F4\u4E86\u91CD\u6784\u5F71\u54CD\u7684\u4EE3\u7801\u533A\u57DF\u5E7F\u6CDB\uFF0C\u4ECE\u800C\u4F7F\u4EE3\u7801\u5BA1\u67E5\u548C\u6D4B\u8BD5\u66F4\u52A0\u56F0\u96BE\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5B9A\u4E49\u4E25\u683C\u7684-public-api",children:"\u5B9A\u4E49\u4E25\u683C\u7684 public API"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 Feature-Sliced Design \u7684\u4E0A\u4E0B\u6587\u4E2D\uFF0C\u672F\u8BED ",(0,s.jsx)(n.em,{children:"public API"})," \u6307\u7684\u662F slice \u6216 segment \u58F0\u660E\u9879\u76EE\u4E2D\u7684\u5176\u4ED6\u6A21\u5757\u53EF\u4EE5\u4ECE\u5B83\u5BFC\u5165\u4EC0\u4E48\u3002\u4F8B\u5982\uFF0C\u5728 JavaScript \u4E2D\uFF0C\u8FD9\u53EF\u4EE5\u662F\u4E00\u4E2A ",(0,s.jsx)(n.code,{children:"index.js"})," \u6587\u4EF6\uFF0C\u4ECE slice \u4E2D\u7684\u5176\u4ED6\u6587\u4EF6\u91CD\u65B0\u5BFC\u51FA\u5BF9\u8C61\u3002\u8FD9\u4F7F\u5F97\u5728 slice \u5185\u90E8\u91CD\u6784\u4EE3\u7801\u7684\u81EA\u7531\u5EA6\u6210\u4E3A\u53EF\u80FD\uFF0C\u53EA\u8981\u4E0E\u5916\u90E8\u4E16\u754C\u7684\u5951\u7EA6\uFF08\u5373 public API\uFF09\u4FDD\u6301\u4E0D\u53D8\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u5BF9\u4E8E\u6CA1\u6709 slices \u7684 Shared layer\uFF0C\u901A\u5E38\u4E3A\u6BCF\u4E2A segment \u5B9A\u4E49\u5355\u72EC\u7684 public API \u6BD4\u5B9A\u4E49 Shared \u4E2D\u6240\u6709\u5185\u5BB9\u7684\u4E00\u4E2A\u5355\u4E00\u7D22\u5F15\u66F4\u65B9\u4FBF\u3002\u8FD9\u4F7F\u5F97\u4ECE Shared \u7684\u5BFC\u5165\u6309\u610F\u56FE\u81EA\u7136\u5730\u7EC4\u7EC7\u3002\u5BF9\u4E8E\u5177\u6709 slices \u7684\u5176\u4ED6 layers\uFF0C\u60C5\u51B5\u76F8\u53CD \u2014 \u901A\u5E38\u6BCF\u4E2A slice \u5B9A\u4E49\u4E00\u4E2A\u7D22\u5F15\u5E76\u8BA9 slice \u51B3\u5B9A\u5916\u90E8\u4E16\u754C\u672A\u77E5\u7684\u81EA\u5DF1\u7684 segments \u96C6\u5408\u66F4\u5B9E\u7528\uFF0C\u56E0\u4E3A\u5176\u4ED6 layers \u901A\u5E38\u6709\u66F4\u5C11\u7684\u5BFC\u51FA\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u7684 slices/segments \u5C06\u4EE5\u4EE5\u4E0B\u65B9\u5F0F\u76F8\u4E92\u51FA\u73B0\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u{1F4C2} pages/\n  \u{1F4C2} feed/\n    \u{1F4C4} index\n  \u{1F4C2} sign-in/\n    \u{1F4C4} index\n  \u{1F4C2} article-read/\n    \u{1F4C4} index\n  \u{1F4C1} \u2026\n\u{1F4C2} shared/\n  \u{1F4C2} ui/\n    \u{1F4C4} index\n  \u{1F4C2} api/\n    \u{1F4C4} index\n  \u{1F4C1} \u2026\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u50CF ",(0,s.jsx)(n.code,{children:"pages/feed"})," \u6216 ",(0,s.jsx)(n.code,{children:"shared/ui"})," \u8FD9\u6837\u7684\u6587\u4EF6\u5939\u5185\u90E8\u7684\u4EFB\u4F55\u5185\u5BB9\u53EA\u6709\u8FD9\u4E9B\u6587\u4EF6\u5939\u77E5\u9053\uFF0C\u5176\u4ED6\u6587\u4EF6\u4E0D\u5E94\u8BE5\u4F9D\u8D56\u8FD9\u4E9B\u6587\u4EF6\u5939\u7684\u5185\u90E8\u7ED3\u6784\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"ui-\u4E2D\u7684\u5927\u578B\u91CD\u7528\u5757",children:"UI \u4E2D\u7684\u5927\u578B\u91CD\u7528\u5757"}),"\n",(0,s.jsx)(n.p,{children:"\u65E9\u4E9B\u65F6\u5019\u6211\u4EEC\u8BB0\u5F55\u4E86\u8981\u91CD\u65B0\u8BBF\u95EE\u51FA\u73B0\u5728\u6BCF\u4E2A\u9875\u9762\u4E0A\u7684\u5934\u90E8\u3002\u5728\u6BCF\u4E2A\u9875\u9762\u4E0A\u4ECE\u5934\u5F00\u59CB\u91CD\u5EFA\u5B83\u662F\u4E0D\u5207\u5B9E\u9645\u7684\uFF0C\u6240\u4EE5\u60F3\u8981\u91CD\u7528\u5B83\u662F\u5F88\u81EA\u7136\u7684\u3002\u6211\u4EEC\u5DF2\u7ECF\u6709 Shared \u6765\u4FC3\u8FDB\u4EE3\u7801\u91CD\u7528\uFF0C\u7136\u800C\uFF0C\u5728 Shared \u4E2D\u653E\u7F6E\u5927\u578B UI \u5757\u6709\u4E00\u4E2A\u8B66\u544A \u2014 Shared layer \u4E0D\u5E94\u8BE5\u4E86\u89E3\u4E0A\u9762\u7684\u4EFB\u4F55 layers\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5728 Shared \u548C Pages \u4E4B\u95F4\u6709\u4E09\u4E2A\u5176\u4ED6 layers\uFF1AEntities\u3001Features \u548C Widgets\u3002\u67D0\u4E9B\u9879\u76EE\u53EF\u80FD\u5728\u8FD9\u4E9B layers \u4E2D\u6709\u4ED6\u4EEC\u5728\u5927\u578B\u53EF\u91CD\u7528\u5757\u4E2D\u9700\u8981\u7684\u4E1C\u897F\uFF0C\u8FD9\u610F\u5473\u7740\u6211\u4EEC\u4E0D\u80FD\u5C06\u8BE5\u53EF\u91CD\u7528\u5757\u653E\u5728 Shared \u4E2D\uFF0C\u5426\u5219\u5B83\u5C06\u4ECE\u4E0A\u5C42 layers \u5BFC\u5165\uFF0C\u8FD9\u662F\u88AB\u7981\u6B62\u7684\u3002\u8FD9\u5C31\u662F Widgets layer \u7684\u7528\u6B66\u4E4B\u5730\u3002\u5B83\u4F4D\u4E8E Shared\u3001Entities \u548C Features \u4E4B\u4E0A\uFF0C\u6240\u4EE5\u5B83\u53EF\u4EE5\u4F7F\u7528\u5B83\u4EEC\u6240\u6709\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u6211\u4EEC\u7684\u60C5\u51B5\u4E0B\uFF0C\u5934\u90E8\u975E\u5E38\u7B80\u5355 \u2014 \u5B83\u662F\u4E00\u4E2A\u9759\u6001 logo \u548C\u9876\u7EA7\u5BFC\u822A\u3002\u5BFC\u822A\u9700\u8981\u5411 API \u53D1\u51FA\u8BF7\u6C42\u4EE5\u786E\u5B9A\u7528\u6237\u5F53\u524D\u662F\u5426\u5DF2\u767B\u5F55\uFF0C\u4F46\u8FD9\u53EF\u4EE5\u901A\u8FC7\u4ECE ",(0,s.jsx)(n.code,{children:"api"})," segment \u7684\u7B80\u5355\u5BFC\u5165\u6765\u5904\u7406\u3002\u56E0\u6B64\uFF0C\u6211\u4EEC\u5C06\u628A\u6211\u4EEC\u7684\u5934\u90E8\u4FDD\u7559\u5728 Shared \u4E2D\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4ED4\u7EC6\u67E5\u770B\u5E26\u6709\u8868\u5355\u7684\u9875\u9762",children:"\u4ED4\u7EC6\u67E5\u770B\u5E26\u6709\u8868\u5355\u7684\u9875\u9762"}),"\n",(0,s.jsx)(n.p,{children:"\u8BA9\u6211\u4EEC\u4E5F\u68C0\u67E5\u4E00\u4E2A\u7528\u4E8E\u7F16\u8F91\u800C\u4E0D\u662F\u9605\u8BFB\u7684\u9875\u9762\u3002\u4F8B\u5982\uFF0C\u6587\u7AE0\u7F16\u5199\u5668\uFF1A"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Conduit post editor",src:r(5888).A+"",width:"2880",height:"1200"})}),"\n",(0,s.jsx)(n.p,{children:"\u5B83\u770B\u8D77\u6765\u5FAE\u4E0D\u8DB3\u9053\uFF0C\u4F46\u5305\u542B\u4E86\u6211\u4EEC\u5C1A\u672A\u63A2\u7D22\u7684\u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u7684\u51E0\u4E2A\u65B9\u9762 \u2014 \u8868\u5355\u9A8C\u8BC1\u3001\u9519\u8BEF\u72B6\u6001\u548C\u6570\u636E\u6301\u4E45\u5316\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679C\u6211\u4EEC\u8981\u6784\u5EFA\u8FD9\u4E2A\u9875\u9762\uFF0C\u6211\u4EEC\u4F1A\u4ECE Shared \u4E2D\u83B7\u53D6\u4E00\u4E9B\u8F93\u5165\u548C\u6309\u94AE\uFF0C\u5E76\u5728\u6B64\u9875\u9762\u7684 ",(0,s.jsx)(n.code,{children:"ui"})," segment \u4E2D\u7EC4\u5408\u4E00\u4E2A\u8868\u5355\u3002\u7136\u540E\uFF0C\u5728 ",(0,s.jsx)(n.code,{children:"api"})," segment \u4E2D\uFF0C\u6211\u4EEC\u5C06\u5B9A\u4E49\u4E00\u4E2A\u53D8\u66F4\u8BF7\u6C42\u4EE5\u5728\u540E\u7AEF\u521B\u5EFA\u6587\u7AE0\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4E3A\u4E86\u5728\u53D1\u9001\u4E4B\u524D\u9A8C\u8BC1\u8BF7\u6C42\uFF0C\u6211\u4EEC\u9700\u8981\u4E00\u4E2A\u9A8C\u8BC1\u6A21\u5F0F\uFF0C\u4E00\u4E2A\u597D\u5730\u65B9\u662F ",(0,s.jsx)(n.code,{children:"model"})," segment\uFF0C\u56E0\u4E3A\u5B83\u662F\u6570\u636E\u6A21\u578B\u3002\u5728\u90A3\u91CC\u6211\u4EEC\u5C06\u4EA7\u751F\u9519\u8BEF\u6D88\u606F\u5E76\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"ui"})," segment \u4E2D\u7684\u53E6\u4E00\u4E2A\u7EC4\u4EF6\u663E\u793A\u5B83\u4EEC\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4E3A\u4E86\u6539\u5584\u7528\u6237\u4F53\u9A8C\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u6301\u4E45\u5316\u8F93\u5165\u4EE5\u9632\u6B62\u610F\u5916\u6570\u636E\u4E22\u5931\u3002\u8FD9\u4E5F\u662F ",(0,s.jsx)(n.code,{children:"model"})," segment \u7684\u5DE5\u4F5C\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u603B\u7ED3",children:"\u603B\u7ED3"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u5DF2\u7ECF\u68C0\u67E5\u4E86\u51E0\u4E2A\u9875\u9762\u5E76\u4E3A\u6211\u4EEC\u7684\u5E94\u7528\u7A0B\u5E8F\u6982\u8FF0\u4E86\u521D\u6B65\u7ED3\u6784\uFF1A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Shared layer","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui"})," \u5C06\u5305\u542B\u6211\u4EEC\u53EF\u91CD\u7528\u7684 UI \u5957\u4EF6"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"api"})," \u5C06\u5305\u542B\u6211\u4EEC\u4E0E\u540E\u7AEF\u7684\u539F\u59CB\u4EA4\u4E92"]}),"\n",(0,s.jsx)(n.li,{children:"\u5176\u4F59\u5C06\u6839\u636E\u9700\u8981\u5B89\u6392"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Pages layer \u2014 \u6BCF\u4E2A\u9875\u9762\u90FD\u662F\u4E00\u4E2A\u5355\u72EC\u7684 slice","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui"})," \u5C06\u5305\u542B\u9875\u9762\u672C\u8EAB\u53CA\u5176\u6240\u6709\u90E8\u5206"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"api"})," \u5C06\u5305\u542B\u66F4\u4E13\u95E8\u7684\u6570\u636E\u83B7\u53D6\uFF0C\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"shared/api"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"model"})," \u53EF\u80FD\u5305\u542B\u6211\u4EEC\u5C06\u663E\u793A\u7684\u6570\u636E\u7684\u5BA2\u6237\u7AEF\u5B58\u50A8"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8BA9\u6211\u4EEC\u5F00\u59CB\u6784\u5EFA\u5427\uFF01"}),"\n",(0,s.jsx)(n.h2,{id:"\u7B2C\u4E8C\u90E8\u5206\u5728\u4EE3\u7801\u4E2D",children:"\u7B2C\u4E8C\u90E8\u5206\u3002\u5728\u4EE3\u7801\u4E2D"}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u6211\u4EEC\u6709\u4E86\u8BA1\u5212\uFF0C\u8BA9\u6211\u4EEC\u4ED8\u8BF8\u5B9E\u8DF5\u3002\u6211\u4EEC\u5C06\u4F7F\u7528 React \u548C ",(0,s.jsx)(n.a,{href:"https://remix.run",children:"Remix"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6709\u4E00\u4E2A\u4E3A\u6B64\u9879\u76EE\u51C6\u5907\u7684\u6A21\u677F\uFF0C\u4ECE GitHub \u514B\u9686\u5B83\u4EE5\u83B7\u5F97\u5148\u673A\uFF1A",(0,s.jsx)(n.a,{href:"https://github.com/feature-sliced/tutorial-conduit/tree/clean",children:"https://github.com/feature-sliced/tutorial-conduit/tree/clean"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"npm install"})," \u5B89\u88C5\u4F9D\u8D56\u9879\u5E76\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"npm run dev"})," \u542F\u52A8\u5F00\u53D1\u670D\u52A1\u5668\u3002\u6253\u5F00 ",(0,s.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"\uFF0C\u60A8\u5E94\u8BE5\u770B\u5230\u4E00\u4E2A\u7A7A\u767D\u5E94\u7528\u7A0B\u5E8F\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5E03\u5C40\u9875\u9762",children:"\u5E03\u5C40\u9875\u9762"}),"\n",(0,s.jsx)(n.p,{children:"\u8BA9\u6211\u4EEC\u9996\u5148\u4E3A\u6240\u6709\u9875\u9762\u521B\u5EFA\u7A7A\u767D\u7EC4\u4EF6\u3002\u5728\u60A8\u7684\u9879\u76EE\u4E2D\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx fsd pages feed sign-in article-read article-edit profile settings --segments ui\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u5C06\u4E3A\u6BCF\u4E2A\u9875\u9762\u521B\u5EFA\u50CF ",(0,s.jsx)(n.code,{children:"pages/feed/ui/"})," \u8FD9\u6837\u7684\u6587\u4EF6\u5939\u548C\u4E00\u4E2A\u7D22\u5F15\u6587\u4EF6 ",(0,s.jsx)(n.code,{children:"pages/feed/index.ts"}),"\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u8FDE\u63A5-feed-\u9875\u9762",children:"\u8FDE\u63A5 feed \u9875\u9762"}),"\n",(0,s.jsxs)(n.p,{children:["\u8BA9\u6211\u4EEC\u5C06\u5E94\u7528\u7A0B\u5E8F\u7684\u6839\u8DEF\u7531\u8FDE\u63A5\u5230 feed \u9875\u9762\u3002\u5728 ",(0,s.jsx)(n.code,{children:"pages/feed/ui"})," \u4E2D\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6 ",(0,s.jsx)(n.code,{children:"FeedPage.tsx"})," \u5E76\u5C06\u4EE5\u4E0B\u5185\u5BB9\u653E\u5165\u5176\u4E2D\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'export function FeedPage() {\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7136\u540E\u5728 feed \u9875\u9762\u7684 public API\uFF0C",(0,s.jsx)(n.code,{children:"pages/feed/index.ts"})," \u6587\u4EF6\u4E2D\u91CD\u65B0\u5BFC\u51FA\u6B64\u7EC4\u4EF6\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="pages/feed/index.ts"',children:'export { FeedPage } from "./ui/FeedPage";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u5C06\u5B83\u8FDE\u63A5\u5230\u6839\u8DEF\u7531\u3002\u5728 Remix \u4E2D\uFF0C\u8DEF\u7531\u662F\u57FA\u4E8E\u6587\u4EF6\u7684\uFF0C\u8DEF\u7531\u6587\u4EF6\u4F4D\u4E8E ",(0,s.jsx)(n.code,{children:"app/routes"})," \u6587\u4EF6\u5939\u4E2D\uFF0C\u8FD9\u4E0E Feature-Sliced Design \u5F88\u597D\u5730\u5951\u5408\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 ",(0,s.jsx)(n.code,{children:"app/routes/_index.tsx"})," \u4E2D\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"FeedPage"})," \u7EC4\u4EF6\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/_index.tsx"',children:'import type { MetaFunction } from "@remix-run/node";\nimport { FeedPage } from "pages/feed";\n\nexport const meta: MetaFunction = () => {\n  return [{ title: "Conduit" }];\n};\n\nexport default FeedPage;\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540E\uFF0C\u5982\u679C\u60A8\u8FD0\u884C\u5F00\u53D1\u670D\u52A1\u5668\u5E76\u6253\u5F00\u5E94\u7528\u7A0B\u5E8F\uFF0C\u60A8\u5E94\u8BE5\u4F1A\u770B\u5230 Conduit \u6A2A\u5E45\uFF01"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"The banner of Conduit",src:r(1565).A+"",width:"2880",height:"338"})}),"\n",(0,s.jsx)(n.h3,{id:"api-\u5BA2\u6237\u7AEF",children:"API \u5BA2\u6237\u7AEF"}),"\n",(0,s.jsxs)(n.p,{children:["\u4E3A\u4E86\u4E0E RealWorld \u540E\u7AEF\u901A\u4FE1\uFF0C\u8BA9\u6211\u4EEC\u5728 Shared \u4E2D\u521B\u5EFA\u4E00\u4E2A\u65B9\u4FBF\u7684 API \u5BA2\u6237\u7AEF\u3002\u521B\u5EFA\u4E24\u4E2A segments\uFF0C",(0,s.jsx)(n.code,{children:"api"})," \u7528\u4E8E\u5BA2\u6237\u7AEF\uFF0C",(0,s.jsx)(n.code,{children:"config"})," \u7528\u4E8E\u50CF\u540E\u7AEF\u57FA\u7840 URL \u8FD9\u6837\u7684\u53D8\u91CF\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx fsd shared --segments api config\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u7136\u540E\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"shared/config/backend.ts"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/config/backend.ts"',children:'export { mockBackendUrl as backendBaseUrl } from "mocks/handlers";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/config/index.ts"',children:'export { backendBaseUrl } from "./backend";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7531\u4E8E RealWorld \u9879\u76EE\u65B9\u4FBF\u5730\u63D0\u4F9B\u4E86 ",(0,s.jsx)(n.a,{href:"https://github.com/gothinkster/realworld/blob/main/api/openapi.yml",children:"OpenAPI \u89C4\u8303"}),"\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u4E3A\u6211\u4EEC\u7684\u5BA2\u6237\u7AEF\u81EA\u52A8\u751F\u6210\u7684\u7C7B\u578B\u3002\u6211\u4EEC\u5C06\u4F7F\u7528 ",(0,s.jsxs)(n.a,{href:"https://openapi-ts.pages.dev/openapi-fetch/",children:["the ",(0,s.jsx)(n.code,{children:"openapi-fetch"})," package"]}),"\uFF0C\u5B83\u9644\u5E26\u4E00\u4E2A\u989D\u5916\u7684\u7C7B\u578B\u751F\u6210\u5668\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4\u751F\u6210\u6700\u65B0\u7684 API \u7C7B\u578B\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run generate-api-types\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u5C06\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6 ",(0,s.jsx)(n.code,{children:"shared/api/v1.d.ts"}),"\u3002\u6211\u4EEC\u5C06\u4F7F\u7528\u6B64\u6587\u4EF6\u5728 ",(0,s.jsx)(n.code,{children:"shared/api/client.ts"})," \u4E2D\u521B\u5EFA\u4E00\u4E2A\u7C7B\u578B\u5316\u7684 API \u5BA2\u6237\u7AEF\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/client.ts"',children:'import createClient from "openapi-fetch";\n\nimport { backendBaseUrl } from "shared/config";\nimport type { paths } from "./v1";\n\nexport const { GET, POST, PUT, DELETE } = createClient<paths>({ baseUrl: backendBaseUrl });\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n'})}),"\n",(0,s.jsx)(n.h3,{id:"feed-\u4E2D\u7684\u771F\u5B9E\u6570\u636E",children:"feed \u4E2D\u7684\u771F\u5B9E\u6570\u636E"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u73B0\u5728\u53EF\u4EE5\u7EE7\u7EED\u5411 feed \u6DFB\u52A0\u4ECE\u540E\u7AEF\u83B7\u53D6\u7684\u6587\u7AE0\u3002\u8BA9\u6211\u4EEC\u9996\u5148\u5B9E\u73B0\u4E00\u4E2A\u6587\u7AE0\u9884\u89C8\u7EC4\u4EF6\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u4F7F\u7528\u4EE5\u4E0B\u5185\u5BB9\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"pages/feed/ui/ArticlePreview.tsx"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:"export function ArticlePreview({ article }) { /* TODO */ }\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u7531\u4E8E\u6211\u4EEC\u7528 TypeScript \u7F16\u5199\uFF0C\u6709\u4E00\u4E2A\u7C7B\u578B\u5316\u7684 article \u5BF9\u8C61\u4F1A\u5F88\u597D\u3002\u5982\u679C\u6211\u4EEC\u63A2\u7D22\u751F\u6210\u7684 ",(0,s.jsx)(n.code,{children:"v1.d.ts"}),"\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230 article \u5BF9\u8C61\u53EF\u4EE5\u901A\u8FC7 ",(0,s.jsx)(n.code,{children:'components["schemas"]["Article"]'})," \u83B7\u5F97\u3002\u6240\u4EE5\u8BA9\u6211\u4EEC\u5728 Shared \u4E2D\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u6211\u4EEC\u6570\u636E\u6A21\u578B\u7684\u6587\u4EF6\u5E76\u5BFC\u51FA\u6A21\u578B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/models.ts"',children:'import type { components } from "./v1";\n\nexport type Article = components["schemas"]["Article"];\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u56DE\u5230\u6587\u7AE0\u9884\u89C8\u7EC4\u4EF6\u5E76\u7528\u6570\u636E\u586B\u5145\u6807\u8BB0\u3002\u4F7F\u7528\u4EE5\u4E0B\u5185\u5BB9\u66F4\u65B0\u7EC4\u4EF6\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:'import { Link } from "@remix-run/react";\nimport type { Article } from "shared/api";\n\ninterface ArticlePreviewProps {\n  article: Article;\n}\n\nexport function ArticlePreview({ article }: ArticlePreviewProps) {\n  return (\n    <div className="article-preview">\n      <div className="article-meta">\n        <Link to={`/profile/${article.author.username}`} prefetch="intent">\n          <img src={article.author.image} alt="" />\n        </Link>\n        <div className="info">\n          <Link\n            to={`/profile/${article.author.username}`}\n            className="author"\n            prefetch="intent"\n          >\n            {article.author.username}\n          </Link>\n          <span className="date" suppressHydrationWarning>\n            {new Date(article.createdAt).toLocaleDateString(undefined, {\n              dateStyle: "long",\n            })}\n          </span>\n        </div>\n        <button className="btn btn-outline-primary btn-sm pull-xs-right">\n          <i className="ion-heart"></i> {article.favoritesCount}\n        </button>\n      </div>\n      <Link\n        to={`/article/${article.slug}`}\n        className="preview-link"\n        prefetch="intent"\n      >\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className="tag-list">\n          {article.tagList.map((tag) => (\n            <li key={tag} className="tag-default tag-pill tag-outline">\n              {tag}\n            </li>\n          ))}\n        </ul>\n      </Link>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u70B9\u8D5E\u6309\u94AE\u76EE\u524D\u4E0D\u505A\u4EFB\u4F55\u4E8B\u60C5\uFF0C\u6211\u4EEC\u5C06\u5728\u5230\u8FBE\u6587\u7AE0\u9605\u8BFB\u5668\u9875\u9762\u5E76\u5B9E\u73B0\u70B9\u8D5E\u529F\u80FD\u65F6\u4FEE\u590D\u5B83\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u83B7\u53D6\u6587\u7AE0\u5E76\u6E32\u67D3\u51FA\u4E00\u5806\u8FD9\u4E9B\u5361\u7247\u3002\u5728 Remix \u4E2D\u83B7\u53D6\u6570\u636E\u662F\u901A\u8FC7 ",(0,s.jsx)(n.em,{children:"loaders"})," \u5B8C\u6210\u7684 \u2014 \u670D\u52A1\u5668\u7AEF\u51FD\u6570\uFF0C\u83B7\u53D6\u9875\u9762\u6240\u9700\u7684\u786E\u5207\u5185\u5BB9\u3002Loaders \u4EE3\u8868\u9875\u9762\u4E0E API \u4EA4\u4E92\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C06\u5B83\u4EEC\u653E\u5728\u9875\u9762\u7684 ",(0,s.jsx)(n.code,{children:"api"})," segment \u4E2D\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json } from "@remix-run/node";\n\nimport { GET } from "shared/api";\n\nexport const loader = async () => {\n  const { data: articles, error, response } = await GET("/articles");\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return json({ articles });\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u8981\u5C06\u5B83\u8FDE\u63A5\u5230\u9875\u9762\uFF0C\u6211\u4EEC\u9700\u8981\u4ECE\u8DEF\u7531\u6587\u4EF6\u4E2D\u4EE5\u540D\u79F0 ",(0,s.jsx)(n.code,{children:"loader"})," \u5BFC\u51FA\u5B83\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/index.ts"',children:'export { FeedPage } from "./ui/FeedPage";\nexport { loader } from "./api/loader";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/_index.tsx"',children:'import type { MetaFunction } from "@remix-run/node";\nimport { FeedPage } from "pages/feed";\n\nexport { loader } from "pages/feed";\n\nexport const meta: MetaFunction = () => {\n  return [{ title: "Conduit" }];\n};\n\nexport default FeedPage;\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6700\u540E\u4E00\u6B65\u662F\u5728 feed \u4E2D\u6E32\u67D3\u8FD9\u4E9B\u5361\u7247\u3002\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u66F4\u65B0\u60A8\u7684 ",(0,s.jsx)(n.code,{children:"FeedPage"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const { articles } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u6309\u6807\u7B7E\u8FC7\u6EE4",children:"\u6309\u6807\u7B7E\u8FC7\u6EE4"}),"\n",(0,s.jsxs)(n.p,{children:["\u5173\u4E8E\u6807\u7B7E\uFF0C\u6211\u4EEC\u7684\u5DE5\u4F5C\u662F\u4ECE\u540E\u7AEF\u83B7\u53D6\u5B83\u4EEC\u5E76\u5B58\u50A8\u5F53\u524D\u9009\u4E2D\u7684\u6807\u7B7E\u3002\u6211\u4EEC\u5DF2\u7ECF\u77E5\u9053\u5982\u4F55\u8FDB\u884C\u83B7\u53D6 \u2014 \u8FD9\u662F\u6765\u81EA loader \u7684\u53E6\u4E00\u4E2A\u8BF7\u6C42\u3002\u6211\u4EEC\u5C06\u4F7F\u7528\u6765\u81EA\u5DF2\u5B89\u88C5\u7684 ",(0,s.jsx)(n.code,{children:"remix-utils"})," \u5305\u7684\u4FBF\u5229\u51FD\u6570 ",(0,s.jsx)(n.code,{children:"promiseHash"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u66F4\u65B0 loader \u6587\u4EF6 ",(0,s.jsx)(n.code,{children:"pages/feed/api/loader.ts"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async () => {\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(GET("/articles")),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u60A8\u53EF\u80FD\u4F1A\u6CE8\u610F\u5230\u6211\u4EEC\u5C06\u9519\u8BEF\u5904\u7406\u63D0\u53D6\u5230\u4E00\u4E2A\u901A\u7528\u51FD\u6570 ",(0,s.jsx)(n.code,{children:"throwAnyErrors"})," \u4E2D\u3002\u5B83\u770B\u8D77\u6765\u975E\u5E38\u6709\u7528\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u80FD\u5E0C\u671B\u7A0D\u540E\u91CD\u7528\u5B83\uFF0C\u4F46\u73B0\u5728\u8BA9\u6211\u4EEC\u5148\u7559\u610F\u4E00\u4E0B\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u73B0\u5728\uFF0C\u5230\u6807\u7B7E\u5217\u8868\u3002\u5B83\u9700\u8981\u662F\u4EA4\u4E92\u5F0F\u7684 \u2014 \u70B9\u51FB\u6807\u7B7E\u5E94\u8BE5\u4F7F\u8BE5\u6807\u7B7E\u88AB\u9009\u4E2D\u3002\u6309\u7167 Remix \u7EA6\u5B9A\uFF0C\u6211\u4EEC\u5C06\u4F7F\u7528 URL \u641C\u7D22\u53C2\u6570\u4F5C\u4E3A\u6211\u4EEC\u9009\u4E2D\u6807\u7B7E\u7684\u5B58\u50A8\u3002\u8BA9\u6D4F\u89C8\u5668\u5904\u7406\u5B58\u50A8\uFF0C\u800C\u6211\u4EEC\u4E13\u6CE8\u4E8E\u66F4\u91CD\u8981\u7684\u4E8B\u60C5\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u66F4\u65B0 ",(0,s.jsx)(n.code,{children:"pages/feed/ui/FeedPage.tsx"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const { articles, tags } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n          </div>\n\n          <div className="col-md-3">\n            <div className="sidebar">\n              <p>Popular Tags</p>\n\n              <Form>\n                <ExistingSearchParams exclude={["tag"]} />\n                <div className="tag-list">\n                  {tags.tags.map((tag) => (\n                    <button\n                      key={tag}\n                      name="tag"\n                      value={tag}\n                      className="tag-pill tag-default"\n                    >\n                      {tag}\n                    </button>\n                  ))}\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} \n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7136\u540E\u6211\u4EEC\u9700\u8981\u5728\u6211\u4EEC\u7684 loader \u4E2D\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"tag"})," \u641C\u7D22\u53C2\u6570\u3002\u5C06 ",(0,s.jsx)(n.code,{children:"pages/feed/api/loader.ts"})," \u4E2D\u7684 ",(0,s.jsx)(n.code,{children:"loader"})," \u51FD\u6570\u66F4\u6539\u4E3A\u4EE5\u4E0B\u5185\u5BB9\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", { params: { query: { tag: selectedTag } } }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5C31\u662F\u8FD9\u6837\uFF0C\u4E0D\u9700\u8981 ",(0,s.jsx)(n.code,{children:"model"})," segment\u3002Remix \u975E\u5E38\u6574\u6D01\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5206\u9875",children:"\u5206\u9875"}),"\n",(0,s.jsx)(n.p,{children:"\u4EE5\u7C7B\u4F3C\u7684\u65B9\u5F0F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u5206\u9875\u3002\u968F\u610F\u81EA\u5DF1\u5C1D\u8BD5\u4E00\u4E0B\u6216\u76F4\u63A5\u590D\u5236\u4E0B\u9762\u7684\u4EE3\u7801\u3002\u53CD\u6B63\u6CA1\u6709\u4EBA\u4F1A\u5224\u65AD\u60A8\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\n/** Amount of articles on one page. */\nexport const LIMIT = 20;\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n  const page = parseInt(url.searchParams.get("page") ?? "", 10);\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", {\n          params: {\n            query: {\n              tag: selectedTag,\n              limit: LIMIT,\n              offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n            },\n          },\n        }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { Form, useLoaderData, useSearchParams } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport { LIMIT, type loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\n\nexport function FeedPage() {\n  const [searchParams] = useSearchParams();\n  const { articles, tags } = useLoaderData<typeof loader>();\n  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);\n  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n\n            <Form>\n              <ExistingSearchParams exclude={["page"]} />\n              <ul className="pagination">\n                {Array(pageAmount)\n                  .fill(null)\n                  .map((_, index) =>\n                    index + 1 === currentPage ? (\n                      <li key={index} className="page-item active">\n                        <span className="page-link">{index + 1}</span>\n                      </li>\n                    ) : (\n                      <li key={index} className="page-item">\n                        <button\n                          className="page-link"\n                          name="page"\n                          value={index + 1}\n                        >\n                          {index + 1}\n                        </button>\n                      </li>\n                    ),\n                  )}\n              </ul>\n            </Form>\n          </div>\n\n          <div className="col-md-3">\n            <div className="sidebar">\n              <p>Popular Tags</p>\n\n              <Form>\n                <ExistingSearchParams exclude={["tag", "page"]} />\n                <div className="tag-list">\n                  {tags.tags.map((tag) => (\n                    <button\n                      key={tag}\n                      name="tag"\n                      value={tag}\n                      className="tag-pill tag-default"\n                    >\n                      {tag}\n                    </button>\n                  ))}\n                </div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u6837\u4E5F\u5B8C\u6210\u4E86\u3002\u8FD8\u6709\u9009\u9879\u5361\u5217\u8868\u53EF\u4EE5\u7C7B\u4F3C\u5730\u5B9E\u73B0\uFF0C\u4F46\u8BA9\u6211\u4EEC\u7B49\u5230\u5B9E\u73B0\u8EAB\u4EFD\u9A8C\u8BC1\u65F6\u518D\u5904\u7406\u3002\u8BF4\u5230\u8FD9\u4E2A\uFF01"}),"\n",(0,s.jsx)(n.h3,{id:"\u8EAB\u4EFD\u9A8C\u8BC1",children:"\u8EAB\u4EFD\u9A8C\u8BC1"}),"\n",(0,s.jsxs)(n.p,{children:["\u8EAB\u4EFD\u9A8C\u8BC1\u6D89\u53CA\u4E24\u4E2A\u9875\u9762 \u2014 \u4E00\u4E2A\u7528\u4E8E\u767B\u5F55\uFF0C\u53E6\u4E00\u4E2A\u7528\u4E8E\u6CE8\u518C\u3002\u5B83\u4EEC\u5927\u90E8\u5206\u76F8\u540C\uFF0C\u6240\u4EE5\u5C06\u5B83\u4EEC\u4FDD\u6301\u5728\u540C\u4E00\u4E2A slice ",(0,s.jsx)(n.code,{children:"sign-in"})," \u4E2D\u662F\u6709\u610F\u4E49\u7684\uFF0C\u8FD9\u6837\u5B83\u4EEC\u53EF\u4EE5\u5728\u9700\u8981\u65F6\u91CD\u7528\u4EE3\u7801\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 ",(0,s.jsx)(n.code,{children:"pages/sign-in"})," \u7684 ",(0,s.jsx)(n.code,{children:"ui"})," segment \u4E2D\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"RegisterPage.tsx"}),"\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/ui/RegisterPage.tsx"',children:'import { Form, Link, useActionData } from "@remix-run/react";\n\nimport type { register } from "../api/register";\n\nexport function RegisterPage() {\n  const registerData = useActionData<typeof register>();\n\n  return (\n    <div className="auth-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-6 offset-md-3 col-xs-12">\n            <h1 className="text-xs-center">Sign up</h1>\n            <p className="text-xs-center">\n              <Link to="/login">Have an account?</Link>\n            </p>\n\n            {registerData?.error && (\n              <ul className="error-messages">\n                {registerData.error.errors.body.map((error) => (\n                  <li key={error}>{error}</li>\n                ))}\n              </ul>\n            )}\n\n            <Form method="post">\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="text"\n                  name="username"\n                  placeholder="Username"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="text"\n                  name="email"\n                  placeholder="Email"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  type="password"\n                  name="password"\n                  placeholder="Password"\n                />\n              </fieldset>\n              <button className="btn btn-lg btn-primary pull-xs-right">\n                Sign up\n              </button>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u73B0\u5728\u6709\u4E00\u4E2A\u635F\u574F\u7684\u5BFC\u5165\u8981\u4FEE\u590D\u3002\u5B83\u6D89\u53CA\u4E00\u4E2A\u65B0\u7684 segment\uFF0C\u6240\u4EE5\u521B\u5EFA\u5B83\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx fsd pages sign-in -s api\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u800C\uFF0C\u5728\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u6CE8\u518C\u7684\u540E\u7AEF\u90E8\u5206\u4E4B\u524D\uFF0C\u6211\u4EEC\u9700\u8981\u4E00\u4E9B\u4F9B Remix \u5904\u7406\u4F1A\u8BDD\u7684\u57FA\u7840\u8BBE\u65BD\u4EE3\u7801\u3002\u8FD9\u653E\u5728 Shared \u4E2D\uFF0C\u4EE5\u9632\u5176\u4ED6\u9875\u9762\u9700\u8981\u5B83\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u5C06\u4EE5\u4E0B\u4EE3\u7801\u653E\u5165 ",(0,s.jsx)(n.code,{children:"shared/api/auth.server.ts"}),"\u3002\u8FD9\u9AD8\u5EA6\u7279\u5B9A\u4E8E Remix\uFF0C\u6240\u4EE5\u4E0D\u8981\u592A\u62C5\u5FC3\uFF0C\u53EA\u9700\u590D\u5236\u7C98\u8D34\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/auth.server.ts"',children:'import { createCookieSessionStorage, redirect } from "@remix-run/node";\nimport invariant from "tiny-invariant";\n\nimport type { User } from "./models";\n\ninvariant(\n  process.env.SESSION_SECRET,\n  "SESSION_SECRET must be set for authentication to work",\n);\n\nconst sessionStorage = createCookieSessionStorage<{\n  user: User;\n}>({\n  cookie: {\n    name: "__session",\n    httpOnly: true,\n    path: "/",\n    sameSite: "lax",\n    secrets: [process.env.SESSION_SECRET],\n    secure: process.env.NODE_ENV === "production",\n  },\n});\n\nexport async function createUserSession({\n  request,\n  user,\n  redirectTo,\n}: {\n  request: Request;\n  user: User;\n  redirectTo: string;\n}) {\n  const cookie = request.headers.get("Cookie");\n  const session = await sessionStorage.getSession(cookie);\n\n  session.set("user", user);\n\n  return redirect(redirectTo, {\n    headers: {\n      "Set-Cookie": await sessionStorage.commitSession(session, {\n        maxAge: 60 * 60 * 24 * 7, // 7 days\n      }),\n    },\n  });\n}\n\nexport async function getUserFromSession(request: Request) {\n  const cookie = request.headers.get("Cookie");\n  const session = await sessionStorage.getSession(cookie);\n\n  return session.get("user") ?? null;\n}\n\nexport async function requireUser(request: Request) {\n  const user = await getUserFromSession(request);\n\n  if (user === null) {\n    throw redirect("/login");\n  }\n\n  return user;\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u540C\u65F6\u4ECE\u65C1\u8FB9\u7684 ",(0,s.jsx)(n.code,{children:"models.ts"})," \u6587\u4EF6\u4E2D\u5BFC\u51FA ",(0,s.jsx)(n.code,{children:"User"})," \u6A21\u578B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/models.ts"',children:'import type { components } from "./v1";\n\nexport type Article = components["schemas"]["Article"];\nexport type User = components["schemas"]["User"];\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u6B64\u4EE3\u7801\u80FD\u591F\u5DE5\u4F5C\u4E4B\u524D\uFF0C\u9700\u8981\u8BBE\u7F6E ",(0,s.jsx)(n.code,{children:"SESSION_SECRET"})," \u73AF\u5883\u53D8\u91CF\u3002\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E2D\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A ",(0,s.jsx)(n.code,{children:".env"})," \u7684\u6587\u4EF6\uFF0C\u5199\u5165 ",(0,s.jsx)(n.code,{children:"SESSION_SECRET="}),"\uFF0C\u7136\u540E\u5728\u952E\u76D8\u4E0A\u968F\u610F\u6572\u51FB\u4E00\u4E9B\u952E\u6765\u521B\u5EFA\u4E00\u4E2A\u957F\u7684\u968F\u673A\u5B57\u7B26\u4E32\u3002\u60A8\u5E94\u8BE5\u5F97\u5230\u7C7B\u4F3C\u8FD9\u6837\u7684\u4E1C\u897F\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title=".env"',children:"SESSION_SECRET=dontyoudarecopypastethis\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u540E\uFF0C\u5411 public API \u6DFB\u52A0\u4E00\u4E9B\u5BFC\u51FA\u4EE5\u4F7F\u7528\u6B64\u4EE3\u7801\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n\nexport { createUserSession, getUserFromSession, requireUser } from "./auth.server";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u7F16\u5199\u4E0E RealWorld \u540E\u7AEF\u901A\u4FE1\u4EE5\u5B9E\u9645\u8FDB\u884C\u6CE8\u518C\u7684\u4EE3\u7801\u3002\u6211\u4EEC\u5C06\u5176\u4FDD\u5B58\u5728 ",(0,s.jsx)(n.code,{children:"pages/sign-in/api"})," \u4E2D\u3002\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A ",(0,s.jsx)(n.code,{children:"register.ts"})," \u7684\u6587\u4EF6\uFF0C\u5E76\u5C06\u4EE5\u4E0B\u4EE3\u7801\u653E\u5165\u5176\u4E2D\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/api/register.ts"',children:'import { json, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, createUserSession } from "shared/api";\n\nexport const register = async ({ request }: ActionFunctionArgs) => {\n  const formData = await request.formData();\n  const username = formData.get("username")?.toString() ?? "";\n  const email = formData.get("email")?.toString() ?? "";\n  const password = formData.get("password")?.toString() ?? "";\n\n  const { data, error } = await POST("/users", {\n    body: { user: { email, password, username } },\n  });\n\n  if (error) {\n    return json({ error }, { status: 400 });\n  } else {\n    return createUserSession({\n      request: request,\n      user: data.user,\n      redirectTo: "/",\n    });\n  }\n};\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/index.ts"',children:"export { RegisterPage } from './ui/RegisterPage';\nexport { register } from './api/register';\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u51E0\u4E4E\u5B8C\u6210\u4E86\uFF01\u53EA\u9700\u8981\u5C06\u9875\u9762\u548C\u64CD\u4F5C\u8FDE\u63A5\u5230 ",(0,s.jsx)(n.code,{children:"/register"})," \u8DEF\u7531\u3002\u5728 ",(0,s.jsx)(n.code,{children:"app/routes"})," \u4E2D\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"register.tsx"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/register.tsx"',children:'import { RegisterPage, register } from "pages/sign-in";\n\nexport { register as action };\n\nexport default RegisterPage;\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u5982\u679C\u60A8\u8F6C\u5230 ",(0,s.jsx)(n.a,{href:"http://localhost:3000/register",children:"http://localhost:3000/register"}),"\uFF0C\u60A8\u5E94\u8BE5\u80FD\u591F\u521B\u5EFA\u7528\u6237\uFF01\u5E94\u7528\u7A0B\u5E8F\u7684\u5176\u4F59\u90E8\u5206\u8FD8\u4E0D\u4F1A\u5BF9\u6B64\u505A\u51FA\u53CD\u5E94\uFF0C\u6211\u4EEC\u5C06\u7ACB\u5373\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u4EE5\u975E\u5E38\u7C7B\u4F3C\u7684\u65B9\u5F0F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u767B\u5F55\u9875\u9762\u3002\u5C1D\u8BD5\u4E00\u4E0B\u6216\u76F4\u63A5\u83B7\u53D6\u4EE3\u7801\u5E76\u7EE7\u7EED\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/api/sign-in.ts"',children:'import { json, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, createUserSession } from "shared/api";\n\nexport const signIn = async ({ request }: ActionFunctionArgs) => {\n  const formData = await request.formData();\n  const email = formData.get("email")?.toString() ?? "";\n  const password = formData.get("password")?.toString() ?? "";\n\n  const { data, error } = await POST("/users/login", {\n    body: { user: { email, password } },\n  });\n\n  if (error) {\n    return json({ error }, { status: 400 });\n  } else {\n    return createUserSession({\n      request: request,\n      user: data.user,\n      redirectTo: "/",\n    });\n  }\n};\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/ui/SignInPage.tsx"',children:'import { Form, Link, useActionData } from "@remix-run/react";\n\nimport type { signIn } from "../api/sign-in";\n\nexport function SignInPage() {\n  const signInData = useActionData<typeof signIn>();\n\n  return (\n    <div className="auth-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-6 offset-md-3 col-xs-12">\n            <h1 className="text-xs-center">Sign in</h1>\n            <p className="text-xs-center">\n              <Link to="/register">Need an account?</Link>\n            </p>\n\n            {signInData?.error && (\n              <ul className="error-messages">\n                {signInData.error.errors.body.map((error) => (\n                  <li key={error}>{error}</li>\n                ))}\n              </ul>\n            )}\n\n            <Form method="post">\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  name="email"\n                  type="text"\n                  placeholder="Email"\n                />\n              </fieldset>\n              <fieldset className="form-group">\n                <input\n                  className="form-control form-control-lg"\n                  name="password"\n                  type="password"\n                  placeholder="Password"\n                />\n              </fieldset>\n              <button className="btn btn-lg btn-primary pull-xs-right">\n                Sign in\n              </button>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/sign-in/index.ts"',children:"export { RegisterPage } from './ui/RegisterPage';\nexport { register } from './api/register';\nexport { SignInPage } from './ui/SignInPage';\nexport { signIn } from './api/sign-in';\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/login.tsx"',children:'import { SignInPage, signIn } from "pages/sign-in";\n\nexport { signIn as action };\n\nexport default SignInPage;\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u73B0\u5728\u8BA9\u6211\u4EEC\u7ED9\u7528\u6237\u4E00\u79CD\u5B9E\u9645\u8FBE\u5230\u8FD9\u4E9B\u9875\u9762\u7684\u65B9\u6CD5\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u5934\u90E8",children:"\u5934\u90E8"}),"\n",(0,s.jsx)(n.p,{children:"\u6B63\u5982\u6211\u4EEC\u5728\u7B2C\u4E00\u90E8\u5206\u4E2D\u8BA8\u8BBA\u7684\uFF0C\u5E94\u7528\u7A0B\u5E8F\u5934\u90E8\u901A\u5E38\u653E\u5728 Widgets \u6216 Shared \u4E2D\u3002\u6211\u4EEC\u5C06\u5176\u653E\u5728 Shared \u4E2D\uFF0C\u56E0\u4E3A\u5B83\u975E\u5E38\u7B80\u5355\uFF0C\u6240\u6709\u4E1A\u52A1\u903B\u8F91\u90FD\u53EF\u4EE5\u4FDD\u6301\u5728\u5B83\u4E4B\u5916\u3002\u8BA9\u6211\u4EEC\u4E3A\u5B83\u521B\u5EFA\u4E00\u4E2A\u5730\u65B9\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx fsd shared ui\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"shared/ui/Header.tsx"}),"\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/ui/Header.tsx"',children:'import { useContext } from "react";\nimport { Link, useLocation } from "@remix-run/react";\n\nimport { CurrentUser } from "../api/currentUser";\n\nexport function Header() {\n  const currentUser = useContext(CurrentUser);\n  const { pathname } = useLocation();\n\n  return (\n    <nav className="navbar navbar-light">\n      <div className="container">\n        <Link className="navbar-brand" to="/" prefetch="intent">\n          conduit\n        </Link>\n        <ul className="nav navbar-nav pull-xs-right">\n          <li className="nav-item">\n            <Link\n              prefetch="intent"\n              className={`nav-link ${pathname == "/" ? "active" : ""}`}\n              to="/"\n            >\n              Home\n            </Link>\n          </li>\n          {currentUser == null ? (\n            <>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/login" ? "active" : ""}`}\n                  to="/login"\n                >\n                  Sign in\n                </Link>\n              </li>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/register" ? "active" : ""}`}\n                  to="/register"\n                >\n                  Sign up\n                </Link>\n              </li>\n            </>\n          ) : (\n            <>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/editor" ? "active" : ""}`}\n                  to="/editor"\n                >\n                  <i className="ion-compose"></i>&nbsp;New Article{" "}\n                </Link>\n              </li>\n\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname == "/settings" ? "active" : ""}`}\n                  to="/settings"\n                >\n                  {" "}\n                  <i className="ion-gear-a"></i>&nbsp;Settings{" "}\n                </Link>\n              </li>\n              <li className="nav-item">\n                <Link\n                  prefetch="intent"\n                  className={`nav-link ${pathname.includes("/profile") ? "active" : ""}`}\n                  to={`/profile/${currentUser.username}`}\n                >\n                  {currentUser.image && (\n                    <img\n                      width={25}\n                      height={25}\n                      src={currentUser.image}\n                      className="user-pic"\n                      alt=""\n                    />\n                  )}\n                  {currentUser.username}\n                </Link>\n              </li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4ECE ",(0,s.jsx)(n.code,{children:"shared/ui"})," \u5BFC\u51FA\u6B64\u7EC4\u4EF6\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/ui/index.ts"',children:'export { Header } from "./Header";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u5934\u90E8\u4E2D\uFF0C\u6211\u4EEC\u4F9D\u8D56\u4FDD\u5B58\u5728 ",(0,s.jsx)(n.code,{children:"shared/api"})," \u4E2D\u7684\u4E0A\u4E0B\u6587\u3002\u4E5F\u521B\u5EFA\u5B83\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/currentUser.ts"',children:'import { createContext } from "react";\n\nimport type { User } from "./models";\n\nexport const CurrentUser = createContext<User | null>(null);\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="shared/api/index.ts"',children:'export { GET, POST, PUT, DELETE } from "./client";\n\nexport type { Article } from "./models";\n\nexport { createUserSession, getUserFromSession, requireUser } from "./auth.server";\nexport { CurrentUser } from "./currentUser";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u8BA9\u6211\u4EEC\u5C06\u5934\u90E8\u6DFB\u52A0\u5230\u9875\u9762\u3002\u6211\u4EEC\u5E0C\u671B\u5B83\u51FA\u73B0\u5728\u6BCF\u4E00\u4E2A\u9875\u9762\u4E0A\uFF0C\u6240\u4EE5\u7B80\u5355\u5730\u5C06\u5176\u6DFB\u52A0\u5230\u6839\u8DEF\u7531\u5E76\u7528 ",(0,s.jsx)(n.code,{children:"CurrentUser"})," \u4E0A\u4E0B\u6587\u63D0\u4F9B\u8005\u5305\u88C5 outlet\uFF08\u9875\u9762\u5C06\u88AB\u6E32\u67D3\u7684\u5730\u65B9\uFF09\u662F\u6709\u610F\u4E49\u7684\u3002\u8FD9\u6837\u6211\u4EEC\u7684\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u4EE5\u53CA\u5934\u90E8\u90FD\u53EF\u4EE5\u8BBF\u95EE\u5F53\u524D\u7528\u6237\u5BF9\u8C61\u3002\u6211\u4EEC\u8FD8\u5C06\u6DFB\u52A0\u4E00\u4E2A loader \u6765\u5B9E\u9645\u4ECE cookies \u4E2D\u83B7\u53D6\u5F53\u524D\u7528\u6237\u5BF9\u8C61\u3002\u5C06\u4EE5\u4E0B\u5185\u5BB9\u653E\u5165 ",(0,s.jsx)(n.code,{children:"app/root.tsx"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/root.tsx"',children:'import { cssBundleHref } from "@remix-run/css-bundle";\nimport type { LinksFunction, LoaderFunctionArgs } from "@remix-run/node";\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from "@remix-run/react";\n\nimport { Header } from "shared/ui";\nimport { getUserFromSession, CurrentUser } from "shared/api";\n\nexport const links: LinksFunction = () => [\n  ...(cssBundleHref ? [{ rel: "stylesheet", href: cssBundleHref }] : []),\n];\n\nexport const loader = ({ request }: LoaderFunctionArgs) =>\n  getUserFromSession(request);\n\nexport default function App() {\n  const user = useLoaderData<typeof loader>();\n\n  return (\n    <html lang="en">\n      <head>\n        <meta charSet="utf-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1" />\n        <Meta />\n        <Links />\n        <link\n          href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"\n          rel="stylesheet"\n          type="text/css"\n        />\n        <link\n          href="//fonts.googleapis.com/css?family=Titillium+Web:700|Source+Serif+Pro:400,700|Merriweather+Sans:400,700|Source+Sans+Pro:400,300,600,700,300italic,400italic,600italic,700italic"\n          rel="stylesheet"\n          type="text/css"\n        />\n        <link rel="stylesheet" href="//demo.productionready.io/main.css" />\n        <style>{`\n          button {\n            border: 0;\n          }\n        `}</style>\n      </head>\n      <body>\n        <CurrentUser.Provider value={user}>\n          <Header />\n          <Outlet />\n        </CurrentUser.Provider>\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u8FD9\u4E00\u70B9\uFF0C\u60A8\u5E94\u8BE5\u5728\u4E3B\u9875\u4E0A\u5F97\u5230\u4EE5\u4E0B\u7ED3\u679C\uFF1A"}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing.",src:r(2597).A+"",width:"2880",height:"1488"})}),(0,s.jsx)("figcaption",{children:"The feed page of Conduit, including the header, the feed, and the tags. The tabs are still missing."})]}),"\n",(0,s.jsx)(n.h3,{id:"\u9009\u9879\u5361",children:"\u9009\u9879\u5361"}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u68C0\u6D4B\u8EAB\u4EFD\u9A8C\u8BC1\u72B6\u6001\uFF0C\u8BA9\u6211\u4EEC\u4E5F\u5FEB\u901F\u5B9E\u73B0\u9009\u9879\u5361\u548C\u5E16\u5B50\u70B9\u8D5E\u6765\u5B8C\u6210 feed \u9875\u9762\u3002\u6211\u4EEC\u9700\u8981\u53E6\u4E00\u4E2A\u8868\u5355\uFF0C\u4F46\u8FD9\u4E2A\u9875\u9762\u6587\u4EF6\u6B63\u5728\u53D8\u5F97\u6709\u70B9\u5927\uFF0C\u6240\u4EE5\u8BA9\u6211\u4EEC\u5C06\u8FD9\u4E9B\u8868\u5355\u79FB\u52A8\u5230\u76F8\u90BB\u7684\u6587\u4EF6\u4E2D\u3002\u6211\u4EEC\u5C06\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"Tabs.tsx"}),"\u3001",(0,s.jsx)(n.code,{children:"PopularTags.tsx"})," \u548C ",(0,s.jsx)(n.code,{children:"Pagination.tsx"}),"\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/Tabs.tsx"',children:'import { useContext } from "react";\nimport { Form, useSearchParams } from "@remix-run/react";\n\nimport { CurrentUser } from "shared/api";\n\nexport function Tabs() {\n  const [searchParams] = useSearchParams();\n  const currentUser = useContext(CurrentUser);\n\n  return (\n    <Form>\n      <div className="feed-toggle">\n        <ul className="nav nav-pills outline-active">\n          {currentUser !== null && (\n            <li className="nav-item">\n              <button\n                name="source"\n                value="my-feed"\n                className={`nav-link ${searchParams.get("source") === "my-feed" ? "active" : ""}`}\n              >\n                Your Feed\n              </button>\n            </li>\n          )}\n          <li className="nav-item">\n            <button\n              className={`nav-link ${searchParams.has("tag") || searchParams.has("source") ? "" : "active"}`}\n            >\n              Global Feed\n            </button>\n          </li>\n          {searchParams.has("tag") && (\n            <li className="nav-item">\n              <span className="nav-link active">\n                <i className="ion-pound"></i> {searchParams.get("tag")}\n              </span>\n            </li>\n          )}\n        </ul>\n      </div>\n    </Form>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/PopularTags.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport type { loader } from "../api/loader";\n\nexport function PopularTags() {\n  const { tags } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="sidebar">\n      <p>Popular Tags</p>\n\n      <Form>\n        <ExistingSearchParams exclude={["tag", "page", "source"]} />\n        <div className="tag-list">\n          {tags.tags.map((tag) => (\n            <button\n              key={tag}\n              name="tag"\n              value={tag}\n              className="tag-pill tag-default"\n            >\n              {tag}\n            </button>\n          ))}\n        </div>\n      </Form>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/Pagination.tsx"',children:'import { Form, useLoaderData, useSearchParams } from "@remix-run/react";\nimport { ExistingSearchParams } from "remix-utils/existing-search-params";\n\nimport { LIMIT, type loader } from "../api/loader";\n\nexport function Pagination() {\n  const [searchParams] = useSearchParams();\n  const { articles } = useLoaderData<typeof loader>();\n  const pageAmount = Math.ceil(articles.articlesCount / LIMIT);\n  const currentPage = parseInt(searchParams.get("page") ?? "1", 10);\n\n  return (\n    <Form>\n      <ExistingSearchParams exclude={["page"]} />\n      <ul className="pagination">\n        {Array(pageAmount)\n          .fill(null)\n          .map((_, index) =>\n            index + 1 === currentPage ? (\n              <li key={index} className="page-item active">\n                <span className="page-link">{index + 1}</span>\n              </li>\n            ) : (\n              <li key={index} className="page-item">\n                <button className="page-link" name="page" value={index + 1}>\n                  {index + 1}\n                </button>\n              </li>\n            ),\n          )}\n      </ul>\n    </Form>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u663E\u8457\u7B80\u5316 feed \u9875\u9762\u672C\u8EAB\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/FeedPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticlePreview } from "./ArticlePreview";\nimport { Tabs } from "./Tabs";\nimport { PopularTags } from "./PopularTags";\nimport { Pagination } from "./Pagination";\n\nexport function FeedPage() {\n  const { articles } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="home-page">\n      <div className="banner">\n        <div className="container">\n          <h1 className="logo-font">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-9">\n            <Tabs />\n\n            {articles.articles.map((article) => (\n              <ArticlePreview key={article.slug} article={article} />\n            ))}\n\n            <Pagination />\n          </div>\n\n          <div className="col-md-3">\n            <PopularTags />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u8FD8\u9700\u8981\u5728 loader \u51FD\u6570\u4E2D\u8003\u8651\u65B0\u9009\u9879\u5361\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET, requireUser } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  /* unchanged */\n}\n\n/** Amount of articles on one page. */\nexport const LIMIT = 20;\n\nexport const loader = async ({ request }: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const selectedTag = url.searchParams.get("tag") ?? undefined;\n  const page = parseInt(url.searchParams.get("page") ?? "", 10);\n\n  if (url.searchParams.get("source") === "my-feed") {\n    const userSession = await requireUser(request);\n\n    return json(\n      await promiseHash({\n        articles: throwAnyErrors(\n          GET("/articles/feed", {\n            params: {\n              query: {\n                limit: LIMIT,\n                offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n              },\n            },\n            headers: { Authorization: `Token ${userSession.token}` },\n          }),\n        ),\n        tags: throwAnyErrors(GET("/tags")),\n      }),\n    );\n  }\n\n  return json(\n    await promiseHash({\n      articles: throwAnyErrors(\n        GET("/articles", {\n          params: {\n            query: {\n              tag: selectedTag,\n              limit: LIMIT,\n              offset: !Number.isNaN(page) ? page * LIMIT : undefined,\n            },\n          },\n        }),\n      ),\n      tags: throwAnyErrors(GET("/tags")),\n    }),\n  );\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u6211\u4EEC\u79BB\u5F00 feed \u9875\u9762\u4E4B\u524D\uFF0C\u8BA9\u6211\u4EEC\u6DFB\u52A0\u4E00\u4E9B\u5904\u7406\u5E16\u5B50\u70B9\u8D5E\u7684\u4EE3\u7801\u3002\u5C06\u60A8\u7684 ",(0,s.jsx)(n.code,{children:"ArticlePreview.tsx"})," \u66F4\u6539\u4E3A\u4EE5\u4E0B\u5185\u5BB9\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/feed/ui/ArticlePreview.tsx"',children:'import { Form, Link } from "@remix-run/react";\nimport type { Article } from "shared/api";\n\ninterface ArticlePreviewProps {\n  article: Article;\n}\n\nexport function ArticlePreview({ article }: ArticlePreviewProps) {\n  return (\n    <div className="article-preview">\n      <div className="article-meta">\n        <Link to={`/profile/${article.author.username}`} prefetch="intent">\n          <img src={article.author.image} alt="" />\n        </Link>\n        <div className="info">\n          <Link\n            to={`/profile/${article.author.username}`}\n            className="author"\n            prefetch="intent"\n          >\n            {article.author.username}\n          </Link>\n          <span className="date" suppressHydrationWarning>\n            {new Date(article.createdAt).toLocaleDateString(undefined, {\n              dateStyle: "long",\n            })}\n          </span>\n        </div>\n        <Form\n          method="post"\n          action={`/article/${article.slug}`}\n          preventScrollReset\n        >\n          <button\n            name="_action"\n            value={article.favorited ? "unfavorite" : "favorite"}\n            className={`btn ${article.favorited ? "btn-primary" : "btn-outline-primary"} btn-sm pull-xs-right`}\n          >\n            <i className="ion-heart"></i> {article.favoritesCount}\n          </button>\n        </Form>\n      </div>\n      <Link\n        to={`/article/${article.slug}`}\n        className="preview-link"\n        prefetch="intent"\n      >\n        <h1>{article.title}</h1>\n        <p>{article.description}</p>\n        <span>Read more...</span>\n        <ul className="tag-list">\n          {article.tagList.map((tag) => (\n            <li key={tag} className="tag-default tag-pill tag-outline">\n              {tag}\n            </li>\n          ))}\n        </ul>\n      </Link>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6B64\u4EE3\u7801\u5C06\u5411 ",(0,s.jsx)(n.code,{children:"/article/:slug"})," \u53D1\u9001\u5E26\u6709 ",(0,s.jsx)(n.code,{children:"_action=favorite"})," \u7684 POST \u8BF7\u6C42\u4EE5\u5C06\u6587\u7AE0\u6807\u8BB0\u4E3A\u6536\u85CF\u3002\u5B83\u8FD8\u4E0D\u4F1A\u5DE5\u4F5C\uFF0C\u4F46\u5F53\u6211\u4EEC\u5F00\u59CB\u5904\u7406\u6587\u7AE0\u9605\u8BFB\u5668\u65F6\uFF0C\u6211\u4EEC\u4E5F\u4F1A\u5B9E\u73B0\u8FD9\u4E2A\u529F\u80FD\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u6837\u6211\u4EEC\u5C31\u6B63\u5F0F\u5B8C\u6210\u4E86 feed\uFF01\u592A\u597D\u4E86\uFF01"}),"\n",(0,s.jsx)(n.h3,{id:"\u6587\u7AE0\u9605\u8BFB\u5668",children:"\u6587\u7AE0\u9605\u8BFB\u5668"}),"\n",(0,s.jsx)(n.p,{children:"\u9996\u5148\uFF0C\u6211\u4EEC\u9700\u8981\u6570\u636E\u3002\u8BA9\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A loader\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx fsd pages article-read -s api\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport invariant from "tiny-invariant";\nimport type { FetchResponse } from "openapi-fetch";\nimport { promiseHash } from "remix-utils/promise";\n\nimport { GET, getUserFromSession } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ request, params }: LoaderFunctionArgs) => {\n  invariant(params.slug, "Expected a slug parameter");\n  const currentUser = await getUserFromSession(request);\n  const authorization = currentUser\n    ? { Authorization: `Token ${currentUser.token}` }\n    : undefined;\n\n  return json(\n    await promiseHash({\n      article: throwAnyErrors(\n        GET("/articles/{slug}", {\n          params: {\n            path: { slug: params.slug },\n          },\n          headers: authorization,\n        }),\n      ),\n      comments: throwAnyErrors(\n        GET("/articles/{slug}/comments", {\n          params: {\n            path: { slug: params.slug },\n          },\n          headers: authorization,\n        }),\n      ),\n    }),\n  );\n};\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/index.ts"',children:'export { loader } from "./api/loader";\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A ",(0,s.jsx)(n.code,{children:"article.$slug.tsx"})," \u7684\u8DEF\u7531\u6587\u4EF6\u5C06\u5176\u8FDE\u63A5\u5230\u8DEF\u7531 ",(0,s.jsx)(n.code,{children:"/article/:slug"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/article.$slug.tsx"',children:'export { loader } from "pages/article-read";\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9875\u9762\u672C\u8EAB\u7531\u4E09\u4E2A\u4E3B\u8981\u5757\u7EC4\u6210 \u2014 \u5E26\u6709\u64CD\u4F5C\u7684\u6587\u7AE0\u5934\u90E8\uFF08\u91CD\u590D\u4E24\u6B21\uFF09\u3001\u6587\u7AE0\u4E3B\u4F53\u548C\u8BC4\u8BBA\u90E8\u5206\u3002\u8FD9\u662F\u9875\u9762\u7684\u6807\u8BB0\uFF0C\u5B83\u5E76\u4E0D\u7279\u522B\u6709\u8DA3\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/ArticleReadPage.tsx"',children:'import { useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { ArticleMeta } from "./ArticleMeta";\nimport { Comments } from "./Comments";\n\nexport function ArticleReadPage() {\n  const { article } = useLoaderData<typeof loader>();\n\n  return (\n    <div className="article-page">\n      <div className="banner">\n        <div className="container">\n          <h1>{article.article.title}</h1>\n\n          <ArticleMeta />\n        </div>\n      </div>\n\n      <div className="container page">\n        <div className="row article-content">\n          <div className="col-md-12">\n            <p>{article.article.body}</p>\n            <ul className="tag-list">\n              {article.article.tagList.map((tag) => (\n                <li className="tag-default tag-pill tag-outline" key={tag}>\n                  {tag}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        <hr />\n\n        <div className="article-actions">\n          <ArticleMeta />\n        </div>\n\n        <div className="row">\n          <Comments />\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u66F4\u6709\u8DA3\u7684\u662F ",(0,s.jsx)(n.code,{children:"ArticleMeta"})," \u548C ",(0,s.jsx)(n.code,{children:"Comments"}),"\u3002\u5B83\u4EEC\u5305\u542B\u5199\u64CD\u4F5C\uFF0C\u5982\u70B9\u8D5E\u6587\u7AE0\u3001\u7559\u4E0B\u8BC4\u8BBA\u7B49\u3002\u8981\u8BA9\u5B83\u4EEC\u5DE5\u4F5C\uFF0C\u6211\u4EEC\u9996\u5148\u9700\u8981\u5B9E\u73B0\u540E\u7AEF\u90E8\u5206\u3002\u5728\u9875\u9762\u7684 ",(0,s.jsx)(n.code,{children:"api"})," segment \u4E2D\u521B\u5EFA ",(0,s.jsx)(n.code,{children:"action.ts"}),"\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/api/action.ts"',children:'import { redirect, type ActionFunctionArgs } from "@remix-run/node";\nimport { namedAction } from "remix-utils/named-action";\nimport { redirectBack } from "remix-utils/redirect-back";\nimport invariant from "tiny-invariant";\n\nimport { DELETE, POST, requireUser } from "shared/api";\n\nexport const action = async ({ request, params }: ActionFunctionArgs) => {\n  const currentUser = await requireUser(request);\n\n  const authorization = { Authorization: `Token ${currentUser.token}` };\n\n  const formData = await request.formData();\n\n  return namedAction(formData, {\n    async delete() {\n      invariant(params.slug, "Expected a slug parameter");\n      await DELETE("/articles/{slug}", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirect("/");\n    },\n    async favorite() {\n      invariant(params.slug, "Expected a slug parameter");\n      await POST("/articles/{slug}/favorite", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async unfavorite() {\n      invariant(params.slug, "Expected a slug parameter");\n      await DELETE("/articles/{slug}/favorite", {\n        params: { path: { slug: params.slug } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async createComment() {\n      invariant(params.slug, "Expected a slug parameter");\n      const comment = formData.get("comment");\n      invariant(typeof comment === "string", "Expected a comment parameter");\n      await POST("/articles/{slug}/comments", {\n        params: { path: { slug: params.slug } },\n        headers: { ...authorization, "Content-Type": "application/json" },\n        body: { comment: { body: comment } },\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async deleteComment() {\n      invariant(params.slug, "Expected a slug parameter");\n      const commentId = formData.get("id");\n      invariant(typeof commentId === "string", "Expected an id parameter");\n      const commentIdNumeric = parseInt(commentId, 10);\n      invariant(\n        !Number.isNaN(commentIdNumeric),\n        "Expected a numeric id parameter",\n      );\n      await DELETE("/articles/{slug}/comments/{id}", {\n        params: { path: { slug: params.slug, id: commentIdNumeric } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async followAuthor() {\n      const authorUsername = formData.get("username");\n      invariant(\n        typeof authorUsername === "string",\n        "Expected a username parameter",\n      );\n      await POST("/profiles/{username}/follow", {\n        params: { path: { username: authorUsername } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n    async unfollowAuthor() {\n      const authorUsername = formData.get("username");\n      invariant(\n        typeof authorUsername === "string",\n        "Expected a username parameter",\n      );\n      await DELETE("/profiles/{username}/follow", {\n        params: { path: { username: authorUsername } },\n        headers: authorization,\n      });\n      return redirectBack(request, { fallback: "/" });\n    },\n  });\n};\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u4ECE slice \u4E2D\u5BFC\u51FA\u5B83\uFF0C\u7136\u540E\u4ECE\u8DEF\u7531\u4E2D\u5BFC\u51FA\u3002\u8D81\u7740\u8FD9\u4E2A\u673A\u4F1A\uFF0C\u8BA9\u6211\u4EEC\u4E5F\u8FDE\u63A5\u9875\u9762\u672C\u8EAB\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/index.ts"',children:'export { ArticleReadPage } from "./ui/ArticleReadPage";\nexport { loader } from "./api/loader";\nexport { action } from "./api/action";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/article.$slug.tsx"',children:'import { ArticleReadPage } from "pages/article-read";\n\nexport { loader, action } from "pages/article-read";\n\nexport default ArticleReadPage;\n'})}),"\n",(0,s.jsx)(n.p,{children:'\u73B0\u5728\uFF0C\u5C3D\u7BA1\u6211\u4EEC\u8FD8\u6CA1\u6709\u5728\u9605\u8BFB\u5668\u9875\u9762\u4E0A\u5B9E\u73B0\u70B9\u8D5E\u6309\u94AE\uFF0C\u4F46 feed \u4E2D\u7684\u70B9\u8D5E\u6309\u94AE\u5C06\u5F00\u59CB\u5DE5\u4F5C\uFF01\u8FD9\u662F\u56E0\u4E3A\u5B83\u4E00\u76F4\u5728\u5411\u8FD9\u4E2A\u8DEF\u7531\u53D1\u9001"\u70B9\u8D5E"\u8BF7\u6C42\u3002\u8BD5\u8BD5\u770B\u5427\u3002'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ArticleMeta"})," \u548C ",(0,s.jsx)(n.code,{children:"Comments"})," \u53C8\u662F\u4E00\u5806\u8868\u5355\u3002\u6211\u4EEC\u4E4B\u524D\u5DF2\u7ECF\u505A\u8FC7\u8FD9\u4E2A\uFF0C\u8BA9\u6211\u4EEC\u83B7\u53D6\u5B83\u4EEC\u7684\u4EE3\u7801\u5E76\u7EE7\u7EED\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/ArticleMeta.tsx"',children:'import { Form, Link, useLoaderData } from "@remix-run/react";\nimport { useContext } from "react";\n\nimport { CurrentUser } from "shared/api";\nimport type { loader } from "../api/loader";\n\nexport function ArticleMeta() {\n  const currentUser = useContext(CurrentUser);\n  const { article } = useLoaderData<typeof loader>();\n\n  return (\n    <Form method="post">\n      <div className="article-meta">\n        <Link\n          prefetch="intent"\n          to={`/profile/${article.article.author.username}`}\n        >\n          <img src={article.article.author.image} alt="" />\n        </Link>\n\n        <div className="info">\n          <Link\n            prefetch="intent"\n            to={`/profile/${article.article.author.username}`}\n            className="author"\n          >\n            {article.article.author.username}\n          </Link>\n          <span className="date">{article.article.createdAt}</span>\n        </div>\n\n        {article.article.author.username == currentUser?.username ? (\n          <>\n            <Link\n              prefetch="intent"\n              to={`/editor/${article.article.slug}`}\n              className="btn btn-sm btn-outline-secondary"\n            >\n              <i className="ion-edit"></i> Edit Article\n            </Link>\n            &nbsp;&nbsp;\n            <button\n              name="_action"\n              value="delete"\n              className="btn btn-sm btn-outline-danger"\n            >\n              <i className="ion-trash-a"></i> Delete Article\n            </button>\n          </>\n        ) : (\n          <>\n            <input\n              name="username"\n              value={article.article.author.username}\n              type="hidden"\n            />\n            <button\n              name="_action"\n              value={\n                article.article.author.following\n                  ? "unfollowAuthor"\n                  : "followAuthor"\n              }\n              className={`btn btn-sm ${article.article.author.following ? "btn-secondary" : "btn-outline-secondary"}`}\n            >\n              <i className="ion-plus-round"></i>\n              &nbsp;{" "}\n              {article.article.author.following\n                ? "Unfollow"\n                : "Follow"}{" "}\n              {article.article.author.username}\n            </button>\n            &nbsp;&nbsp;\n            <button\n              name="_action"\n              value={article.article.favorited ? "unfavorite" : "favorite"}\n              className={`btn btn-sm ${article.article.favorited ? "btn-primary" : "btn-outline-primary"}`}\n            >\n              <i className="ion-heart"></i>\n              &nbsp; {article.article.favorited\n                ? "Unfavorite"\n                : "Favorite"}{" "}\n              Post{" "}\n              <span className="counter">\n                ({article.article.favoritesCount})\n              </span>\n            </button>\n          </>\n        )}\n      </div>\n    </Form>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-read/ui/Comments.tsx"',children:'import { useContext } from "react";\nimport { Form, Link, useLoaderData } from "@remix-run/react";\n\nimport { CurrentUser } from "shared/api";\nimport type { loader } from "../api/loader";\n\nexport function Comments() {\n  const { comments } = useLoaderData<typeof loader>();\n  const currentUser = useContext(CurrentUser);\n\n  return (\n    <div className="col-xs-12 col-md-8 offset-md-2">\n      {currentUser !== null ? (\n        <Form\n          preventScrollReset={true}\n          method="post"\n          className="card comment-form"\n        >\n          <div className="card-block">\n            <textarea\n              required\n              className="form-control"\n              name="comment"\n              placeholder="Write a comment..."\n              rows={3}\n            ></textarea>\n          </div>\n          <div className="card-footer">\n            <img\n              src={currentUser.image}\n              className="comment-author-img"\n              alt=""\n            />\n            <button\n              className="btn btn-sm btn-primary"\n              name="_action"\n              value="createComment"\n            >\n              Post Comment\n            </button>\n          </div>\n        </Form>\n      ) : (\n        <div className="row">\n          <div className="col-xs-12 col-md-8 offset-md-2">\n            <p>\n              <Link to="/login">Sign in</Link>\n              &nbsp; or &nbsp;\n              <Link to="/register">Sign up</Link>\n              &nbsp; to add comments on this article.\n            </p>\n          </div>\n        </div>\n      )}\n\n      {comments.comments.map((comment) => (\n        <div className="card" key={comment.id}>\n          <div className="card-block">\n            <p className="card-text">{comment.body}</p>\n          </div>\n\n          <div className="card-footer">\n            <Link\n              to={`/profile/${comment.author.username}`}\n              className="comment-author"\n            >\n              <img\n                src={comment.author.image}\n                className="comment-author-img"\n                alt=""\n              />\n            </Link>\n            &nbsp;\n            <Link\n              to={`/profile/${comment.author.username}`}\n              className="comment-author"\n            >\n              {comment.author.username}\n            </Link>\n            <span className="date-posted">{comment.createdAt}</span>\n            {comment.author.username === currentUser?.username && (\n              <span className="mod-options">\n                <Form method="post" preventScrollReset={true}>\n                  <input type="hidden" name="id" value={comment.id} />\n                  <button\n                    name="_action"\n                    value="deleteComment"\n                    style={{\n                      border: "none",\n                      outline: "none",\n                      backgroundColor: "transparent",\n                    }}\n                  >\n                    <i className="ion-trash-a"></i>\n                  </button>\n                </Form>\n              </span>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u6837\u6211\u4EEC\u7684\u6587\u7AE0\u9605\u8BFB\u5668\u4E5F\u5B8C\u6210\u4E86\uFF01\u5173\u6CE8\u4F5C\u8005\u3001\u70B9\u8D5E\u5E16\u5B50\u548C\u7559\u4E0B\u8BC4\u8BBA\u7684\u6309\u94AE\u73B0\u5728\u5E94\u8BE5\u80FD\u6309\u9884\u671F\u5DE5\u4F5C\u3002"}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Article reader with functioning buttons to like and follow",src:r(4239).A+"",width:"2880",height:"1488"})}),(0,s.jsx)("figcaption",{children:"Article reader with functioning buttons to like and follow"})]}),"\n",(0,s.jsx)(n.h3,{id:"\u6587\u7AE0\u7F16\u8F91\u5668",children:"\u6587\u7AE0\u7F16\u8F91\u5668"}),"\n",(0,s.jsx)(n.p,{children:"\u8FD9\u662F\u6211\u4EEC\u5C06\u5728\u672C\u6559\u7A0B\u4E2D\u6DB5\u76D6\u7684\u6700\u540E\u4E00\u4E2A\u9875\u9762\uFF0C\u8FD9\u91CC\u6700\u6709\u8DA3\u7684\u90E8\u5206\u662F\u6211\u4EEC\u5C06\u5982\u4F55\u9A8C\u8BC1\u8868\u5355\u6570\u636E\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u9875\u9762\u672C\u8EAB\uFF0C",(0,s.jsx)(n.code,{children:"article-edit/ui/ArticleEditPage.tsx"}),"\uFF0C\u5C06\u975E\u5E38\u7B80\u5355\uFF0C\u989D\u5916\u7684\u590D\u6742\u6027\u88AB\u5B58\u50A8\u5230\u5176\u4ED6\u4E24\u4E2A\u7EC4\u4EF6\u4E2D\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/ArticleEditPage.tsx"',children:'import { Form, useLoaderData } from "@remix-run/react";\n\nimport type { loader } from "../api/loader";\nimport { TagsInput } from "./TagsInput";\nimport { FormErrors } from "./FormErrors";\n\nexport function ArticleEditPage() {\n  const article = useLoaderData<typeof loader>();\n\n  return (\n    <div className="editor-page">\n      <div className="container page">\n        <div className="row">\n          <div className="col-md-10 offset-md-1 col-xs-12">\n            <FormErrors />\n\n            <Form method="post">\n              <fieldset>\n                <fieldset className="form-group">\n                  <input\n                    type="text"\n                    className="form-control form-control-lg"\n                    name="title"\n                    placeholder="Article Title"\n                    defaultValue={article.article?.title}\n                  />\n                </fieldset>\n                <fieldset className="form-group">\n                  <input\n                    type="text"\n                    className="form-control"\n                    name="description"\n                    placeholder="What\'s this article about?"\n                    defaultValue={article.article?.description}\n                  />\n                </fieldset>\n                <fieldset className="form-group">\n                  <textarea\n                    className="form-control"\n                    name="body"\n                    rows={8}\n                    placeholder="Write your article (in markdown)"\n                    defaultValue={article.article?.body}\n                  ></textarea>\n                </fieldset>\n                <fieldset className="form-group">\n                  <TagsInput\n                    name="tags"\n                    defaultValue={article.article?.tagList ?? []}\n                  />\n                </fieldset>\n\n                <button className="btn btn-lg pull-xs-right btn-primary">\n                  Publish Article\n                </button>\n              </fieldset>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6B64\u9875\u9762\u83B7\u53D6\u5F53\u524D\u6587\u7AE0\uFF08\u9664\u975E\u6211\u4EEC\u4ECE\u5934\u5F00\u59CB\u7F16\u5199\uFF09\u5E76\u586B\u5199\u76F8\u5E94\u7684\u8868\u5355\u5B57\u6BB5\u3002\u6211\u4EEC\u4E4B\u524D\u89C1\u8FC7\u8FD9\u4E2A\u3002\u6709\u8DA3\u7684\u90E8\u5206\u662F ",(0,s.jsx)(n.code,{children:"FormErrors"}),"\uFF0C\u56E0\u4E3A\u5B83\u5C06\u63A5\u6536\u9A8C\u8BC1\u7ED3\u679C\u5E76\u5411\u7528\u6237\u663E\u793A\u3002\u8BA9\u6211\u4EEC\u770B\u4E00\u4E0B\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/FormErrors.tsx"',children:'import { useActionData } from "@remix-run/react";\nimport type { action } from "../api/action";\n\nexport function FormErrors() {\n  const actionData = useActionData<typeof action>();\n\n  return actionData?.errors != null ? (\n    <ul className="error-messages">\n      {actionData.errors.map((error) => (\n        <li key={error}>{error}</li>\n      ))}\n    </ul>\n  ) : null;\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u8FD9\u91CC\u6211\u4EEC\u5047\u8BBE\u6211\u4EEC\u7684 action \u5C06\u8FD4\u56DE ",(0,s.jsx)(n.code,{children:"errors"})," \u5B57\u6BB5\uFF0C\u4E00\u4E2A\u4EBA\u7C7B\u53EF\u8BFB\u7684\u9519\u8BEF\u6D88\u606F\u6570\u7EC4\u3002\u6211\u4EEC\u5F88\u5FEB\u5C31\u4F1A\u8BB2\u5230 action\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u53E6\u4E00\u4E2A\u7EC4\u4EF6\u662F\u6807\u7B7E\u8F93\u5165\u3002\u5B83\u53EA\u662F\u4E00\u4E2A\u666E\u901A\u7684\u8F93\u5165\u5B57\u6BB5\uFF0C\u9644\u5E26\u6240\u9009\u6807\u7B7E\u7684\u989D\u5916\u9884\u89C8\u3002\u8FD9\u91CC\u6CA1\u4EC0\u4E48\u53EF\u770B\u7684\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/ui/TagsInput.tsx"',children:'import { useEffect, useRef, useState } from "react";\n\nexport function TagsInput({\n  name,\n  defaultValue,\n}: {\n  name: string;\n  defaultValue?: Array<string>;\n}) {\n  const [tagListState, setTagListState] = useState(defaultValue ?? []);\n\n  function removeTag(tag: string): void {\n    const newTagList = tagListState.filter((t) => t !== tag);\n    setTagListState(newTagList);\n  }\n\n  const tagsInput = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    tagsInput.current && (tagsInput.current.value = tagListState.join(","));\n  }, [tagListState]);\n\n  return (\n    <>\n      <input\n        type="text"\n        className="form-control"\n        id="tags"\n        name={name}\n        placeholder="Enter tags"\n        defaultValue={tagListState.join(",")}\n        onChange={(e) =>\n          setTagListState(e.target.value.split(",").filter(Boolean))\n        }\n      />\n      <div className="tag-list">\n        {tagListState.map((tag) => (\n          <span className="tag-default tag-pill" key={tag}>\n            <i\n              className="ion-close-round"\n              role="button"\n              tabIndex={0}\n              onKeyDown={(e) =>\n                [" ", "Enter"].includes(e.key) && removeTag(tag)\n              }\n              onClick={() => removeTag(tag)}\n            ></i>{" "}\n            {tag}\n          </span>\n        ))}\n      </div>\n    </>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u73B0\u5728\uFF0CAPI \u90E8\u5206\u3002loader \u5E94\u8BE5\u67E5\u770B URL\uFF0C\u5982\u679C\u5B83\u5305\u542B\u6587\u7AE0 slug\uFF0C\u90A3\u610F\u5473\u7740\u6211\u4EEC\u6B63\u5728\u7F16\u8F91\u73B0\u6709\u6587\u7AE0\uFF0C\u5E94\u8BE5\u52A0\u8F7D\u5176\u6570\u636E\u3002\u5426\u5219\uFF0C\u8FD4\u56DE\u7A7A\u3002\u8BA9\u6211\u4EEC\u521B\u5EFA\u8BE5 loader\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="pages/article-edit/api/loader.ts"',children:'import { json, type LoaderFunctionArgs } from "@remix-run/node";\nimport type { FetchResponse } from "openapi-fetch";\n\nimport { GET, requireUser } from "shared/api";\n\nasync function throwAnyErrors<T, O, Media extends `${string}/${string}`>(\n  responsePromise: Promise<FetchResponse<T, O, Media>>,\n) {\n  const { data, error, response } = await responsePromise;\n\n  if (error !== undefined) {\n    throw json(error, { status: response.status });\n  }\n\n  return data as NonNullable<typeof data>;\n}\n\nexport const loader = async ({ params, request }: LoaderFunctionArgs) => {\n  const currentUser = await requireUser(request);\n\n  if (!params.slug) {\n    return { article: null };\n  }\n\n  return throwAnyErrors(\n    GET("/articles/{slug}", {\n      params: { path: { slug: params.slug } },\n      headers: { Authorization: `Token ${currentUser.token}` },\n    }),\n  );\n};\n'})}),"\n",(0,s.jsx)(n.p,{children:"action \u5C06\u83B7\u53D6\u65B0\u7684\u5B57\u6BB5\u503C\uFF0C\u901A\u8FC7\u6211\u4EEC\u7684\u6570\u636E\u6A21\u5F0F\u8FD0\u884C\u5B83\u4EEC\uFF0C\u5982\u679C\u4E00\u5207\u90FD\u6B63\u786E\uFF0C\u5C31\u5C06\u8FD9\u4E9B\u66F4\u6539\u63D0\u4EA4\u5230\u540E\u7AEF\uFF0C\u901A\u8FC7\u66F4\u65B0\u73B0\u6709\u6587\u7AE0\u6216\u521B\u5EFA\u65B0\u6587\u7AE0\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/api/action.ts"',children:'import { json, redirect, type ActionFunctionArgs } from "@remix-run/node";\n\nimport { POST, PUT, requireUser } from "shared/api";\nimport { parseAsArticle } from "../model/parseAsArticle";\n\nexport const action = async ({ request, params }: ActionFunctionArgs) => {\n  try {\n    const { body, description, title, tags } = parseAsArticle(\n      await request.formData(),\n    );\n    const tagList = tags?.split(",") ?? [];\n\n    const currentUser = await requireUser(request);\n    const payload = {\n      body: {\n        article: {\n          title,\n          description,\n          body,\n          tagList,\n        },\n      },\n      headers: { Authorization: `Token ${currentUser.token}` },\n    };\n\n    const { data, error } = await (params.slug\n      ? PUT("/articles/{slug}", {\n          params: { path: { slug: params.slug } },\n          ...payload,\n        })\n      : POST("/articles", payload));\n\n    if (error) {\n      return json({ errors: error }, { status: 422 });\n    }\n\n    return redirect(`/article/${data.article.slug ?? ""}`);\n  } catch (errors) {\n    return json({ errors }, { status: 400 });\n  }\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u6A21\u5F0F\u540C\u65F6\u4F5C\u4E3A ",(0,s.jsx)(n.code,{children:"FormData"})," \u7684\u89E3\u6790\u51FD\u6570\uFF0C\u8FD9\u4F7F\u6211\u4EEC\u53EF\u4EE5\u65B9\u4FBF\u5730\u83B7\u53D6\u5E72\u51C0\u7684\u5B57\u6BB5\u6216\u53EA\u662F\u629B\u51FA\u9519\u8BEF\u5728\u672B\u5C3E\u5904\u7406\u3002\u8FD9\u91CC\u662F\u8BE5\u89E3\u6790\u51FD\u6570\u7684\u6837\u5B50\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/model/parseAsArticle.ts"',children:'export function parseAsArticle(data: FormData) {\n  const errors = [];\n\n  const title = data.get("title");\n  if (typeof title !== "string" || title === "") {\n    errors.push("Give this article a title");\n  }\n\n  const description = data.get("description");\n  if (typeof description !== "string" || description === "") {\n    errors.push("Describe what this article is about");\n  }\n\n  const body = data.get("body");\n  if (typeof body !== "string" || body === "") {\n    errors.push("Write the article itself");\n  }\n\n  const tags = data.get("tags");\n  if (typeof tags !== "string") {\n    errors.push("The tags must be a string");\n  }\n\n  if (errors.length > 0) {\n    throw errors;\n  }\n\n  return { title, description, body, tags: data.get("tags") ?? "" } as {\n    title: string;\n    description: string;\n    body: string;\n    tags: string;\n  };\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u53EF\u4EE5\u8BF4\uFF0C\u5B83\u6709\u70B9\u51D7\u957F\u548C\u91CD\u590D\uFF0C\u4F46\u8FD9\u662F\u6211\u4EEC\u4E3A\u4EBA\u7C7B\u53EF\u8BFB\u9519\u8BEF\u4ED8\u51FA\u7684\u4EE3\u4EF7\u3002\u8FD9\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A Zod \u6A21\u5F0F\uFF0C\u4F8B\u5982\uFF0C\u4F46\u7136\u540E\u6211\u4EEC\u5FC5\u987B\u5728\u524D\u7AEF\u6E32\u67D3\u9519\u8BEF\u6D88\u606F\uFF0C\u8FD9\u4E2A\u8868\u5355\u4E0D\u503C\u5F97\u590D\u6742\u5316\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u6700\u540E\u4E00\u6B65 \u2014 \u5C06\u9875\u9762\u3001loader \u548C action \u8FDE\u63A5\u5230\u8DEF\u7531\u3002\u7531\u4E8E\u6211\u4EEC\u5DE7\u5999\u5730\u652F\u6301\u521B\u5EFA\u548C\u7F16\u8F91\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4ECE ",(0,s.jsx)(n.code,{children:"editor._index.tsx"})," \u548C ",(0,s.jsx)(n.code,{children:"editor.$slug.tsx"})," \u4E24\u8005\u5BFC\u51FA\u76F8\u540C\u7684\u4E1C\u897F\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="pages/article-edit/index.ts"',children:'export { ArticleEditPage } from "./ui/ArticleEditPage";\nexport { loader } from "./api/loader";\nexport { action } from "./api/action";\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",metastring:'title="app/routes/editor._index.tsx, app/routes/editor.$slug.tsx (same content)"',children:'import { ArticleEditPage } from "pages/article-edit";\n\nexport { loader, action } from "pages/article-edit";\n\nexport default ArticleEditPage;\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4EEC\u73B0\u5728\u5B8C\u6210\u4E86\uFF01\u767B\u5F55\u5E76\u5C1D\u8BD5\u521B\u5EFA\u4E00\u7BC7\u65B0\u6587\u7AE0\u3002\u6216\u8005\u201C\u5FD8\u8BB0\u201D\u7F16\u5199\u6587\u7AE0\u5E76\u770B\u5230\u9A8C\u8BC1\u751F\u6548\u3002"}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"The Conduit article editor, with the title field saying \u201CNew article\u201D and the rest of the fields empty. Above the form there are two errors: \u201CDescribe what this article is about\u201D and \u201CWrite the article itself\u201D.",src:r(7777).A+"",width:"2880",height:"1488"})}),(0,s.jsxs)("figcaption",{children:["The Conduit article editor, with the title field saying \u201CNew article\u201D and the rest of the fields empty. Above the form there are two errors: ",(0,s.jsx)(n.strong,{children:"\u201CDescribe what this article is about\u201D"})," and ",(0,s.jsx)(n.strong,{children:"\u201CWrite the article itself\u201D"}),"."]})]}),"\n",(0,s.jsx)(n.p,{children:"\u8D44\u6599\u548C\u8BBE\u7F6E\u9875\u9762\u4E0E\u6587\u7AE0\u9605\u8BFB\u5668\u548C\u7F16\u8F91\u5668\u975E\u5E38\u76F8\u4F3C\uFF0C\u5B83\u4EEC\u7559\u4F5C\u8BFB\u8005\u7684\u7EC3\u4E60\uFF0C\u8FD9\u5C31\u662F\u60A8 :)"})]})}function m(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1565:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/conduit-banner-a20e38edcd109ee21a8b1426d93a66b3.jpg"},7777:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-article-editor-bc3ee45c96ae905fdbb54d6463d12723.jpg"},4239:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-article-reader-6a420e4f2afe139d2bdd54d62974f0b9.jpg"},5888:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-editor-authenticated-10de4d01479270886859e08592045b1e.jpg"},6549:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-feed-anonymous-8cbba45f488931979f6c8da8968ad685.jpg"},4919:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-feed-authenticated-15427d9ff7baae009b47b501bee6c059.jpg"},2597:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/realworld-feed-without-tabs-5da4c9072101ac20e82e2234bd3badbe.jpg"},6436:function(e,n,r){r.d(n,{R:()=>i,x:()=>o});var t=r(9729);let s={},a=t.createContext(s);function i(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);