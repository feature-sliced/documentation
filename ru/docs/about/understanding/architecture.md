# Об архитектуре

## Проблемы[​](#problems "Прямая ссылка на этот заголовок")

Обычно, разговор об архитектуре поднимается, когда разработка стопорится из-за тех или иных проблем в проекте.

### Bus-factor & Onboarding[​](#bus-factor--onboarding "Прямая ссылка на этот заголовок")

Проект и его архитектуру понимает лишь ограниченный круг людей

**Примеры:**

* *"Сложно добавить человека в разработку"*
* *"На каждую проблему - у каждого свое мнение как обходить" (позавидуем ангуляру)*
* *"Не понимаю что происходит в этом большом куске монолита"*

### Неявные и неконтролируемые последствия[​](#implicit-and-uncontrolled-consequences "Прямая ссылка на этот заголовок")

Множество неявных сайд-эффектов при разработке/рефакторинге *("все зависит от всего")*

**Примеры:**

* *"Фича импортирует фичу"*
* *"Я обновил(а) стор одной страницы, а отвалилась функциональность на другой"*
* *"Логика размазана по всему приложению, и невозможно отследить - где начало, где конец"*

### Неконтролируемое переиспользование логики[​](#uncontrolled-reuse-of-logic "Прямая ссылка на этот заголовок")

Сложно переиспользовать/модифицировать существующую логику

При этом, обычно есть [две крайности](https://github.com/feature-sliced/documentation/discussions/14):

* Либо под каждый модуль пишется логика полностью с нуля *(с возможными повторениями в имеющейся кодовой базе)*
* Либо идет тенденция переносить все-все реализуемые модули в `shared` папки, тем самым создавая из нее большую свалку из модулей *(где большинство используется только в одном месте)*

**Примеры:**

* *"У меня в проекте есть n-реализаций одной и той же бизнес-логики, за что приходится ежедневно расплачиваться"*
* *"В проекте есть 6 разных компонентов кнопки/попапа/..."*
* *"Свалка хелперов"*

## Требования[​](#requirements "Прямая ссылка на этот заголовок")

Поэтому кажется логичным предъявить желаемые *требования к идеальной архитектуре:*

примечание

Везде где говорится "легко", подразумевается "относительно легко для широкого круга разработчиков", т.к. ясно, что [не получится сделать идеального решения для абсолютно всех](/documentation/ru/docs/about/mission.md#limitations)

### Explicitness[​](#explicitness "Прямая ссылка на этот заголовок")

* Должно быть **легко осваивать и объяснять** команде проект и его архитектуру
* Структура должна отображать реальные **бизнес-ценности проекта**
* Должны быть явными **сайд-эффекты и связи** между абстракциями
* Должно быть **легко обнаруживать дублирование логики**, не мешая уникальным реализациям
* Не должно быть **распыления логики** по всему проекту
* Не должно быть **слишком много разнородных абстракций и правил** для хорошей архитектуры

### Control[​](#control "Прямая ссылка на этот заголовок")

* Хорошая архитектура должна **ускорять решение задач, внедрение фич**

* Должна быть возможность контролировать разработку проекта

* Должно быть легко **расширять, модифицировать, удалять код**

* Должна соблюдаться **декомпозиция и изолированность** функциональности

* Каждый компонент системы должен быть **легко заменяемым и удаляемым**

  * *[Не нужно оптимизировать под изменения](https://youtu.be/BWAeYuWFHhs?t=1631) - мы не можем предсказывать будущее*
  * *[Лучше - оптимизировать под удаление](https://youtu.be/BWAeYuWFHhs?t=1666) - на основании того контекста, который уже имеется*

### Adaptability[​](#adaptability "Прямая ссылка на этот заголовок")

* Хорошая архитектура должна быть применима **к большинству проектов**

  * *С уже существующими инфраструктурными решениями*
  * *На любой стадии развития*

* Не должно быть зависимости от фреймворка и платформы

* Должна быть возможность **легко масштабировать проект и команду**, с возможностью параллелизации разработки

* Должно быть легко **подстраиваться под изменяющиеся требования и обстоятельства**

## См. также[​](#see-also "Прямая ссылка на этот заголовок")

* [(React Berlin Talk) Oleg Isonen - Feature Driven Architecture](https://youtu.be/BWAeYuWFHhs)
* [(React SPB Meetup #1) Sergey Sova - Feature Slices](https://t.me/feature_slices)
* [(Статья) Про модуляризацию проектов](https://alexmngn.medium.com/why-react-developers-should-modularize-their-applications-d26d381854c1)
* [(Статья) Про Separation of Concerns и структурирование по фичам](https://ryanlanciaux.com/blog/2017/08/20/a-feature-based-approach-to-react-development/)
