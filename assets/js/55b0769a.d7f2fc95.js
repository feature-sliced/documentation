"use strict";(self.webpackChunk_feature_sliced_documentation=self.webpackChunk_feature_sliced_documentation||[]).push([["1979"],{4282:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>a,default:()=>h,toc:()=>d,metadata:()=>s,assets:()=>l,contentTitle:()=>r});var s=JSON.parse('{"id":"guides/examples/page-layout","title":"Page layouts","description":"This guide examines the abstraction of a page layout \u2014 when several pages share the same overall structure, and differ only in the main content.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/guides/examples/page-layout.md","sourceDirName":"guides/examples","slug":"/guides/examples/page-layout","permalink":"/documentation/docs/guides/examples/page-layout","draft":false,"unlisted":false,"editUrl":"https://github.com/feature-sliced/documentation/edit/master/i18n/en/docusaurus-plugin-content-docs/current/guides/examples/page-layout.md","tags":[],"version":"current","lastUpdatedAt":1754173253000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"guidesSidebar","previous":{"title":"Types","permalink":"/documentation/docs/guides/examples/types"},"next":{"title":"Handling API Requests","permalink":"/documentation/docs/guides/examples/api-requests"}}'),i=n(4132),o=n(9447);let a={sidebar_position:3},r="Page layouts",l={},d=[{value:"Simple layout",id:"simple-layout",level:2},{value:"Using widgets in the layout",id:"using-widgets-in-the-layout",level:2},{value:"Further reading",id:"further-reading",level:2}];function u(e){let t={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"page-layouts",children:"Page layouts"})}),"\n",(0,i.jsxs)(t.p,{children:["This guide examines the abstraction of a ",(0,i.jsx)(t.em,{children:"page layout"})," \u2014 when several pages share the same overall structure, and differ only in the main content."]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"Is your question not covered by this guide? Post your question by leaving feedback on this article (blue button on the right) and we will consider expanding this guide!"})}),"\n",(0,i.jsx)(t.h2,{id:"simple-layout",children:"Simple layout"}),"\n",(0,i.jsxs)(t.p,{children:["The simplest layout can be seen on this page. It has a header with site navigation, two sidebars, and a footer with external links. There is no complicated business logic, and the only dynamic parts are sidebars and the switchers on the right side of the header. Such a layout can be placed entirely in ",(0,i.jsx)(t.code,{children:"shared/ui"})," or in ",(0,i.jsx)(t.code,{children:"app/layouts"}),", with props filling in the content for the sidebars:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",metastring:'title="shared/ui/layout/Layout.tsx"',children:'import { Link, Outlet } from "react-router-dom";\nimport { useThemeSwitcher } from "./useThemeSwitcher";\n\nexport function Layout({ siblingPages, headings }) {\n  const [theme, toggleTheme] = useThemeSwitcher();\n\n  return (\n    <div>\n      <header>\n        <nav>\n          <ul>\n            <li> <Link to="/">Home</Link> </li>\n            <li> <Link to="/docs">Docs</Link> </li>\n            <li> <Link to="/blog">Blog</Link> </li>\n          </ul>\n        </nav>\n        <button onClick={toggleTheme}>{theme}</button>\n      </header>\n      <main>\n        <SiblingPageSidebar siblingPages={siblingPages} />\n        <Outlet /> {/* This is where the main content goes */}\n        <HeadingsSidebar headings={headings} />\n      </main>\n      <footer>\n        <ul>\n          <li>GitHub</li>\n          <li>Twitter</li>\n        </ul>\n      </footer>\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",metastring:'title="shared/ui/layout/useThemeSwitcher.ts"',children:'export function useThemeSwitcher() {\n  const [theme, setTheme] = useState("light");\n\n  function toggleTheme() {\n    setTheme(theme === "light" ? "dark" : "light");\n  }\n\n  useEffect(() => {\n    document.body.classList.remove("light", "dark");\n    document.body.classList.add(theme);\n  }, [theme]);\n\n  return [theme, toggleTheme] as const;\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"The code of sidebars is left as an exercise for the reader \uD83D\uDE09."}),"\n",(0,i.jsx)(t.h2,{id:"using-widgets-in-the-layout",children:"Using widgets in the layout"}),"\n",(0,i.jsxs)(t.p,{children:["Sometimes you want to include certain business logic in the layout, especially if you're using deeply nested routes with a router like ",(0,i.jsx)(t.a,{href:"https://reactrouter.com/",children:"React Router"}),". Then you can't store the layout in Shared or in Widgets due to ",(0,i.jsx)(t.a,{href:"/docs/reference/layers#import-rule-on-layers",children:"the import rule on layers"}),":"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"A module in a slice can only import other slices when they are located on layers strictly below."}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Before we discuss solutions, we need to discuss if it's even a problem in the first place. Do you ",(0,i.jsx)(t.em,{children:"really need"})," that layout, and if so, does it ",(0,i.jsx)(t.em,{children:"really need"})," to be a Widget? If the block of business logic in question is reused on 2-3 pages, and the layout is simply a small wrapper for that widget, consider one of these two options:"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Write the layout inline on the App layer, where you configure the routing"}),(0,i.jsx)(t.br,{}),"\n","This is great for routers that support nesting, because you can group certain routes and apply the layout only to them."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Just copy-paste it"}),(0,i.jsx)(t.br,{}),"\n","The urge to abstract code is often very overrated. It is especially the case for layouts, which rarely change. At some point, if one of these pages will need to change, you can simply do the change without needlessly affecting other pages. If you're worried that someone might forget to update the other pages, you can always leave a comment that describes the relationship between the pages."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"If none of the above are applicable, there are two solutions to include a widget in the layout:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Use render props or slots"}),(0,i.jsx)(t.br,{}),"\n","Most frameworks allow you to pass a piece of UI externally. In React, it's called ",(0,i.jsx)(t.a,{href:"https://www.patterns.dev/react/render-props-pattern/",children:"render props"}),", in Vue it's called ",(0,i.jsx)(t.a,{href:"https://vuejs.org/guide/components/slots",children:"slots"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Move the layout to the App layer"}),(0,i.jsx)(t.br,{}),"\n","You can also store your layout on the App layer, for example, in ",(0,i.jsx)(t.code,{children:"app/layouts"}),", and compose any widgets you want."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"further-reading",children:"Further reading"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["There's an example of how to build a layout with authentication with React and Remix (equivalent to React Router) in the ",(0,i.jsx)(t.a,{href:"/docs/get-started/tutorial",children:"tutorial"}),"."]}),"\n"]})]})}function h(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},9447:function(e,t,n){n.d(t,{Z:()=>r,a:()=>a});var s=n(9546);let i={},o=s.createContext(i);function a(e){let t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);